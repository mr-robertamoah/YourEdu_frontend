var KD=Object.defineProperty;var JD=(e,t,s)=>t in e?KD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var wh=(e,t,s)=>JD(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function jg(e,t){const s=new Set(e.split(","));return o=>s.has(o)}const vn={},Kc=[],la=()=>{},XD=()=>!1,_f=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Vg=e=>e.startsWith("onUpdate:"),jn=Object.assign,qg=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},$D=Object.prototype.hasOwnProperty,Ks=(e,t)=>$D.call(e,t),ts=Array.isArray,Jc=e=>yd(e)==="[object Map]",uu=e=>yd(e)==="[object Set]",Ww=e=>yd(e)==="[object Date]",Ds=e=>typeof e=="function",Wn=e=>typeof e=="string",Br=e=>typeof e=="symbol",un=e=>e!==null&&typeof e=="object",rb=e=>(un(e)||Ds(e))&&Ds(e.then)&&Ds(e.catch),lb=Object.prototype.toString,yd=e=>lb.call(e),ZD=e=>yd(e).slice(8,-1),cb=e=>yd(e)==="[object Object]",Hg=e=>Wn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,zu=jg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bf=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ex=/-(\w)/g,ur=bf(e=>e.replace(ex,(t,s)=>s?s.toUpperCase():"")),tx=/\B([A-Z])/g,vc=bf(e=>e.replace(tx,"-$1").toLowerCase()),kf=bf(e=>e.charAt(0).toUpperCase()+e.slice(1)),fp=bf(e=>e?`on${kf(e)}`:""),Cl=(e,t)=>!Object.is(e,t),Bh=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ub=(e,t,s,o=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:o,value:s})},Kh=e=>{const t=parseFloat(e);return isNaN(t)?e:t},sx=e=>{const t=Wn(e)?Number(e):NaN;return isNaN(t)?e:t};let zw;const db=()=>zw||(zw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Pi(e){if(ts(e)){const t={};for(let s=0;s<e.length;s++){const o=e[s],i=Wn(o)?ax(o):Pi(o);if(i)for(const n in i)t[n]=i[n]}return t}else if(Wn(e)||un(e))return e}const nx=/;(?![^(]*\))/g,ix=/:([^]+)/,ox=/\/\*[^]*?\*\//g;function ax(e){const t={};return e.replace(ox,"").split(nx).forEach(s=>{if(s){const o=s.split(ix);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function we(e){let t="";if(Wn(e))t=e;else if(ts(e))for(let s=0;s<e.length;s++){const o=we(e[s]);o&&(t+=o+" ")}else if(un(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const rx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lx=jg(rx);function hb(e){return!!e||e===""}function cx(e,t){if(e.length!==t.length)return!1;let s=!0;for(let o=0;s&&o<e.length;o++)s=fc(e[o],t[o]);return s}function fc(e,t){if(e===t)return!0;let s=Ww(e),o=Ww(t);if(s||o)return s&&o?e.getTime()===t.getTime():!1;if(s=Br(e),o=Br(t),s||o)return e===t;if(s=ts(e),o=ts(t),s||o)return s&&o?cx(e,t):!1;if(s=un(e),o=un(t),s||o){if(!s||!o)return!1;const i=Object.keys(e).length,n=Object.keys(t).length;if(i!==n)return!1;for(const r in e){const f=e.hasOwnProperty(r),m=t.hasOwnProperty(r);if(f&&!m||!f&&m||!fc(e[r],t[r]))return!1}}return String(e)===String(t)}function Wg(e,t){return e.findIndex(s=>fc(s,t))}const V=e=>Wn(e)?e:e==null?"":ts(e)||un(e)&&(e.toString===lb||!Ds(e.toString))?JSON.stringify(e,fb,2):String(e),fb=(e,t)=>t&&t.__v_isRef?fb(e,t.value):Jc(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[o,i],n)=>(s[mp(o,n)+" =>"]=i,s),{})}:uu(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>mp(s))}:Br(t)?mp(t):un(t)&&!ts(t)&&!cb(t)?String(t):t,mp=(e,t="")=>{var s;return Br(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ea;class mb{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ea,!t&&Ea&&(this.index=(Ea.scopes||(Ea.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=Ea;try{return Ea=this,t()}finally{Ea=s}}}on(){Ea=this}off(){Ea=this.parent}stop(t){if(this._active){let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function ux(e){return new mb(e)}function dx(e,t=Ea){t&&t.active&&t.effects.push(e)}function hx(){return Ea}let uc;class zg{constructor(t,s,o,i){this.fn=t,this.trigger=s,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,dx(this,i)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Ml();for(let t=0;t<this._depsLength;t++){const s=this.deps[t];if(s.computed){if(s.computed.effect._dirtyLevel===2)return!0;if(fx(s.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),El()}return this._dirtyLevel>=5}set dirty(t){this._dirtyLevel=t?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=kl,s=uc;try{return kl=!0,uc=this,this._runnings++,Gw(this),this.fn()}finally{Yw(this),this._runnings--,uc=s,kl=t}}stop(){this.active&&(Gw(this),Yw(this),this.onStop&&this.onStop(),this.active=!1)}}function fx(e){return e.value}function Gw(e){e._trackId++,e._depsLength=0}function Yw(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)pb(e.deps[t],e);e.deps.length=e._depsLength}}function pb(e,t){const s=e.get(t);s!==void 0&&t._trackId!==s&&(e.delete(t),e.size===0&&e.cleanup())}let kl=!0,Zp=0;const gb=[];function Ml(){gb.push(kl),kl=!1}function El(){const e=gb.pop();kl=e===void 0?!0:e}function Gg(){Zp++}function Yg(){for(Zp--;!Zp&&eg.length;)eg.shift()()}function vb(e,t,s){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const o=e.deps[e._depsLength];o!==t?(o&&pb(o,e),e.deps[e._depsLength++]=t):e._depsLength++}}const eg=[];function yb(e,t,s){Gg();for(const o of e.keys()){if(!e.computed&&o.computed&&e.get(o)===o._trackId&&o._runnings>0){o._dirtyLevel=2;continue}let i;o._dirtyLevel<t&&(i??(i=e.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o.computed&&o._dirtyLevel===2&&(o._shouldSchedule=!0),o._dirtyLevel=t),o._shouldSchedule&&(i??(i=e.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==3&&(o._shouldSchedule=!1,o.scheduler&&eg.push(o.scheduler)))}Yg()}const wb=(e,t)=>{const s=new Map;return s.cleanup=e,s.computed=t,s},Jh=new WeakMap,dc=Symbol(""),tg=Symbol("");function fo(e,t,s){if(kl&&uc){let o=Jh.get(e);o||Jh.set(e,o=new Map);let i=o.get(s);i||o.set(s,i=wb(()=>o.delete(s))),vb(uc,i)}}function Ur(e,t,s,o,i,n){const r=Jh.get(e);if(!r)return;let f=[];if(t==="clear")f=[...r.values()];else if(s==="length"&&ts(e)){const m=Number(o);r.forEach((v,g)=>{(g==="length"||!Br(g)&&g>=m)&&f.push(v)})}else switch(s!==void 0&&f.push(r.get(s)),t){case"add":ts(e)?Hg(s)&&f.push(r.get("length")):(f.push(r.get(dc)),Jc(e)&&f.push(r.get(tg)));break;case"delete":ts(e)||(f.push(r.get(dc)),Jc(e)&&f.push(r.get(tg)));break;case"set":Jc(e)&&f.push(r.get(dc));break}Gg();for(const m of f)m&&yb(m,5);Yg()}function mx(e,t){const s=Jh.get(e);return s&&s.get(t)}const px=jg("__proto__,__v_isRef,__isVue"),_b=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Br)),Qw=gx();function gx(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const o=Js(this);for(let n=0,r=this.length;n<r;n++)fo(o,"get",n+"");const i=o[t](...s);return i===-1||i===!1?o[t](...s.map(Js)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Ml(),Gg();const o=Js(this)[t].apply(this,s);return Yg(),El(),o}}),e}function vx(e){Br(e)||(e=String(e));const t=Js(this);return fo(t,"has",e),t.hasOwnProperty(e)}class bb{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,o){const i=this._isReadonly,n=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return n;if(s==="__v_raw")return o===(i?n?Px:Sb:n?Cb:Ab).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(o)?t:void 0;const r=ts(t);if(!i){if(r&&Ks(Qw,s))return Reflect.get(Qw,s,o);if(s==="hasOwnProperty")return vx}const f=Reflect.get(t,s,o);return(Br(s)?_b.has(s):px(s))||(i||fo(t,"get",s),n)?f:ji(f)?r&&Hg(s)?f:f.value:un(f)?i?Tb(f):wd(f):f}}class kb extends bb{constructor(t=!1){super(!1,t)}set(t,s,o,i){let n=t[s];if(!this._isShallow){const m=sd(n);if(!Xh(o)&&!sd(o)&&(n=Js(n),o=Js(o)),!ts(t)&&ji(n)&&!ji(o))return m?!1:(n.value=o,!0)}const r=ts(t)&&Hg(s)?Number(s)<t.length:Ks(t,s),f=Reflect.set(t,s,o,i);return t===Js(i)&&(r?Cl(o,n)&&Ur(t,"set",s,o):Ur(t,"add",s,o)),f}deleteProperty(t,s){const o=Ks(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&o&&Ur(t,"delete",s,void 0),i}has(t,s){const o=Reflect.has(t,s);return(!Br(s)||!_b.has(s))&&fo(t,"has",s),o}ownKeys(t){return fo(t,"iterate",ts(t)?"length":dc),Reflect.ownKeys(t)}}class yx extends bb{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const wx=new kb,_x=new yx,bx=new kb(!0);const Qg=e=>e,Af=e=>Reflect.getPrototypeOf(e);function _h(e,t,s=!1,o=!1){e=e.__v_raw;const i=Js(e),n=Js(t);s||(Cl(t,n)&&fo(i,"get",t),fo(i,"get",n));const{has:r}=Af(i),f=o?Qg:s?Xg:nd;if(r.call(i,t))return f(e.get(t));if(r.call(i,n))return f(e.get(n));e!==i&&e.get(t)}function bh(e,t=!1){const s=this.__v_raw,o=Js(s),i=Js(e);return t||(Cl(e,i)&&fo(o,"has",e),fo(o,"has",i)),e===i?s.has(e):s.has(e)||s.has(i)}function kh(e,t=!1){return e=e.__v_raw,!t&&fo(Js(e),"iterate",dc),Reflect.get(e,"size",e)}function Kw(e){e=Js(e);const t=Js(this);return Af(t).has.call(t,e)||(t.add(e),Ur(t,"add",e,e)),this}function Jw(e,t){t=Js(t);const s=Js(this),{has:o,get:i}=Af(s);let n=o.call(s,e);n||(e=Js(e),n=o.call(s,e));const r=i.call(s,e);return s.set(e,t),n?Cl(t,r)&&Ur(s,"set",e,t):Ur(s,"add",e,t),this}function Xw(e){const t=Js(this),{has:s,get:o}=Af(t);let i=s.call(t,e);i||(e=Js(e),i=s.call(t,e)),o&&o.call(t,e);const n=t.delete(e);return i&&Ur(t,"delete",e,void 0),n}function $w(){const e=Js(this),t=e.size!==0,s=e.clear();return t&&Ur(e,"clear",void 0,void 0),s}function Ah(e,t){return function(o,i){const n=this,r=n.__v_raw,f=Js(r),m=t?Qg:e?Xg:nd;return!e&&fo(f,"iterate",dc),r.forEach((v,g)=>o.call(i,m(v),m(g),n))}}function Ch(e,t,s){return function(...o){const i=this.__v_raw,n=Js(i),r=Jc(n),f=e==="entries"||e===Symbol.iterator&&r,m=e==="keys"&&r,v=i[e](...o),g=s?Qg:t?Xg:nd;return!t&&fo(n,"iterate",m?tg:dc),{next(){const{value:A,done:D}=v.next();return D?{value:A,done:D}:{value:f?[g(A[0]),g(A[1])]:g(A),done:D}},[Symbol.iterator](){return this}}}}function cl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function kx(){const e={get(n){return _h(this,n)},get size(){return kh(this)},has:bh,add:Kw,set:Jw,delete:Xw,clear:$w,forEach:Ah(!1,!1)},t={get(n){return _h(this,n,!1,!0)},get size(){return kh(this)},has:bh,add:Kw,set:Jw,delete:Xw,clear:$w,forEach:Ah(!1,!0)},s={get(n){return _h(this,n,!0)},get size(){return kh(this,!0)},has(n){return bh.call(this,n,!0)},add:cl("add"),set:cl("set"),delete:cl("delete"),clear:cl("clear"),forEach:Ah(!0,!1)},o={get(n){return _h(this,n,!0,!0)},get size(){return kh(this,!0)},has(n){return bh.call(this,n,!0)},add:cl("add"),set:cl("set"),delete:cl("delete"),clear:cl("clear"),forEach:Ah(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=Ch(n,!1,!1),s[n]=Ch(n,!0,!1),t[n]=Ch(n,!1,!0),o[n]=Ch(n,!0,!0)}),[e,s,t,o]}const[Ax,Cx,Sx,Ix]=kx();function Kg(e,t){const s=t?e?Ix:Sx:e?Cx:Ax;return(o,i,n)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?o:Reflect.get(Ks(s,i)&&i in o?s:o,i,n)}const Tx={get:Kg(!1,!1)},Dx={get:Kg(!1,!0)},xx={get:Kg(!0,!1)};const Ab=new WeakMap,Cb=new WeakMap,Sb=new WeakMap,Px=new WeakMap;function Mx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ex(e){return e.__v_skip||!Object.isExtensible(e)?0:Mx(ZD(e))}function wd(e){return sd(e)?e:Jg(e,!1,wx,Tx,Ab)}function Ib(e){return Jg(e,!1,bx,Dx,Cb)}function Tb(e){return Jg(e,!0,_x,xx,Sb)}function Jg(e,t,s,o,i){if(!un(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=i.get(e);if(n)return n;const r=Ex(e);if(r===0)return e;const f=new Proxy(e,r===2?o:s);return i.set(e,f),f}function Gu(e){return sd(e)?Gu(e.__v_raw):!!(e&&e.__v_isReactive)}function sd(e){return!!(e&&e.__v_isReadonly)}function Xh(e){return!!(e&&e.__v_isShallow)}function Db(e){return e?!!e.__v_raw:!1}function Js(e){const t=e&&e.__v_raw;return t?Js(t):e}function Ox(e){return Object.isExtensible(e)&&ub(e,"__v_skip",!0),e}const nd=e=>un(e)?wd(e):e,Xg=e=>un(e)?Tb(e):e;class xb{constructor(t,s,o,i){this.getter=t,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new zg(()=>t(this._value),()=>jh(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=o}get value(){const t=Js(this);return(!t._cacheable||t.effect.dirty)&&Cl(t._value,t._value=t.effect.run())&&jh(t,5),Pb(t),t.effect._dirtyLevel>=2&&jh(t,3),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Rx(e,t,s=!1){let o,i;const n=Ds(e);return n?(o=e,i=la):(o=e.get,i=e.set),new xb(o,i,n||!i,s)}function Pb(e){var t;kl&&uc&&(e=Js(e),vb(uc,(t=e.dep)!=null?t:e.dep=wb(()=>e.dep=void 0,e instanceof xb?e:void 0)))}function jh(e,t=5,s,o){e=Js(e);const i=e.dep;i&&yb(i,t)}function ji(e){return!!(e&&e.__v_isRef===!0)}function at(e){return Mb(e,!1)}function Nx(e){return Mb(e,!0)}function Mb(e,t){return ji(e)?e:new Lx(e,t)}class Lx{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Js(t),this._value=s?t:nd(t)}get value(){return Pb(this),this._value}set value(t){const s=this.__v_isShallow||Xh(t)||sd(t);t=s?t:Js(t),Cl(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=s?t:nd(t),jh(this,5))}}function es(e){return ji(e)?e.value:e}const Fx={get:(e,t,s)=>es(Reflect.get(e,t,s)),set:(e,t,s,o)=>{const i=e[t];return ji(i)&&!ji(s)?(i.value=s,!0):Reflect.set(e,t,s,o)}};function Eb(e){return Gu(e)?e:new Proxy(e,Fx)}function Ux(e){const t=ts(e)?new Array(e.length):{};for(const s in e)t[s]=jx(e,s);return t}class Bx{constructor(t,s,o){this._object=t,this._key=s,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return mx(Js(this._object),this._key)}}function jx(e,t,s){const o=e[t];return ji(o)?o:new Bx(e,t,s)}/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Al(e,t,s,o){try{return o?e(...o):e()}catch(i){Cf(i,t,s)}}function ua(e,t,s,o){if(Ds(e)){const i=Al(e,t,s,o);return i&&rb(i)&&i.catch(n=>{Cf(n,t,s)}),i}if(ts(e)){const i=[];for(let n=0;n<e.length;n++)i.push(ua(e[n],t,s,o));return i}}function Cf(e,t,s,o=!0){const i=t?t.vnode:null;if(t){let n=t.parent;const r=t.proxy,f=`https://vuejs.org/error-reference/#runtime-${s}`;for(;n;){const v=n.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](e,r,f)===!1)return}n=n.parent}const m=t.appContext.config.errorHandler;if(m){Ml(),Al(m,null,10,[e,r,f]),El();return}}Vx(e,s,i,o)}function Vx(e,t,s,o=!0){console.error(e)}let id=!1,sg=!1;const xi=[];let lr=0;const Xc=[];let vl=null,ic=0;const Ob=Promise.resolve();let $g=null;function du(e){const t=$g||Ob;return e?t.then(this?e.bind(this):e):t}function qx(e){let t=lr+1,s=xi.length;for(;t<s;){const o=t+s>>>1,i=xi[o],n=od(i);n<e||n===e&&i.pre?t=o+1:s=o}return t}function Zg(e){(!xi.length||!xi.includes(e,id&&e.allowRecurse?lr+1:lr))&&(e.id==null?xi.push(e):xi.splice(qx(e.id),0,e),Rb())}function Rb(){!id&&!sg&&(sg=!0,$g=Ob.then(Lb))}function Hx(e){const t=xi.indexOf(e);t>lr&&xi.splice(t,1)}function Wx(e){ts(e)?Xc.push(...e):(!vl||!vl.includes(e,e.allowRecurse?ic+1:ic))&&Xc.push(e),Rb()}function Zw(e,t,s=id?lr+1:0){for(;s<xi.length;s++){const o=xi[s];if(o&&o.pre){if(e&&o.id!==e.uid)continue;xi.splice(s,1),s--,o()}}}function Nb(e){if(Xc.length){const t=[...new Set(Xc)].sort((s,o)=>od(s)-od(o));if(Xc.length=0,vl){vl.push(...t);return}for(vl=t,ic=0;ic<vl.length;ic++){const s=vl[ic];s.active!==!1&&s()}vl=null,ic=0}}const od=e=>e.id==null?1/0:e.id,zx=(e,t)=>{const s=od(e)-od(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Lb(e){sg=!1,id=!0,xi.sort(zx);try{for(lr=0;lr<xi.length;lr++){const t=xi[lr];t&&t.active!==!1&&Al(t,null,14)}}finally{lr=0,xi.length=0,Nb(),id=!1,$g=null,(xi.length||Xc.length)&&Lb()}}function Gx(e,t,...s){if(e.isUnmounted)return;const o=e.vnode.props||vn;let i=s;const n=t.startsWith("update:"),r=n&&t.slice(7);if(r&&r in o){const g=`${r==="modelValue"?"model":r}Modifiers`,{number:A,trim:D}=o[g]||vn;D&&(i=s.map(E=>Wn(E)?E.trim():E)),A&&(i=s.map(Kh))}let f,m=o[f=fp(t)]||o[f=fp(ur(t))];!m&&n&&(m=o[f=fp(vc(t))]),m&&ua(m,e,6,i);const v=o[f+"Once"];if(v){if(!e.emitted)e.emitted={};else if(e.emitted[f])return;e.emitted[f]=!0,ua(v,e,6,i)}}function Fb(e,t,s=!1){const o=t.emitsCache,i=o.get(e);if(i!==void 0)return i;const n=e.emits;let r={},f=!1;if(!Ds(e)){const m=v=>{const g=Fb(v,t,!0);g&&(f=!0,jn(r,g))};!s&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}return!n&&!f?(un(e)&&o.set(e,null),null):(ts(n)?n.forEach(m=>r[m]=null):jn(r,n),un(e)&&o.set(e,r),r)}function Sf(e,t){return!e||!_f(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ks(e,t[0].toLowerCase()+t.slice(1))||Ks(e,vc(t))||Ks(e,t))}let ii=null,If=null;function $h(e){const t=ii;return ii=e,If=e&&e.type.__scopeId||null,t}function gs(e){If=e}function vs(){If=null}function z(e,t=ii,s){if(!t||e._n)return e;const o=(...i)=>{o._d&&h_(-1);const n=$h(t);let r;try{r=e(...i)}finally{$h(n),o._d&&h_(1)}return r};return o._n=!0,o._c=!0,o._d=!0,o}function pp(e){const{type:t,vnode:s,proxy:o,withProxy:i,propsOptions:[n],slots:r,attrs:f,emit:m,render:v,renderCache:g,props:A,data:D,setupState:E,ctx:T,inheritAttrs:N}=e,F=$h(e);let R,j;try{if(s.shapeFlag&4){const Q=i||o,le=Q;R=rr(v.call(le,Q,g,A,E,D,T)),j=f}else{const Q=t;R=rr(Q.length>1?Q(A,{attrs:f,slots:r,emit:m}):Q(A,null)),j=t.props?f:Yx(f)}}catch(Q){Ju.length=0,Cf(Q,e,1),R=b(lo)}let W=R;if(j&&N!==!1){const Q=Object.keys(j),{shapeFlag:le}=W;Q.length&&le&7&&(n&&Q.some(Vg)&&(j=Qx(j,n)),W=Sl(W,j,!1,!0))}return s.dirs&&(W=Sl(W,null,!1,!0),W.dirs=W.dirs?W.dirs.concat(s.dirs):s.dirs),s.transition&&(W.transition=s.transition),R=W,$h(F),R}const Yx=e=>{let t;for(const s in e)(s==="class"||s==="style"||_f(s))&&((t||(t={}))[s]=e[s]);return t},Qx=(e,t)=>{const s={};for(const o in e)(!Vg(o)||!(o.slice(9)in t))&&(s[o]=e[o]);return s};function Kx(e,t,s){const{props:o,children:i,component:n}=e,{props:r,children:f,patchFlag:m}=t,v=n.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&m>=0){if(m&1024)return!0;if(m&16)return o?e_(o,r,v):!!r;if(m&8){const g=t.dynamicProps;for(let A=0;A<g.length;A++){const D=g[A];if(r[D]!==o[D]&&!Sf(v,D))return!0}}}else return(i||f)&&(!f||!f.$stable)?!0:o===r?!1:o?r?e_(o,r,v):!0:!!r;return!1}function e_(e,t,s){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let i=0;i<o.length;i++){const n=o[i];if(t[n]!==e[n]&&!Sf(s,n))return!0}return!1}function Jx({vnode:e,parent:t},s){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=t.vnode).el=s,t=t.parent;else break}}const Xx="components";function _(e,t){return Zx(Xx,e,!0,t)||e}const $x=Symbol.for("v-ndc");function Zx(e,t,s=!0,o=!1){const i=ii||wi;if(i){const n=i.type;{const f=qP(n,!1);if(f&&(f===t||f===ur(t)||f===kf(ur(t))))return n}const r=t_(i[e]||n[e],t)||t_(i.appContext[e],t);return!r&&o?n:r}}function t_(e,t){return e&&(e[t]||e[ur(t)]||e[kf(ur(t))])}const eP=e=>e.__isSuspense;function tP(e,t){t&&t.pendingBranch?ts(e)?t.effects.push(...e):t.effects.push(e):Wx(e)}function Tf(e,t,s=wi,o=!1){if(s){const i=s[e]||(s[e]=[]),n=t.__weh||(t.__weh=(...r)=>{Ml();const f=bd(s),m=ua(t,s,e,r);return f(),El(),m});return o?i.unshift(n):i.push(n),n}}const Hr=e=>(t,s=wi)=>{(!Of||e==="sp")&&Tf(e,(...o)=>t(...o),s)},Ub=Hr("bm"),Ol=Hr("m"),sP=Hr("bu"),Bb=Hr("u"),ev=Hr("bum"),Df=Hr("um"),nP=Hr("sp"),iP=Hr("rtg"),oP=Hr("rtc");function aP(e,t=wi){Tf("ec",e,t)}function cn(e,t){if(ii===null)return e;const s=Rf(ii),o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[n,r,f,m=vn]=t[i];n&&(Ds(n)&&(n={mounted:n,updated:n}),n.deep&&bl(r),o.push({dir:n,instance:s,value:r,oldValue:void 0,arg:f,modifiers:m}))}return e}function tc(e,t,s,o){const i=e.dirs,n=t&&t.dirs;for(let r=0;r<i.length;r++){const f=i[r];n&&(f.oldValue=n[r].value);let m=f.dir[o];m&&(Ml(),ua(m,s,8,[e.el,f,e,t]),El())}}function pe(e,t,s,o){let i;const n=s;if(ts(e)||Wn(e)){i=new Array(e.length);for(let r=0,f=e.length;r<f;r++)i[r]=t(e[r],r,void 0,n)}else if(typeof e=="number"){i=new Array(e);for(let r=0;r<e;r++)i[r]=t(r+1,r,void 0,n)}else if(un(e))if(e[Symbol.iterator])i=Array.from(e,(r,f)=>t(r,f,void 0,n));else{const r=Object.keys(e);i=new Array(r.length);for(let f=0,m=r.length;f<m;f++){const v=r[f];i[f]=t(e[v],v,f,n)}}else i=[];return i}function Oa(e,t){for(let s=0;s<t.length;s++){const o=t[s];if(ts(o))for(let i=0;i<o.length;i++)e[o[i].name]=o[i].fn;else o&&(e[o.name]=o.key?(...i)=>{const n=o.fn(...i);return n&&(n.key=o.key),n}:o.fn)}return e}/*! #__NO_SIDE_EFFECTS__ */function _d(e,t){return Ds(e)?jn({name:e.name},t,{setup:e}):e}const Yu=e=>!!e.type.__asyncLoader;function Jt(e,t,s={},o,i){if(ii.isCE||ii.parent&&Yu(ii.parent)&&ii.parent.isCE)return t!=="default"&&(s.name=t),b("slot",s,o&&o());let n=e[t];n&&n._c&&(n._d=!1),a();const r=n&&jb(n(s)),f=S(Z,{key:s.key||r&&r.key||`_${t}`},r||(o?o():[]),r&&e._===1?64:-2);return!i&&f.scopeId&&(f.slotScopeIds=[f.scopeId+"-s"]),n&&n._c&&(n._d=!0),f}function jb(e){return e.some(t=>ef(t)?!(t.type===lo||t.type===Z&&!jb(t.children)):!0)?e:null}const ng=e=>e?uk(e)?Rf(e):ng(e.parent):null,Qu=jn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ng(e.parent),$root:e=>ng(e.root),$emit:e=>e.emit,$options:e=>tv(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,Zg(e.update)}),$nextTick:e=>e.n||(e.n=du.bind(e.proxy)),$watch:e=>IP.bind(e)}),gp=(e,t)=>e!==vn&&!e.__isScriptSetup&&Ks(e,t),rP={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:o,data:i,props:n,accessCache:r,type:f,appContext:m}=e;let v;if(t[0]!=="$"){const E=r[t];if(E!==void 0)switch(E){case 1:return o[t];case 2:return i[t];case 4:return s[t];case 3:return n[t]}else{if(gp(o,t))return r[t]=1,o[t];if(i!==vn&&Ks(i,t))return r[t]=2,i[t];if((v=e.propsOptions[0])&&Ks(v,t))return r[t]=3,n[t];if(s!==vn&&Ks(s,t))return r[t]=4,s[t];ig&&(r[t]=0)}}const g=Qu[t];let A,D;if(g)return t==="$attrs"&&fo(e.attrs,"get",""),g(e);if((A=f.__cssModules)&&(A=A[t]))return A;if(s!==vn&&Ks(s,t))return r[t]=4,s[t];if(D=m.config.globalProperties,Ks(D,t))return D[t]},set({_:e},t,s){const{data:o,setupState:i,ctx:n}=e;return gp(i,t)?(i[t]=s,!0):o!==vn&&Ks(o,t)?(o[t]=s,!0):Ks(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:o,appContext:i,propsOptions:n}},r){let f;return!!s[r]||e!==vn&&Ks(e,r)||gp(t,r)||(f=n[0])&&Ks(f,r)||Ks(o,r)||Ks(Qu,r)||Ks(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ks(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function s_(e){return ts(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ig=!0;function lP(e){const t=tv(e),s=e.proxy,o=e.ctx;ig=!1,t.beforeCreate&&n_(t.beforeCreate,e,"bc");const{data:i,computed:n,methods:r,watch:f,provide:m,inject:v,created:g,beforeMount:A,mounted:D,beforeUpdate:E,updated:T,activated:N,deactivated:F,beforeDestroy:R,beforeUnmount:j,destroyed:W,unmounted:Q,render:le,renderTracked:me,renderTriggered:k,errorCaptured:Ce,serverPrefetch:he,expose:Ke,inheritAttrs:Te,components:Ve,directives:ut,filters:de}=t;if(v&&cP(v,o,null),r)for(const Lt in r){const wt=r[Lt];Ds(wt)&&(o[Lt]=wt.bind(s))}if(i){const Lt=i.call(s,s);un(Lt)&&(e.data=wd(Lt))}if(ig=!0,n)for(const Lt in n){const wt=n[Lt],Je=Ds(wt)?wt.bind(s,s):Ds(wt.get)?wt.get.bind(s,s):la,Xe=!Ds(wt)&&Ds(wt.set)?wt.set.bind(s):la,tt=Wt({get:Je,set:Xe});Object.defineProperty(o,Lt,{enumerable:!0,configurable:!0,get:()=>tt.value,set:At=>tt.value=At})}if(f)for(const Lt in f)Vb(f[Lt],o,s,Lt);if(m){const Lt=Ds(m)?m.call(s):m;Reflect.ownKeys(Lt).forEach(wt=>{Vh(wt,Lt[wt])})}g&&n_(g,e,"c");function Qt(Lt,wt){ts(wt)?wt.forEach(Je=>Lt(Je.bind(s))):wt&&Lt(wt.bind(s))}if(Qt(Ub,A),Qt(Ol,D),Qt(sP,E),Qt(Bb,T),Qt(ek,N),Qt(tk,F),Qt(aP,Ce),Qt(oP,me),Qt(iP,k),Qt(ev,j),Qt(Df,Q),Qt(nP,he),ts(Ke))if(Ke.length){const Lt=e.exposed||(e.exposed={});Ke.forEach(wt=>{Object.defineProperty(Lt,wt,{get:()=>s[wt],set:Je=>s[wt]=Je})})}else e.exposed||(e.exposed={});le&&e.render===la&&(e.render=le),Te!=null&&(e.inheritAttrs=Te),Ve&&(e.components=Ve),ut&&(e.directives=ut)}function cP(e,t,s=la){ts(e)&&(e=og(e));for(const o in e){const i=e[o];let n;un(i)?"default"in i?n=co(i.from||o,i.default,!0):n=co(i.from||o):n=co(i),ji(n)?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n.value,set:r=>n.value=r}):t[o]=n}}function n_(e,t,s){ua(ts(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,s)}function Vb(e,t,s,o){const i=o.includes(".")?Zb(s,o):()=>s[o];if(Wn(e)){const n=t[e];Ds(n)&&Us(i,n)}else if(Ds(e))Us(i,e.bind(s));else if(un(e))if(ts(e))e.forEach(n=>Vb(n,t,s,o));else{const n=Ds(e.handler)?e.handler.bind(s):t[e.handler];Ds(n)&&Us(i,n,e)}}function tv(e){const t=e.type,{mixins:s,extends:o}=t,{mixins:i,optionsCache:n,config:{optionMergeStrategies:r}}=e.appContext,f=n.get(t);let m;return f?m=f:!i.length&&!s&&!o?m=t:(m={},i.length&&i.forEach(v=>Zh(m,v,r,!0)),Zh(m,t,r)),un(t)&&n.set(t,m),m}function Zh(e,t,s,o=!1){const{mixins:i,extends:n}=t;n&&Zh(e,n,s,!0),i&&i.forEach(r=>Zh(e,r,s,!0));for(const r in t)if(!(o&&r==="expose")){const f=uP[r]||s&&s[r];e[r]=f?f(e[r],t[r]):t[r]}return e}const uP={data:i_,props:o_,emits:o_,methods:Hu,computed:Hu,beforeCreate:Bi,created:Bi,beforeMount:Bi,mounted:Bi,beforeUpdate:Bi,updated:Bi,beforeDestroy:Bi,beforeUnmount:Bi,destroyed:Bi,unmounted:Bi,activated:Bi,deactivated:Bi,errorCaptured:Bi,serverPrefetch:Bi,components:Hu,directives:Hu,watch:hP,provide:i_,inject:dP};function i_(e,t){return t?e?function(){return jn(Ds(e)?e.call(this,this):e,Ds(t)?t.call(this,this):t)}:t:e}function dP(e,t){return Hu(og(e),og(t))}function og(e){if(ts(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Bi(e,t){return e?[...new Set([].concat(e,t))]:t}function Hu(e,t){return e?jn(Object.create(null),e,t):t}function o_(e,t){return e?ts(e)&&ts(t)?[...new Set([...e,...t])]:jn(Object.create(null),s_(e),s_(t??{})):t}function hP(e,t){if(!e)return t;if(!t)return e;const s=jn(Object.create(null),e);for(const o in t)s[o]=Bi(e[o],t[o]);return s}function qb(){return{app:null,config:{isNativeTag:XD,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fP=0;function mP(e,t){return function(o,i=null){Ds(o)||(o=jn({},o)),i!=null&&!un(i)&&(i=null);const n=qb(),r=new WeakSet;let f=!1;const m=n.app={_uid:fP++,_component:o,_props:i,_container:null,_context:n,_instance:null,version:WP,get config(){return n.config},set config(v){},use(v,...g){return r.has(v)||(v&&Ds(v.install)?(r.add(v),v.install(m,...g)):Ds(v)&&(r.add(v),v(m,...g))),m},mixin(v){return n.mixins.includes(v)||n.mixins.push(v),m},component(v,g){return g?(n.components[v]=g,m):n.components[v]},directive(v,g){return g?(n.directives[v]=g,m):n.directives[v]},mount(v,g,A){if(!f){const D=b(o,i);return D.appContext=n,A===!0?A="svg":A===!1&&(A=void 0),g&&t?t(D,v):e(D,v,A),f=!0,m._container=v,v.__vue_app__=m,Rf(D.component)}},unmount(){f&&(e(null,m._container),delete m._container.__vue_app__)},provide(v,g){return n.provides[v]=g,m},runWithContext(v){const g=Ku;Ku=m;try{return v()}finally{Ku=g}}};return m}}let Ku=null;function Vh(e,t){if(wi){let s=wi.provides;const o=wi.parent&&wi.parent.provides;o===s&&(s=wi.provides=Object.create(o)),s[e]=t}}function co(e,t,s=!1){const o=wi||ii;if(o||Ku){const i=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Ku._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return s&&Ds(t)?t.call(o&&o.proxy):t}}const Hb={},Wb=()=>Object.create(Hb),zb=e=>Object.getPrototypeOf(e)===Hb;function pP(e,t,s,o=!1){const i={},n=Wb();e.propsDefaults=Object.create(null),Gb(e,t,i,n);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=o?i:Ib(i):e.type.props?e.props=i:e.props=n,e.attrs=n}function gP(e,t,s,o){const{props:i,attrs:n,vnode:{patchFlag:r}}=e,f=Js(i),[m]=e.propsOptions;let v=!1;if((o||r>0)&&!(r&16)){if(r&8){const g=e.vnode.dynamicProps;for(let A=0;A<g.length;A++){let D=g[A];if(Sf(e.emitsOptions,D))continue;const E=t[D];if(m)if(Ks(n,D))E!==n[D]&&(n[D]=E,v=!0);else{const T=ur(D);i[T]=ag(m,f,T,E,e,!1)}else E!==n[D]&&(n[D]=E,v=!0)}}}else{Gb(e,t,i,n)&&(v=!0);let g;for(const A in f)(!t||!Ks(t,A)&&((g=vc(A))===A||!Ks(t,g)))&&(m?s&&(s[A]!==void 0||s[g]!==void 0)&&(i[A]=ag(m,f,A,void 0,e,!0)):delete i[A]);if(n!==f)for(const A in n)(!t||!Ks(t,A))&&(delete n[A],v=!0)}v&&Ur(e.attrs,"set","")}function Gb(e,t,s,o){const[i,n]=e.propsOptions;let r=!1,f;if(t)for(let m in t){if(zu(m))continue;const v=t[m];let g;i&&Ks(i,g=ur(m))?!n||!n.includes(g)?s[g]=v:(f||(f={}))[g]=v:Sf(e.emitsOptions,m)||(!(m in o)||v!==o[m])&&(o[m]=v,r=!0)}if(n){const m=Js(s),v=f||vn;for(let g=0;g<n.length;g++){const A=n[g];s[A]=ag(i,m,A,v[A],e,!Ks(v,A))}}return r}function ag(e,t,s,o,i,n){const r=e[s];if(r!=null){const f=Ks(r,"default");if(f&&o===void 0){const m=r.default;if(r.type!==Function&&!r.skipFactory&&Ds(m)){const{propsDefaults:v}=i;if(s in v)o=v[s];else{const g=bd(i);o=v[s]=m.call(null,t),g()}}else o=m}r[0]&&(n&&!f?o=!1:r[1]&&(o===""||o===vc(s))&&(o=!0))}return o}function Yb(e,t,s=!1){const o=t.propsCache,i=o.get(e);if(i)return i;const n=e.props,r={},f=[];let m=!1;if(!Ds(e)){const g=A=>{m=!0;const[D,E]=Yb(A,t,!0);jn(r,D),E&&f.push(...E)};!s&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!n&&!m)return un(e)&&o.set(e,Kc),Kc;if(ts(n))for(let g=0;g<n.length;g++){const A=ur(n[g]);a_(A)&&(r[A]=vn)}else if(n)for(const g in n){const A=ur(g);if(a_(A)){const D=n[g],E=r[A]=ts(D)||Ds(D)?{type:D}:jn({},D);if(E){const T=c_(Boolean,E.type),N=c_(String,E.type);E[0]=T>-1,E[1]=N<0||T<N,(T>-1||Ks(E,"default"))&&f.push(A)}}}const v=[r,f];return un(e)&&o.set(e,v),v}function a_(e){return e[0]!=="$"&&!zu(e)}function r_(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function l_(e,t){return r_(e)===r_(t)}function c_(e,t){return ts(t)?t.findIndex(s=>l_(s,e)):Ds(t)&&l_(t,e)?0:-1}const Qb=e=>e[0]==="_"||e==="$stable",sv=e=>ts(e)?e.map(rr):[rr(e)],vP=(e,t,s)=>{if(t._n)return t;const o=z((...i)=>sv(t(...i)),s);return o._c=!1,o},Kb=(e,t,s)=>{const o=e._ctx;for(const i in e){if(Qb(i))continue;const n=e[i];if(Ds(n))t[i]=vP(i,n,o);else if(n!=null){const r=sv(n);t[i]=()=>r}}},Jb=(e,t)=>{const s=sv(t);e.slots.default=()=>s},yP=(e,t)=>{const s=e.slots=Wb();if(e.vnode.shapeFlag&32){const o=t._;o?(jn(s,t),ub(s,"_",o,!0)):Kb(t,s)}else t&&Jb(e,t)},wP=(e,t,s)=>{const{vnode:o,slots:i}=e;let n=!0,r=vn;if(o.shapeFlag&32){const f=t._;f?s&&f===1?n=!1:(jn(i,t),!s&&f===1&&delete i._):(n=!t.$stable,Kb(t,i)),r=t}else t&&(Jb(e,t),r={default:1});if(n)for(const f in i)!Qb(f)&&r[f]==null&&delete i[f]};function rg(e,t,s,o,i=!1){if(ts(e)){e.forEach((D,E)=>rg(D,t&&(ts(t)?t[E]:t),s,o,i));return}if(Yu(o)&&!i)return;const n=o.shapeFlag&4?Rf(o.component):o.el,r=i?null:n,{i:f,r:m}=e,v=t&&t.r,g=f.refs===vn?f.refs={}:f.refs,A=f.setupState;if(v!=null&&v!==m&&(Wn(v)?(g[v]=null,Ks(A,v)&&(A[v]=null)):ji(v)&&(v.value=null)),Ds(m))Al(m,f,12,[r,g]);else{const D=Wn(m),E=ji(m);if(D||E){const T=()=>{if(e.f){const N=D?Ks(A,m)?A[m]:g[m]:m.value;i?ts(N)&&qg(N,n):ts(N)?N.includes(n)||N.push(n):D?(g[m]=[n],Ks(A,m)&&(A[m]=g[m])):(m.value=[n],e.k&&(g[e.k]=m.value))}else D?(g[m]=r,Ks(A,m)&&(A[m]=r)):E&&(m.value=r,e.k&&(g[e.k]=r))};r?(T.id=-1,ao(T,s)):T()}}}const ao=tP;function _P(e){return bP(e)}function bP(e,t){const s=db();s.__VUE__=!0;const{insert:o,remove:i,patchProp:n,createElement:r,createText:f,createComment:m,setText:v,setElementText:g,parentNode:A,nextSibling:D,setScopeId:E=la,insertStaticContent:T}=e,N=(ne,re,Pe,Qe=null,Be=null,Ze=null,ht=void 0,rt=null,ot=!!re.dynamicChildren)=>{if(ne===re)return;ne&&!oc(ne,re)&&(Qe=ce(ne),At(ne,Be,Ze,!0),ne=null),re.patchFlag===-2&&(ot=!1,re.dynamicChildren=null);const{type:qe,ref:mt,shapeFlag:Et}=re;switch(qe){case Mf:F(ne,re,Pe,Qe);break;case lo:R(ne,re,Pe,Qe);break;case qh:ne==null&&j(re,Pe,Qe,ht);break;case Z:Ve(ne,re,Pe,Qe,Be,Ze,ht,rt,ot);break;default:Et&1?le(ne,re,Pe,Qe,Be,Ze,ht,rt,ot):Et&6?ut(ne,re,Pe,Qe,Be,Ze,ht,rt,ot):(Et&64||Et&128)&&qe.process(ne,re,Pe,Qe,Be,Ze,ht,rt,ot,vt)}mt!=null&&Be&&rg(mt,ne&&ne.ref,Ze,re||ne,!re)},F=(ne,re,Pe,Qe)=>{if(ne==null)o(re.el=f(re.children),Pe,Qe);else{const Be=re.el=ne.el;re.children!==ne.children&&v(Be,re.children)}},R=(ne,re,Pe,Qe)=>{ne==null?o(re.el=m(re.children||""),Pe,Qe):re.el=ne.el},j=(ne,re,Pe,Qe)=>{[ne.el,ne.anchor]=T(ne.children,re,Pe,Qe,ne.el,ne.anchor)},W=({el:ne,anchor:re},Pe,Qe)=>{let Be;for(;ne&&ne!==re;)Be=D(ne),o(ne,Pe,Qe),ne=Be;o(re,Pe,Qe)},Q=({el:ne,anchor:re})=>{let Pe;for(;ne&&ne!==re;)Pe=D(ne),i(ne),ne=Pe;i(re)},le=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot)=>{re.type==="svg"?ht="svg":re.type==="math"&&(ht="mathml"),ne==null?me(re,Pe,Qe,Be,Ze,ht,rt,ot):he(ne,re,Be,Ze,ht,rt,ot)},me=(ne,re,Pe,Qe,Be,Ze,ht,rt)=>{let ot,qe;const{props:mt,shapeFlag:Et,transition:Ne,dirs:Pt}=ne;if(ot=ne.el=r(ne.type,Ze,mt&&mt.is,mt),Et&8?g(ot,ne.children):Et&16&&Ce(ne.children,ot,null,Qe,Be,vp(ne,Ze),ht,rt),Pt&&tc(ne,null,Qe,"created"),k(ot,ne,ne.scopeId,ht,Qe),mt){for(const $e in mt)$e!=="value"&&!zu($e)&&n(ot,$e,null,mt[$e],Ze,ne.children,Qe,Be,qt);"value"in mt&&n(ot,"value",null,mt.value,Ze),(qe=mt.onVnodeBeforeMount)&&ar(qe,Qe,ne)}Pt&&tc(ne,null,Qe,"beforeMount");const Zt=kP(Be,Ne);Zt&&Ne.beforeEnter(ot),o(ot,re,Pe),((qe=mt&&mt.onVnodeMounted)||Zt||Pt)&&ao(()=>{qe&&ar(qe,Qe,ne),Zt&&Ne.enter(ot),Pt&&tc(ne,null,Qe,"mounted")},Be)},k=(ne,re,Pe,Qe,Be)=>{if(Pe&&E(ne,Pe),Qe)for(let Ze=0;Ze<Qe.length;Ze++)E(ne,Qe[Ze]);if(Be){let Ze=Be.subTree;if(re===Ze){const ht=Be.vnode;k(ne,ht,ht.scopeId,ht.slotScopeIds,Be.parent)}}},Ce=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot=0)=>{for(let qe=ot;qe<ne.length;qe++){const mt=ne[qe]=rt?wl(ne[qe]):rr(ne[qe]);N(null,mt,re,Pe,Qe,Be,Ze,ht,rt)}},he=(ne,re,Pe,Qe,Be,Ze,ht)=>{const rt=re.el=ne.el;let{patchFlag:ot,dynamicChildren:qe,dirs:mt}=re;ot|=ne.patchFlag&16;const Et=ne.props||vn,Ne=re.props||vn;let Pt;if(Pe&&sc(Pe,!1),(Pt=Ne.onVnodeBeforeUpdate)&&ar(Pt,Pe,re,ne),mt&&tc(re,ne,Pe,"beforeUpdate"),Pe&&sc(Pe,!0),qe?Ke(ne.dynamicChildren,qe,rt,Pe,Qe,vp(re,Be),Ze):ht||wt(ne,re,rt,null,Pe,Qe,vp(re,Be),Ze,!1),ot>0){if(ot&16)Te(rt,re,Et,Ne,Pe,Qe,Be);else if(ot&2&&Et.class!==Ne.class&&n(rt,"class",null,Ne.class,Be),ot&4&&n(rt,"style",Et.style,Ne.style,Be),ot&8){const Zt=re.dynamicProps;for(let $e=0;$e<Zt.length;$e++){const _t=Zt[$e],bs=Et[_t],Zs=Ne[_t];(Zs!==bs||_t==="value")&&n(rt,_t,bs,Zs,Be,ne.children,Pe,Qe,qt)}}ot&1&&ne.children!==re.children&&g(rt,re.children)}else!ht&&qe==null&&Te(rt,re,Et,Ne,Pe,Qe,Be);((Pt=Ne.onVnodeUpdated)||mt)&&ao(()=>{Pt&&ar(Pt,Pe,re,ne),mt&&tc(re,ne,Pe,"updated")},Qe)},Ke=(ne,re,Pe,Qe,Be,Ze,ht)=>{for(let rt=0;rt<re.length;rt++){const ot=ne[rt],qe=re[rt],mt=ot.el&&(ot.type===Z||!oc(ot,qe)||ot.shapeFlag&70)?A(ot.el):Pe;N(ot,qe,mt,null,Qe,Be,Ze,ht,!0)}},Te=(ne,re,Pe,Qe,Be,Ze,ht)=>{if(Pe!==Qe){if(Pe!==vn)for(const rt in Pe)!zu(rt)&&!(rt in Qe)&&n(ne,rt,Pe[rt],null,ht,re.children,Be,Ze,qt);for(const rt in Qe){if(zu(rt))continue;const ot=Qe[rt],qe=Pe[rt];ot!==qe&&rt!=="value"&&n(ne,rt,qe,ot,ht,re.children,Be,Ze,qt)}"value"in Qe&&n(ne,"value",Pe.value,Qe.value,ht)}},Ve=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot)=>{const qe=re.el=ne?ne.el:f(""),mt=re.anchor=ne?ne.anchor:f("");let{patchFlag:Et,dynamicChildren:Ne,slotScopeIds:Pt}=re;Pt&&(rt=rt?rt.concat(Pt):Pt),ne==null?(o(qe,Pe,Qe),o(mt,Pe,Qe),Ce(re.children||[],Pe,mt,Be,Ze,ht,rt,ot)):Et>0&&Et&64&&Ne&&ne.dynamicChildren?(Ke(ne.dynamicChildren,Ne,Pe,Be,Ze,ht,rt),(re.key!=null||Be&&re===Be.subTree)&&Xb(ne,re,!0)):wt(ne,re,Pe,mt,Be,Ze,ht,rt,ot)},ut=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot)=>{re.slotScopeIds=rt,ne==null?re.shapeFlag&512?Be.ctx.activate(re,Pe,Qe,ht,ot):de(re,Pe,Qe,Be,Ze,ht,ot):We(ne,re,ot)},de=(ne,re,Pe,Qe,Be,Ze,ht)=>{const rt=ne.component=FP(ne,Qe,Be);if(Pf(ne)&&(rt.ctx.renderer=vt),UP(rt),rt.asyncDep){if(Be&&Be.registerDep(rt,Qt,ht),!ne.el){const ot=rt.subTree=b(lo);R(null,ot,re,Pe)}}else Qt(rt,ne,re,Pe,Be,Ze,ht)},We=(ne,re,Pe)=>{const Qe=re.component=ne.component;if(Kx(ne,re,Pe))if(Qe.asyncDep&&!Qe.asyncResolved){Lt(Qe,re,Pe);return}else Qe.next=re,Hx(Qe.update),Qe.effect.dirty=!0,Qe.update();else re.el=ne.el,Qe.vnode=re},Qt=(ne,re,Pe,Qe,Be,Ze,ht)=>{const rt=()=>{if(ne.isMounted){let{next:mt,bu:Et,u:Ne,parent:Pt,vnode:Zt}=ne;{const qs=$b(ne);if(qs){mt&&(mt.el=Zt.el,Lt(ne,mt,ht)),qs.asyncDep.then(()=>{ne.isUnmounted||rt()});return}}let $e=mt,_t;sc(ne,!1),mt?(mt.el=Zt.el,Lt(ne,mt,ht)):mt=Zt,Et&&Bh(Et),(_t=mt.props&&mt.props.onVnodeBeforeUpdate)&&ar(_t,Pt,mt,Zt),sc(ne,!0);const bs=pp(ne),Zs=ne.subTree;ne.subTree=bs,N(Zs,bs,A(Zs.el),ce(Zs),ne,Be,Ze),mt.el=bs.el,$e===null&&Jx(ne,bs.el),Ne&&ao(Ne,Be),(_t=mt.props&&mt.props.onVnodeUpdated)&&ao(()=>ar(_t,Pt,mt,Zt),Be)}else{let mt;const{el:Et,props:Ne}=re,{bm:Pt,m:Zt,parent:$e}=ne,_t=Yu(re);if(sc(ne,!1),Pt&&Bh(Pt),!_t&&(mt=Ne&&Ne.onVnodeBeforeMount)&&ar(mt,$e,re),sc(ne,!0),Et&&jt){const bs=()=>{ne.subTree=pp(ne),jt(Et,ne.subTree,ne,Be,null)};_t?re.type.__asyncLoader().then(()=>!ne.isUnmounted&&bs()):bs()}else{const bs=ne.subTree=pp(ne);N(null,bs,Pe,Qe,ne,Be,Ze),re.el=bs.el}if(Zt&&ao(Zt,Be),!_t&&(mt=Ne&&Ne.onVnodeMounted)){const bs=re;ao(()=>ar(mt,$e,bs),Be)}(re.shapeFlag&256||$e&&Yu($e.vnode)&&$e.vnode.shapeFlag&256)&&ne.a&&ao(ne.a,Be),ne.isMounted=!0,re=Pe=Qe=null}},ot=ne.effect=new zg(rt,la,()=>Zg(qe),ne.scope),qe=ne.update=()=>{ot.dirty&&ot.run()};qe.id=ne.uid,sc(ne,!0),qe()},Lt=(ne,re,Pe)=>{re.component=ne;const Qe=ne.vnode.props;ne.vnode=re,ne.next=null,gP(ne,re.props,Qe,Pe),wP(ne,re.children,Pe),Ml(),Zw(ne),El()},wt=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot=!1)=>{const qe=ne&&ne.children,mt=ne?ne.shapeFlag:0,Et=re.children,{patchFlag:Ne,shapeFlag:Pt}=re;if(Ne>0){if(Ne&128){Xe(qe,Et,Pe,Qe,Be,Ze,ht,rt,ot);return}else if(Ne&256){Je(qe,Et,Pe,Qe,Be,Ze,ht,rt,ot);return}}Pt&8?(mt&16&&qt(qe,Be,Ze),Et!==qe&&g(Pe,Et)):mt&16?Pt&16?Xe(qe,Et,Pe,Qe,Be,Ze,ht,rt,ot):qt(qe,Be,Ze,!0):(mt&8&&g(Pe,""),Pt&16&&Ce(Et,Pe,Qe,Be,Ze,ht,rt,ot))},Je=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot)=>{ne=ne||Kc,re=re||Kc;const qe=ne.length,mt=re.length,Et=Math.min(qe,mt);let Ne;for(Ne=0;Ne<Et;Ne++){const Pt=re[Ne]=ot?wl(re[Ne]):rr(re[Ne]);N(ne[Ne],Pt,Pe,null,Be,Ze,ht,rt,ot)}qe>mt?qt(ne,Be,Ze,!0,!1,Et):Ce(re,Pe,Qe,Be,Ze,ht,rt,ot,Et)},Xe=(ne,re,Pe,Qe,Be,Ze,ht,rt,ot)=>{let qe=0;const mt=re.length;let Et=ne.length-1,Ne=mt-1;for(;qe<=Et&&qe<=Ne;){const Pt=ne[qe],Zt=re[qe]=ot?wl(re[qe]):rr(re[qe]);if(oc(Pt,Zt))N(Pt,Zt,Pe,null,Be,Ze,ht,rt,ot);else break;qe++}for(;qe<=Et&&qe<=Ne;){const Pt=ne[Et],Zt=re[Ne]=ot?wl(re[Ne]):rr(re[Ne]);if(oc(Pt,Zt))N(Pt,Zt,Pe,null,Be,Ze,ht,rt,ot);else break;Et--,Ne--}if(qe>Et){if(qe<=Ne){const Pt=Ne+1,Zt=Pt<mt?re[Pt].el:Qe;for(;qe<=Ne;)N(null,re[qe]=ot?wl(re[qe]):rr(re[qe]),Pe,Zt,Be,Ze,ht,rt,ot),qe++}}else if(qe>Ne)for(;qe<=Et;)At(ne[qe],Be,Ze,!0),qe++;else{const Pt=qe,Zt=qe,$e=new Map;for(qe=Zt;qe<=Ne;qe++){const Hs=re[qe]=ot?wl(re[qe]):rr(re[qe]);Hs.key!=null&&$e.set(Hs.key,qe)}let _t,bs=0;const Zs=Ne-Zt+1;let qs=!1,sn=0;const nn=new Array(Zs);for(qe=0;qe<Zs;qe++)nn[qe]=0;for(qe=Pt;qe<=Et;qe++){const Hs=ne[qe];if(bs>=Zs){At(Hs,Be,Ze,!0);continue}let Ws;if(Hs.key!=null)Ws=$e.get(Hs.key);else for(_t=Zt;_t<=Ne;_t++)if(nn[_t-Zt]===0&&oc(Hs,re[_t])){Ws=_t;break}Ws===void 0?At(Hs,Be,Ze,!0):(nn[Ws-Zt]=qe+1,Ws>=sn?sn=Ws:qs=!0,N(Hs,re[Ws],Pe,null,Be,Ze,ht,rt,ot),bs++)}const Is=qs?AP(nn):Kc;for(_t=Is.length-1,qe=Zs-1;qe>=0;qe--){const Hs=Zt+qe,Ws=re[Hs],Qn=Hs+1<mt?re[Hs+1].el:Qe;nn[qe]===0?N(null,Ws,Pe,Qn,Be,Ze,ht,rt,ot):qs&&(_t<0||qe!==Is[_t]?tt(Ws,Pe,Qn,2):_t--)}}},tt=(ne,re,Pe,Qe,Be=null)=>{const{el:Ze,type:ht,transition:rt,children:ot,shapeFlag:qe}=ne;if(qe&6){tt(ne.component.subTree,re,Pe,Qe);return}if(qe&128){ne.suspense.move(re,Pe,Qe);return}if(qe&64){ht.move(ne,re,Pe,vt);return}if(ht===Z){o(Ze,re,Pe);for(let Et=0;Et<ot.length;Et++)tt(ot[Et],re,Pe,Qe);o(ne.anchor,re,Pe);return}if(ht===qh){W(ne,re,Pe);return}if(Qe!==2&&qe&1&&rt)if(Qe===0)rt.beforeEnter(Ze),o(Ze,re,Pe),ao(()=>rt.enter(Ze),Be);else{const{leave:Et,delayLeave:Ne,afterLeave:Pt}=rt,Zt=()=>o(Ze,re,Pe),$e=()=>{Et(Ze,()=>{Zt(),Pt&&Pt()})};Ne?Ne(Ze,Zt,$e):$e()}else o(Ze,re,Pe)},At=(ne,re,Pe,Qe=!1,Be=!1)=>{const{type:Ze,props:ht,ref:rt,children:ot,dynamicChildren:qe,shapeFlag:mt,patchFlag:Et,dirs:Ne,memoIndex:Pt}=ne;if(rt!=null&&rg(rt,null,Pe,ne,!0),Pt!=null&&(re.renderCache[Pt]=void 0),mt&256){re.ctx.deactivate(ne);return}const Zt=mt&1&&Ne,$e=!Yu(ne);let _t;if($e&&(_t=ht&&ht.onVnodeBeforeUnmount)&&ar(_t,re,ne),mt&6)Ut(ne.component,Pe,Qe);else{if(mt&128){ne.suspense.unmount(Pe,Qe);return}Zt&&tc(ne,null,re,"beforeUnmount"),mt&64?ne.type.remove(ne,re,Pe,Be,vt,Qe):qe&&(Ze!==Z||Et>0&&Et&64)?qt(qe,re,Pe,!1,!0):(Ze===Z&&Et&384||!Be&&mt&16)&&qt(ot,re,Pe),Qe&&Ct(ne)}($e&&(_t=ht&&ht.onVnodeUnmounted)||Zt)&&ao(()=>{_t&&ar(_t,re,ne),Zt&&tc(ne,null,re,"unmounted")},Pe)},Ct=ne=>{const{type:re,el:Pe,anchor:Qe,transition:Be}=ne;if(re===Z){ls(Pe,Qe);return}if(re===qh){Q(ne);return}const Ze=()=>{i(Pe),Be&&!Be.persisted&&Be.afterLeave&&Be.afterLeave()};if(ne.shapeFlag&1&&Be&&!Be.persisted){const{leave:ht,delayLeave:rt}=Be,ot=()=>ht(Pe,Ze);rt?rt(ne.el,Ze,ot):ot()}else Ze()},ls=(ne,re)=>{let Pe;for(;ne!==re;)Pe=D(ne),i(ne),ne=Pe;i(re)},Ut=(ne,re,Pe)=>{const{bum:Qe,scope:Be,update:Ze,subTree:ht,um:rt,m:ot,a:qe}=ne;u_(ot),u_(qe),Qe&&Bh(Qe),Be.stop(),Ze&&(Ze.active=!1,At(ht,ne,re,Pe)),rt&&ao(rt,re),ao(()=>{ne.isUnmounted=!0},re),re&&re.pendingBranch&&!re.isUnmounted&&ne.asyncDep&&!ne.asyncResolved&&ne.suspenseId===re.pendingId&&(re.deps--,re.deps===0&&re.resolve())},qt=(ne,re,Pe,Qe=!1,Be=!1,Ze=0)=>{for(let ht=Ze;ht<ne.length;ht++)At(ne[ht],re,Pe,Qe,Be)},ce=ne=>ne.shapeFlag&6?ce(ne.component.subTree):ne.shapeFlag&128?ne.suspense.next():D(ne.anchor||ne.el);let xe=!1;const it=(ne,re,Pe)=>{ne==null?re._vnode&&At(re._vnode,null,null,!0):N(re._vnode||null,ne,re,null,null,null,Pe),xe||(xe=!0,Zw(),Nb(),xe=!1),re._vnode=ne},vt={p:N,um:At,m:tt,r:Ct,mt:de,mc:Ce,pc:wt,pbc:Ke,n:ce,o:e};let Gt,jt;return{render:it,hydrate:Gt,createApp:mP(it,Gt)}}function vp({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function sc({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function kP(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xb(e,t,s=!1){const o=e.children,i=t.children;if(ts(o)&&ts(i))for(let n=0;n<o.length;n++){const r=o[n];let f=i[n];f.shapeFlag&1&&!f.dynamicChildren&&((f.patchFlag<=0||f.patchFlag===32)&&(f=i[n]=wl(i[n]),f.el=r.el),!s&&f.patchFlag!==-2&&Xb(r,f)),f.type===Mf&&(f.el=r.el)}}function AP(e){const t=e.slice(),s=[0];let o,i,n,r,f;const m=e.length;for(o=0;o<m;o++){const v=e[o];if(v!==0){if(i=s[s.length-1],e[i]<v){t[o]=i,s.push(o);continue}for(n=0,r=s.length-1;n<r;)f=n+r>>1,e[s[f]]<v?n=f+1:r=f;v<e[s[n]]&&(n>0&&(t[o]=s[n-1]),s[n]=o)}}for(n=s.length,r=s[n-1];n-- >0;)s[n]=r,r=t[r];return s}function $b(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:$b(t)}function u_(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const CP=Symbol.for("v-scx"),SP=()=>co(CP);function xf(e,t){return nv(e,null,t)}const Sh={};function Us(e,t,s){return nv(e,t,s)}function nv(e,t,{immediate:s,deep:o,flush:i,once:n,onTrack:r,onTrigger:f}=vn){if(t&&n){const me=t;t=(...k)=>{me(...k),le()}}const m=wi,v=me=>o===!0?me:bl(me,o===!1?1:void 0);let g,A=!1,D=!1;if(ji(e)?(g=()=>e.value,A=Xh(e)):Gu(e)?(g=()=>v(e),A=!0):ts(e)?(D=!0,A=e.some(me=>Gu(me)||Xh(me)),g=()=>e.map(me=>{if(ji(me))return me.value;if(Gu(me))return v(me);if(Ds(me))return Al(me,m,2)})):Ds(e)?t?g=()=>Al(e,m,2):g=()=>(E&&E(),ua(e,m,3,[T])):g=la,t&&o){const me=g;g=()=>bl(me())}let E,T=me=>{E=W.onStop=()=>{Al(me,m,4),E=W.onStop=void 0}},N;if(Of)if(T=la,t?s&&ua(t,m,3,[g(),D?[]:void 0,T]):g(),i==="sync"){const me=SP();N=me.__watcherHandles||(me.__watcherHandles=[])}else return la;let F=D?new Array(e.length).fill(Sh):Sh;const R=()=>{if(!(!W.active||!W.dirty))if(t){const me=W.run();(o||A||(D?me.some((k,Ce)=>Cl(k,F[Ce])):Cl(me,F)))&&(E&&E(),ua(t,m,3,[me,F===Sh?void 0:D&&F[0]===Sh?[]:F,T]),F=me)}else W.run()};R.allowRecurse=!!t;let j;i==="sync"?j=R:i==="post"?j=()=>ao(R,m&&m.suspense):(R.pre=!0,m&&(R.id=m.uid),j=()=>Zg(R));const W=new zg(g,la,j),Q=hx(),le=()=>{W.stop(),Q&&qg(Q.effects,W)};return t?s?R():F=W.run():i==="post"?ao(W.run.bind(W),m&&m.suspense):W.run(),N&&N.push(le),le}function IP(e,t,s){const o=this.proxy,i=Wn(e)?e.includes(".")?Zb(o,e):()=>o[e]:e.bind(o,o);let n;Ds(t)?n=t:(n=t.handler,s=t);const r=bd(this),f=nv(i,n.bind(o),s);return r(),f}function Zb(e,t){const s=t.split(".");return()=>{let o=e;for(let i=0;i<s.length&&o;i++)o=o[s[i]];return o}}function bl(e,t=1/0,s){if(t<=0||!un(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ji(e))bl(e.value,t,s);else if(ts(e))for(let o=0;o<e.length;o++)bl(e[o],t,s);else if(uu(e)||Jc(e))e.forEach(o=>{bl(o,t,s)});else if(cb(e)){for(const o in e)bl(e[o],t,s);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&bl(e[o],t,s)}return e}const Pf=e=>e.type.__isKeepAlive;function ek(e,t){sk(e,"a",t)}function tk(e,t){sk(e,"da",t)}function sk(e,t,s=wi){const o=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Tf(t,o,s),s){let i=s.parent;for(;i&&i.parent;)Pf(i.parent.vnode)&&TP(o,t,s,i),i=i.parent}}function TP(e,t,s,o){const i=Tf(t,e,o,!0);Df(()=>{qg(o[t],i)},s)}const yl=Symbol("_leaveCb"),Ih=Symbol("_enterCb");function nk(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ol(()=>{e.isMounted=!0}),ev(()=>{e.isUnmounting=!0}),e}const oa=[Function,Array],ik={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oa,onEnter:oa,onAfterEnter:oa,onEnterCancelled:oa,onBeforeLeave:oa,onLeave:oa,onAfterLeave:oa,onLeaveCancelled:oa,onBeforeAppear:oa,onAppear:oa,onAfterAppear:oa,onAppearCancelled:oa},ok=e=>{const t=e.subTree;return t.component?ok(t.component):t},DP={name:"BaseTransition",props:ik,setup(e,{slots:t}){const s=ck(),o=nk();return()=>{const i=t.default&&iv(t.default(),!0);if(!i||!i.length)return;let n=i[0];if(i.length>1){for(const D of i)if(D.type!==lo){n=D;break}}const r=Js(e),{mode:f}=r;if(o.isLeaving)return yp(n);const m=d_(n);if(!m)return yp(n);let v=ad(m,r,o,s,D=>v=D);tu(m,v);const g=s.subTree,A=g&&d_(g);if(A&&A.type!==lo&&!oc(m,A)&&ok(s).type!==lo){const D=ad(A,r,o,s);if(tu(A,D),f==="out-in"&&m.type!==lo)return o.isLeaving=!0,D.afterLeave=()=>{o.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},yp(n);f==="in-out"&&m.type!==lo&&(D.delayLeave=(E,T,N)=>{const F=ak(o,A);F[String(A.key)]=A,E[yl]=()=>{T(),E[yl]=void 0,delete v.delayedLeave},v.delayedLeave=N})}return n}}},xP=DP;function ak(e,t){const{leavingVNodes:s}=e;let o=s.get(t.type);return o||(o=Object.create(null),s.set(t.type,o)),o}function ad(e,t,s,o,i){const{appear:n,mode:r,persisted:f=!1,onBeforeEnter:m,onEnter:v,onAfterEnter:g,onEnterCancelled:A,onBeforeLeave:D,onLeave:E,onAfterLeave:T,onLeaveCancelled:N,onBeforeAppear:F,onAppear:R,onAfterAppear:j,onAppearCancelled:W}=t,Q=String(e.key),le=ak(s,e),me=(he,Ke)=>{he&&ua(he,o,9,Ke)},k=(he,Ke)=>{const Te=Ke[1];me(he,Ke),ts(he)?he.every(Ve=>Ve.length<=1)&&Te():he.length<=1&&Te()},Ce={mode:r,persisted:f,beforeEnter(he){let Ke=m;if(!s.isMounted)if(n)Ke=F||m;else return;he[yl]&&he[yl](!0);const Te=le[Q];Te&&oc(e,Te)&&Te.el[yl]&&Te.el[yl](),me(Ke,[he])},enter(he){let Ke=v,Te=g,Ve=A;if(!s.isMounted)if(n)Ke=R||v,Te=j||g,Ve=W||A;else return;let ut=!1;const de=he[Ih]=We=>{ut||(ut=!0,We?me(Ve,[he]):me(Te,[he]),Ce.delayedLeave&&Ce.delayedLeave(),he[Ih]=void 0)};Ke?k(Ke,[he,de]):de()},leave(he,Ke){const Te=String(e.key);if(he[Ih]&&he[Ih](!0),s.isUnmounting)return Ke();me(D,[he]);let Ve=!1;const ut=he[yl]=de=>{Ve||(Ve=!0,Ke(),de?me(N,[he]):me(T,[he]),he[yl]=void 0,le[Te]===e&&delete le[Te])};le[Te]=e,E?k(E,[he,ut]):ut()},clone(he){const Ke=ad(he,t,s,o,i);return i&&i(Ke),Ke}};return Ce}function yp(e){if(Pf(e))return e=Sl(e),e.children=null,e}function d_(e){if(!Pf(e))return e;const{shapeFlag:t,children:s}=e;if(s){if(t&16)return s[0];if(t&32&&Ds(s.default))return s.default()}}function tu(e,t){e.shapeFlag&6&&e.component?tu(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function iv(e,t=!1,s){let o=[],i=0;for(let n=0;n<e.length;n++){let r=e[n];const f=s==null?r.key:String(s)+String(r.key!=null?r.key:n);r.type===Z?(r.patchFlag&128&&i++,o=o.concat(iv(r.children,t,f))):(t||r.type!==lo)&&o.push(f!=null?Sl(r,{key:f}):r)}if(i>1)for(let n=0;n<o.length;n++)o[n].patchFlag=-2;return o}const PP=e=>e.__isTeleport,Z=Symbol.for("v-fgt"),Mf=Symbol.for("v-txt"),lo=Symbol.for("v-cmt"),qh=Symbol.for("v-stc"),Ju=[];let Ra=null;function a(e=!1){Ju.push(Ra=e?null:[])}function MP(){Ju.pop(),Ra=Ju[Ju.length-1]||null}let rd=1;function h_(e){rd+=e}function rk(e){return e.dynamicChildren=rd>0?Ra||Kc:null,MP(),rd>0&&Ra&&Ra.push(e),e}function d(e,t,s,o,i,n){return rk(h(e,t,s,o,i,n,!0))}function S(e,t,s,o,i){return rk(b(e,t,s,o,i,!0))}function ef(e){return e?e.__v_isVNode===!0:!1}function oc(e,t){return e.type===t.type&&e.key===t.key}const lk=({key:e})=>e??null,Hh=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Wn(e)||ji(e)||Ds(e)?{i:ii,r:e,k:t,f:!!s}:e:null);function h(e,t=null,s=null,o=0,i=null,n=e===Z?0:1,r=!1,f=!1){const m={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lk(t),ref:t&&Hh(t),scopeId:If,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:o,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ii};return f?(ov(m,s),n&128&&e.normalize(m)):s&&(m.shapeFlag|=Wn(s)?8:16),rd>0&&!r&&Ra&&(m.patchFlag>0||n&6)&&m.patchFlag!==32&&Ra.push(m),m}const b=EP;function EP(e,t=null,s=null,o=0,i=null,n=!1){if((!e||e===$x)&&(e=lo),ef(e)){const f=Sl(e,t,!0);return s&&ov(f,s),rd>0&&!n&&Ra&&(f.shapeFlag&6?Ra[Ra.indexOf(e)]=f:Ra.push(f)),f.patchFlag=-2,f}if(HP(e)&&(e=e.__vccOpts),t){t=OP(t);let{class:f,style:m}=t;f&&!Wn(f)&&(t.class=we(f)),un(m)&&(Db(m)&&!ts(m)&&(m=jn({},m)),t.style=Pi(m))}const r=Wn(e)?1:eP(e)?128:PP(e)?64:un(e)?4:Ds(e)?2:0;return h(e,t,s,o,i,r,n,!0)}function OP(e){return e?Db(e)||zb(e)?jn({},e):e:null}function Sl(e,t,s=!1,o=!1){const{props:i,ref:n,patchFlag:r,children:f,transition:m}=e,v=t?RP(i||{},t):i,g={__v_isVNode:!0,__v_skip:!0,type:e.type,props:v,key:v&&lk(v),ref:t&&t.ref?s&&n?ts(n)?n.concat(Hh(t)):[n,Hh(t)]:Hh(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:f,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Z?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:m,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Sl(e.ssContent),ssFallback:e.ssFallback&&Sl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return m&&o&&tu(g,m.clone(g)),g}function Mt(e=" ",t=0){return b(Mf,null,e,t)}function Ef(e,t){const s=b(qh,null,e);return s.staticCount=t,s}function c(e="",t=!1){return t?(a(),S(lo,null,e)):b(lo,null,e)}function rr(e){return e==null||typeof e=="boolean"?b(lo):ts(e)?b(Z,null,e.slice()):typeof e=="object"?wl(e):b(Mf,null,String(e))}function wl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Sl(e)}function ov(e,t){let s=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(ts(t))s=16;else if(typeof t=="object")if(o&65){const i=t.default;i&&(i._c&&(i._d=!1),ov(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!zb(t)?t._ctx=ii:i===3&&ii&&(ii.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ds(t)?(t={default:t,_ctx:ii},s=32):(t=String(t),o&64?(s=16,t=[Mt(t)]):s=8);e.children=t,e.shapeFlag|=s}function RP(...e){const t={};for(let s=0;s<e.length;s++){const o=e[s];for(const i in o)if(i==="class")t.class!==o.class&&(t.class=we([t.class,o.class]));else if(i==="style")t.style=Pi([t.style,o.style]);else if(_f(i)){const n=t[i],r=o[i];r&&n!==r&&!(ts(n)&&n.includes(r))&&(t[i]=n?[].concat(n,r):r)}else i!==""&&(t[i]=o[i])}return t}function ar(e,t,s,o=null){ua(e,t,7,[s,o])}const NP=qb();let LP=0;function FP(e,t,s){const o=e.type,i=(t?t.appContext:e.appContext)||NP,n={uid:LP++,vnode:e,type:o,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new mb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yb(o,i),emitsOptions:Fb(o,i),emit:null,emitted:null,propsDefaults:vn,inheritAttrs:o.inheritAttrs,ctx:vn,data:vn,props:vn,attrs:vn,slots:vn,refs:vn,setupState:vn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=Gx.bind(null,n),e.ce&&e.ce(n),n}let wi=null;const ck=()=>wi||ii;let tf,lg;{const e=db(),t=(s,o)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(o),n=>{i.length>1?i.forEach(r=>r(n)):i[0](n)}};tf=t("__VUE_INSTANCE_SETTERS__",s=>wi=s),lg=t("__VUE_SSR_SETTERS__",s=>Of=s)}const bd=e=>{const t=wi;return tf(e),e.scope.on(),()=>{e.scope.off(),tf(t)}},f_=()=>{wi&&wi.scope.off(),tf(null)};function uk(e){return e.vnode.shapeFlag&4}let Of=!1;function UP(e,t=!1){t&&lg(t);const{props:s,children:o}=e.vnode,i=uk(e);pP(e,s,i,t),yP(e,o);const n=i?BP(e,t):void 0;return t&&lg(!1),n}function BP(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,rP);const{setup:o}=s;if(o){const i=e.setupContext=o.length>1?VP(e):null,n=bd(e);Ml();const r=Al(o,e,0,[e.props,i]);if(El(),n(),rb(r)){if(r.then(f_,f_),t)return r.then(f=>{m_(e,f,t)}).catch(f=>{Cf(f,e,0)});e.asyncDep=r}else m_(e,r,t)}else dk(e,t)}function m_(e,t,s){Ds(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:un(t)&&(e.setupState=Eb(t)),dk(e,s)}let p_;function dk(e,t,s){const o=e.type;if(!e.render){if(!t&&p_&&!o.render){const i=o.template||tv(e).template;if(i){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:f,compilerOptions:m}=o,v=jn(jn({isCustomElement:n,delimiters:f},r),m);o.render=p_(i,v)}}e.render=o.render||la}{const i=bd(e);Ml();try{lP(e)}finally{El(),i()}}}const jP={get(e,t){return fo(e,"get",""),e[t]}};function VP(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,jP),slots:e.slots,emit:e.emit,expose:t}}function Rf(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Eb(Ox(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Qu)return Qu[s](e)},has(t,s){return s in t||s in Qu}})):e.proxy}function qP(e,t=!0){return Ds(e)?e.displayName||e.name:e.name||t&&e.__name}function HP(e){return Ds(e)&&"__vccOpts"in e}const Wt=(e,t)=>Rx(e,t,Of);function kd(e,t,s){const o=arguments.length;return o===2?un(t)&&!ts(t)?ef(t)?b(e,null,[t]):b(e,t):b(e,null,t):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&ef(s)&&(s=[s]),b(e,t,s))}const WP="3.4.29";/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const zP="http://www.w3.org/2000/svg",GP="http://www.w3.org/1998/Math/MathML",Nr=typeof document<"u"?document:null,g_=Nr&&Nr.createElement("template"),YP={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,o)=>{const i=t==="svg"?Nr.createElementNS(zP,e):t==="mathml"?Nr.createElementNS(GP,e):s?Nr.createElement(e,{is:s}):Nr.createElement(e);return e==="select"&&o&&o.multiple!=null&&i.setAttribute("multiple",o.multiple),i},createText:e=>Nr.createTextNode(e),createComment:e=>Nr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Nr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,o,i,n){const r=s?s.previousSibling:t.lastChild;if(i&&(i===n||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===n||!(i=i.nextSibling)););else{g_.innerHTML=o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e;const f=g_.content;if(o==="svg"||o==="mathml"){const m=f.firstChild;for(;m.firstChild;)f.appendChild(m.firstChild);f.removeChild(m)}t.insertBefore(f,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ul="transition",Uu="animation",su=Symbol("_vtc"),No=(e,{slots:t})=>kd(xP,fk(e),t);No.displayName="Transition";const hk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QP=No.props=jn({},ik,hk),nc=(e,t=[])=>{ts(e)?e.forEach(s=>s(...t)):e&&e(...t)},v_=e=>e?ts(e)?e.some(t=>t.length>1):e.length>1:!1;function fk(e){const t={};for(const Ve in e)Ve in hk||(t[Ve]=e[Ve]);if(e.css===!1)return t;const{name:s="v",type:o,duration:i,enterFromClass:n=`${s}-enter-from`,enterActiveClass:r=`${s}-enter-active`,enterToClass:f=`${s}-enter-to`,appearFromClass:m=n,appearActiveClass:v=r,appearToClass:g=f,leaveFromClass:A=`${s}-leave-from`,leaveActiveClass:D=`${s}-leave-active`,leaveToClass:E=`${s}-leave-to`}=e,T=KP(i),N=T&&T[0],F=T&&T[1],{onBeforeEnter:R,onEnter:j,onEnterCancelled:W,onLeave:Q,onLeaveCancelled:le,onBeforeAppear:me=R,onAppear:k=j,onAppearCancelled:Ce=W}=t,he=(Ve,ut,de)=>{pl(Ve,ut?g:f),pl(Ve,ut?v:r),de&&de()},Ke=(Ve,ut)=>{Ve._isLeaving=!1,pl(Ve,A),pl(Ve,E),pl(Ve,D),ut&&ut()},Te=Ve=>(ut,de)=>{const We=Ve?k:j,Qt=()=>he(ut,Ve,de);nc(We,[ut,Qt]),y_(()=>{pl(ut,Ve?m:n),Rr(ut,Ve?g:f),v_(We)||w_(ut,o,N,Qt)})};return jn(t,{onBeforeEnter(Ve){nc(R,[Ve]),Rr(Ve,n),Rr(Ve,r)},onBeforeAppear(Ve){nc(me,[Ve]),Rr(Ve,m),Rr(Ve,v)},onEnter:Te(!1),onAppear:Te(!0),onLeave(Ve,ut){Ve._isLeaving=!0;const de=()=>Ke(Ve,ut);Rr(Ve,A),Rr(Ve,D),pk(),y_(()=>{Ve._isLeaving&&(pl(Ve,A),Rr(Ve,E),v_(Q)||w_(Ve,o,F,de))}),nc(Q,[Ve,de])},onEnterCancelled(Ve){he(Ve,!1),nc(W,[Ve])},onAppearCancelled(Ve){he(Ve,!0),nc(Ce,[Ve])},onLeaveCancelled(Ve){Ke(Ve),nc(le,[Ve])}})}function KP(e){if(e==null)return null;if(un(e))return[wp(e.enter),wp(e.leave)];{const t=wp(e);return[t,t]}}function wp(e){return sx(e)}function Rr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[su]||(e[su]=new Set)).add(t)}function pl(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const s=e[su];s&&(s.delete(t),s.size||(e[su]=void 0))}function y_(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let JP=0;function w_(e,t,s,o){const i=e._endId=++JP,n=()=>{i===e._endId&&o()};if(s)return setTimeout(n,s);const{type:r,timeout:f,propCount:m}=mk(e,t);if(!r)return o();const v=r+"end";let g=0;const A=()=>{e.removeEventListener(v,D),n()},D=E=>{E.target===e&&++g>=m&&A()};setTimeout(()=>{g<m&&A()},f+1),e.addEventListener(v,D)}function mk(e,t){const s=window.getComputedStyle(e),o=T=>(s[T]||"").split(", "),i=o(`${ul}Delay`),n=o(`${ul}Duration`),r=__(i,n),f=o(`${Uu}Delay`),m=o(`${Uu}Duration`),v=__(f,m);let g=null,A=0,D=0;t===ul?r>0&&(g=ul,A=r,D=n.length):t===Uu?v>0&&(g=Uu,A=v,D=m.length):(A=Math.max(r,v),g=A>0?r>v?ul:Uu:null,D=g?g===ul?n.length:m.length:0);const E=g===ul&&/\b(transform|all)(,|$)/.test(o(`${ul}Property`).toString());return{type:g,timeout:A,propCount:D,hasTransform:E}}function __(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,o)=>b_(s)+b_(e[o])))}function b_(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function pk(){return document.body.offsetHeight}function XP(e,t,s){const o=e[su];o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const sf=Symbol("_vod"),gk=Symbol("_vsh"),Fa={beforeMount(e,{value:t},{transition:s}){e[sf]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Bu(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:o}){!t!=!s&&(o?t?(o.beforeEnter(e),Bu(e,!0),o.enter(e)):o.leave(e,()=>{Bu(e,!1)}):Bu(e,t))},beforeUnmount(e,{value:t}){Bu(e,t)}};function Bu(e,t){e.style.display=t?e[sf]:"none",e[gk]=!t}const $P=Symbol(""),ZP=/(^|;)\s*display\s*:/;function eM(e,t,s){const o=e.style,i=Wn(s);let n=!1;if(s&&!i){if(t)if(Wn(t))for(const r of t.split(";")){const f=r.slice(0,r.indexOf(":")).trim();s[f]==null&&Wh(o,f,"")}else for(const r in t)s[r]==null&&Wh(o,r,"");for(const r in s)r==="display"&&(n=!0),Wh(o,r,s[r])}else if(i){if(t!==s){const r=o[$P];r&&(s+=";"+r),o.cssText=s,n=ZP.test(s)}}else t&&e.removeAttribute("style");sf in e&&(e[sf]=n?o.display:"",e[gk]&&(o.display="none"))}const k_=/\s*!important$/;function Wh(e,t,s){if(ts(s))s.forEach(o=>Wh(e,t,o));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const o=tM(e,t);k_.test(s)?e.setProperty(vc(o),s.replace(k_,""),"important"):e[o]=s}}const A_=["Webkit","Moz","ms"],_p={};function tM(e,t){const s=_p[t];if(s)return s;let o=ur(t);if(o!=="filter"&&o in e)return _p[t]=o;o=kf(o);for(let i=0;i<A_.length;i++){const n=A_[i]+o;if(n in e)return _p[t]=n}return t}const C_="http://www.w3.org/1999/xlink";function S_(e,t,s,o,i,n=lx(t)){o&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(C_,t.slice(6,t.length)):e.setAttributeNS(C_,t,s):s==null||n&&!hb(s)?e.removeAttribute(t):e.setAttribute(t,n?"":String(s))}function sM(e,t,s,o,i,n,r){if(t==="innerHTML"||t==="textContent"){o&&r(o,i,n),e[t]=s??"";return}const f=e.tagName;if(t==="value"&&f!=="PROGRESS"&&!f.includes("-")){const v=f==="OPTION"?e.getAttribute("value")||"":e.value,g=s==null?"":String(s);(v!==g||!("_value"in e))&&(e.value=g),s==null&&e.removeAttribute(t),e._value=s;return}let m=!1;if(s===""||s==null){const v=typeof e[t];v==="boolean"?s=hb(s):s==null&&v==="string"?(s="",m=!0):v==="number"&&(s=0,m=!0)}try{e[t]=s}catch{}m&&e.removeAttribute(t)}function Lr(e,t,s,o){e.addEventListener(t,s,o)}function nM(e,t,s,o){e.removeEventListener(t,s,o)}const I_=Symbol("_vei");function iM(e,t,s,o,i=null){const n=e[I_]||(e[I_]={}),r=n[t];if(o&&r)r.value=o;else{const[f,m]=oM(t);if(o){const v=n[t]=lM(o,i);Lr(e,f,v,m)}else r&&(nM(e,f,r,m),n[t]=void 0)}}const T_=/(?:Once|Passive|Capture)$/;function oM(e){let t;if(T_.test(e)){t={};let o;for(;o=e.match(T_);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):vc(e.slice(2)),t]}let bp=0;const aM=Promise.resolve(),rM=()=>bp||(aM.then(()=>bp=0),bp=Date.now());function lM(e,t){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;ua(cM(o,s.value),t,5,[o])};return s.value=e,s.attached=rM(),s}function cM(e,t){if(ts(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(o=>i=>!i._stopped&&o&&o(i))}else return t}const D_=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uM=(e,t,s,o,i,n,r,f,m)=>{const v=i==="svg";t==="class"?XP(e,o,v):t==="style"?eM(e,s,o):_f(t)?Vg(t)||iM(e,t,s,o,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dM(e,t,o,v))?(sM(e,t,o,n,r,f,m),(t==="value"||t==="checked"||t==="selected")&&S_(e,t,o,v,r,t!=="value")):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),S_(e,t,o,v))};function dM(e,t,s,o){if(o)return!!(t==="innerHTML"||t==="textContent"||t in e&&D_(t)&&Ds(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return D_(t)&&Wn(s)?!1:t in e}const vk=new WeakMap,yk=new WeakMap,nf=Symbol("_moveCb"),x_=Symbol("_enterCb"),wk={name:"TransitionGroup",props:jn({},QP,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=ck(),o=nk();let i,n;return Bb(()=>{if(!i.length)return;const r=e.moveClass||`${e.name||"v"}-move`;if(!gM(i[0].el,s.vnode.el,r))return;i.forEach(fM),i.forEach(mM);const f=i.filter(pM);pk(),f.forEach(m=>{const v=m.el,g=v.style;Rr(v,r),g.transform=g.webkitTransform=g.transitionDuration="";const A=v[nf]=D=>{D&&D.target!==v||(!D||/transform$/.test(D.propertyName))&&(v.removeEventListener("transitionend",A),v[nf]=null,pl(v,r))};v.addEventListener("transitionend",A)})}),()=>{const r=Js(e),f=fk(r);let m=r.tag||Z;if(i=[],n)for(let v=0;v<n.length;v++){const g=n[v];g.el&&g.el instanceof Element&&(i.push(g),tu(g,ad(g,f,o,s)),vk.set(g,g.el.getBoundingClientRect()))}n=t.default?iv(t.default()):[];for(let v=0;v<n.length;v++){const g=n[v];g.key!=null&&tu(g,ad(g,f,o,s))}return b(m,null,n)}}},hM=e=>delete e.mode;wk.props;const _k=wk;function fM(e){const t=e.el;t[nf]&&t[nf](),t[x_]&&t[x_]()}function mM(e){yk.set(e,e.el.getBoundingClientRect())}function pM(e){const t=vk.get(e),s=yk.get(e),o=t.left-s.left,i=t.top-s.top;if(o||i){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${o}px,${i}px)`,n.transitionDuration="0s",e}}function gM(e,t,s){const o=e.cloneNode(),i=e[su];i&&i.forEach(f=>{f.split(/\s+/).forEach(m=>m&&o.classList.remove(m))}),s.split(/\s+/).forEach(f=>f&&o.classList.add(f)),o.style.display="none";const n=t.nodeType===1?t:t.parentNode;n.appendChild(o);const{hasTransform:r}=mk(o);return n.removeChild(o),r}const Il=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ts(t)?s=>Bh(t,s):t};function vM(e){e.target.composing=!0}function P_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const da=Symbol("_assign"),yi={created(e,{modifiers:{lazy:t,trim:s,number:o}},i){e[da]=Il(i);const n=o||i.props&&i.props.type==="number";Lr(e,t?"change":"input",r=>{if(r.target.composing)return;let f=e.value;s&&(f=f.trim()),n&&(f=Kh(f)),e[da](f)}),s&&Lr(e,"change",()=>{e.value=e.value.trim()}),t||(Lr(e,"compositionstart",vM),Lr(e,"compositionend",P_),Lr(e,"change",P_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:o,trim:i,number:n}},r){if(e[da]=Il(r),e.composing)return;const f=(n||e.type==="number")&&!/^0\d/.test(e.value)?Kh(e.value):e.value,m=t??"";f!==m&&(document.activeElement===e&&e.type!=="range"&&(o&&t===s||i&&e.value.trim()===m)||(e.value=m))}},bk={deep:!0,created(e,t,s){e[da]=Il(s),Lr(e,"change",()=>{const o=e._modelValue,i=nu(e),n=e.checked,r=e[da];if(ts(o)){const f=Wg(o,i),m=f!==-1;if(n&&!m)r(o.concat(i));else if(!n&&m){const v=[...o];v.splice(f,1),r(v)}}else if(uu(o)){const f=new Set(o);n?f.add(i):f.delete(i),r(f)}else r(kk(e,n))})},mounted:M_,beforeUpdate(e,t,s){e[da]=Il(s),M_(e,t,s)}};function M_(e,{value:t,oldValue:s},o){e._modelValue=t,ts(t)?e.checked=Wg(t,o.props.value)>-1:uu(t)?e.checked=t.has(o.props.value):t!==s&&(e.checked=fc(t,kk(e,!0)))}const yM={created(e,{value:t},s){e.checked=fc(t,s.props.value),e[da]=Il(s),Lr(e,"change",()=>{e[da](nu(e))})},beforeUpdate(e,{value:t,oldValue:s},o){e[da]=Il(o),t!==s&&(e.checked=fc(t,o.props.value))}},wM={deep:!0,created(e,{value:t,modifiers:{number:s}},o){const i=uu(t);Lr(e,"change",()=>{const n=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Kh(nu(r)):nu(r));e[da](e.multiple?i?new Set(n):n:n[0]),e._assigning=!0,du(()=>{e._assigning=!1})}),e[da]=Il(o)},mounted(e,{value:t,modifiers:{number:s}}){E_(e,t)},beforeUpdate(e,t,s){e[da]=Il(s)},updated(e,{value:t,modifiers:{number:s}}){e._assigning||E_(e,t)}};function E_(e,t,s){const o=e.multiple,i=ts(t);if(!(o&&!i&&!uu(t))){for(let n=0,r=e.options.length;n<r;n++){const f=e.options[n],m=nu(f);if(o)if(i){const v=typeof m;v==="string"||v==="number"?f.selected=t.some(g=>String(g)===String(m)):f.selected=Wg(t,m)>-1}else f.selected=t.has(m);else if(fc(nu(f),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function nu(e){return"_value"in e?e._value:e.value}function kk(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const _M={created(e,t,s){Th(e,t,s,null,"created")},mounted(e,t,s){Th(e,t,s,null,"mounted")},beforeUpdate(e,t,s,o){Th(e,t,s,o,"beforeUpdate")},updated(e,t,s,o){Th(e,t,s,o,"updated")}};function bM(e,t){switch(e){case"SELECT":return wM;case"TEXTAREA":return yi;default:switch(t){case"checkbox":return bk;case"radio":return yM;default:return yi}}}function Th(e,t,s,o,i){const r=bM(e.tagName,s.props&&s.props.type)[i];r&&r(e,t,s,o)}const kM=["ctrl","shift","alt","meta"],AM={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kM.some(s=>e[`${s}Key`]&&!t.includes(s))},Vt=(e,t)=>{const s=e._withMods||(e._withMods={}),o=t.join(".");return s[o]||(s[o]=(i,...n)=>{for(let r=0;r<t.length;r++){const f=AM[t[r]];if(f&&f(i,t))return}return e(i,...n)})},CM={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},hu=(e,t)=>{const s=e._withKeys||(e._withKeys={}),o=t.join(".");return s[o]||(s[o]=i=>{if(!("key"in i))return;const n=vc(i.key);if(t.some(r=>r===n||CM[r]===n))return e(i)})},SM=jn({patchProp:uM},YP);let O_;function IM(){return O_||(O_=_P(SM))}const TM=(...e)=>{const t=IM().createApp(...e),{mount:s}=t;return t.mount=o=>{const i=xM(o);if(!i)return;const n=t._component;!Ds(n)&&!n.render&&!n.template&&(n.template=i.innerHTML),i.innerHTML="";const r=s(i,!1,DM(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function DM(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function xM(e){return Wn(e)?document.querySelector(e):e}function PM(){return Ak().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Ak(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const MM=typeof Proxy=="function",EM="devtools-plugin:setup",OM="plugin:settings:set";let Wc,cg;function RM(){var e;return Wc!==void 0||(typeof window<"u"&&window.performance?(Wc=!0,cg=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Wc=!0,cg=globalThis.perf_hooks.performance):Wc=!1),Wc}function NM(){return RM()?cg.now():Date.now()}class LM{constructor(t,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=s;const o={};if(t.settings)for(const r in t.settings){const f=t.settings[r];o[r]=f.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let n=Object.assign({},o);try{const r=localStorage.getItem(i),f=JSON.parse(r);Object.assign(n,f)}catch{}this.fallbacks={getSettings(){return n},setSettings(r){try{localStorage.setItem(i,JSON.stringify(r))}catch{}n=r},now(){return NM()}},s&&s.on(OM,(r,f)=>{r===this.plugin.id&&this.fallbacks.setSettings(f)}),this.proxiedOn=new Proxy({},{get:(r,f)=>this.target?this.target.on[f]:(...m)=>{this.onQueue.push({method:f,args:m})}}),this.proxiedTarget=new Proxy({},{get:(r,f)=>this.target?this.target[f]:f==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(f)?(...m)=>(this.targetQueue.push({method:f,args:m,resolve:()=>{}}),this.fallbacks[f](...m)):(...m)=>new Promise(v=>{this.targetQueue.push({method:f,args:m,resolve:v})})})}async setRealTarget(t){this.target=t;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function FM(e,t){const s=e,o=Ak(),i=PM(),n=MM&&s.enableEarlyProxy;if(i&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!n))i.emit(EM,e,t);else{const r=n?new LM(s,i):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:t,proxy:r}),r&&t(r.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var Ck="store";function _i(e){return e===void 0&&(e=null),co(e!==null?e:Ck)}function fu(e,t){Object.keys(e).forEach(function(s){return t(e[s],s)})}function Sk(e){return e!==null&&typeof e=="object"}function UM(e){return e&&typeof e.then=="function"}function BM(e,t){return function(){return e(t)}}function Ik(e,t,s){return t.indexOf(e)<0&&(s&&s.prepend?t.unshift(e):t.push(e)),function(){var o=t.indexOf(e);o>-1&&t.splice(o,1)}}function Tk(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var s=e.state;Nf(e,s,[],e._modules.root,!0),av(e,s,t)}function av(e,t,s){var o=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var n=e._wrappedGetters,r={},f={},m=ux(!0);m.run(function(){fu(n,function(v,g){r[g]=BM(v,e),f[g]=Wt(function(){return r[g]()}),Object.defineProperty(e.getters,g,{get:function(){return f[g].value},enumerable:!0})})}),e._state=wd({data:t}),e._scope=m,e.strict&&WM(e),o&&s&&e._withCommit(function(){o.data=null}),i&&i.stop()}function Nf(e,t,s,o,i){var n=!s.length,r=e._modules.getNamespace(s);if(o.namespaced&&(e._modulesNamespaceMap[r],e._modulesNamespaceMap[r]=o),!n&&!i){var f=rv(t,s.slice(0,-1)),m=s[s.length-1];e._withCommit(function(){f[m]=o.state})}var v=o.context=jM(e,r,s);o.forEachMutation(function(g,A){var D=r+A;VM(e,D,g,v)}),o.forEachAction(function(g,A){var D=g.root?A:r+A,E=g.handler||g;qM(e,D,E,v)}),o.forEachGetter(function(g,A){var D=r+A;HM(e,D,g,v)}),o.forEachChild(function(g,A){Nf(e,t,s.concat(A),g,i)})}function jM(e,t,s){var o=t==="",i={dispatch:o?e.dispatch:function(n,r,f){var m=of(n,r,f),v=m.payload,g=m.options,A=m.type;return(!g||!g.root)&&(A=t+A),e.dispatch(A,v)},commit:o?e.commit:function(n,r,f){var m=of(n,r,f),v=m.payload,g=m.options,A=m.type;(!g||!g.root)&&(A=t+A),e.commit(A,v,g)}};return Object.defineProperties(i,{getters:{get:o?function(){return e.getters}:function(){return Dk(e,t)}},state:{get:function(){return rv(e.state,s)}}}),i}function Dk(e,t){if(!e._makeLocalGettersCache[t]){var s={},o=t.length;Object.keys(e.getters).forEach(function(i){if(i.slice(0,o)===t){var n=i.slice(o);Object.defineProperty(s,n,{get:function(){return e.getters[i]},enumerable:!0})}}),e._makeLocalGettersCache[t]=s}return e._makeLocalGettersCache[t]}function VM(e,t,s,o){var i=e._mutations[t]||(e._mutations[t]=[]);i.push(function(r){s.call(e,o.state,r)})}function qM(e,t,s,o){var i=e._actions[t]||(e._actions[t]=[]);i.push(function(r){var f=s.call(e,{dispatch:o.dispatch,commit:o.commit,getters:o.getters,state:o.state,rootGetters:e.getters,rootState:e.state},r);return UM(f)||(f=Promise.resolve(f)),e._devtoolHook?f.catch(function(m){throw e._devtoolHook.emit("vuex:error",m),m}):f})}function HM(e,t,s,o){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(n){return s(o.state,o.getters,n.state,n.getters)})}function WM(e){Us(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function rv(e,t){return t.reduce(function(s,o){return s[o]},e)}function of(e,t,s){return Sk(e)&&e.type&&(s=t,t=e,e=e.type),{type:e,payload:t,options:s}}var zM="vuex bindings",R_="vuex:mutations",kp="vuex:actions",zc="vuex",GM=0;function YM(e,t){FM({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[zM]},function(s){s.addTimelineLayer({id:R_,label:"Vuex Mutations",color:N_}),s.addTimelineLayer({id:kp,label:"Vuex Actions",color:N_}),s.addInspector({id:zc,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),s.on.getInspectorTree(function(o){if(o.app===e&&o.inspectorId===zc)if(o.filter){var i=[];Ek(i,t._modules.root,o.filter,""),o.rootNodes=i}else o.rootNodes=[Mk(t._modules.root,"")]}),s.on.getInspectorState(function(o){if(o.app===e&&o.inspectorId===zc){var i=o.nodeId;Dk(t,i),o.state=JM($M(t._modules,i),i==="root"?t.getters:t._makeLocalGettersCache,i)}}),s.on.editInspectorState(function(o){if(o.app===e&&o.inspectorId===zc){var i=o.nodeId,n=o.path;i!=="root"&&(n=i.split("/").filter(Boolean).concat(n)),t._withCommit(function(){o.set(t._state.data,n,o.state.value)})}}),t.subscribe(function(o,i){var n={};o.payload&&(n.payload=o.payload),n.state=i,s.notifyComponentUpdate(),s.sendInspectorTree(zc),s.sendInspectorState(zc),s.addTimelineEvent({layerId:R_,event:{time:Date.now(),title:o.type,data:n}})}),t.subscribeAction({before:function(o,i){var n={};o.payload&&(n.payload=o.payload),o._id=GM++,o._time=Date.now(),n.state=i,s.addTimelineEvent({layerId:kp,event:{time:o._time,title:o.type,groupId:o._id,subtitle:"start",data:n}})},after:function(o,i){var n={},r=Date.now()-o._time;n.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},o.payload&&(n.payload=o.payload),n.state=i,s.addTimelineEvent({layerId:kp,event:{time:Date.now(),title:o.type,groupId:o._id,subtitle:"end",data:n}})}})})}var N_=8702998,QM=6710886,KM=16777215,xk={label:"namespaced",textColor:KM,backgroundColor:QM};function Pk(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Mk(e,t){return{id:t||"root",label:Pk(t),tags:e.namespaced?[xk]:[],children:Object.keys(e._children).map(function(s){return Mk(e._children[s],t+s+"/")})}}function Ek(e,t,s,o){o.includes(s)&&e.push({id:o||"root",label:o.endsWith("/")?o.slice(0,o.length-1):o||"Root",tags:t.namespaced?[xk]:[]}),Object.keys(t._children).forEach(function(i){Ek(e,t._children[i],s,o+i+"/")})}function JM(e,t,s){t=s==="root"?t:t[s];var o=Object.keys(t),i={state:Object.keys(e.state).map(function(r){return{key:r,editable:!0,value:e.state[r]}})};if(o.length){var n=XM(t);i.getters=Object.keys(n).map(function(r){return{key:r.endsWith("/")?Pk(r):r,editable:!1,value:ug(function(){return n[r]})}})}return i}function XM(e){var t={};return Object.keys(e).forEach(function(s){var o=s.split("/");if(o.length>1){var i=t,n=o.pop();o.forEach(function(r){i[r]||(i[r]={_custom:{value:{},display:r,tooltip:"Module",abstract:!0}}),i=i[r]._custom.value}),i[n]=ug(function(){return e[s]})}else t[s]=ug(function(){return e[s]})}),t}function $M(e,t){var s=t.split("/").filter(function(o){return o});return s.reduce(function(o,i,n){var r=o[i];if(!r)throw new Error('Missing module "'+i+'" for path "'+t+'".');return n===s.length-1?r:r._children},t==="root"?e:e.root._children)}function ug(e){try{return e()}catch(t){return t}}var Ba=function(t,s){this.runtime=s,this._children=Object.create(null),this._rawModule=t;var o=t.state;this.state=(typeof o=="function"?o():o)||{}},Ok={namespaced:{configurable:!0}};Ok.namespaced.get=function(){return!!this._rawModule.namespaced};Ba.prototype.addChild=function(t,s){this._children[t]=s};Ba.prototype.removeChild=function(t){delete this._children[t]};Ba.prototype.getChild=function(t){return this._children[t]};Ba.prototype.hasChild=function(t){return t in this._children};Ba.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Ba.prototype.forEachChild=function(t){fu(this._children,t)};Ba.prototype.forEachGetter=function(t){this._rawModule.getters&&fu(this._rawModule.getters,t)};Ba.prototype.forEachAction=function(t){this._rawModule.actions&&fu(this._rawModule.actions,t)};Ba.prototype.forEachMutation=function(t){this._rawModule.mutations&&fu(this._rawModule.mutations,t)};Object.defineProperties(Ba.prototype,Ok);var yc=function(t){this.register([],t,!1)};yc.prototype.get=function(t){return t.reduce(function(s,o){return s.getChild(o)},this.root)};yc.prototype.getNamespace=function(t){var s=this.root;return t.reduce(function(o,i){return s=s.getChild(i),o+(s.namespaced?i+"/":"")},"")};yc.prototype.update=function(t){Rk([],this.root,t)};yc.prototype.register=function(t,s,o){var i=this;o===void 0&&(o=!0);var n=new Ba(s,o);if(t.length===0)this.root=n;else{var r=this.get(t.slice(0,-1));r.addChild(t[t.length-1],n)}s.modules&&fu(s.modules,function(f,m){i.register(t.concat(m),f,o)})};yc.prototype.unregister=function(t){var s=this.get(t.slice(0,-1)),o=t[t.length-1],i=s.getChild(o);i&&i.runtime&&s.removeChild(o)};yc.prototype.isRegistered=function(t){var s=this.get(t.slice(0,-1)),o=t[t.length-1];return s?s.hasChild(o):!1};function Rk(e,t,s){if(t.update(s),s.modules)for(var o in s.modules){if(!t.getChild(o))return;Rk(e.concat(o),t.getChild(o),s.modules[o])}}function ZM(e){return new po(e)}var po=function(t){var s=this;t===void 0&&(t={});var o=t.plugins;o===void 0&&(o=[]);var i=t.strict;i===void 0&&(i=!1);var n=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new yc(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=n;var r=this,f=this,m=f.dispatch,v=f.commit;this.dispatch=function(D,E){return m.call(r,D,E)},this.commit=function(D,E,T){return v.call(r,D,E,T)},this.strict=i;var g=this._modules.root.state;Nf(this,g,[],this._modules.root),av(this,g),o.forEach(function(A){return A(s)})},lv={state:{configurable:!0}};po.prototype.install=function(t,s){t.provide(s||Ck,this),t.config.globalProperties.$store=this;var o=this._devtools!==void 0?this._devtools:!1;o&&YM(t,this)};lv.state.get=function(){return this._state.data};lv.state.set=function(e){};po.prototype.commit=function(t,s,o){var i=this,n=of(t,s,o),r=n.type,f=n.payload,m={type:r,payload:f},v=this._mutations[r];v&&(this._withCommit(function(){v.forEach(function(A){A(f)})}),this._subscribers.slice().forEach(function(g){return g(m,i.state)}))};po.prototype.dispatch=function(t,s){var o=this,i=of(t,s),n=i.type,r=i.payload,f={type:n,payload:r},m=this._actions[n];if(m){try{this._actionSubscribers.slice().filter(function(g){return g.before}).forEach(function(g){return g.before(f,o.state)})}catch{}var v=m.length>1?Promise.all(m.map(function(g){return g(r)})):m[0](r);return new Promise(function(g,A){v.then(function(D){try{o._actionSubscribers.filter(function(E){return E.after}).forEach(function(E){return E.after(f,o.state)})}catch{}g(D)},function(D){try{o._actionSubscribers.filter(function(E){return E.error}).forEach(function(E){return E.error(f,o.state,D)})}catch{}A(D)})})}};po.prototype.subscribe=function(t,s){return Ik(t,this._subscribers,s)};po.prototype.subscribeAction=function(t,s){var o=typeof t=="function"?{before:t}:t;return Ik(o,this._actionSubscribers,s)};po.prototype.watch=function(t,s,o){var i=this;return Us(function(){return t(i.state,i.getters)},s,Object.assign({},o))};po.prototype.replaceState=function(t){var s=this;this._withCommit(function(){s._state.data=t})};po.prototype.registerModule=function(t,s,o){o===void 0&&(o={}),typeof t=="string"&&(t=[t]),this._modules.register(t,s),Nf(this,this.state,t,this._modules.get(t),o.preserveState),av(this,this.state)};po.prototype.unregisterModule=function(t){var s=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var o=rv(s.state,t.slice(0,-1));delete o[t[t.length-1]]}),Tk(this)};po.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};po.prototype.hotUpdate=function(t){this._modules.update(t),Tk(this,!0)};po.prototype._withCommit=function(t){var s=this._committing;this._committing=!0,t(),this._committing=s};Object.defineProperties(po.prototype,lv);var os=Lk(function(e,t){var s={};return Nk(t).forEach(function(o){var i=o.key,n=o.val;n=e+n,s[i]=function(){if(!(e&&!Fk(this.$store,"mapGetters",e)))return this.$store.getters[n]},s[i].vuex=!0}),s}),ss=Lk(function(e,t){var s={};return Nk(t).forEach(function(o){var i=o.key,n=o.val;s[i]=function(){for(var f=[],m=arguments.length;m--;)f[m]=arguments[m];var v=this.$store.dispatch;if(e){var g=Fk(this.$store,"mapActions",e);if(!g)return;v=g.context.dispatch}return typeof n=="function"?n.apply(this,[v].concat(f)):v.apply(this.$store,[n].concat(f))}}),s});function Nk(e){return eE(e)?Array.isArray(e)?e.map(function(t){return{key:t,val:t}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}}):[]}function eE(e){return Array.isArray(e)||Sk(e)}function Lk(e){return function(t,s){return typeof t!="string"?(s=t,t=""):t.charAt(t.length-1)!=="/"&&(t+="/"),e(t,s)}}function Fk(e,t,s){var o=e._modulesNamespaceMap[s];return o}const tE={__name:"App",setup(e){const t=_i();Ub(()=>{s()});async function s(){t.getters.getUser||await t.dispatch("reloadUser")}return(o,i)=>{const n=_("router-view"),r=_("user-addons");return a(),d(Z,null,[b(n),b(r)],64)}}};/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Gc=typeof document<"u";function sE(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const on=Object.assign;function Ap(e,t){const s={};for(const o in t){const i=t[o];s[o]=Ua(i)?i.map(e):e(i)}return s}const Xu=()=>{},Ua=Array.isArray,Uk=/#/g,nE=/&/g,iE=/\//g,oE=/=/g,aE=/\?/g,Bk=/\+/g,rE=/%5B/g,lE=/%5D/g,jk=/%5E/g,cE=/%60/g,Vk=/%7B/g,uE=/%7C/g,qk=/%7D/g,dE=/%20/g;function cv(e){return encodeURI(""+e).replace(uE,"|").replace(rE,"[").replace(lE,"]")}function hE(e){return cv(e).replace(Vk,"{").replace(qk,"}").replace(jk,"^")}function dg(e){return cv(e).replace(Bk,"%2B").replace(dE,"+").replace(Uk,"%23").replace(nE,"%26").replace(cE,"`").replace(Vk,"{").replace(qk,"}").replace(jk,"^")}function fE(e){return dg(e).replace(oE,"%3D")}function mE(e){return cv(e).replace(Uk,"%23").replace(aE,"%3F")}function pE(e){return e==null?"":mE(e).replace(iE,"%2F")}function ld(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const gE=/\/$/,vE=e=>e.replace(gE,"");function Cp(e,t,s="/"){let o,i={},n="",r="";const f=t.indexOf("#");let m=t.indexOf("?");return f<m&&f>=0&&(m=-1),m>-1&&(o=t.slice(0,m),n=t.slice(m+1,f>-1?f:t.length),i=e(n)),f>-1&&(o=o||t.slice(0,f),r=t.slice(f,t.length)),o=bE(o??t,s),{fullPath:o+(n&&"?")+n+r,path:o,query:i,hash:ld(r)}}function yE(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function L_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function wE(e,t,s){const o=t.matched.length-1,i=s.matched.length-1;return o>-1&&o===i&&iu(t.matched[o],s.matched[i])&&Hk(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function iu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Hk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!_E(e[s],t[s]))return!1;return!0}function _E(e,t){return Ua(e)?F_(e,t):Ua(t)?F_(t,e):e===t}function F_(e,t){return Ua(t)?e.length===t.length&&e.every((s,o)=>s===t[o]):e.length===1&&e[0]===t}function bE(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),o=e.split("/"),i=o[o.length-1];(i===".."||i===".")&&o.push("");let n=s.length-1,r,f;for(r=0;r<o.length;r++)if(f=o[r],f!==".")if(f==="..")n>1&&n--;else break;return s.slice(0,n).join("/")+"/"+o.slice(r).join("/")}var cd;(function(e){e.pop="pop",e.push="push"})(cd||(cd={}));var $u;(function(e){e.back="back",e.forward="forward",e.unknown=""})($u||($u={}));function kE(e){if(!e)if(Gc){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),vE(e)}const AE=/^[^#]+#/;function CE(e,t){return e.replace(AE,"#")+t}function SE(e,t){const s=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:t.behavior,left:o.left-s.left-(t.left||0),top:o.top-s.top-(t.top||0)}}const Lf=()=>({left:window.scrollX,top:window.scrollY});function IE(e){let t;if("el"in e){const s=e.el,o=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=SE(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function U_(e,t){return(history.state?history.state.position-t:-1)+e}const hg=new Map;function TE(e,t){hg.set(e,t)}function DE(e){const t=hg.get(e);return hg.delete(e),t}let xE=()=>location.protocol+"//"+location.host;function Wk(e,t){const{pathname:s,search:o,hash:i}=t,n=e.indexOf("#");if(n>-1){let f=i.includes(e.slice(n))?e.slice(n).length:1,m=i.slice(f);return m[0]!=="/"&&(m="/"+m),L_(m,"")}return L_(s,e)+o+i}function PE(e,t,s,o){let i=[],n=[],r=null;const f=({state:D})=>{const E=Wk(e,location),T=s.value,N=t.value;let F=0;if(D){if(s.value=E,t.value=D,r&&r===T){r=null;return}F=N?D.position-N.position:0}else o(E);i.forEach(R=>{R(s.value,T,{delta:F,type:cd.pop,direction:F?F>0?$u.forward:$u.back:$u.unknown})})};function m(){r=s.value}function v(D){i.push(D);const E=()=>{const T=i.indexOf(D);T>-1&&i.splice(T,1)};return n.push(E),E}function g(){const{history:D}=window;D.state&&D.replaceState(on({},D.state,{scroll:Lf()}),"")}function A(){for(const D of n)D();n=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:m,listen:v,destroy:A}}function B_(e,t,s,o=!1,i=!1){return{back:e,current:t,forward:s,replaced:o,position:window.history.length,scroll:i?Lf():null}}function ME(e){const{history:t,location:s}=window,o={value:Wk(e,s)},i={value:t.state};i.value||n(o.value,{back:null,current:o.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(m,v,g){const A=e.indexOf("#"),D=A>-1?(s.host&&document.querySelector("base")?e:e.slice(A))+m:xE()+e+m;try{t[g?"replaceState":"pushState"](v,"",D),i.value=v}catch(E){console.error(E),s[g?"replace":"assign"](D)}}function r(m,v){const g=on({},t.state,B_(i.value.back,m,i.value.forward,!0),v,{position:i.value.position});n(m,g,!0),o.value=m}function f(m,v){const g=on({},i.value,t.state,{forward:m,scroll:Lf()});n(g.current,g,!0);const A=on({},B_(o.value,m,null),{position:g.position+1},v);n(m,A,!1),o.value=m}return{location:o,state:i,push:f,replace:r}}function EE(e){e=kE(e);const t=ME(e),s=PE(e,t.state,t.location,t.replace);function o(n,r=!0){r||s.pauseListeners(),history.go(n)}const i=on({location:"",base:e,go:o,createHref:CE.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function OE(e){return typeof e=="string"||e&&typeof e=="object"}function zk(e){return typeof e=="string"||typeof e=="symbol"}const dl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Gk=Symbol("");var j_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(j_||(j_={}));function ou(e,t){return on(new Error,{type:e,[Gk]:!0},t)}function Or(e,t){return e instanceof Error&&Gk in e&&(t==null||!!(e.type&t))}const V_="[^/]+?",RE={sensitive:!1,strict:!1,start:!0,end:!0},NE=/[.+*?^${}()[\]/\\]/g;function LE(e,t){const s=on({},RE,t),o=[];let i=s.start?"^":"";const n=[];for(const v of e){const g=v.length?[]:[90];s.strict&&!v.length&&(i+="/");for(let A=0;A<v.length;A++){const D=v[A];let E=40+(s.sensitive?.25:0);if(D.type===0)A||(i+="/"),i+=D.value.replace(NE,"\\$&"),E+=40;else if(D.type===1){const{value:T,repeatable:N,optional:F,regexp:R}=D;n.push({name:T,repeatable:N,optional:F});const j=R||V_;if(j!==V_){E+=10;try{new RegExp(`(${j})`)}catch(Q){throw new Error(`Invalid custom RegExp for param "${T}" (${j}): `+Q.message)}}let W=N?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;A||(W=F&&v.length<2?`(?:/${W})`:"/"+W),F&&(W+="?"),i+=W,E+=20,F&&(E+=-8),N&&(E+=-20),j===".*"&&(E+=-50)}g.push(E)}o.push(g)}if(s.strict&&s.end){const v=o.length-1;o[v][o[v].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function f(v){const g=v.match(r),A={};if(!g)return null;for(let D=1;D<g.length;D++){const E=g[D]||"",T=n[D-1];A[T.name]=E&&T.repeatable?E.split("/"):E}return A}function m(v){let g="",A=!1;for(const D of e){(!A||!g.endsWith("/"))&&(g+="/"),A=!1;for(const E of D)if(E.type===0)g+=E.value;else if(E.type===1){const{value:T,repeatable:N,optional:F}=E,R=T in v?v[T]:"";if(Ua(R)&&!N)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const j=Ua(R)?R.join("/"):R;if(!j)if(F)D.length<2&&(g.endsWith("/")?g=g.slice(0,-1):A=!0);else throw new Error(`Missing required param "${T}"`);g+=j}}return g||"/"}return{re:r,score:o,keys:n,parse:f,stringify:m}}function FE(e,t){let s=0;for(;s<e.length&&s<t.length;){const o=t[s]-e[s];if(o)return o;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Yk(e,t){let s=0;const o=e.score,i=t.score;for(;s<o.length&&s<i.length;){const n=FE(o[s],i[s]);if(n)return n;s++}if(Math.abs(i.length-o.length)===1){if(q_(o))return 1;if(q_(i))return-1}return i.length-o.length}function q_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const UE={type:0,value:""},BE=/[a-zA-Z0-9_]/;function jE(e){if(!e)return[[]];if(e==="/")return[[UE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(E){throw new Error(`ERR (${s})/"${v}": ${E}`)}let s=0,o=s;const i=[];let n;function r(){n&&i.push(n),n=[]}let f=0,m,v="",g="";function A(){v&&(s===0?n.push({type:0,value:v}):s===1||s===2||s===3?(n.length>1&&(m==="*"||m==="+")&&t(`A repeatable param (${v}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:v,regexp:g,repeatable:m==="*"||m==="+",optional:m==="*"||m==="?"})):t("Invalid state to consume buffer"),v="")}function D(){v+=m}for(;f<e.length;){if(m=e[f++],m==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:m==="/"?(v&&A(),r()):m===":"?(A(),s=1):D();break;case 4:D(),s=o;break;case 1:m==="("?s=2:BE.test(m)?D():(A(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&f--);break;case 2:m===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+m:s=3:g+=m;break;case 3:A(),s=0,m!=="*"&&m!=="?"&&m!=="+"&&f--,g="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${v}"`),A(),r(),i}function VE(e,t,s){const o=LE(jE(e.path),s),i=on(o,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function qE(e,t){const s=[],o=new Map;t=z_({strict:!1,end:!0,sensitive:!1},t);function i(g){return o.get(g)}function n(g,A,D){const E=!D,T=HE(g);T.aliasOf=D&&D.record;const N=z_(t,g),F=[T];if("alias"in g){const W=typeof g.alias=="string"?[g.alias]:g.alias;for(const Q of W)F.push(on({},T,{components:D?D.record.components:T.components,path:Q,aliasOf:D?D.record:T}))}let R,j;for(const W of F){const{path:Q}=W;if(A&&Q[0]!=="/"){const le=A.record.path,me=le[le.length-1]==="/"?"":"/";W.path=A.record.path+(Q&&me+Q)}if(R=VE(W,A,N),D?D.alias.push(R):(j=j||R,j!==R&&j.alias.push(R),E&&g.name&&!W_(R)&&r(g.name)),Qk(R)&&m(R),T.children){const le=T.children;for(let me=0;me<le.length;me++)n(le[me],R,D&&D.children[me])}D=D||R}return j?()=>{r(j)}:Xu}function r(g){if(zk(g)){const A=o.get(g);A&&(o.delete(g),s.splice(s.indexOf(A),1),A.children.forEach(r),A.alias.forEach(r))}else{const A=s.indexOf(g);A>-1&&(s.splice(A,1),g.record.name&&o.delete(g.record.name),g.children.forEach(r),g.alias.forEach(r))}}function f(){return s}function m(g){const A=GE(g,s);s.splice(A,0,g),g.record.name&&!W_(g)&&o.set(g.record.name,g)}function v(g,A){let D,E={},T,N;if("name"in g&&g.name){if(D=o.get(g.name),!D)throw ou(1,{location:g});N=D.record.name,E=on(H_(A.params,D.keys.filter(j=>!j.optional).concat(D.parent?D.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),g.params&&H_(g.params,D.keys.map(j=>j.name))),T=D.stringify(E)}else if(g.path!=null)T=g.path,D=s.find(j=>j.re.test(T)),D&&(E=D.parse(T),N=D.record.name);else{if(D=A.name?o.get(A.name):s.find(j=>j.re.test(A.path)),!D)throw ou(1,{location:g,currentLocation:A});N=D.record.name,E=on({},A.params,g.params),T=D.stringify(E)}const F=[];let R=D;for(;R;)F.unshift(R.record),R=R.parent;return{name:N,path:T,params:E,matched:F,meta:zE(F)}}return e.forEach(g=>n(g)),{addRoute:n,resolve:v,removeRoute:r,getRoutes:f,getRecordMatcher:i}}function H_(e,t){const s={};for(const o of t)o in e&&(s[o]=e[o]);return s}function HE(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:WE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function WE(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const o in e.components)t[o]=typeof s=="object"?s[o]:s;return t}function W_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function zE(e){return e.reduce((t,s)=>on(t,s.meta),{})}function z_(e,t){const s={};for(const o in e)s[o]=o in t?t[o]:e[o];return s}function GE(e,t){let s=0,o=t.length;for(;s!==o;){const n=s+o>>1;Yk(e,t[n])<0?o=n:s=n+1}const i=YE(e);return i&&(o=t.lastIndexOf(i,o-1)),o}function YE(e){let t=e;for(;t=t.parent;)if(Qk(t)&&Yk(e,t)===0)return t}function Qk({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function QE(e){const t={};if(e===""||e==="?")return t;const o=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<o.length;++i){const n=o[i].replace(Bk," "),r=n.indexOf("="),f=ld(r<0?n:n.slice(0,r)),m=r<0?null:ld(n.slice(r+1));if(f in t){let v=t[f];Ua(v)||(v=t[f]=[v]),v.push(m)}else t[f]=m}return t}function G_(e){let t="";for(let s in e){const o=e[s];if(s=fE(s),o==null){o!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ua(o)?o.map(n=>n&&dg(n)):[o&&dg(o)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+s,n!=null&&(t+="="+n))})}return t}function KE(e){const t={};for(const s in e){const o=e[s];o!==void 0&&(t[s]=Ua(o)?o.map(i=>i==null?null:""+i):o==null?o:""+o)}return t}const uv=Symbol(""),Y_=Symbol(""),Ff=Symbol(""),dv=Symbol(""),fg=Symbol("");function ju(){let e=[];function t(o){return e.push(o),()=>{const i=e.indexOf(o);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Kk(e,t,s){const o=()=>{e[t].delete(s)};Df(o),tk(o),ek(()=>{e[t].add(s)}),e[t].add(s)}function JE(e){const t=co(uv,{}).value;t&&Kk(t,"leaveGuards",e)}function XE(e){const t=co(uv,{}).value;t&&Kk(t,"updateGuards",e)}function _l(e,t,s,o,i,n=r=>r()){const r=o&&(o.enterCallbacks[i]=o.enterCallbacks[i]||[]);return()=>new Promise((f,m)=>{const v=D=>{D===!1?m(ou(4,{from:s,to:t})):D instanceof Error?m(D):OE(D)?m(ou(2,{from:t,to:D})):(r&&o.enterCallbacks[i]===r&&typeof D=="function"&&r.push(D),f())},g=n(()=>e.call(o&&o.instances[i],t,s,v));let A=Promise.resolve(g);e.length<3&&(A=A.then(v)),A.catch(D=>m(D))})}function Sp(e,t,s,o,i=n=>n()){const n=[];for(const r of e)for(const f in r.components){let m=r.components[f];if(!(t!=="beforeRouteEnter"&&!r.instances[f]))if($E(m)){const g=(m.__vccOpts||m)[t];g&&n.push(_l(g,s,o,r,f,i))}else{let v=m();n.push(()=>v.then(g=>{if(!g)return Promise.reject(new Error(`Couldn't resolve component "${f}" at "${r.path}"`));const A=sE(g)?g.default:g;r.components[f]=A;const E=(A.__vccOpts||A)[t];return E&&_l(E,s,o,r,f,i)()}))}}return n}function $E(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Q_(e){const t=co(Ff),s=co(dv),o=Wt(()=>{const m=es(e.to);return t.resolve(m)}),i=Wt(()=>{const{matched:m}=o.value,{length:v}=m,g=m[v-1],A=s.matched;if(!g||!A.length)return-1;const D=A.findIndex(iu.bind(null,g));if(D>-1)return D;const E=K_(m[v-2]);return v>1&&K_(g)===E&&A[A.length-1].path!==E?A.findIndex(iu.bind(null,m[v-2])):D}),n=Wt(()=>i.value>-1&&s8(s.params,o.value.params)),r=Wt(()=>i.value>-1&&i.value===s.matched.length-1&&Hk(s.params,o.value.params));function f(m={}){return t8(m)?t[es(e.replace)?"replace":"push"](es(e.to)).catch(Xu):Promise.resolve()}return{route:o,href:Wt(()=>o.value.href),isActive:n,isExactActive:r,navigate:f}}const ZE=_d({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Q_,setup(e,{slots:t}){const s=wd(Q_(e)),{options:o}=co(Ff),i=Wt(()=>({[J_(e.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[J_(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const n=t.default&&t.default(s);return e.custom?n:kd("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},n)}}}),e8=ZE;function t8(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function s8(e,t){for(const s in t){const o=t[s],i=e[s];if(typeof o=="string"){if(o!==i)return!1}else if(!Ua(i)||i.length!==o.length||o.some((n,r)=>n!==i[r]))return!1}return!0}function K_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const J_=(e,t,s)=>e??t??s,n8=_d({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const o=co(fg),i=Wt(()=>e.route||o.value),n=co(Y_,0),r=Wt(()=>{let v=es(n);const{matched:g}=i.value;let A;for(;(A=g[v])&&!A.components;)v++;return v}),f=Wt(()=>i.value.matched[r.value]);Vh(Y_,Wt(()=>r.value+1)),Vh(uv,f),Vh(fg,i);const m=at();return Us(()=>[m.value,f.value,e.name],([v,g,A],[D,E,T])=>{g&&(g.instances[A]=v,E&&E!==g&&v&&v===D&&(g.leaveGuards.size||(g.leaveGuards=E.leaveGuards),g.updateGuards.size||(g.updateGuards=E.updateGuards))),v&&g&&(!E||!iu(g,E)||!D)&&(g.enterCallbacks[A]||[]).forEach(N=>N(v))},{flush:"post"}),()=>{const v=i.value,g=e.name,A=f.value,D=A&&A.components[g];if(!D)return X_(s.default,{Component:D,route:v});const E=A.props[g],T=E?E===!0?v.params:typeof E=="function"?E(v):E:null,F=kd(D,on({},T,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(A.instances[g]=null)},ref:m}));return X_(s.default,{Component:F,route:v})||F}}});function X_(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const i8=n8;function o8(e){const t=qE(e.routes,e),s=e.parseQuery||QE,o=e.stringifyQuery||G_,i=e.history,n=ju(),r=ju(),f=ju(),m=Nx(dl);let v=dl;Gc&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=Ap.bind(null,ce=>""+ce),A=Ap.bind(null,pE),D=Ap.bind(null,ld);function E(ce,xe){let it,vt;return zk(ce)?(it=t.getRecordMatcher(ce),vt=xe):vt=ce,t.addRoute(vt,it)}function T(ce){const xe=t.getRecordMatcher(ce);xe&&t.removeRoute(xe)}function N(){return t.getRoutes().map(ce=>ce.record)}function F(ce){return!!t.getRecordMatcher(ce)}function R(ce,xe){if(xe=on({},xe||m.value),typeof ce=="string"){const re=Cp(s,ce,xe.path),Pe=t.resolve({path:re.path},xe),Qe=i.createHref(re.fullPath);return on(re,Pe,{params:D(Pe.params),hash:ld(re.hash),redirectedFrom:void 0,href:Qe})}let it;if(ce.path!=null)it=on({},ce,{path:Cp(s,ce.path,xe.path).path});else{const re=on({},ce.params);for(const Pe in re)re[Pe]==null&&delete re[Pe];it=on({},ce,{params:A(re)}),xe.params=A(xe.params)}const vt=t.resolve(it,xe),Gt=ce.hash||"";vt.params=g(D(vt.params));const jt=yE(o,on({},ce,{hash:hE(Gt),path:vt.path})),ne=i.createHref(jt);return on({fullPath:jt,hash:Gt,query:o===G_?KE(ce.query):ce.query||{}},vt,{redirectedFrom:void 0,href:ne})}function j(ce){return typeof ce=="string"?Cp(s,ce,m.value.path):on({},ce)}function W(ce,xe){if(v!==ce)return ou(8,{from:xe,to:ce})}function Q(ce){return k(ce)}function le(ce){return Q(on(j(ce),{replace:!0}))}function me(ce){const xe=ce.matched[ce.matched.length-1];if(xe&&xe.redirect){const{redirect:it}=xe;let vt=typeof it=="function"?it(ce):it;return typeof vt=="string"&&(vt=vt.includes("?")||vt.includes("#")?vt=j(vt):{path:vt},vt.params={}),on({query:ce.query,hash:ce.hash,params:vt.path!=null?{}:ce.params},vt)}}function k(ce,xe){const it=v=R(ce),vt=m.value,Gt=ce.state,jt=ce.force,ne=ce.replace===!0,re=me(it);if(re)return k(on(j(re),{state:typeof re=="object"?on({},Gt,re.state):Gt,force:jt,replace:ne}),xe||it);const Pe=it;Pe.redirectedFrom=xe;let Qe;return!jt&&wE(o,vt,it)&&(Qe=ou(16,{to:Pe,from:vt}),tt(vt,vt,!0,!1)),(Qe?Promise.resolve(Qe):Ke(Pe,vt)).catch(Be=>Or(Be)?Or(Be,2)?Be:Xe(Be):wt(Be,Pe,vt)).then(Be=>{if(Be){if(Or(Be,2))return k(on({replace:ne},j(Be.to),{state:typeof Be.to=="object"?on({},Gt,Be.to.state):Gt,force:jt}),xe||Pe)}else Be=Ve(Pe,vt,!0,ne,Gt);return Te(Pe,vt,Be),Be})}function Ce(ce,xe){const it=W(ce,xe);return it?Promise.reject(it):Promise.resolve()}function he(ce){const xe=ls.values().next().value;return xe&&typeof xe.runWithContext=="function"?xe.runWithContext(ce):ce()}function Ke(ce,xe){let it;const[vt,Gt,jt]=a8(ce,xe);it=Sp(vt.reverse(),"beforeRouteLeave",ce,xe);for(const re of vt)re.leaveGuards.forEach(Pe=>{it.push(_l(Pe,ce,xe))});const ne=Ce.bind(null,ce,xe);return it.push(ne),qt(it).then(()=>{it=[];for(const re of n.list())it.push(_l(re,ce,xe));return it.push(ne),qt(it)}).then(()=>{it=Sp(Gt,"beforeRouteUpdate",ce,xe);for(const re of Gt)re.updateGuards.forEach(Pe=>{it.push(_l(Pe,ce,xe))});return it.push(ne),qt(it)}).then(()=>{it=[];for(const re of jt)if(re.beforeEnter)if(Ua(re.beforeEnter))for(const Pe of re.beforeEnter)it.push(_l(Pe,ce,xe));else it.push(_l(re.beforeEnter,ce,xe));return it.push(ne),qt(it)}).then(()=>(ce.matched.forEach(re=>re.enterCallbacks={}),it=Sp(jt,"beforeRouteEnter",ce,xe,he),it.push(ne),qt(it))).then(()=>{it=[];for(const re of r.list())it.push(_l(re,ce,xe));return it.push(ne),qt(it)}).catch(re=>Or(re,8)?re:Promise.reject(re))}function Te(ce,xe,it){f.list().forEach(vt=>he(()=>vt(ce,xe,it)))}function Ve(ce,xe,it,vt,Gt){const jt=W(ce,xe);if(jt)return jt;const ne=xe===dl,re=Gc?history.state:{};it&&(vt||ne?i.replace(ce.fullPath,on({scroll:ne&&re&&re.scroll},Gt)):i.push(ce.fullPath,Gt)),m.value=ce,tt(ce,xe,it,ne),Xe()}let ut;function de(){ut||(ut=i.listen((ce,xe,it)=>{if(!Ut.listening)return;const vt=R(ce),Gt=me(vt);if(Gt){k(on(Gt,{replace:!0}),vt).catch(Xu);return}v=vt;const jt=m.value;Gc&&TE(U_(jt.fullPath,it.delta),Lf()),Ke(vt,jt).catch(ne=>Or(ne,12)?ne:Or(ne,2)?(k(ne.to,vt).then(re=>{Or(re,20)&&!it.delta&&it.type===cd.pop&&i.go(-1,!1)}).catch(Xu),Promise.reject()):(it.delta&&i.go(-it.delta,!1),wt(ne,vt,jt))).then(ne=>{ne=ne||Ve(vt,jt,!1),ne&&(it.delta&&!Or(ne,8)?i.go(-it.delta,!1):it.type===cd.pop&&Or(ne,20)&&i.go(-1,!1)),Te(vt,jt,ne)}).catch(Xu)}))}let We=ju(),Qt=ju(),Lt;function wt(ce,xe,it){Xe(ce);const vt=Qt.list();return vt.length?vt.forEach(Gt=>Gt(ce,xe,it)):console.error(ce),Promise.reject(ce)}function Je(){return Lt&&m.value!==dl?Promise.resolve():new Promise((ce,xe)=>{We.add([ce,xe])})}function Xe(ce){return Lt||(Lt=!ce,de(),We.list().forEach(([xe,it])=>ce?it(ce):xe()),We.reset()),ce}function tt(ce,xe,it,vt){const{scrollBehavior:Gt}=e;if(!Gc||!Gt)return Promise.resolve();const jt=!it&&DE(U_(ce.fullPath,0))||(vt||!it)&&history.state&&history.state.scroll||null;return du().then(()=>Gt(ce,xe,jt)).then(ne=>ne&&IE(ne)).catch(ne=>wt(ne,ce,xe))}const At=ce=>i.go(ce);let Ct;const ls=new Set,Ut={currentRoute:m,listening:!0,addRoute:E,removeRoute:T,hasRoute:F,getRoutes:N,resolve:R,options:e,push:Q,replace:le,go:At,back:()=>At(-1),forward:()=>At(1),beforeEach:n.add,beforeResolve:r.add,afterEach:f.add,onError:Qt.add,isReady:Je,install(ce){const xe=this;ce.component("RouterLink",e8),ce.component("RouterView",i8),ce.config.globalProperties.$router=xe,Object.defineProperty(ce.config.globalProperties,"$route",{enumerable:!0,get:()=>es(m)}),Gc&&!Ct&&m.value===dl&&(Ct=!0,Q(i.location).catch(Gt=>{}));const it={};for(const Gt in dl)Object.defineProperty(it,Gt,{get:()=>m.value[Gt],enumerable:!0});ce.provide(Ff,xe),ce.provide(dv,Ib(it)),ce.provide(fg,m);const vt=ce.unmount;ls.add(ce),ce.unmount=function(){ls.delete(ce),ls.size<1&&(v=dl,ut&&ut(),ut=null,m.value=dl,Ct=!1,Lt=!1),vt()}}};function qt(ce){return ce.reduce((xe,it)=>xe.then(()=>he(it)),Promise.resolve())}return Ut}function a8(e,t){const s=[],o=[],i=[],n=Math.max(t.matched.length,e.matched.length);for(let r=0;r<n;r++){const f=t.matched[r];f&&(e.matched.find(v=>iu(v,f))?o.push(f):s.push(f));const m=e.matched[r];m&&(t.matched.find(v=>iu(v,m))||i.push(m))}return[s,o,i]}function mo(){return co(Ff)}function Ns(){return co(dv)}const r8={class:"fixed top-12 transition-all duration-150 w-full left-0 z-[1000]"},l8={class:"flex w-[90%] sm:w-[70%] lg:w-[60%] mx-auto p-2 rounded bg-red-600 text-red-200 justify-center items-center relative"},c8={class:"w-[90%] mx-auto text-center"},u8={key:0},d8={class:""},mg={__name:"ValidationError",props:{isString:{type:Boolean,default:!0},errorString:{type:String,default:""},errors:{type:Object,default:()=>null}},emits:["clearValidation"],setup(e,{emit:t}){const s=t,o=e;xf(()=>{if(o.errors&&Object.entries(o.errors).length>0){n();return}o.errorString&&n()});function i(){s("clearValidation")}function n(){setTimeout(function(){s("clearValidation")},5e3)}return(r,f)=>{const m=_("font-awesome-icon");return a(),d("div",r8,[h("div",l8,[h("div",c8,[e.isString?(a(),d("div",u8,V(e.errorString),1)):(a(!0),d(Z,{key:1},pe(e.errors,(v,g)=>(a(),d("div",{key:g},[h("div",d8,V(v.toString()),1)]))),128))]),h("div",{class:"cursor-pointer absolute -top-3 -right-3 p-2 rounded-full flex justify-center items-center bg-red-200 text-red-600 w-8 h-8",onClick:i},[b(m,{icon:["fas","times"]})])])])}}},Ae=(e,t)=>{const s=e.__vccOpts||e;for(const[o,i]of t)s[o]=i;return s},h8={},f8={class:""},m8=Ef('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 1225.08 949.68"><defs><linearGradient id="linear-gradient" x1="472.06" y1="491.94" x2="471.32" y2="491.14" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#62bfb8"></stop><stop offset=".24" stop-color="#63bcb5"></stop><stop offset=".4" stop-color="#67b3ad"></stop><stop offset=".54" stop-color="#6ea49e"></stop><stop offset=".67" stop-color="#788e8a"></stop><stop offset=".78" stop-color="#857370"></stop><stop offset=".89" stop-color="#945150"></stop><stop offset="1" stop-color="#a62a2b"></stop></linearGradient><linearGradient id="linear-gradient-2" x1="680.35" y1="697.1" x2="236.69" y2="-21.51" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#62bfb8"></stop><stop offset=".32" stop-color="#7c8581"></stop><stop offset=".63" stop-color="#935453"></stop><stop offset=".87" stop-color="#a13536"></stop><stop offset="1" stop-color="#a62a2b"></stop></linearGradient><linearGradient id="linear-gradient-3" x1="461.91" y1="501.85" x2="461.87" y2="501.78" xlink:href="#linear-gradient-2"></linearGradient><linearGradient id="linear-gradient-4" x1="445.22" y1="335.45" x2="379.09" y2="228.33" xlink:href="#linear-gradient-2"></linearGradient></defs><path class="cls-1" d="M775 480.49c.2.83.55-.24.69-.71l-.12.14zm0 0c.2.83.55-.24.69-.71l-.12.14zm0 0c.2.83.55-.24.69-.71l-.12.14zm0 0c.2.83.55-.24.69-.71l-.12.14zm0 0c.2.83.55-.24.69-.71l-.12.14zm0 0c.2.83.55-.24.69-.71l-.12.14z"></path><path class="cls-1" d="M.25 173.29v776.14h1051.54a173 173 0 00173-173V.25H173.29A173 173 0 00.25 173.29zM775 480.49l.57-.57.12-.14c-.11.47-.46 1.54-.69.71z"></path><path class="cls-1" d="M803.52 346l-.12-.14c.14.47.49 1.54.69.71zm0 0l-.12-.14c.14.47.49 1.54.69.71zm0 0l-.12-.14c.14.47.49 1.54.69.71zm0 0l-.12-.14c.14.47.49 1.54.69.71z"></path><path d="M482 480l-13 14.13c6.2-6.77 13-14.13 13-14.13zm-20.41 22.1c-.18.2-.36.38-.52.57l.53-.56.62-.68c-.22.24-.47.46-.67.68z" fill="url(#linear-gradient)" stroke-width=".5" stroke-miterlimit="10" stroke="#1d1d1b"></path><rect x="653.96" y="417.31" width="368.83" height="115.07" rx="26.23" fill="#a62a2b"></rect><path d="M680.19 532.19l115.34.13h57.67l57.67-.06 57.67-.06c9.61 0 19.23 0 28.83-.07l1.79-.09 1.77-.27.89-.13.86-.23c.58-.15 1.16-.28 1.74-.45a28.07 28.07 0 006.44-3.09 26.16 26.16 0 009.25-10.69 28 28 0 001.32-3.32l.45-1.73c.07-.29.15-.58.21-.87l.13-.89c.09-.59.2-1.17.26-1.77l.08-1.78c.08-1.19 0-2.4 0-3.6V445.6a36.81 36.81 0 00-.51-7.13c-.12-.58-.29-1.15-.43-1.73l-.23-.86c-.09-.29-.2-.56-.3-.84l-.62-1.67-.78-1.61a25.06 25.06 0 00-4.07-5.82 30 30 0 00-2.58-2.46 28.24 28.24 0 00-2.92-2 26.07 26.07 0 00-13.54-3.83l-115.34.13H708.23c-9.6 0-19.24-.05-28.82 0l-1.77.09-1.76.26-.88.13-.86.22c-.57.15-1.15.28-1.72.45a27.55 27.55 0 00-6.39 3 26.07 26.07 0 00-9.21 10.59 28.37 28.37 0 00-1.32 3.3l-.45 1.72c-.07.29-.15.57-.21.86l-.14.88c-.08.59-.19 1.17-.25 1.76l-.1 1.78c-.07 1.18 0 2.4 0 3.59v57.67a36 36 0 00.49 7.13c.11.59.28 1.16.42 1.74l.23.86c.09.29.2.56.3.84l.61 1.68.78 1.61a24.88 24.88 0 004.07 5.84 30.1 30.1 0 002.57 2.48 28 28 0 002.93 2 26.11 26.11 0 0013.44 3.93zm0 .37a26.55 26.55 0 01-13.8-3.9 28.79 28.79 0 01-3-2.08 27.1 27.1 0 01-2.63-2.51 25.3 25.3 0 01-4.15-5.93l-.8-1.63-.63-1.71c-.1-.28-.21-.56-.31-.85l-.22-.88c-.15-.59-.33-1.17-.44-1.76a35.93 35.93 0 01-.52-7.23v-57.67-3.61l.09-1.82c.06-.61.17-1.21.26-1.81l.13-.9c.06-.3.15-.59.22-.89l.46-1.77a31.83 31.83 0 011.34-3.39 26.75 26.75 0 019.44-10.92 28.35 28.35 0 016.57-3.14c.59-.18 1.18-.32 1.77-.47l.89-.23.9-.14 1.81-.27 1.82-.1c9.64-.09 19.23 0 28.85-.06h173.01l115.34.13a26.6 26.6 0 0113.81 3.98 29.48 29.48 0 013 2.09 28.46 28.46 0 012.63 2.52 25.83 25.83 0 014.15 5.95l.79 1.64.63 1.71c.1.29.21.57.3.86l.23.88c.14.59.32 1.17.43 1.77a35.87 35.87 0 01.51 7.23v61.28l-.1 1.81c-.06.6-.17 1.2-.26 1.79l-.14.9c-.05.3-.14.59-.21.88l-.46 1.76a29.6 29.6 0 01-1.35 3.37 26.48 26.48 0 01-9.55 10.76 28.17 28.17 0 01-6.53 3.11c-.58.17-1.17.3-1.75.46l-.88.22-.9.14-1.79.26-1.81.09c-9.62.08-19.22 0-28.84 0l-57.67-.06-57.67-.06h-57.67z" fill="#1d1d1b"></path><path d="M427.52 878.94l575.56-1.3c19.46 0 35.24-25.41 35.24-56.75h0c0-31.35-15.78-56.76-35.24-56.76l-406.55 2.72z" stroke-width="3" stroke="#a62a2b" fill="#62bfb8" stroke-miterlimit="10"></path><path d="M666.17 581.06l.38-1.85" stroke-miterlimit="10" stroke="#1d1d1b" fill="#f9fbfc"></path><path d="M482 480l.08-.09v.19l-.08-.1" fill="none" stroke-width=".5" stroke-miterlimit="10" stroke="#1d1d1b"></path><path d="M473.52 515.91l-12-13.79.62-.68c-.23.23-.43.45-.63.67L87.27 70.74H249l257 310.08L574.61 97a26.23 26.23 0 0126.23-26.23h99.6l-22.22 84.11-44.83 214s-32.68 154.85-32.68 154.87L560 764.13 385.82 878.94l72.76-293 .06-.32c0-.09 0-.2.07-.32.28-1.44 1-5.3 2.27-11.27.12-.6.25-1.21.38-1.85l.63-3c.15-.72.3-1.46.46-2.22.59-2.82 1.25-5.93 2-9.31.18-.86.37-1.73.56-2.62.68-3.21 1.43-6.65 2.22-10.29.23-1 .45-2.05.68-3.11q1-4.61 2.13-9.6c.16-.75.33-1.5.5-2.26" fill="url(#linear-gradient-2)" stroke-width=".5" stroke-miterlimit="10" stroke="#1d1d1b"></path><path d="M461.55 502.11c.2-.22.4-.44.63-.67l-.62.68z" fill="url(#linear-gradient-3)" stroke-width=".5" stroke-miterlimit="10" stroke="#1d1d1b"></path><path fill="url(#linear-gradient-4)" stroke-width=".5" stroke-miterlimit="10" stroke="#1d1d1b" d="M506 380.82L249.03 70.74h3.22L506 380.82z"></path><path d="M1090.77 112.83v21.68a48.32 48.32 0 01-48.32 48.32H678.79l-77.86 354.94c-9.61-71.33-47.27-131.09-98.65-161.72l73.63-285.31a26.23 26.23 0 0126.23-26.23h440.31a48.32 48.32 0 0148.32 48.32z" stroke-width="6" stroke="#a62a2b" stroke-miterlimit="10" fill="#f9fbfc"></path><path stroke-width="3" stroke="#a62a2b" stroke-miterlimit="10" fill="#f9fbfc" d="M559.02 764.13l-174.2 114.81"></path></svg>',1),p8=[m8];function g8(e,t,s,o,i,n){return a(),d("div",f8,p8)}const hv=Ae(h8,[["render",g8]]),v8={class:"mt-20"},y8={class:"login"},w8={class:"loading-state"},_8={class:"section-other"},b8={class:"mr-auto ml-4"},k8={class:"section-other-login"},A8={class:"mr-2"},C8={class:"section-main py-3"},S8={class:""},I8={class:"other-link"},T8={key:0},D8={key:1},Jk={__name:"LoginRegisterOutline",props:{title:{type:String,default:""},theErrorMessage:{type:String,default:""}},emits:["clear"],setup(e,{emit:t}){const s=_i(),o=Ns(),i=t,n=e,r=at(null),f=at(null);Us(()=>n.theErrorMessage,E=>{r.value=E});function m(){f.value="",i("clear"),s.dispatch("clearValidation")}const v=Wt(()=>o.name),g=Wt(()=>f.value?f.value:r.value?r.value:""),A=Wt(()=>!!s.getters.getValidationErrors),D=Wt(()=>{if(!A.value){let E=s.getters.authenticatingErrorMessage??"";return E&&E.includes("Server Error")?(f.value="The server may be down. Please try again in a few minutes. Apologizes",!0):E.includes("Unauthorized")?(o.name==="login"&&(f.value="Please enter the correct username or email and password combination"),!0):E.includes("Unauthenticated")?(f.value="Please you are unauthorized. Log in again",!0):E?(f.value="Something broke somewhere. Please try again or alert us via a complaint.",!0):n.theErrorMessage?(r.value=n.theErrorMessage,!0):!1}});return(E,T)=>{const N=_("sync-loader"),F=_("router-link");return a(),d("div",v8,[h("div",y8,[h("div",w8,[b(N,{loading:es(s).getters.authenticating},null,8,["loading"])]),D.value?(a(),S(mg,{key:0,class:"validation",onClearValidation:T[0]||(T[0]=R=>m()),errorString:g.value},null,8,["errorString"])):c("",!0),A.value?(a(),S(mg,{key:1,class:"validation",onClearValidation:T[1]||(T[1]=R=>m()),isString:!1,errors:es(s).getters.getValidationErrors},null,8,["errors"])):c("",!0),h("div",_8,[h("div",b8,[h("div",k8,[h("span",A8,[Jt(E.$slots,"title-icon")]),h("span",null,V(e.title),1)]),b(hv,{class:"w-16 md:w-24 mt-4"})])]),h("div",C8,[h("div",S8,[h("form",{onSubmit:T[2]||(T[2]=Vt(()=>{},["prevent"])),class:"mt-3 mb2"},[Jt(E.$slots,"login-controls")],32)]),h("div",I8,[v.value==="login"?(a(),d("div",T8,[Mt(" if you have not registered, "),b(F,{to:"/register"},{default:z(()=>[Mt("register")]),_:1})])):c("",!0),v.value==="register"?(a(),d("div",D8,[Mt(" if you have already registered, "),b(F,{to:"/login"},{default:z(()=>[Mt("login")]),_:1})])):c("",!0),h("div",null,[Mt(" go "),b(F,{to:"/"},{default:z(()=>[Mt("home")]),_:1})])])])])])}}},x8={name:"TextInput",props:{inputType:{type:String,default:"text"},placeholder:{type:String,default:""},error:{type:Boolean,default:!1},bottomBorder:{type:Boolean,default:!1},sm:{type:Boolean,default:!1},noBorder:{type:Boolean,default:!1},hasMax:{type:Boolean,default:!1},inputmode:{type:String,default:""},pattern:{type:String,default:""},inputMax:{type:Number,default:100},inputMin:{type:Number,default:5},modelValue:{type:String,default:""},title:{type:String,default:""},prepend:{type:Boolean,default:!1},icon:{type:Array,default:()=>[]}},data(){return{inputValue:""}},watch:{inputValue(e,t){if(this.hasMax&&e.length>this.inputMax){this.inputValue=t,this.$emit("update:modelValue",t);return}this.$emit("update:modelValue",e)},value:{immediate:!0,handler(e){e!==this.inputValue&&(this.inputValue=e)}}},methods:{iconChange(){this.$emit("iconChange")},sendText(){this.$emit("keyupenter",this.inputValue),this.$emit("keydown.enter",this.inputValue)}}},P8=["title"],M8=["type","placeholder","max","min","pattern","inputmode"],E8=["title"],O8={key:0,class:"max-section"};function R8(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",{class:"text-input-wrapper",title:s.title},[h("div",{class:we(["main-section",{error:s.error,bottomborder:s.bottomBorder,noborder:s.noBorder,sm:s.sm}])},[cn(h("input",{type:s.inputType,placeholder:s.placeholder,"onUpdate:modelValue":t[0]||(t[0]=f=>i.inputValue=f),onKeyup:t[1]||(t[1]=hu((...f)=>n.sendText&&n.sendText(...f),["enter"])),max:s.inputMax,min:s.inputMin,class:we(["form-control",{prepend:s.prepend}]),pattern:s.pattern,inputmode:s.inputmode,ref:"textinput"},null,42,M8),[[_M,i.inputValue]]),s.prepend?(a(),d("div",{key:0,class:"form-control-append eye-control",title:s.title,onClick:t[2]||(t[2]=(...f)=>n.iconChange&&n.iconChange(...f))},[b(r,{icon:s.icon},null,8,["icon"])],8,E8)):c("",!0)],2),s.hasMax?(a(),d("div",O8,V(`${i.inputValue.length}/${s.inputMax}`),1)):c("",!0)],8,P8)}const js=Ae(x8,[["render",R8],["__scopeId","data-v-16d35b6a"]]),N8={class:""},L8={key:0,class:"form-group form-section"},F8=h("label",{for:"login-username"},"username *",-1),U8={key:1,class:"form-group form-section"},B8=h("label",{for:"login-email"},"email *",-1),j8={class:"form-group form-section"},V8=h("label",{for:"login-password"},"password *",-1),q8={class:"login-with"},H8={__name:"Login",setup(e){const t=_i(),s=Ns(),o=mo(),i=at("username"),n=at({username:"",email:"",password:""}),r=at({username:"",email:"",password:""}),f=at(""),m=at("show password"),v=at("password");at(!1),at(!1),at(!1);const g=at(["fa","eye"]);Us(()=>n.value.username,()=>{r.value.username=!1}),Us(()=>n.value.email,()=>{r.value.email=!1}),Us(()=>n.value.password,()=>{r.value.password=!1}),ev(()=>{D()});function A(){f.value=""}function D(){n.value.username=!0,n.value.email=!0,n.value.password=!0}function E(){i.value="email",D()}function T(){i.value="username",D()}async function N(){var j,W;if(i.value==="username"&&n.value.username==="")f.value="Please enter your username in the field.",r.value.username=!0;else if(i.value==="email"&&n.value.email==="")f.value="Please enter your email in the field.",r.value.email=!0;else if(n.value.password==="")f.value="Please enter your password in the field.",r.value.password=!0;else if(n.value.username.trim().length<8)f.value="Please your username is too short.",r.value.username=!0;else if(n.value.password.trim().length<8)f.value="Please your password is too short.",r.value.password=!0;else{let Q={};i.value==="username"&&(Q={password:n.value.password.trim(),username:n.value.username.trim(),loginOrRegister:!0}),i.value==="email"&&(Q={password:n.value.password.trim(),email:n.value.email.trim(),loginOrRegister:!0}),Q.redirectTo=(j=s.query)==null?void 0:j.redirectTo;const le=await t.dispatch("login",Q);if(le!=null&&le.status&&(F(),o.push(((W=s.query)==null?void 0:W.redirectTo)||"/")),le!=null&&le.message){f.value=le.message;return}f.value="Something unfortunate happened. Please try again shortly."}}function F(){t.dispatch("getFollowers"),setTimeout(()=>{t.dispatch("getFollowings")},2e3)}function R(){g.value[1]==="eye"?(g.value[1]="eye-slash",v.value="text",m.value="hide password"):(g.value[1]="eye",v.value="password",m.value="show password")}return(j,W)=>{const Q=_("app-nav"),le=_("font-awesome-icon");return a(),d("div",N8,[b(Q),b(Jk,{title:"Login",theErrorMessage:f.value,onClear:A},{"login-controls":z(()=>[i.value==="username"?(a(),d("div",L8,[F8,b(js,{placeholder:"your username",modelValue:n.value.username,"onUpdate:modelValue":W[0]||(W[0]=me=>n.value.username=me),error:r.value.username},null,8,["modelValue","error"])])):i.value==="email"?(a(),d("div",U8,[B8,b(js,{placeholder:"your email",modelValue:n.value.email,"onUpdate:modelValue":W[1]||(W[1]=me=>n.value.email=me),error:r.value.email},null,8,["modelValue","error"])])):c("",!0),h("div",j8,[V8,b(js,{placeholder:"your password",inputType:v.value,modelValue:n.value.password,"onUpdate:modelValue":W[2]||(W[2]=me=>n.value.password=me),error:r.value.password,onIconChange:R,title:m.value,icon:g.value,prepend:!0},null,8,["inputType","modelValue","error","title","icon"])]),h("button",{type:"submit",class:"btn login-btn my-auto bg-slate-600",onClick:Vt(N,["prevent"])},"login"),h("div",q8,[i.value==="username"?(a(),d("button",{key:0,class:"btn login-type-btn",onClick:Vt(E,["prevent"])},"use email")):c("",!0),i.value==="email"?(a(),d("button",{key:1,class:"btn login-type-btn",onClick:Vt(T,["prevent"])},"use username")):c("",!0)])]),"title-icon":z(()=>[b(le,{icon:["fas","sign-in-alt"]})]),_:1},8,["theErrorMessage"])])}}},W8={__name:"FlatPickrInput",props:{modelValue:{type:String,default:""},config:{type:Object,default:()=>({username:"",email:"",password:"",firstName:"",lastName:"",otherNames:"",dob:"",passwordConfirmation:""})}},emits:["update:modelValue"],setup(e,{emit:t}){const s=t,o=at("");return Us(()=>o.value,()=>{s("update:modelValue",o.value)}),(i,n)=>{const r=_("flat-pickr");return a(),S(r,{config:e.config,modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=f=>o.value=f)},null,8,["config","modelValue"])}}},z8={class:"section-one"},G8={class:"form-group form-section text"},Y8=h("label",{for:"login-username"},"username *",-1),Q8={class:"form-group form-section"},K8=h("label",{for:"login-email"},"email",-1),J8={class:"form-group form-section"},X8=h("label",{for:"login-password"},"password *",-1),$8={class:"form-group form-section"},Z8=h("label",{for:"login-confirmation"},"password confirmation *",-1),eO={class:"section-two"},tO={class:"form-group form-section"},sO=h("label",{for:"login-first-name"},"first name",-1),nO={class:"form-group form-section"},iO=h("label",{for:"login-last-name"},"last name",-1),oO={class:"form-group form-section"},aO=h("label",{for:"login-other-names"},"other names",-1),rO={class:"form-group form-section register-datepicker-section"},lO=h("label",{for:"register-datepicker"},"date of birth",-1),cO={__name:"Registration",setup(e){const t=_i(),s=Ns(),o=mo(),i=at({username:"",email:"",password:"",firstName:"",lastName:"",otherNames:"",dob:"",passwordConfirmation:""}),n=at(null),r=at("next"),f=at(""),m=at({maxDate:"today",dateFormat:"Y-m-d",altInput:!0,altFormat:"F j, Y",defaultDate:["1990-01-01"]}),v=at("show password"),g=at("show password"),A=at("password"),D=at("password"),E=at({username:"",email:"",password:"",passwordConfirmation:""}),T=at(["fa","eye"]);Us(()=>i.value.username,()=>{E.value.username=!1}),Us(()=>i.value.email,()=>{E.value.email=!1}),Us(()=>i.value.password,()=>{E.value.password=!1,E.value.passwordConfirmation=!1});function N(){f.value=""}function F(){i.value.username="",i.value.email="",i.value.password="",i.value.passwordConfirmation="",i.value.firstName="",i.value.lastName="",i.value.otherNames="",i.value.dob=""}function R(){var Q;f.value="",n.value===null||n.value===1?i.value.username?((Q=i.value.username)==null?void 0:Q.length)<8?(f.value="Please, your username should have at least 8 characters.",E.value.username=!0):i.value.password?i.value.passwordConfirmation?i.value.password!==i.value.passwordConfirmation?(f.value="Please, password confirmation must match password.",E.value.password=!0,E.value.passwordConfirmation=!0):(n.value=2,r.value="previous"):(f.value="Please, confirm your password in the field.",E.value.passwordConfirmation=!0):(f.value="Please, enter your password in the field.",E.value.password=!0):(f.value="Please, enter your username in the field.",E.value.username=!0):n.value===2&&(n.value=1,r.value="next")}async function j(){var me;let Q={username:i.value.username.trim(),email:i.value.email.trim(),password:i.value.password.trim(),password_confirmation:i.value.passwordConfirmation.trim(),first_name:i.value.firstName.trim(),last_name:i.value.lastName.trim(),other_names:i.value.otherNames.trim(),dob:i.value.dob.trim()},le=await t.dispatch("register",Q);le.status&&(le.token&&o().push(((me=s().query)==null?void 0:me.redirectTo)||"/welcome"),F())}function W(){if(T.value[1]==="eye"){T.value[1]="eye-slash",A.value="text",D.value="text",v.value="hide password",g.value="hide password";return}T.value[1]="eye",D.value="password",A.value="password",g.value="show password",v.value="show password"}return(Q,le)=>{const me=_("app-nav"),k=_("font-awesome-icon");return a(),d("div",null,[b(me),b(Jk,{title:"Register",theErrorMessage:f.value,onClear:N},{"login-controls":z(()=>[cn(h("div",z8,[h("div",G8,[Y8,b(js,{placeholder:"your username",modelValue:i.value.username,"onUpdate:modelValue":le[0]||(le[0]=Ce=>i.value.username=Ce),error:E.value.username},null,8,["modelValue","error"])]),h("div",Q8,[K8,b(js,{placeholder:"your email",modelValue:i.value.email,"onUpdate:modelValue":le[1]||(le[1]=Ce=>i.value.email=Ce),error:E.value.email},null,8,["modelValue","error"])]),h("div",J8,[X8,b(js,{placeholder:"your password",textInput:A.value,modelValue:i.value.password,"onUpdate:modelValue":le[2]||(le[2]=Ce=>i.value.password=Ce),error:E.value.password,onIconChange:W,title:v.value,icon:T.value,prepend:!0},null,8,["textInput","modelValue","error","title","icon"])]),h("div",$8,[Z8,b(js,{placeholder:"your password confirmation",textInput:D.value,modelValue:i.value.passwordConfirmation,"onUpdate:modelValue":le[3]||(le[3]=Ce=>i.value.passwordConfirmation=Ce),error:E.value.passwordConfirmation,onIconChange:W,title:g.value,icon:T.value,prepend:!0},null,8,["textInput","modelValue","error","title","icon"])])],512),[[Fa,n.value===null||n.value===1]]),cn(h("div",eO,[h("div",tO,[sO,b(js,{placeholder:"your first name",modelValue:i.value.firstName,"onUpdate:modelValue":le[4]||(le[4]=Ce=>i.value.firstName=Ce)},null,8,["modelValue"])]),h("div",nO,[iO,b(js,{placeholder:"your last name",modelValue:i.value.lastName,"onUpdate:modelValue":le[5]||(le[5]=Ce=>i.value.lastName=Ce)},null,8,["modelValue"])]),h("div",oO,[aO,b(js,{placeholder:"your other names",modelValue:i.value.otherNames,"onUpdate:modelValue":le[6]||(le[6]=Ce=>i.value.otherNames=Ce)},null,8,["modelValue"])]),h("div",rO,[lO,b(W8,{id:"register-datepicker",config:m.value,modelValue:i.value.dob,"onUpdate:modelValue":le[7]||(le[7]=Ce=>i.value.dob=Ce),class:"form-control mb-2"},null,8,["config","modelValue"])]),h("button",{class:"btn login-btn mb-3",onClick:Vt(j,["prevent"])},"register")],512),[[Fa,n.value===2]]),h("button",{class:"btn login-btn",onClick:Vt(R,["prevent"])},V(r.value),1)]),"title-icon":z(()=>[b(k,{icon:["fas","sign-in-alt"]})]),_:1},8,["theErrorMessage"])])}}},uO={name:"PostButton",props:{buttonText:{type:String,default:""},buttonStyle:{type:String,default:"normal"},titleText:{type:String,default:""},postButtonClass:{type:String,default:""},active:{type:Boolean,default:!1},makeDisabled:{type:Boolean,default:!1}},watch:{postButtonClass(e){e==="red"&&(this.colorRed=!0)},active:{immediate:!0,handler(e){this.makeActive=e}}},data(){return{makeActive:!1,colorRed:!1}},computed:{makeDanger(){return this.buttonStyle==="danger"},makeSuccess(){return this.buttonStyle==="success"}},methods:{clicked(){this.$emit("click",this.buttonText)}}},dO=["title"];function hO(e,t,s,o,i,n){return a(),d("button",{class:we(["p-1 btn btn-size",{active:i.makeActive,danger:n.makeDanger,success:n.makeSuccess,disabled:s.makeDisabled,colorRed:i.colorRed}]),title:s.titleText,onClick:t[0]||(t[0]=(...r)=>n.clicked&&n.clicked(...r))},[Mt(V(s.buttonText)+" ",1),s.buttonText.length?c("",!0):Jt(e.$slots,"icon",{key:0},void 0,!0)],10,dO)}const xs=Ae(uO,[["render",hO],["__scopeId","data-v-fe92e740"]]),fO={props:{text:{type:String,default:""}},methods:{clicked(){this.$emit("click")}}};function mO(e,t,s,o,i,n){return a(),d("div",{class:"badge-wrapper",onClick:t[0]||(t[0]=(...r)=>n.clicked&&n.clicked(...r))},[Mt(V(s.text)+" ",1),Jt(e.$slots,"badge",{},void 0,!0)])}const Ad=Ae(fO,[["render",mO],["__scopeId","data-v-f155bd21"]]),pO={props:{hasCircleImg:{type:Boolean,default:!1},show:{type:Boolean,default:!1},middle:{type:Boolean,default:!1},file:{default:null},showRemove:{type:Boolean,default:!0},imgSrc:{type:String,default:""},width:{type:String,default:"75%"},type:{type:String,default:"normal"}},components:{BlackWhiteBadge:Ad},data(){return{message:"",showEdit:!0}},watch:{hasCircleImg:{immediate:!0,handler(e){e?(this.$refs.circlepreview&&(this.$refs.circlepreview.style.display="none"),this.$refs.circlepreviewimg&&(this.$refs.circlepreviewimg.style.display="block")):(this.$refs.circlepreview&&(this.$refs.circlepreview.style.display="block"),this.$refs.circlepreviewimg&&(this.$refs.circlepreviewimg.style.display="none"))}},file:{immediate:!0,handler(e){if(e){if(e.url){this.showFile(e);return}this.readFile(e)}}}},computed:{computedRemove(){return this.showRemove?!!this.file:!1}},methods:{clickedRemove(){this.$refs.preview.innerHTML="",this.$emit("removeFile")},showFile(e){this.$refs.preview&&(this.$refs.preview.innerHTML="");let t=null;e.type.includes("image")?(t=document.createElement("img"),t=this.setImageAttributes(t),t.src=e.url):e.type.includes("video")?(t=document.createElement("video"),t=this.setVideoAttributes(t),t.src=e.url):e.type.includes("audio")?(t=document.createElement("audio"),t=this.setAudioAttributes(t),t.src=e.url):e.type.includes("file")?(t=document.createElement("div"),t=this.setFileAttributes(t,e)):this.message=`${newValue.name} is not a valid file`,t&&this.appendElementToPreview(t)},appendElementToPreview(e){if(!this.$refs.preview){setTimeout(()=>{this.appendElementToPreview(e)},100);return}this.$refs.preview.appendChild(e)},setImageAttributes(e){return e.setAttribute("id","img"),e.style.width="100%",e.style.height="100%",e.style.objectFit="contain",e.style.objectPosition="center",e},setVideoAttributes(e){return e.setAttribute("id","video"),e.setAttribute("controls","true"),e.setAttribute("controlslist","nodownload"),e.style.width="100%",e.style.height="100%",e.style.objectFit="contain",e.style.objectPosition="center",e},setAudioAttributes(e){return e.setAttribute("id","audio"),e.setAttribute("controls","true"),e.setAttribute("controlslist","nodownload"),e.style.width="75%",e},setFileAttributes(e,t){return e.className="application",e.innerText=t.name,e},readFile(e){let t=new FileReader;this.$refs.preview&&(this.$refs.preview.innerHTML=""),t.addEventListener("load",(function(){if(e.type.includes("image")){let s=document.createElement("img");this.type==="normal"?(s=this.setImageAttributes(s),s.src=t.result,this.appendElementToPreview(s)):(s.style.width="inherit",s.style.height="inherit",s.style.borderRadius="inherit",s.setAttribute("id","img"),s.src=t.result,this.$refs.circlepreview.appendChild(s))}else if(e.type.includes("video")){let s=document.createElement("video");s=this.setVideoAttributes(s),s.src=t.result,this.appendElementToPreview(s)}else if(e.type.includes("audio")){let s=document.createElement("audio");s=this.setAudioAttributes(s),s.src=t.result,this.appendElementToPreview(s)}else if(e.type.includes("application")){let s=document.createElement("div");s=this.setFileAttributes(s,e),this.appendElementToPreview(s)}else this.message=`${e.name} is not acceptable`}).bind(this)),t.readAsDataURL(e)}}},gO={class:"file-preview-wrapper"},vO={key:2,class:"circle"},yO={class:"inner-circle",ref:"circlepreview"},wO={key:0,class:"inner-circle",ref:"circlepreviewimg"},_O=["src"];function bO(e,t,s,o,i,n){const r=_("black-white-badge");return a(),d("div",gO,[n.computedRemove?(a(),d("div",{key:0,class:"edit",onClick:t[0]||(t[0]=(...f)=>n.clickedRemove&&n.clickedRemove(...f))},[i.showEdit?(a(),S(r,{key:0,text:"remove"})):c("",!0)])):c("",!0),s.type==="normal"?(a(),d("div",{key:1,class:we(["inner-wrapper",{middle:s.middle}]),ref:"preview"},null,2)):c("",!0),s.type==="circle"?(a(),d("div",vO,[h("div",yO,null,512),s.hasCircleImg?(a(),d("div",wO,[h("img",{src:s.imgSrc,alt:"profile pic"},null,8,_O)],512)):c("",!0)])):c("",!0)])}const Lo=Ae(pO,[["render",bO],["__scopeId","data-v-37da467b"]]),kO={props:{error:{type:Boolean,default:!1},bottomBorder:{type:Boolean,default:!1},noBorder:{type:Boolean,default:!1},hasMax:{type:Boolean,default:!0},hasMin:{type:Boolean,default:!0},sm:{type:Boolean,default:!1},noBorder:{type:Boolean,default:!1},inputMax:{type:Number,default:100},inputMin:{type:Number,default:5},placeholder:{type:String,default:""},value:{type:String,default:""},prepend:{type:String,default:""},label:{type:String,default:""}},data(){return{inputNumber:"",timer:null}},watch:{inputNumber(e){clearTimeout(this.timer),this.$emit("numberinput",e),this.$emit("input",e),this.timer=setTimeout(()=>{this.checkInput()},2e3)},value:{immediate:!0,handler(e){this.inputNumber!=e&&(this.inputNumber=e)}}},methods:{checkInput(e){if(String(this.inputNumber).length&&!(!this.hasMin&&!this.hasMax)){if(this.hasMin&&this.inputNumber<this.inputMin){this.inputNumber=`${this.inputMin}`;return}if(this.hasMax&&this.inputNumber>this.inputMax){this.inputNumber=`${this.inputMax}`;return}}}}},AO={class:"text-input-wrapper"},CO={key:0,class:"label"},SO=["placeholder","max","min"],IO={key:1,class:"prepend"};function TO(e,t,s,o,i,n){return a(),d("div",AO,[s.label.length?(a(),d("div",CO,V(s.label),1)):c("",!0),h("div",{class:we(["main",{error:s.error,bottomBorder:s.bottomBorder,noBorder:s.noBorder,sm:s.sm}])},[cn(h("input",{type:"number",placeholder:s.placeholder,"onUpdate:modelValue":t[0]||(t[0]=r=>i.inputNumber=r),max:s.inputMax,min:s.inputMin,class:"form-control",ref:"muberinput",pattern:"[0-9]*",inputmode:"numeric",onBlur:t[1]||(t[1]=(...r)=>n.checkInput&&n.checkInput(...r))},null,40,SO),[[yi,i.inputNumber]])],2),s.prepend.length?(a(),d("div",IO,V(s.prepend),1)):c("",!0)])}const fa=Ae(kO,[["render",TO],["__scopeId","data-v-8db60c02"]]),DO={props:{maxTime:{type:Object,default(){return{video:"00:00:30",audio:"00:00:30"}}},minTime:{type:Object,default(){return{video:"00:00:01",audio:"00:00:01"}}},maxSize:{type:Object,default(){return{video:1*1024*1024,audio:.5*1024*1024}}}},data(){return{}},methods:{getFormattedDuration(e){if(!e)return;e=parseFloat(e.toFixed(2));let t=Math.floor(e/3600),s=Math.floor((e-t*3600)/60),o=e-(t*3600+s*60);return o=o.toFixed(0),`${this.formatTimeUnit(t)}:${this.formatTimeUnit(s)}:${this.formatTimeUnit(o)}`},hasAppropriateSize(e,t){return e.size<=this.maxSize[t]},hasAppropriateDuration(e,t){return console.log(e,e<this.maxTime[t]),e<this.maxTime[t]},formatTimeUnit(e){return e<10?`0${e}`:e},issueUploadedFileDangerAlert({alertType:e,message:t,file:s}){let o=this.getUploadedFileType(s);o&&(e==="fileSize"&&(t=`the size of the ${o} should be less than ${this.maxSize[o]}`),e==="duration"&&(t=`the duration of the ${o} should be between ${this.maxTime[o]} && ${this.minTime[o]}`),"issueDangerAlert"in this&&this.issueDangerAlert({message:t}))},getUploadedFileType(e){var t,s;return(t=e==null?void 0:e.type.match("audio/*"))!=null&&t.length?"audio":(s=e==null?void 0:e.type.match("video/*"))!=null&&s.length?"video":null}}},xO={props:{file:{type:Blob,default(){return null}},show:{type:Boolean,default:!1}},data(){return{trimmedFile:null,videoElement:null,audioElement:null,start:0,end:null}},watch:{file:{immediate:!0,handler(e,t){e&&(this.computedVideo&&(this.videoElement=document.getElementById("mediavideo")),this.computedAudio&&(this.audioElement=document.getElementById("mediaaudio")))}}},computed:{computedVideo(){var e,t;return(t=(e=this.file)==null?void 0:e.type.match("video/*"))==null?void 0:t.length},computedAudio(){var e,t;return(t=(e=this.file)==null?void 0:e.type.match("audio/*"))==null?void 0:t.length}},methods:{clickedButton(e){e=="cancel"&&(this.emitFile(),this.closeTrimMedia()),e=="trim"&&this.trimFile()},mainModalDisappear(){this.closeTrimMedia()},closeTrimMedia(){this.$emit("closeTrimMedia")},emitFile(){this.$emit("getFile",this.trimmedFile)}}},PO={slot:"main-other"},MO={class:"media-container"},EO={key:0,class:"video-container"},OO=h("video",{autoplay:"",id:"mediavideo"},"your device does not support this",-1),RO=[OO],NO={key:1,class:"audio-container"},LO=h("audio",{id:"mediaaudio"},"your device does not support this",-1),FO=[LO],UO=h("div",{class:"bar"},[h("div",{class:"file-bar"}),h("div",{class:"trim-bar"})],-1),BO={class:"w-full flex justify-around"};function jO(e,t,s,o,i,n){const r=_("main-modal"),f=_("just-fade");return a(),S(f,null,{default:z(()=>[s.show?(a(),S(r,{key:0,show:s.show,main:!1,dark:!0,requests:!1,onMainModalDisappear:n.mainModalDisappear,class:"modal-wrapper"},{default:z(()=>[h("template",PO,[h("div",MO,[n.computedVideo?(a(),d("div",EO,RO)):c("",!0),n.computedAudio?(a(),d("div",NO,FO)):c("",!0),UO,h("div",BO,[s.file?c("",!0):(a(),d("div",{key:0,class:"record-button",onClick:t[0]||(t[0]=m=>n.clickedButton("trim"))})),s.file?(a(),d("div",{key:1,class:"send-button",onClick:t[1]||(t[1]=m=>n.clickedButton("cancel"))})):c("",!0)])])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const VO=Ae(xO,[["render",jO]]),qO={props:{responses:{type:Array,default(){return["yes","no"]}},message:{type:String,default:""},default:{type:String,default:""},show:{type:Boolean,default:!1},hasResponses:{type:Boolean,default:!0},type:{type:String,default:"mini"}},watch:{show(e){e&&this.hasResponses&&setTimeout(()=>{this.clickedDefault()},5e4)}},methods:{clickedResponse(e){this.$emit("clickedResponse",e),this.closePopUp()},clickedDefault(){this.show&&(this.$emit("clickedResponse",this.default),this.closePopUp())},closePopUp(e){this.$emit("closePopUp")}}},HO={class:"main"},WO={key:0,class:"message"},zO={key:1,class:"responses"},GO=["textContent","onClick"];function YO(e,t,s,o,i,n){const r=_("just-fade");return a(),S(r,null,{default:z(()=>[s.show?(a(),d("div",{key:0,class:we(["pop-up-wrapper",s.type]),onClick:t[0]||(t[0]=Vt((...f)=>n.clickedDefault&&n.clickedDefault(...f),["self"]))},[h("div",HO,[Jt(e.$slots,"default",{},void 0,!0),s.message.length?(a(),d("div",WO,V(s.message),1)):c("",!0),s.hasResponses?(a(),d("div",zO,[(a(!0),d(Z,null,pe(s.responses,(f,m)=>(a(),d("div",{class:"response",key:m,textContent:V(f),onClick:v=>n.clickedResponse(f)},null,8,GO))),128))])):c("",!0)])],2)):c("",!0)]),_:3})}const QO=Ae(qO,[["render",YO],["__scopeId","data-v-2babbc48"]]),Cd={components:{PopUp:QO},data(){return{showPopUp:!1,popUpMessage:"",popUpHasResponses:!1}},methods:{askIfTrueOrFalse(){this.showPopUp=!0},popUpResponse(e){e==="yes"&&this.$emit("itIsTrueOrFalse")},closePopUp(){this.showPopUp=!1}}},KO={data(){return{trimMediaData:{show:!1,file:null}}},methods:{clearTrimMediaData(){this.trimMediaData.show=!1,this.trimMediaData.file=null}}};var ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JO(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(s,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}),s}var Xk={};function XO(e){return e&&e.__esModule?e:{default:e}}var $O=XO,Ip={exports:{}},$_;function ZO(){return $_||($_=1,function(e){var t=function(s){var o=Object.prototype,i=o.hasOwnProperty,n=Object.defineProperty||function(Je,Xe,tt){Je[Xe]=tt.value},r,f=typeof Symbol=="function"?Symbol:{},m=f.iterator||"@@iterator",v=f.asyncIterator||"@@asyncIterator",g=f.toStringTag||"@@toStringTag";function A(Je,Xe,tt){return Object.defineProperty(Je,Xe,{value:tt,enumerable:!0,configurable:!0,writable:!0}),Je[Xe]}try{A({},"")}catch{A=function(Xe,tt,At){return Xe[tt]=At}}function D(Je,Xe,tt,At){var Ct=Xe&&Xe.prototype instanceof W?Xe:W,ls=Object.create(Ct.prototype),Ut=new Qt(At||[]);return n(ls,"_invoke",{value:Ve(Je,tt,Ut)}),ls}s.wrap=D;function E(Je,Xe,tt){try{return{type:"normal",arg:Je.call(Xe,tt)}}catch(At){return{type:"throw",arg:At}}}var T="suspendedStart",N="suspendedYield",F="executing",R="completed",j={};function W(){}function Q(){}function le(){}var me={};A(me,m,function(){return this});var k=Object.getPrototypeOf,Ce=k&&k(k(Lt([])));Ce&&Ce!==o&&i.call(Ce,m)&&(me=Ce);var he=le.prototype=W.prototype=Object.create(me);Q.prototype=le,n(he,"constructor",{value:le,configurable:!0}),n(le,"constructor",{value:Q,configurable:!0}),Q.displayName=A(le,g,"GeneratorFunction");function Ke(Je){["next","throw","return"].forEach(function(Xe){A(Je,Xe,function(tt){return this._invoke(Xe,tt)})})}s.isGeneratorFunction=function(Je){var Xe=typeof Je=="function"&&Je.constructor;return Xe?Xe===Q||(Xe.displayName||Xe.name)==="GeneratorFunction":!1},s.mark=function(Je){return Object.setPrototypeOf?Object.setPrototypeOf(Je,le):(Je.__proto__=le,A(Je,g,"GeneratorFunction")),Je.prototype=Object.create(he),Je},s.awrap=function(Je){return{__await:Je}};function Te(Je,Xe){function tt(ls,Ut,qt,ce){var xe=E(Je[ls],Je,Ut);if(xe.type==="throw")ce(xe.arg);else{var it=xe.arg,vt=it.value;return vt&&typeof vt=="object"&&i.call(vt,"__await")?Xe.resolve(vt.__await).then(function(Gt){tt("next",Gt,qt,ce)},function(Gt){tt("throw",Gt,qt,ce)}):Xe.resolve(vt).then(function(Gt){it.value=Gt,qt(it)},function(Gt){return tt("throw",Gt,qt,ce)})}}var At;function Ct(ls,Ut){function qt(){return new Xe(function(ce,xe){tt(ls,Ut,ce,xe)})}return At=At?At.then(qt,qt):qt()}n(this,"_invoke",{value:Ct})}Ke(Te.prototype),A(Te.prototype,v,function(){return this}),s.AsyncIterator=Te,s.async=function(Je,Xe,tt,At,Ct){Ct===void 0&&(Ct=Promise);var ls=new Te(D(Je,Xe,tt,At),Ct);return s.isGeneratorFunction(Xe)?ls:ls.next().then(function(Ut){return Ut.done?Ut.value:ls.next()})};function Ve(Je,Xe,tt){var At=T;return function(ls,Ut){if(At===F)throw new Error("Generator is already running");if(At===R){if(ls==="throw")throw Ut;return wt()}for(tt.method=ls,tt.arg=Ut;;){var qt=tt.delegate;if(qt){var ce=ut(qt,tt);if(ce){if(ce===j)continue;return ce}}if(tt.method==="next")tt.sent=tt._sent=tt.arg;else if(tt.method==="throw"){if(At===T)throw At=R,tt.arg;tt.dispatchException(tt.arg)}else tt.method==="return"&&tt.abrupt("return",tt.arg);At=F;var xe=E(Je,Xe,tt);if(xe.type==="normal"){if(At=tt.done?R:N,xe.arg===j)continue;return{value:xe.arg,done:tt.done}}else xe.type==="throw"&&(At=R,tt.method="throw",tt.arg=xe.arg)}}}function ut(Je,Xe){var tt=Xe.method,At=Je.iterator[tt];if(At===r)return Xe.delegate=null,tt==="throw"&&Je.iterator.return&&(Xe.method="return",Xe.arg=r,ut(Je,Xe),Xe.method==="throw")||tt!=="return"&&(Xe.method="throw",Xe.arg=new TypeError("The iterator does not provide a '"+tt+"' method")),j;var Ct=E(At,Je.iterator,Xe.arg);if(Ct.type==="throw")return Xe.method="throw",Xe.arg=Ct.arg,Xe.delegate=null,j;var ls=Ct.arg;if(!ls)return Xe.method="throw",Xe.arg=new TypeError("iterator result is not an object"),Xe.delegate=null,j;if(ls.done)Xe[Je.resultName]=ls.value,Xe.next=Je.nextLoc,Xe.method!=="return"&&(Xe.method="next",Xe.arg=r);else return ls;return Xe.delegate=null,j}Ke(he),A(he,g,"Generator"),A(he,m,function(){return this}),A(he,"toString",function(){return"[object Generator]"});function de(Je){var Xe={tryLoc:Je[0]};1 in Je&&(Xe.catchLoc=Je[1]),2 in Je&&(Xe.finallyLoc=Je[2],Xe.afterLoc=Je[3]),this.tryEntries.push(Xe)}function We(Je){var Xe=Je.completion||{};Xe.type="normal",delete Xe.arg,Je.completion=Xe}function Qt(Je){this.tryEntries=[{tryLoc:"root"}],Je.forEach(de,this),this.reset(!0)}s.keys=function(Je){var Xe=Object(Je),tt=[];for(var At in Xe)tt.push(At);return tt.reverse(),function Ct(){for(;tt.length;){var ls=tt.pop();if(ls in Xe)return Ct.value=ls,Ct.done=!1,Ct}return Ct.done=!0,Ct}};function Lt(Je){if(Je){var Xe=Je[m];if(Xe)return Xe.call(Je);if(typeof Je.next=="function")return Je;if(!isNaN(Je.length)){var tt=-1,At=function Ct(){for(;++tt<Je.length;)if(i.call(Je,tt))return Ct.value=Je[tt],Ct.done=!1,Ct;return Ct.value=r,Ct.done=!0,Ct};return At.next=At}}return{next:wt}}s.values=Lt;function wt(){return{value:r,done:!0}}return Qt.prototype={constructor:Qt,reset:function(Je){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(We),!Je)for(var Xe in this)Xe.charAt(0)==="t"&&i.call(this,Xe)&&!isNaN(+Xe.slice(1))&&(this[Xe]=r)},stop:function(){this.done=!0;var Je=this.tryEntries[0],Xe=Je.completion;if(Xe.type==="throw")throw Xe.arg;return this.rval},dispatchException:function(Je){if(this.done)throw Je;var Xe=this;function tt(ce,xe){return ls.type="throw",ls.arg=Je,Xe.next=ce,xe&&(Xe.method="next",Xe.arg=r),!!xe}for(var At=this.tryEntries.length-1;At>=0;--At){var Ct=this.tryEntries[At],ls=Ct.completion;if(Ct.tryLoc==="root")return tt("end");if(Ct.tryLoc<=this.prev){var Ut=i.call(Ct,"catchLoc"),qt=i.call(Ct,"finallyLoc");if(Ut&&qt){if(this.prev<Ct.catchLoc)return tt(Ct.catchLoc,!0);if(this.prev<Ct.finallyLoc)return tt(Ct.finallyLoc)}else if(Ut){if(this.prev<Ct.catchLoc)return tt(Ct.catchLoc,!0)}else if(qt){if(this.prev<Ct.finallyLoc)return tt(Ct.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(Je,Xe){for(var tt=this.tryEntries.length-1;tt>=0;--tt){var At=this.tryEntries[tt];if(At.tryLoc<=this.prev&&i.call(At,"finallyLoc")&&this.prev<At.finallyLoc){var Ct=At;break}}Ct&&(Je==="break"||Je==="continue")&&Ct.tryLoc<=Xe&&Xe<=Ct.finallyLoc&&(Ct=null);var ls=Ct?Ct.completion:{};return ls.type=Je,ls.arg=Xe,Ct?(this.method="next",this.next=Ct.finallyLoc,j):this.complete(ls)},complete:function(Je,Xe){if(Je.type==="throw")throw Je.arg;return Je.type==="break"||Je.type==="continue"?this.next=Je.arg:Je.type==="return"?(this.rval=this.arg=Je.arg,this.method="return",this.next="end"):Je.type==="normal"&&Xe&&(this.next=Xe),j},finish:function(Je){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var tt=this.tryEntries[Xe];if(tt.finallyLoc===Je)return this.complete(tt.completion,tt.afterLoc),We(tt),j}},catch:function(Je){for(var Xe=this.tryEntries.length-1;Xe>=0;--Xe){var tt=this.tryEntries[Xe];if(tt.tryLoc===Je){var At=tt.completion;if(At.type==="throw"){var Ct=At.arg;We(tt)}return Ct}}throw new Error("illegal catch attempt")},delegateYield:function(Je,Xe,tt){return this.delegate={iterator:Lt(Je),resultName:Xe,nextLoc:tt},this.method==="next"&&(this.arg=r),j}},s}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(Ip)),Ip.exports}var Tp,Z_;function e3(){return Z_||(Z_=1,Tp=ZO()),Tp}var Dp,e1;function t3(){if(e1)return Dp;e1=1;function e(s,o,i,n,r,f,m){try{var v=s[f](m),g=v.value}catch(A){i(A);return}v.done?o(g):Promise.resolve(g).then(n,r)}function t(s){return function(){var o=this,i=arguments;return new Promise(function(n,r){var f=s.apply(o,i);function m(g){e(f,n,r,m,v,"next",g)}function v(g){e(f,n,r,m,v,"throw",g)}m(void 0)})}}return Dp=t,Dp}(function(e){var t=$O;Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var s=t(e3()),o=t(t3());function i(r){return n.apply(this,arguments)}function n(){return(n=(0,o.default)(s.default.mark(function r(f){var m,v;return s.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return m=document.createElement("video"),v=new Promise(function(A,D){m.addEventListener("loadedmetadata",function(){m.duration===1/0?(m.currentTime=Number.MAX_SAFE_INTEGER,m.ontimeupdate=function(){m.ontimeupdate=null,A(m.duration),m.currentTime=0}):A(m.duration)}),m.onerror=function(E){return D(E.target.error)}}),m.src=typeof f=="string"||f instanceof String?f:window.URL.createObjectURL(f),g.abrupt("return",v);case 4:case"end":return g.stop()}},r)}))).apply(this,arguments)}})(Xk);const s3=fv(Xk),n3={components:{TrimMedia:VO},props:{show:{type:Boolean,default:!1},type:{type:String,default:""}},mixins:[KO,Cd,DO],data(){return{constraints:{},recordState:"",mediaRecorder:null,camerasNumber:0,mediaChunk:[],devices:[],previewShow:!1,checking:!1,buttonType:null,file:null,stream:null,audioState:"",fileRequirement:{doesntHaveAppropriateSize:!1,doesntHaveAppropriateDuration:!1}}},watch:{type:{immediate:!0,handler(e){e==="image"?this.constraints={video:{width:{ideal:1280},height:{ideal:720}},audio:!1}:e==="video"?this.constraints={video:{width:{ideal:1280},height:{ideal:720}},audio:{echoCancellation:!0}}:e==="audio"&&(this.constraints={video:!1,audio:{echoCancellation:!0}}),this.getEnumeratedDevices(e),this.getUserMedia()}}},computed:{computedAudio(){return this.file?!1:this.type==="audio"},computedImageVideo(){return this.file?!1:this.type==="image"||this.type==="video"}},beforeDestroy(){this.stopStream(),this.resetData()},methods:{clickedButton(e){if(e==="record"){this.clickedRecord();return}this.clickedSend()},getTrimmedFile(e){if(e==="close"){this.clearTrimMediaData(),this.restart();return}this.sendFile(e)},restart(){this.resetData(),this.getUserMedia()},videoStreamReady(){this.type==="image"&&(window.width=this.$refs.mediavideo.getClientRects()[0].width,window.height=this.$refs.mediavideo.videoHeight/this.$refs.mediavideo.videoWidth*width,this.$refs.mediavideo.setAttribute("width",width),this.$refs.mediavideo.setAttribute("height",height),this.$refs.mediacanvas.setAttribute("width",width),this.$refs.mediacanvas.setAttribute("height",height))},clickedRemoveFile(){this.getUserMedia(),this.file=null,this.type==="audio"&&(this.audioState="waiting to record")},clickedPopupResponse(e){if(console.log(e),this.closePopUp(),e=="trim"){this.trimMediaData.file=this.file,this.trimMediaData.show=!0;return}if(e=="cancel"){this.restart();return}},sendFile(e){this.$emit("sendFile",e),this.mainModalDisappear()},async clickedSend(){if(this.type==="image"){this.sendFile(this.file);return}if(this.checking=!0,this.setFileRequirements(await s3(this.file)),this.checking=!1,this.fileRequirement.doesntHaveAppropriateDuration){this.displayPopUp("duration");return}if(this.fileRequirement.doesntHaveAppropriateSize){this.displayPopUp("size");return}this.sendFile(this.file)},setFileRequirements(e){this.resetFileRequirements(),["video","audio"].includes(this.type)&&(e=this.getFormattedDuration(e),this.hasAppropriateSize(this.file,this.type)||(this.fileRequirement.doesntHaveAppropriateSize=!0),this.hasAppropriateDuration(e,this.type)||(this.fileRequirement.doesntHaveAppropriateDuration=!0))},resetFileRequirements(){this.fileRequirement.doesntHaveAppropriateSize=!1,this.fileRequirement.doesntHaveAppropriateDuration=!1},displayPopUp(e){e==="size"&&(this.popUpMessage=`the size of the ${this.type} should be less than ${this.maxSize[this.type]}. trim the file or cancel to delete`),e==="duration"&&(this.popUpMessage=`the duration of the ${this.type} should be less than ${this.maxTime[this.type]}. trim the file or cancel to delete`),this.showPopUp=!0},clickedRecord(){var e;if(this.type==="image"){this.snap(),this.buttonType="send";return}if(((e=this.mediaRecorder)==null?void 0:e.state)==="recording"){this.recordState="stop recording",this.audioState="doneRecording",this.mediaRecorder.stop();return}this.previewShow=!1,this.file=null,this.type==="audio"&&(this.audioState="recording"),this.recordState="recording",this.mediaRecorder.start()},clickedSwitch(){this.camerasNumber<this.devices.length-1?this.camerasNumber+=1:this.camerasNumber=0,this.type==="audio"&&(this.audioState="recording"),this.constraints.video.deviceId=this.devices[this.camerasNumber].deviceId},mainModalDisappear(){this.$emit("closeMediaCapture")},resetData(){this.file=null,this.buttonType="",this.stream=null},stopStream(){this.stream&&this.stream.getTracks().forEach(e=>{e.stop()})},getUserMedia(){navigator.mediaDevices.getUserMedia(this.constraints).then(e=>{if(console.log(e),this.type==="audio"){this.audioState="waiting to record",this.record("audio/mp3");return}this.buttonType="record",!this.videoIsStreaming()&&(this.stream=e,this.$refs.mediavideo.srcObject=e,this.record("video/webm"))}).catch(e=>{console.log(e)})},videoIsStreaming(){var e,t;return this.type==="audio"?!1:!!((e=this.$refs.mediavideo)!=null&&e.srcObject||(t=this.$refs.mediavideo)!=null&&t.src.length)},record(e){this.mediaRecorder=new MediaRecorder(this.stream),this.mediaRecorder.onstart=t=>{},this.mediaRecorder.ondataavailable=t=>{this.mediaChunk.push(t.data)},this.mediaRecorder.onstop=t=>{this.file=new Blob(this.mediaChunk,{type:e}),this.mediaChunk=[],this.previewShow=!0,this.stopStream(),this.buttonType="send"}},snap(){this.$refs.mediacanvas.getContext("2d").drawImage(this.$refs.mediavideo,0,0,width,height),this.$refs.mediacanvas.toBlob(t=>{this.file=t},"image/png")},getEnumeratedDevices(){navigator.mediaDevices.enumerateDevices().then(e=>{e.forEach(t=>{document.createElement("option"),t.kind.includes(this.type)&&this.devices.push(t)})})}}},i3={slot:"main-other"},o3={class:"media-container"},a3={key:0,class:"video-container"},r3={key:1,class:"audio-container"},l3={class:"recorder"},c3={class:"state"},u3={ref:"mediacanvas",class:"hidden"},d3={key:0,class:"z-50 text-white absolute bottom-0 w-full text-center"},h3={class:"buttons absolute bottom-1"};function f3(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("file-preview"),m=_("pop-up"),v=_("trim-media"),g=_("font-awesome-icon"),A=_("main-modal"),D=_("just-fade");return a(),S(D,null,{default:z(()=>[s.show?(a(),S(A,{key:0,show:s.show,main:!1,dark:!0,requests:!1,onMainModalDisappear:n.mainModalDisappear,class:"modal-wrapper"},{default:z(()=>[h("template",i3,[h("div",o3,[n.computedImageVideo?(a(),d("div",a3,[h("video",{autoplay:"",ref:"mediavideo",onCanplay:t[0]||(t[0]=(...E)=>n.videoStreamReady&&n.videoStreamReady(...E)),onResize:t[1]||(t[1]=(...E)=>n.videoStreamReady&&n.videoStreamReady(...E)),muted:""},"your device does not support this",544)])):c("",!0),n.computedAudio?(a(),d("div",r3,[h("div",l3,[h("div",c3,V(i.audioState),1),b(r,{loading:i.audioState==="recording",size:"10px",color:"#ffffff"},null,8,["loading"])])])):c("",!0),i.file?(a(),S(f,{key:2,file:i.file,middle:!0,onRemoveFile:n.clickedRemoveFile},null,8,["file","onRemoveFile"])):c("",!0),h("canvas",u3,null,512),i.devices.length>1&&!i.file?(a(),d("div",{key:3,class:"switch",onClick:t[2]||(t[2]=(...E)=>n.clickedSwitch&&n.clickedSwitch(...E)),title:"change camera"},"switch")):c("",!0)]),b(m,{show:e.showPopUp,responses:["trim","cancel"],default:"cancel",message:e.popUpMessage,onClickedResponse:n.clickedPopupResponse,onClosePopUp:e.closePopUp},null,8,["show","message","onClickedResponse","onClosePopUp"]),b(v,{file:e.trimMediaData.file,show:e.trimMediaData.show,onGetFile:n.getTrimmedFile,onCloseTrimMedia:t[3]||(t[3]=E=>n.getTrimmedFile("close"))},null,8,["file","show","onGetFile"]),i.checking?(a(),d("div",d3," checking for duration... ")):c("",!0)]),h("div",h3,[!i.file&&i.buttonType=="record"?(a(),d("div",{key:0,class:we(["record-button",{recording:i.recordState==="recording"}]),onClick:t[4]||(t[4]=E=>n.clickedButton("record"))},null,2)):c("",!0),i.file&&!i.checking&&i.buttonType=="send"?(a(),d("div",{key:1,class:"send-button",onClick:t[5]||(t[5]=E=>n.clickedButton("send"))},[b(g,{icon:["fa","paper-plane"]})])):c("",!0)])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const Rl=Ae(n3,[["render",f3],["__scopeId","data-v-a8571b9b"]]),m3={components:{MediaCapture:Rl,PostButton:xs},props:{fileTypeStart:{type:String,default:"any"},fileNameEnd:{type:String,default:"any"},inputMultiple:{type:Boolean,default:!1},inputSize:{type:String,default:"long"},hasPreview:{type:Boolean,default:!0},inputIcon:{type:Array,default:null},fileMax:{type:Number,default:5},hasExtraButtons:{type:Boolean,default:!0},bottomBorder:{type:Boolean,default:!1}},data(){return{files:[],fileTypes:[],previewFiles:[],errorMessage:"",error:!1,fileNames:"",previewButton:"preview",fileNamesArray:[],imageType:"image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp",videoType:"video/webm,video/mp4,video/ogg",audioType:"audio/mpeg,audio/ogg,audio/wav",showFileCapture:!1,showMediaCapture:!1,mediaCaptureType:""}},computed:{fileNumber(){return this.files.length>1?`${this.files.length} files`:this.files.length===1?`${this.files.length} file`:"0 files"},disableButton(){return!(this.files.length>0)},inputPlaceholder(){return this.errorMessage?this.errorMessage:this.fileNames?this.fileNames:this.fileTypeStart!="any"?`choose a ${this.fileTypeStart} file`:this.fileNameEnd!="any"?`choose a ${this.fileNameEnd} file`:"no file selected"},inputType(){return this.inputSize==="long"}},watch:{errorMessage(e,t){e!=t&&(this.error=!this.error,this.files=[])},files:{handler(e,t){this.$emit("uploadedFiles",e)},deep:!0,immediate:!0}},methods:{clickedCapture(){this.showFileCapture=!0,setTimeout(()=>{this.showFileCapture=!1},4e3)},clickedFileCapture(e){this.mediaCaptureType=e,this.showMediaCapture=!0},receivedMediaCapture(e){let t,s,o=new Date;o=o.getTime(),e.type.includes("image")?(s=`my_picture${o}.png`,t=new File([e],s,{type:"image/png",lastModified:new Date})):e.type.includes("video")?(s=`my_video${o}.webm`,t=new File([e],s,{type:"video/webm",lastModified:new Date})):e.type.includes("audio")&&(s=`my_audio${o}.mp3`,t=new File([e],s,{type:"audio/mp3",lastModified:new Date})),this.previewInput([t])},closeMediaCapture(){this.mediaCaptureType="",this.showMediaCapture=!1},showPreview(){this.previewFiles=[],this.previewButton==="preview"?(this.previewFiles=this.files,this.previewButton="close preview",this.readFiles(this.files)):this.previewButton="preview"},clearFiles(){this.files=[],this.previewFiles=[],this.fileNamesArray=[],this.fileNames="",this.previewButton="preview"},removeFile(e,t){this.files=[],this.previewFiles.splice(t,1),this.files=this.previewFiles,this.fileNamesArray.splice(t,1),this.fileTypes.splice(t,1),this.fileNames=this.fileNamesArray.join(", "),this.readFiles(this.files)},clickInput(){this.errorMessage="",this.previewButton="preview",this.previewFiles=[],this.$refs.fileInput.click()},inputFiles(e){let t=e.target.files;this.previewInput(t),e.target.value=""},previewInput(e){let t=e;if(this.hasPreview&&t.length>0){for(let s=0;s<t.length;s++){let o=this.fileTypeStart,i=this.fileNameEnd,n=this.fileTypeStart.length,r=this.fileNameEnd.length,f=t[s].type.slice(0,4);if(o!="any"&&t[s].type.slice(0,Math.abs(n))!=o){if(o==="video")return this.errorMessage="only video files are required",null;if(o==="image")return this.errorMessage="only image files are required",null;if(o==="audio")return this.errorMessage="only audio files are required",null;if(o==="application")return this.errorMessage="only pdf and docx files are required",null;if(o==="text")return this.errorMessage="only text files are required",null}if(i!="any"&&t[s].type.slice(-Math.abs(r))!=i){if(i==="mp4")return this.errorMessage="wrong video format",null;if(i==="mp3")return this.errorMessage="wrong audio format",null;if(i==="png"||i==="jpg"||i==="jpeg"||i==="bmp"||i==="gif")return this.errorMessage="wrong file format",null;if(i==="docx"||i==="doc"||i==="pdf"||i==="pdt")return this.errorMessage="wrong file format",null;if(i==="text")return this.errorMessage="should be a .txt file",null}if(this.files.length>=this.fileMax)return this.error=!0,this.errorMessage="you cannot add anymore files",null;this.fileNamesArray.push(t[s].name),this.files.push(t[s]),this.fileTypes.push(f)}this.fileNames=this.fileNamesArray.join(", "),this.$emit("fileInputChange",this.files,this.fileTypes)}},readFiles(e){for(let t=0;t<e.length;t++){let s=new FileReader;s.addEventListener("load",(function(){this.$refs[`file${t}`][0].src="",this.$refs[`file${t}`][0].src=s.result}).bind(this),!1),s.readAsDataURL(e[t])}}}},p3={class:"file-wrapper"},g3=["placeholder"],v3=["title"],y3={key:5,class:"file-capture"},w3=["multiple"],_3={key:0,class:"file-number-wrapper"},b3={class:"file-number"},k3={key:2,class:"preview"},A3={class:"preview-wrapper"},C3=["onClick"],S3={class:"name"};function I3(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("post-button"),m=_("media-capture");return a(),d("div",p3,[h("div",{class:we(["input-wrapper",{"input-error":i.error,bottomborder:s.bottomBorder}])},[n.inputType?(a(),d("input",{key:0,type:"text",readonly:"",placeholder:n.inputPlaceholder,class:"form-control input-text"},null,8,g3)):(a(),d("div",{key:1,onClick:t[0]||(t[0]=Vt((...v)=>n.clickInput&&n.clickInput(...v),["prevent"])),class:"input-text-small"},[b(r,{icon:s.inputIcon},null,8,["icon"])])),s.hasExtraButtons?(a(),d("div",{key:2,class:we(["input-prepend",{disable:n.disableButton}]),title:n.disableButton?"":"clear files",onClick:t[1]||(t[1]=Vt((...v)=>n.clearFiles&&n.clearFiles(...v),["prevent"]))},[b(r,{icon:["fas","ban"]})],10,v3)):c("",!0),s.hasExtraButtons?(a(),d("div",{key:3,class:"input-prepend",title:"add files",onClick:t[2]||(t[2]=Vt((...v)=>n.clickInput&&n.clickInput(...v),["prevent"]))},[b(r,{icon:["fas","upload"]})])):c("",!0),s.hasExtraButtons?(a(),d("div",{key:4,class:"input-prepend",title:"add files",onClick:t[3]||(t[3]=(...v)=>n.clickedCapture&&n.clickedCapture(...v))},[b(r,{icon:["fas","camera-retro"]})])):c("",!0),i.showFileCapture?(a(),d("div",y3,[h("div",{class:"capture",title:"capture an image",onClick:t[4]||(t[4]=v=>n.clickedFileCapture("image"))},[b(r,{icon:["fas","camera"]})]),h("div",{class:"capture",title:"record a video",onClick:t[5]||(t[5]=v=>n.clickedFileCapture("video"))},[b(r,{icon:["fas","video"]})]),h("div",{class:"capture",title:"record an audio",onClick:t[6]||(t[6]=v=>n.clickedFileCapture("audio"))},[b(r,{icon:["fas","microphone"]})])])):c("",!0)],2),h("input",{type:"file",ref:"fileInput",multiple:s.inputMultiple,onChange:t[7]||(t[7]=(...v)=>n.inputFiles&&n.inputFiles(...v)),class:"hidden"},null,40,w3),s.fileMax>1?(a(),d("div",_3,[h("div",b3,V(n.fileNumber),1)])):c("",!0),this.files.length?(a(),S(f,{key:1,buttonText:i.previewButton,onClick:n.showPreview},null,8,["buttonText","onClick"])):c("",!0),i.previewFiles.length?(a(),d("div",k3,[h("div",A3,[(a(!0),d(Z,null,pe(i.previewFiles,(v,g)=>(a(),d("div",{key:g,class:"preview-file"},[h("div",{class:"delete-icon",onClick:A=>n.removeFile(v,g)},[b(r,{icon:["fa","trash"]})],8,C3),v.type.includes("image")?(a(),d("img",{key:0,ref_for:!0,ref:`file${g}`},null,512)):v.type.includes("video")?(a(),d("video",{key:1,controls:"",controlslist:"nodownload",ref_for:!0,ref:`file${g}`},null,512)):v.type.includes("audio")?(a(),d("audio",{key:2,controls:"",controlslist:"nodownload",ref_for:!0,ref:`file${g}`},null,512)):(a(),d("div",{key:3,class:"default-preview",ref_for:!0,ref:`file${g}`},[h("div",S3,V(v.name),1)],512))]))),128))])])):c("",!0),i.showMediaCapture?(a(),S(m,{key:3,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receivedMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0)])}const T3=Ae(m3,[["render",I3],["__scopeId","data-v-87e221ba"]]),D3={components:{},props:{flatPickrConfig:{type:Object,default(){return{maxDate:"today",dateFormat:"F j, Y",altFormat:"F j, Y"}}},bottomBorder:{type:Boolean,default:!1},value:{type:String,default:""},placeholder:{type:String,default:""}},data(){return{datePicked:""}},watch:{datePicked(e){this.$emit("datePicked",e),this.$emit("input",e)},value:{immediate:!0,handler(e){this.datePicked!==e&&(this.datePicked=e)}},placeholder:{immediate:!0,handler(e){}}}};function x3(e,t,s,o,i,n){const r=_("flat-pickr");return a(),d("div",{class:we(["text-input-wrapper",{bottomborder:s.bottomBorder}])},[b(r,{class:"form-control",modelValue:i.datePicked,"onUpdate:modelValue":t[0]||(t[0]=f=>i.datePicked=f),config:s.flatPickrConfig,placeholder:s.placeholder},null,8,["modelValue","config","placeholder"])],2)}const wc=Ae(D3,[["render",x3],["__scopeId","data-v-69edac1d"]]),P3={props:{placeholder:{type:String,default:""},prepend:{type:String,default:""},value:{type:String,default:""},ttaClass:{type:String,default:""},error:{type:Boolean,default:!1},bottomBorder:{type:Boolean,default:!1},inputMax:{type:Number,default:100},hasMax:{type:Boolean,default:!1}},watch:{value(e,t){this.hasMax&&e.length>this.inputMax&&this.$emit("input",t)}},data(){return{}},methods:{change(e){this.$emit("input",e.target.value)},clickedPrepend(){this.$emit("clickedPrepend")}}},M3={class:"text-textarea-wrapper"},E3=["placeholder","value"];function O3(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",M3,[h("div",{class:we(["main",{error:s.error,bottomborder:s.bottomBorder}])},[h("textarea",{placeholder:s.placeholder,onInput:t[0]||(t[0]=(...f)=>n.change&&n.change(...f)),value:s.value,class:we(["form-control",{transparent:s.ttaClass==="transparent"}])},null,42,E3)],2),s.prepend.length?(a(),d("div",{key:0,class:"prepend",onClick:t[1]||(t[1]=(...f)=>n.clickedPrepend&&n.clickedPrepend(...f))},[b(r,{icon:["fa",s.prepend]},null,8,["icon"])])):c("",!0)])}const kn=Ae(P3,[["render",O3],["__scopeId","data-v-d354a6d2"]]),R3={components:{PostButton:xs,TextTextarea:kn},props:{show:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},example:{type:String,default:""},propsArray:{type:Array,default(){return[]}},error:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data(){return{inputError:!1,theArray:[],currentArrayPosition:0,arrayPositions:0,input:"",temporaryInput:"",showListText:"show list",showList:!1}},watch:{showList(e){e?this.showListText="hide list":this.showListText="show list"},input(e){this.inputError=!1,e&&e!=""&&this.currentArrayPosition<this.arrayPositions&&(this.theArray[this.currentArrayPosition]=e),this.$emit("textArrayData",{input:e,temporaryInput:this.temporaryInput,inputArray:this.theArray,positions:this.arrayPositions,currentPosition:this.currentArrayPosition})},temporaryInput(e){this.$emit("textArrayData",{input:this.input,temporaryInput:e,inputArray:this.theArray,positions:this.arrayPositions,currentPosition:this.currentArrayPosition})},theArray:{immediate:!0,handler(e){this.$emit("textArrayData",{input:this.input,temporaryInput:this.temporaryInput,inputArray:e,positions:this.arrayPositions,currentPosition:this.currentArrayPosition})},deep:!0},error:{immediate:!0,handler(e){this.inputError=e}},edit:{immediate:!0,handler(e){this.theArray=this.propsArray}}},computed:{disablePrevious(){return this.currentArrayPosition-1<0},disableNext(){return this.input&&this.input.trim()!=""?!1:this.currentArrayPosition+1>this.arrayPositions},computedLastItem(){return this.temporaryInput||this.input?this.currentArrayPosition===this.arrayPositions?this.input:this.temporaryInput:""},computedShowLastItem(){return!!(this.theArray&&this.theArray[this.theArray.length-1]!==this.computedLastItem)}},methods:{clickedShowList(){this.showList=!this.showList},pushSection(){this.input&&this.input.trim()!=""?(this.arrayPositions===this.currentArrayPosition?this.theArray.push(this.input):this.theArray[this.currentArrayPosition]=this.input,this.input="",this.arrayPositions++,this.currentArrayPosition++):this.inputError=!0},popSection(){this.currentArrayPosition===this.arrayPositions?this.input="":(this.theArray.pop(this.currentArrayPosition),this.currentArrayPosition-1>=0&&(this.currentArrayPosition-=1),this.arrayPositions-1>=0&&(this.arrayPositions-=1)),this.currentArrayPosition===0&&this.arrayPositions===0&&(this.input="")},clickedPrevious(){this.currentArrayPosition===this.arrayPositions&&(this.temporaryInput=this.input),this.currentArrayPosition-=1,this.input=this.theArray[this.currentArrayPosition]},clickedNext(){this.currentArrayPosition===this.arrayPositions?(this.arrayPositions+=1,this.currentArrayPosition+=1,this.theArray.push(this.input)):this.currentArrayPosition+=1,this.currentArrayPosition===this.arrayPositions?this.input=this.temporaryInput:this.input=this.theArray[this.currentArrayPosition]}}},N3={key:0,class:"text-array-wrapper my-2"},L3={class:"form-edit"},F3={key:1},U3={key:3,class:"show-list"},B3={key:0,class:"array-list"},j3={class:"lower"};function V3(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("text-textarea"),m=_("post-button");return s.show?(a(),d("div",N3,[h("div",{class:"add",onClick:t[0]||(t[0]=(...v)=>n.pushSection&&n.pushSection(...v)),title:"add another section"},[b(r,{icon:["fa","plus"]})]),i.theArray.length>0?(a(),d("div",{key:0,class:"minus",onClick:t[1]||(t[1]=(...v)=>n.popSection&&n.popSection(...v)),title:"remove current section"},[b(r,{icon:["fa","minus"]})])):c("",!0),h("div",L3,[b(f,{type:"text",onKeyup:hu(n.pushSection,["enter"]),placeholder:s.placeholder,error:i.inputError,bottomBorder:!0,modelValue:i.input,"onUpdate:modelValue":t[2]||(t[2]=v=>i.input=v)},null,8,["onKeyup","placeholder","error","modelValue"])]),s.example.length?(a(),d("p",F3,V(`eg. ${s.example}`),1)):c("",!0),i.theArray.length?(a(),d("div",{key:2,class:we(["show-list-button",{showActive:i.showList}]),onClick:t[3]||(t[3]=(...v)=>n.clickedShowList&&n.clickedShowList(...v))},V(i.showListText),3)):c("",!0),i.showList?(a(),d("div",U3,[(a(!0),d(Z,null,pe(i.theArray,(v,g)=>(a(),d("div",{class:"array-list",key:g},V(v),1))),128)),n.computedShowLastItem?(a(),d("div",B3,V(n.computedLastItem),1)):c("",!0)])):c("",!0),h("div",j3,[b(m,{buttonText:"previous",makeDisabled:n.disablePrevious,onClick:n.clickedPrevious,title:"previous section"},null,8,["makeDisabled","onClick"]),b(m,{buttonText:"next",makeDisabled:n.disableNext,onClick:n.clickedNext,title:"next section"},null,8,["makeDisabled","onClick"])])])):c("",!0)}const Uf=Ae(R3,[["render",V3],["__scopeId","data-v-d5b021c3"]]),q3={class:"main-textarea-wrapper"},H3=["name","id","disabled","placeholder","value"],W3={key:0,class:"max-section"},z3={__name:"MainTextarea",props:{textName:{type:String,default:""},disabled:{type:Boolean,default:!1},sm:{type:Boolean,default:!1},modelValue:{type:String,default:""},hasMax:{type:Boolean,default:!1},inputMax:{type:Number,default:100},textPlaceholder:{type:String,default:""},textId(){return{type:String,default:""}}},emits:["update:modelValue"],setup(e,{emit:t}){const s=t,o=e;Us(()=>o.modelValue,(v,g)=>{o.hasMax&&v.length>o.inputMax&&s("update:modelValue",g),m()});const i=Wt(()=>({"min-height":n.value}));Ol(()=>{m()});const n=at("0"),r=at(null);function f(v){s("update:modelValue",v.target.value),m()}function m(){r.value&&(r.value.style.height="1px",r.value.style.height=`${r.value.scrollHeight}px`)}return(v,g)=>(a(),d("div",q3,[h("textarea",{name:e.textName,id:e.textId,class:we(["form-control",{sm:e.sm}]),disabled:e.disabled,placeholder:e.textPlaceholder,onInput:f,value:e.modelValue,style:Pi(i.value),ref_key:"inputtextarea",ref:r},null,46,H3),e.hasMax?(a(),d("div",W3,V(`${e.modelValue.length}/${e.inputMax}`),1)):c("",!0)]))}},dr=Ae(z3,[["__scopeId","data-v-750f3a89"]]),G3={props:{type:{type:String,default:""},editableData:{type:Object,default:null},showForm:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},fileMax:{type:Number,default:1},chat:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},components:{PostButton:xs,MainTextarea:dr,TextArray:Uf,TextTextarea:kn,DatePicker:wc,FileInput:T3,NumberInput:fa,TextInput:js},data(){return{textareaContent:"",inputContent:null,flatPickrConfig:{minDate:"today",dateFormat:"F j, Y H:i",enableTime:!0,maxDate:new Date().fp_incr(14)},inputTitle:"",inputAbout:"",inputDescription:"",inputAuthorNames:"",inputPublished:"",inputPublishedPlaceholder:"select a date to publish",inputEditPublished:"",inputQuestion:"",inputSection:"",inputRiddle:"",alertMessage:"",inputScore:"",alertError:!1,inputFile:null,temporarySection:"",errorRiddle:!1,errorFile:!1,errorTitle:!1,errorQuestion:!1,errorScore:!1,errorDescription:!1,errorSection:!1,poemSections:0,currentPoemSections:0,poemSectionsObject:[],editPoemSections:!1,errorAnswers:!1,inputAnswer:"",temporaryInputAnswer:"",answerArrayPositions:0,answerArrayCurrentPosition:0,answersArray:[],editAnswersArray:!1,answerYes:!1,showPossibleAnswers:!1}},watch:{inputTitle(e){this.errorTitle=!1},inputRiddle(e){this.errorRiddle=!1},inputQuestion(e){this.errorQuestion=!1},editableData:{immediate:!0,handler(e){this.edit&&(this.textareaContent=e.content,e&&e.type&&(this.inputPublishedPlaceholder=new Date(e.type[0].published).toDateString().slice(4),e.typeName==="book"?(this.inputTitle=e.type[0].title,this.inputAbout=e.type[0].about,this.inputAuthorNames=e.type[0].authorNames):e.typeName==="poem"?(this.inputTitle=e.type[0].title,this.inputAbout=e.type[0].about,this.poemSectionsObject=e.type[0].sections,this.editPoemSections=!!this.edit,this.poemSections=e.type[0].sections.length-1,this.inputAuthorNames=e.type[0].authorNames):e.typeName==="riddle"?(this.inputAuthorNames=e.type[0].authorNames,this.inputRiddle=e.type[0].body):e.typeName==="activity"?this.inputDescription=e.type[0].description:e.typeName==="question"&&(this.inputQuestion=e.type[0].body)))},deep:!0}},computed:{computedBody(){return this.edit},computedRiddle(){return this.type==="riddle"?!0:!!(this.edit&&this.editableData.typeName==="riddle")},computedTitle(){return this.type==="book"||this.type==="poem"?!0:!!(this.edit&&(this.editableData.typeName==="book"||this.editableData.typeName==="poem"))},computedAuthor(){return this.type==="book"||this.type==="poem"||this.type==="riddle"?!0:!!(this.edit&&(this.editableData.typeName==="book"||this.editableData.typeName==="poem"||this.editableData.typeName==="riddle"))},computedAbout(){return this.type==="book"||this.type==="poem"?!0:!!(this.edit&&(this.editableData.typeName==="book"||this.editableData.typeName==="poem"))},computedDescription(){return this.type==="activity"?!0:!!(this.edit&&this.editableData.typeName==="activity")},computedPublished(){return!(this.chat||this.edit&&this.editableData.type===null)},computedSection(){return this.type==="poem"?!0:!!(this.edit&&this.editableData.typeName==="poem")},computedQuestion(){return this.type==="question"?!0:!!(this.edit&&this.editableData.typeName==="question")},computedLoading(){return!!this.loading}},methods:{getInputScore(e){this.inputScore=e},clickedAnswerYes(){this.answerYes=!this.answerYes,this.answerYes?this.showPossibleAnswers=!0:this.showPossibleAnswers=!1},poemArrayData(e){this.poemSectionsObject=e.inputArray,this.temporarySection=e.temporaryInput,this.currentPoemSections=e.currentPosition,this.inputSection=e.input,this.poemSections=e.positions},answerArrayData(e){this.answersArray=e.inputArray,this.temporaryInputAnswer=e.temporaryInput,this.answerArrayCurrentPosition=e.currentPosition,this.inputAnswer=e.input,this.answerArrayPositions=e.positions},datePicked(e){this.inputPublished=e},clearAlert(){this.alertMessage="",this.alertError=!1},uploadedFiles(e){this.inputFile=e},clickedCreate(){let e={},t=!1;if(this.type==="book")this.inputTitle.trim()===""?(this.alertError=!0,this.alertMessage="please enter the title of book",this.errorTitle=!0,t=!0):e={title:this.inputTitle,authorNames:this.inputAuthorNames,about:this.inputAbout,published:this.inputPublished,file:this.inputFile};else if(this.type==="poem")if(this.inputTitle.trim()==="")this.alertError=!0,this.alertMessage="please enter the title of peom",this.errorTitle=!0,t=!0;else if(this.poemSectionsObject.length===0&&this.inputSection.trim()==="")this.alertError=!0,this.alertMessage="please enter at least one section of the poem",this.errorSection=!0,t=!0;else{let s=this.poemSectionsObject;this.poemSections===this.currentPoemSections?this.inputSection&&this.inputSection.trim()!==""?s.push(this.inputSection.trim()):s.push(this.temporarySection.trim()):this.temporarySection&&this.temporarySection.trim()!==""&&s.push(this.temporarySection.trim()),e={title:this.inputTitle,authorNames:this.inputAuthorNames,about:this.inputAbout,sections:s,published:this.inputPublished,file:this.inputFile}}else if(this.type==="question"){if(this.inputQuestion.trim()==="")this.alertError=!0,this.alertMessage="please enter the question",this.errorQuestion=!0,t=!0;else if(this.answerYes&&this.answersArray.length<2&&this.inputAnswer==="")this.alertError=!0,this.alertMessage="please enter at least 2 possible answers",this.errorAnswers=!0,t=!0;else if(Number(this.inputScore)<5)this.alertError=!0,this.alertMessage="please enter number greater than 5",this.errorScore=!0,t=!0;else if(this.inputScore.trim()==="")this.alertError=!0,this.alertMessage="please enter number for scoring answers",this.errorScore=!0,t=!0;else if(e={body:this.inputQuestion,scoreOver:this.inputScore,published:this.inputPublished,file:this.inputFile},this.answerYes){let s=this.answersArray;this.answerArrayPositions===this.answerArrayCurrentPosition?this.inputAnswer&&this.inputAnswer.trim()!==""?s.push(this.inputAnswer.trim()):s.push(this.temporaryInputAnswer.trim()):this.temporaryInputAnswer&&this.temporaryInputAnswer.trim()!==""&&s.push(this.temporaryInputAnswer.trim()),e.possibleAnswers=s}}else this.type==="riddle"?this.inputRiddle.trim()===""?(this.alertError=!0,this.alertMessage="please enter the riddle",this.errorRiddle=!0,t=!0):Number(this.inputScore)<5?(this.alertError=!0,this.alertMessage="please enter number greater than 5",this.errorScore=!0,t=!0):this.inputScore.trim()===""?(this.alertError=!0,this.alertMessage="please enter number for scoring answers",this.errorScore=!0,t=!0):e={authorNames:this.inputAuthorNames,body:this.inputRiddle,scoreOver:this.inputScore,published:this.inputPublished,file:this.inputFile}:this.type==="activity"&&(this.inputDescription.trim()===""?(this.alertError=!0,this.alertMessage="please enter a description for this activity",this.errorDescription=!0,t=!0):this.inputFile.length<1?(this.alertError=!0,this.alertMessage="please select a file for this activity",this.errorFile=!0,setTimeout(function(){this.errorFile=!0},2e3),t=!0):e={published:this.inputPublished,description:this.inputDescription,file:this.inputFile});t||(this.edit?(e.type=this.editableData.typeName,e.postId=this.editableData.id,e.content=this.textareaContent,e.contentFile=this.inputFile,this.$emit("clickedEdit",e)):this.$emit("clickedCreate",e),this.closeModal())},closeModal(){this.inputSection=[],this.inputAbout="",this.inputDescription="",this.inputDescription="",this.inputTitle="",this.inputPublished="",this.inputQuestion="",this.inputRiddle="",this.inputScore="",this.inputFile={},this.textareaContent="",this.$emit("mainModalDisappear")}}},Y3={slot:"input"},Q3={key:0,class:"form-edit"},K3={key:1,class:"form-edit"},J3={key:2,class:"form-edit"},X3={key:3,class:"form-edit"},$3={key:4,class:"form-edit"},Z3={key:5,class:"ask-answers"},e4={key:6,class:"ask-answers"},t4={key:8,class:"form-edit"},s4={key:9,class:"form-edit"},n4={key:10,class:"form-edit"},i4={key:12,class:"form-edit"},o4={slot:"buttons"};function a4(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("text-input"),m=_("main-textarea"),v=_("text-textarea"),g=_("number-input"),A=_("text-array"),D=_("date-picker"),E=_("file-input"),T=_("post-button"),N=_("welcome-form"),F=_("main-modal");return s.showForm?(a(),S(F,{key:0,onMainModalDisappear:n.closeModal,alertMessage:i.alertMessage,alertError:i.alertError,loading:n.computedLoading,onClearAlert:n.clearAlert,request:!1},{default:z(()=>[n.computedLoading?(a(),S(r,{key:0,loading:n.computedLoading},null,8,["loading"])):(a(),S(N,{key:1},{default:z(()=>[h("template",Y3,[n.computedAuthor?(a(),d("div",Q3,[b(f,{placeholder:"author names",bottomBorder:!0,modelValue:i.inputAuthorNames,"onUpdate:modelValue":t[0]||(t[0]=R=>i.inputAuthorNames=R)},null,8,["modelValue"])])):c("",!0),n.computedBody?(a(),d("div",K3,[b(m,{type:"text",placeholder:"what do you have in mind*",modelValue:i.textareaContent,"onUpdate:modelValue":t[1]||(t[1]=R=>i.textareaContent=R)},null,8,["modelValue"])])):c("",!0),n.computedQuestion?(a(),d("div",J3,[b(v,{type:"text",placeholder:"question*",error:i.errorQuestion,bottomBorder:!0,modelValue:i.inputQuestion,"onUpdate:modelValue":t[2]||(t[2]=R=>i.inputQuestion=R)},null,8,["error","modelValue"])])):c("",!0),n.computedRiddle?(a(),d("div",X3,[b(v,{type:"text",placeholder:"your riddle*",error:i.errorRiddle,bottomBorder:!0,modelValue:i.inputRiddle,"onUpdate:modelValue":t[3]||(t[3]=R=>i.inputRiddle=R)},null,8,["error","modelValue"])])):c("",!0),n.computedRiddle||n.computedQuestion?(a(),d("div",$3,[b(g,{title:"answers scored over...",placeholder:"answers scored over*",error:i.errorScore,bottomBorder:!0,onNumberinput:n.getInputScore,value:i.inputScore},null,8,["error","onNumberinput","value"])])):c("",!0),n.computedRiddle||n.computedQuestion?(a(),d("div",Z3," max value is 100 and min value is 5 ")):c("",!0),n.computedQuestion?(a(),d("div",e4,[Mt(" does it have possible answers? "),h("div",{class:we(["no",{yes:!i.answerYes}]),onClick:t[4]||(t[4]=(...R)=>n.clickedAnswerYes&&n.clickedAnswerYes(...R))},V(i.answerYes?"no":"yes"),3)])):c("",!0),i.showPossibleAnswers?(a(),S(A,{key:7,show:i.showPossibleAnswers,error:i.errorAnswers,propsArray:i.answersArray,edit:i.editAnswersArray,placeholder:"possible answers",onTextArrayData:n.answerArrayData},null,8,["show","error","propsArray","edit","onTextArrayData"])):c("",!0),n.computedTitle?(a(),d("div",t4,[b(f,{placeholder:"title*",error:i.errorTitle,bottomBorder:!0,modelValue:i.inputTitle,"onUpdate:modelValue":t[5]||(t[5]=R=>i.inputTitle=R)},null,8,["error","modelValue"])])):c("",!0),n.computedDescription?(a(),d("div",s4,[b(v,{type:"text",placeholder:"description*",error:i.errorDescription,bottomBorder:!0,modelValue:i.inputDescription,"onUpdate:modelValue":t[6]||(t[6]=R=>i.inputDescription=R)},null,8,["error","modelValue"])])):c("",!0),n.computedAbout?(a(),d("div",n4,[b(v,{type:"text",placeholder:"about",bottomBorder:!0,modelValue:i.inputAbout,"onUpdate:modelValue":t[7]||(t[7]=R=>i.inputAbout=R)},null,8,["modelValue"])])):c("",!0),n.computedSection?(a(),S(A,{key:11,show:n.computedSection,error:i.errorSection,propsArray:i.poemSectionsObject,edit:i.editPoemSections,placeholder:"poem section",onTextArrayData:n.poemArrayData},null,8,["show","error","propsArray","edit","onTextArrayData"])):c("",!0),n.computedPublished?(a(),d("div",i4,[b(D,{flatPickrConfig:i.flatPickrConfig,bottomBorder:!0,value:i.inputEditPublished,placeholder:i.inputPublishedPlaceholder,onDatePicked:n.datePicked},null,8,["flatPickrConfig","value","placeholder","onDatePicked"])])):c("",!0),b(E,{fileMax:s.fileMax,error:i.errorFile,bottomBorder:!0,onUploadedFiles:n.uploadedFiles},null,8,["fileMax","error","onUploadedFiles"])]),h("template",o4,[b(T,{buttonText:s.edit?"save":"ok",buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1}))]),_:1},8,["onMainModalDisappear","alertMessage","alertError","loading","onClearAlert"])):c("",!0)}const mv=Ae(G3,[["render",a4]]),r4={props:{value:{type:Boolean,default:!1},label:{type:String,default:""},small:{type:Boolean,default:!1}},data(){return{inputValue:!1,randomId:""}},watch:{inputValue(e){this.$refs.checkboxicon.classList.toggle("icon"),this.$emit("input",e)},value:{immediate:!0,handler(e){this.inputValue=e}}},mounted(){this.randomId=`maincheckbox${Math.floor(Math.random()*1e3)}`},methods:{toggleValue(){this.inputValue=!this.inputValue}}},l4=["id"],c4=["for"];function u4(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",{class:we(["main-checkbox-wrapper",{small:s.small}])},[cn(h("input",{type:"checkbox",id:i.randomId,"onUpdate:modelValue":t[0]||(t[0]=f=>i.inputValue=f)},null,8,l4),[[bk,i.inputValue]]),h("div",{class:"no-icon",onClick:t[1]||(t[1]=(...f)=>n.toggleValue&&n.toggleValue(...f)),ref:"checkboxicon"},[s.value?(a(),S(r,{key:0,icon:["fa","check"]})):c("",!0)],512),h("label",{for:i.randomId},V(s.label),9,c4)],2)}const Vi=Ae(r4,[["render",u4],["__scopeId","data-v-5f28525d"]]),d4={components:{},props:{placeholder:{type:String,default:"search here"},homeSearch:{type:Boolean,default:!1},background:{type:Boolean,default:!0},value:{type:String,default:""},paClass:{type:String,default:""}},data(){return{searchText:"",closeActive:!1,showClose:!1}},watch:{searchText(e){e.length?this.showClose=!0:this.showClose=!1,this.$emit("search",e)},value(e){this.searchText=e}},methods:{search(){this.$emit("search",this.searchText)},clickedClose(){this.closeActive=!0,setTimeout(()=>{this.closeActive=!1},2e3),this.searchText=""}}},h4=["placeholder"];function f4(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",{class:we(["search-wrapper",{background:s.background,home:s.homeSearch}])},[h("div",{class:we(["input-search",{gray:s.paClass==="gray"}]),title:"search",onClick:t[0]||(t[0]=Vt((...f)=>n.search&&n.search(...f),["prevent"]))},[b(r,{icon:["fas","search"]})],2),cn(h("input",{type:"text",name:"search",class:"form-control input-text","onUpdate:modelValue":t[1]||(t[1]=f=>i.searchText=f),placeholder:s.placeholder},null,8,h4),[[yi,i.searchText]]),i.showClose?(a(),d("div",{key:0,class:we(["input-close",{gray:s.paClass==="gray",closeActive:i.closeActive}]),onClick:t[2]||(t[2]=(...f)=>n.clickedClose&&n.clickedClose(...f))},[b(r,{icon:["fa","times"]})],2)):c("",!0)],2)}const hr=Ae(d4,[["render",f4],["__scopeId","data-v-46eac64d"]]),m4={};function p4(e,t,s,o,i,n){return a(),S(No,{name:"fade-left"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const Bf=Ae(m4,[["render",p4],["__scopeId","data-v-ba99b672"]]),g4={components:{FadeLeft:Bf},props:{items:{type:Array,default(){return[{id:1,name:"good"},{id:2,name:"better"},{id:3,name:"best"}]}},placeholder:{type:String,default:"select"},value:{type:String,default:""},show:{type:Boolean,default:!0},special:{type:Boolean,default:!1},error:{type:Boolean,default:!1},next:{type:Number,default:1},bottomBorder:{type:Boolean,default:!1}},data(){return{selection:"",showSelection:!1,last:0}},watch:{show(e,t){e||(this.selection="")},value:{immediate:!0,handler(e){e||(this.selection="")}}},methods:{clickedSelect(){this.showSelection=!this.showSelection},clickedSelection(e){this.selection=e.name,this.showSelection=!1,this.$emit("clickedSelection",e)},async infiniteHandler(e){console.log(this.next),this.next?this.next===this.last||(e.loaded(),this.last=this.next,this.$emit("getMore")):e.complete()}}},v4={key:0},y4={class:"icon"},w4={slot:"transition"},_4=["value","onClick"],b4=["value","onClick","title"],k4={class:"top"},A4={key:0,class:"bottom"};function C4(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("infinite-loading"),m=_("just-fade"),v=_("fade-left");return a(),S(v,null,{default:z(()=>[s.show?(a(),d("div",{key:0,class:we(["select-input-wrapper",{error:s.error,bottomborder:s.bottomBorder}])},[h("div",{class:"main",onClick:t[0]||(t[0]=(...g)=>n.clickedSelect&&n.clickedSelect(...g))},[s.placeholder.length?(a(),d("div",v4,V(i.selection.length?i.selection:s.placeholder),1)):c("",!0),h("div",y4,[b(r,{icon:["fa","chevron-down"]})])]),b(m,null,{default:z(()=>[h("template",w4,[i.showSelection?(a(),d("div",{key:0,class:we(["selection",{special:s.special}]),ref:"selection","infinite-wrapper":""},[s.special?(a(),d(Z,{key:1},[(a(!0),d(Z,null,pe(s.items,g=>(a(),d("div",{class:we(["special",{specialActive:i.selection===g.name}]),key:g.id,value:g,onClick:A=>n.clickedSelection(g),title:g.description?g.description:""},[h("div",k4,V(g.name),1),g.description&&g.description.length?(a(),d("div",A4,V(`description: ${g.description}`),1)):c("",!0)],10,b4))),128)),s.next!==1?(a(),S(f,{key:0,onInfinite:n.infiniteHandler,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)],64)):(a(!0),d(Z,{key:0},pe(s.items,g=>(a(),d("div",{class:we(["option",{active:i.selection===g.name}]),key:g.id,value:g,onClick:A=>n.clickedSelection(g)},V(g.name),11,_4))),128))],2)):c("",!0)])]),_:1})],2)):c("",!0)]),_:1})}const S4=Ae(g4,[["render",C4],["__scopeId","data-v-e28a90ac"]]),I4={};function T4(e,t,s,o,i,n){return a(),S(No,{name:"fade-up"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const $k=Ae(I4,[["render",T4],["__scopeId","data-v-923ce2c4"]]),D4={};function x4(e,t,s,o,i,n){return a(),S(_k,{tag:"div",class:"slide-up-wrapper",name:"slide-up",appear:""},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const jf=Ae(D4,[["render",x4],["__scopeId","data-v-b6a57d18"]]),P4={};function M4(e,t,s,o,i,n){return a(),S(No,{name:"fade-right"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const ma=Ae(P4,[["render",M4],["__scopeId","data-v-f20b9881"]]),E4={props:{show:{type:Boolean,default:!0},main:{type:Boolean,default:!0},mainOther:{type:Boolean,default:!0},long:{type:Boolean,default:!1},dark:{type:Boolean,default:!1},requests:{type:Boolean,default:!0},requestsAlone:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},scrollUp:{type:Boolean,default:!1},heading:{type:String,default:""},alertMessage:{type:String,default:""},alertError:{type:Boolean,default:!1},alertSuccess:{type:Boolean,default:!1}},components:{FadeRight:ma},data(){return{}},watch:{show:{immediate:!0,handler(e){e&&this.$emit("mainModalAppear")}},scrollUp(e){e&&this.$refs.mainmodal.scrollTo(0,0)},alertMessage:{immediate:!0,handler(e){this.alertMessage.length>0&&setTimeout(()=>{this.$emit("clearAlert")},4e3)}}},computed:{showAlert(){return this.alertMessage.length>0},computedMain(){return this.loading?!1:!!this.main},computedMainOther(){return this.loading?!1:!!this.mainOther},computedHeading(){return this.heading.length>0}},methods:{disappear(){this.$emit("mainModalDisappear")},clickedMain(){this.$emit("clickedMain")}}},O4={class:"heading"},R4={key:0,class:"loading-errors"},N4={key:1,class:"main"},L4={key:2,class:"main-other"},F4={key:0,class:"alert-wrapper"};function U4(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("fade-right");return s.show?(a(),d("div",{key:0,class:we(["modal-wrapper",{long:s.long}]),onClick:t[2]||(t[2]=Vt((...m)=>n.disappear&&n.disappear(...m),["self"]))},[h("div",{class:we(["main-modal",{dark:s.dark}]),onClick:t[1]||(t[1]=Vt((...m)=>n.clickedMain&&n.clickedMain(...m),["self"])),ref:"mainmodal"},[h("div",{class:"close",onClick:t[0]||(t[0]=(...m)=>n.disappear&&n.disappear(...m))},[b(r,{icon:["fas","times"]})]),h("template",null,[h("div",O4,[Mt(V(s.heading)+" ",1),n.computedHeading?c("",!0):Jt(e.$slots,"heading",{key:0},void 0,!0)]),s.loading?(a(),d("div",R4,[Jt(e.$slots,"loading",{},void 0,!0),Jt(e.$slots,"errors",{},void 0,!0)])):c("",!0),n.computedMain?(a(),d("div",N4,[Jt(e.$slots,"main",{},void 0,!0)])):c("",!0),n.computedMainOther?(a(),d("div",L4,[Jt(e.$slots,"main-other",{},void 0,!0)])):c("",!0),!s.loading&&s.requests?(a(),d("div",{key:3,class:we(["requests",{alone:s.requestsAlone}])},[Jt(e.$slots,"requests",{},void 0,!0)],2)):c("",!0),Jt(e.$slots,"default",{},void 0,!0)]),b(f,null,{default:z(()=>[n.showAlert?(a(),d("div",F4,[h("div",{class:we(["alert",{alertError:s.alertError,alertSuccess:s.alertSuccess}])},V(s.alertMessage),3)])):c("",!0)]),_:1})],2)],2)):c("",!0)}const Sd=Ae(E4,[["render",U4],["__scopeId","data-v-3af533a9"]]),B4={props:{title:{type:String,default:""},titleBadge:{type:Boolean,default:!1}},data(){return{}},components:{},methods:{}},j4={class:"welcome-form"},V4={class:"form-section"},q4={class:"buttons"};function H4(e,t,s,o,i,n){return a(),d("div",j4,[h("div",{class:we(["title",{"title-badge":s.titleBadge}])},V(s.title),3),h("div",V4,[Jt(e.$slots,"input",{},void 0,!0),h("div",q4,[Jt(e.$slots,"buttons",{},void 0,!0)])])])}const _c=Ae(B4,[["render",H4],["__scopeId","data-v-5cedebf8"]]),W4={};function z4(e,t,s,o,i,n){return a(),S(No,{name:"fade"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const uo=Ae(W4,[["render",z4],["__scopeId","data-v-26737ed9"]]),G4={props:{showEdit:{type:Boolean,default:!1},classes:{type:String,default:""}},data(){return{show:!1}},components:{JustFade:uo,BlackWhiteBadge:Ad},methods:{methodShow(){this.showEdit?this.show=!0:this.show=!1},methodHide(){this.showEdit?this.show=!0:this.show=!1},clicked(){this.$emit("editProfile")}},computed:{computedShow(){return this.showEdit?!!this.show:!1}}},Y4={class:"profile-picture-in w-10/12 h-10/12"},Q4={class:"edit"},K4={slot:"transition"},J4={slot:"badge"};function X4(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("black-white-badge"),m=_("just-fade");return a(),d("div",{class:we(["profile-picture-out",[s.classes,s.classes.length?"":"w-full h-full"]]),onMouseover:t[0]||(t[0]=v=>i.show=!0),onMouseleave:t[1]||(t[1]=v=>i.show=!1)},[h("div",Y4,[h("div",Q4,[b(m,null,{default:z(()=>[h("template",K4,[n.computedShow?(a(),S(f,{key:0,onClick:n.clicked},{default:z(()=>[h("template",J4,[b(r,{icon:["fa","edit"]})])]),_:1},8,["onClick"])):c("",!0)])]),_:1})]),Jt(e.$slots,"image",{},void 0,!0)])],34)}const Ys=Ae(G4,[["render",X4],["__scopeId","data-v-5185b40a"]]),$4={props:{greenActionTitle:{type:String,default:""},redActionTitle:{type:String,default:""},id:{type:Number,default:null},smallType:{type:Boolean,default:!1},justName:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},maxType:{type:Boolean,default:!1},routeName:{type:String,default:"profile"},profile:{type:Object,default(){return{}}},extraData:{type:Object,default(){return null}},navigate:{type:Boolean,default:!0},actions:{type:Boolean,default:!1}},components:{ProfilePicture:Ys},methods:{goToRoute(){if(this.navigate){const e=mo();let t={name:this.routeName,params:{account:this.profile.account,accountId:`${this.profile.accountId}`}};e.push(t)}else this.$emit("clickedProfile",{account:this.profile.account,accountId:this.profile.accountId,extraData:this.extraData});this.$emit("clickedProfileBar")}},computed:{}},Z4={slot:"image"},eR=["src"],tR={key:2,class:"actions"},sR={key:0,class:"loading"};function nR(e,t,s,o,i,n){const r=_("profile-picture"),f=_("pulse-loader");return a(),d("div",{class:we(["profile-bar",{small:s.smallType,max:s.maxType,"just-name":s.justName}]),onClick:t[3]||(t[3]=Vt((...m)=>n.goToRoute&&n.goToRoute(...m),["self"]))},[s.justName?c("",!0):(a(),d("div",{key:0,class:"profile",onClick:t[0]||(t[0]=(...m)=>n.goToRoute&&n.goToRoute(...m))},[s.profile.url.length>0?(a(),S(r,{key:0},{default:z(()=>[h("template",Z4,[h("img",{src:s.profile.url,alt:"profile picture"},null,8,eR)])]),_:1})):c("",!0)])),h("div",{class:"name",onClick:t[1]||(t[1]=(...m)=>n.goToRoute&&n.goToRoute(...m))},V(s.profile.name),1),s.justName?c("",!0):(a(),d("div",{key:1,class:"type",onClick:t[2]||(t[2]=(...m)=>n.goToRoute&&n.goToRoute(...m))},V(s.profile.account),1)),s.actions||!s.justName?(a(),d("div",tR,[s.loading?(a(),d("div",sR,[b(f,{loading:s.loading,size:"10px"},null,8,["loading"])])):c("",!0)])):c("",!0)],2)}const oi=Ae($4,[["render",nR],["__scopeId","data-v-61d39334"]]);var af={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */af.exports;(function(e,t){(function(){var s,o="4.17.21",i=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",f="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",v=500,g="__lodash_placeholder__",A=1,D=2,E=4,T=1,N=2,F=1,R=2,j=4,W=8,Q=16,le=32,me=64,k=128,Ce=256,he=512,Ke=30,Te="...",Ve=800,ut=16,de=1,We=2,Qt=3,Lt=1/0,wt=9007199254740991,Je=17976931348623157e292,Xe=NaN,tt=4294967295,At=tt-1,Ct=tt>>>1,ls=[["ary",k],["bind",F],["bindKey",R],["curry",W],["curryRight",Q],["flip",he],["partial",le],["partialRight",me],["rearg",Ce]],Ut="[object Arguments]",qt="[object Array]",ce="[object AsyncFunction]",xe="[object Boolean]",it="[object Date]",vt="[object DOMException]",Gt="[object Error]",jt="[object Function]",ne="[object GeneratorFunction]",re="[object Map]",Pe="[object Number]",Qe="[object Null]",Be="[object Object]",Ze="[object Promise]",ht="[object Proxy]",rt="[object RegExp]",ot="[object Set]",qe="[object String]",mt="[object Symbol]",Et="[object Undefined]",Ne="[object WeakMap]",Pt="[object WeakSet]",Zt="[object ArrayBuffer]",$e="[object DataView]",_t="[object Float32Array]",bs="[object Float64Array]",Zs="[object Int8Array]",qs="[object Int16Array]",sn="[object Int32Array]",nn="[object Uint8Array]",Is="[object Uint8ClampedArray]",Hs="[object Uint16Array]",Ws="[object Uint32Array]",Qn=/\b__p \+= '';/g,xn=/\b(__p \+=) '' \+/g,Pn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,dn=/&(?:amp|lt|gt|quot|#39);/g,Sn=/[&<>"']/g,qo=RegExp(dn.source),J=RegExp(Sn.source),ee=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Ue=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bt=/^\w*$/,cs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kt=/[\\^$.*+?()[\]{}|]/g,is=RegExp(kt.source),St=/^\s+/,Yt=/\s/,Ms=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Mn=/\{\n\/\* \[wrapped with (.+)\] \*/,_n=/,? & /,ai=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ri=/[()=,{}\[\]\/\s]/,wo=/\\(\\)?/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt=/\w*$/,ys=/^[-+]0x[0-9a-f]+$/i,ks=/^0b[01]+$/i,fn=/^\[object .+?Constructor\]$/,mn=/^0o[0-7]+$/i,li=/^(?:0|[1-9]\d*)$/,an=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,ya=/['\n\r\u2028\u2029\\]/g,_o="\\ud800-\\udfff",qi="\\u0300-\\u036f",Ho="\\ufe20-\\ufe2f",wa="\\u20d0-\\u20ff",Va=qi+Ho+wa,_a="\\u2700-\\u27bf",Ci="a-z\\xdf-\\xf6\\xf8-\\xff",Gr="\\xac\\xb1\\xd7\\xf7",Hi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qa="\\u2000-\\u206f",gr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",vr="A-Z\\xc0-\\xd6\\xd8-\\xde",On="\\ufe0e\\ufe0f",Wi=Gr+Hi+qa+gr,Si="[']",Fl="["+_o+"]",Wo="["+Wi+"]",Jn="["+Va+"]",zo="\\d+",Xn="["+_a+"]",ci="["+Ci+"]",zi="[^"+_o+Wi+zo+_a+Ci+vr+"]",yr="\\ud83c[\\udffb-\\udfff]",Rn="(?:"+Jn+"|"+yr+")",Ha="[^"+_o+"]",Gi="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="["+vr+"]",Qi="\\u200d",Ii="(?:"+ci+"|"+zi+")",$n="(?:"+Yi+"|"+zi+")",Zn="(?:"+Si+"(?:d|ll|m|re|s|t|ve))?",Go="(?:"+Si+"(?:D|LL|M|RE|S|T|VE))?",wr=Rn+"?",Wa="["+On+"]?",za="(?:"+Qi+"(?:"+[Ha,Gi,ba].join("|")+")"+Wa+wr+")*",Yr="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",_r="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ga=Wa+wr+za,Ul="(?:"+[Xn,Gi,ba].join("|")+")"+Ga,Bl="(?:"+[Ha+Jn+"?",Jn,Gi,ba,Fl].join("|")+")",br=RegExp(Si,"g"),kr=RegExp(Jn,"g"),Ya=RegExp(yr+"(?="+yr+")|"+Bl+Ga,"g"),jl=RegExp([Yi+"?"+ci+"+"+Zn+"(?="+[Wo,Yi,"$"].join("|")+")",$n+"+"+Go+"(?="+[Wo,Yi+Ii,"$"].join("|")+")",Yi+"?"+Ii+"+"+Zn,Yi+"+"+Go,_r,Yr,zo,Ul].join("|"),"g"),Qa=RegExp("["+Qi+_o+Va+On+"]"),Vl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ka=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ql=-1,Xs={};Xs[_t]=Xs[bs]=Xs[Zs]=Xs[qs]=Xs[sn]=Xs[nn]=Xs[Is]=Xs[Hs]=Xs[Ws]=!0,Xs[Ut]=Xs[qt]=Xs[Zt]=Xs[xe]=Xs[$e]=Xs[it]=Xs[Gt]=Xs[jt]=Xs[re]=Xs[Pe]=Xs[Be]=Xs[rt]=Xs[ot]=Xs[qe]=Xs[Ne]=!1;var Tt={};Tt[Ut]=Tt[qt]=Tt[Zt]=Tt[$e]=Tt[xe]=Tt[it]=Tt[_t]=Tt[bs]=Tt[Zs]=Tt[qs]=Tt[sn]=Tt[re]=Tt[Pe]=Tt[Be]=Tt[rt]=Tt[ot]=Tt[qe]=Tt[mt]=Tt[nn]=Tt[Is]=Tt[Hs]=Tt[Ws]=!0,Tt[Gt]=Tt[jt]=Tt[Ne]=!1;var Ja={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Yo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Qr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Kr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xa=parseFloat,Hl=parseInt,Jr=typeof ac=="object"&&ac&&ac.Object===Object&&ac,Ki=typeof self=="object"&&self&&self.Object===Object&&self,$s=Jr||Ki||Function("return this")(),$a=t&&!t.nodeType&&t,ei=$a&&!0&&e&&!e.nodeType&&e,Vn=ei&&ei.exports===$a,Ar=Vn&&Jr.process,ui=function(){try{var $=ei&&ei.require&&ei.require("util").types;return $||Ar&&Ar.binding&&Ar.binding("util")}catch{}}(),p=ui&&ui.isArrayBuffer,w=ui&&ui.isDate,I=ui&&ui.isMap,x=ui&&ui.isRegExp,U=ui&&ui.isSet,B=ui&&ui.isTypedArray;function H($,_e,ye){switch(ye.length){case 0:return $.call(_e);case 1:return $.call(_e,ye[0]);case 2:return $.call(_e,ye[0],ye[1]);case 3:return $.call(_e,ye[0],ye[1],ye[2])}return $.apply(_e,ye)}function fe($,_e,ye,Ge){for(var et=-1,Rt=$==null?0:$.length;++et<Rt;){var Nt=$[et];_e(Ge,Nt,ye(Nt),$)}return Ge}function ie($,_e){for(var ye=-1,Ge=$==null?0:$.length;++ye<Ge&&_e($[ye],ye,$)!==!1;);return $}function Se($,_e){for(var ye=$==null?0:$.length;ye--&&_e($[ye],ye,$)!==!1;);return $}function je($,_e){for(var ye=-1,Ge=$==null?0:$.length;++ye<Ge;)if(!_e($[ye],ye,$))return!1;return!0}function He($,_e){for(var ye=-1,Ge=$==null?0:$.length,et=0,Rt=[];++ye<Ge;){var Nt=$[ye];_e(Nt,ye,$)&&(Rt[et++]=Nt)}return Rt}function Ee($,_e){var ye=$==null?0:$.length;return!!ye&&Le($,_e,0)>-1}function lt($,_e,ye){for(var Ge=-1,et=$==null?0:$.length;++Ge<et;)if(ye(_e,$[Ge]))return!0;return!1}function It($,_e){for(var ye=-1,Ge=$==null?0:$.length,et=Array(Ge);++ye<Ge;)et[ye]=_e($[ye],ye,$);return et}function ms($,_e){for(var ye=-1,Ge=_e.length,et=$.length;++ye<Ge;)$[et+ye]=_e[ye];return $}function Ht($,_e,ye,Ge){var et=-1,Rt=$==null?0:$.length;for(Ge&&Rt&&(ye=$[++et]);++et<Rt;)ye=_e(ye,$[et],et,$);return ye}function pn($,_e,ye,Ge){var et=$==null?0:$.length;for(Ge&&et&&(ye=$[--et]);et--;)ye=_e(ye,$[et],et,$);return ye}function rn($,_e){for(var ye=-1,Ge=$==null?0:$.length;++ye<Ge;)if(_e($[ye],ye,$))return!0;return!1}var L=ws("length");function C($){return $.split("")}function O($){return $.match(ai)||[]}function X($,_e,ye){var Ge;return ye($,function(et,Rt,Nt){if(_e(et,Rt,Nt))return Ge=Rt,!1}),Ge}function se($,_e,ye,Ge){for(var et=$.length,Rt=ye+(Ge?1:-1);Ge?Rt--:++Rt<et;)if(_e($[Rt],Rt,$))return Rt;return-1}function Le($,_e,ye){return _e===_e?Au($,_e,ye):se($,Ot,ye)}function pt($,_e,ye,Ge){for(var et=ye-1,Rt=$.length;++et<Rt;)if(Ge($[et],_e))return et;return-1}function Ot($){return $!==$}function $t($,_e){var ye=$==null?0:$.length;return ye?qn($,_e)/ye:Xe}function ws($){return function(_e){return _e==null?s:_e[$]}}function As($){return function(_e){return $==null?s:$[_e]}}function zs($,_e,ye,Ge,et){return et($,function(Rt,Nt,Dt){ye=Ge?(Ge=!1,Rt):_e(ye,Rt,Nt,Dt)}),ye}function di($,_e){var ye=$.length;for($.sort(_e);ye--;)$[ye]=$[ye].value;return $}function qn($,_e){for(var ye,Ge=-1,et=$.length;++Ge<et;){var Rt=_e($[Ge]);Rt!==s&&(ye=ye===s?Rt:ye+Rt)}return ye}function Qo($,_e){for(var ye=-1,Ge=Array($);++ye<$;)Ge[ye]=_e(ye);return Ge}function Oi($,_e){return It(_e,function(ye){return[ye,$[ye]]})}function ti($){return $&&$.slice(0,Xo($)+1).replace(St,"")}function gn($){return function(_e){return $(_e)}}function Za($,_e){return It(_e,function(ye){return $[ye]})}function Ji($,_e){return $.has(_e)}function Cs($,_e){for(var ye=-1,Ge=$.length;++ye<Ge&&Le(_e,$[ye],0)>-1;);return ye}function Ko($,_e){for(var ye=$.length;ye--&&Le(_e,$[ye],0)>-1;);return ye}function Gn($,_e){for(var ye=$.length,Ge=0;ye--;)$[ye]===_e&&++Ge;return Ge}var bo=As(Ja),Cr=As(Yo);function ko($){return"\\"+Kr[$]}function Ao($,_e){return $==null?s:$[_e]}function In($){return Qa.test($)}function ka($){return Vl.test($)}function Xi($){for(var _e,ye=[];!(_e=$.next()).done;)ye.push(_e.value);return ye}function er($){var _e=-1,ye=Array($.size);return $.forEach(function(Ge,et){ye[++_e]=[et,Ge]}),ye}function hi($,_e){return function(ye){return $(_e(ye))}}function fi($,_e){for(var ye=-1,Ge=$.length,et=0,Rt=[];++ye<Ge;){var Nt=$[ye];(Nt===_e||Nt===g)&&($[ye]=g,Rt[et++]=ye)}return Rt}function Aa($){var _e=-1,ye=Array($.size);return $.forEach(function(Ge){ye[++_e]=Ge}),ye}function Wl($){var _e=-1,ye=Array($.size);return $.forEach(function(Ge){ye[++_e]=[Ge,Ge]}),ye}function Au($,_e,ye){for(var Ge=ye-1,et=$.length;++Ge<et;)if($[Ge]===_e)return Ge;return-1}function Xr($,_e,ye){for(var Ge=ye+1;Ge--;)if($[Ge]===_e)return Ge;return Ge}function Jo($){return In($)?Tc($):L($)}function mi($){return In($)?te($):C($)}function Xo($){for(var _e=$.length;_e--&&Yt.test($.charAt(_e)););return _e}var $o=As(Qr);function Tc($){for(var _e=Ya.lastIndex=0;Ya.test($);)++_e;return _e}function te($){return $.match(Ya)||[]}function ve($){return $.match(jl)||[]}var Oe=function $(_e){_e=_e==null?$s:Fe.defaults($s.Object(),_e,Fe.pick($s,Ka));var ye=_e.Array,Ge=_e.Date,et=_e.Error,Rt=_e.Function,Nt=_e.Math,Dt=_e.Object,Ss=_e.RegExp,zt=_e.String,Es=_e.TypeError,bn=ye.prototype,An=Rt.prototype,Nn=Dt.prototype,pi=_e["__core-js_shared__"],Co=An.toString,as=Nn.hasOwnProperty,um=0,qd=function(){var l=/[^.]+$/.exec(pi&&pi.keys&&pi.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Dc=Nn.toString,dm=Co.call(Dt),Hd=$s._,hm=Ss("^"+Co.call(as).replace(kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zl=Vn?_e.Buffer:s,Zo=_e.Symbol,xc=_e.Uint8Array,Cu=zl?zl.allocUnsafe:s,Pc=hi(Dt.getPrototypeOf,Dt),Wd=Dt.create,zd=Nn.propertyIsEnumerable,Gl=bn.splice,Gd=Zo?Zo.isConcatSpreadable:s,Ca=Zo?Zo.iterator:s,So=Zo?Zo.toStringTag:s,Mc=function(){try{var l=$l(Dt,"defineProperty");return l({},"",{}),l}catch{}}(),Ec=_e.clearTimeout!==$s.clearTimeout&&_e.clearTimeout,Yl=Ge&&Ge.now!==$s.Date.now&&Ge.now,fm=_e.setTimeout!==$s.setTimeout&&_e.setTimeout,Oc=Nt.ceil,Rc=Nt.floor,Sr=Dt.getOwnPropertySymbols,mm=zl?zl.isBuffer:s,Su=_e.isFinite,Yd=bn.join,pm=hi(Dt.keys,Dt),Ln=Nt.max,si=Nt.min,gm=Ge.now,vm=_e.parseInt,Qd=Nt.random,ym=bn.reverse,Nc=$l(_e,"DataView"),$r=$l(_e,"Map"),Iu=$l(_e,"Promise"),Zr=$l(_e,"Set"),Ql=$l(_e,"WeakMap"),Sa=$l(Dt,"create"),Ia=Ql&&new Ql,el={},Lc=Zl(Nc),Kl=Zl($r),wm=Zl(Iu),_m=Zl(Zr),Kd=Zl(Ql),tr=Zo?Zo.prototype:s,tl=tr?tr.valueOf:s,Tu=tr?tr.toString:s;function Y(l){if(Tn(l)&&!Ts(l)&&!(l instanceof Fs)){if(l instanceof $i)return l;if(as.call(l,"__wrapped__"))return cw(l)}return new $i(l)}var sl=function(){function l(){}return function(u){if(!Cn(u))return{};if(Wd)return Wd(u);l.prototype=u;var y=new l;return l.prototype=s,y}}();function Fc(){}function $i(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=s}Y.templateSettings={escape:ee,evaluate:ke,interpolate:Ue,variable:"",imports:{_:Y}},Y.prototype=Fc.prototype,Y.prototype.constructor=Y,$i.prototype=sl(Fc.prototype),$i.prototype.constructor=$i;function Fs(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=tt,this.__views__=[]}function Jd(){var l=new Fs(this.__wrapped__);return l.__actions__=Zi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Zi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Zi(this.__views__),l}function bm(){if(this.__filtered__){var l=new Fs(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Uc(){var l=this.__wrapped__.value(),u=this.__dir__,y=Ts(l),P=u<0,q=y?l.length:0,K=kS(0,q,this.__views__),ue=K.start,be=K.end,Ie=be-ue,st=P?be:ue-1,nt=this.__iteratees__,ct=nt.length,xt=0,Kt=si(Ie,this.__takeCount__);if(!y||!P&&q==Ie&&Kt==Ie)return Ey(l,this.__actions__);var hs=[];e:for(;Ie--&&xt<Kt;){st+=u;for(var Rs=-1,fs=l[st];++Rs<ct;){var Bs=nt[Rs],Vs=Bs.iteratee,xo=Bs.type,Li=Vs(fs);if(xo==We)fs=Li;else if(!Li){if(xo==de)continue e;break e}}hs[xt++]=fs}return hs}Fs.prototype=sl(Fc.prototype),Fs.prototype.constructor=Fs;function Me(l){var u=-1,y=l==null?0:l.length;for(this.clear();++u<y;){var P=l[u];this.set(P[0],P[1])}}function ge(){this.__data__=Sa?Sa(null):{},this.size=0}function ae(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u}function M(l){var u=this.__data__;if(Sa){var y=u[l];return y===m?s:y}return as.call(u,l)?u[l]:s}function G(l){var u=this.__data__;return Sa?u[l]!==s:as.call(u,l)}function oe(l,u){var y=this.__data__;return this.size+=this.has(l)?0:1,y[l]=Sa&&u===s?m:u,this}Me.prototype.clear=ge,Me.prototype.delete=ae,Me.prototype.get=M,Me.prototype.has=G,Me.prototype.set=oe;function Re(l){var u=-1,y=l==null?0:l.length;for(this.clear();++u<y;){var P=l[u];this.set(P[0],P[1])}}function ze(){this.__data__=[],this.size=0}function ft(l){var u=this.__data__,y=Xd(u,l);if(y<0)return!1;var P=u.length-1;return y==P?u.pop():Gl.call(u,y,1),--this.size,!0}function us(l){var u=this.__data__,y=Xd(u,l);return y<0?s:u[y][1]}function Gs(l){return Xd(this.__data__,l)>-1}function Qs(l,u){var y=this.__data__,P=Xd(y,l);return P<0?(++this.size,y.push([l,u])):y[P][1]=u,this}Re.prototype.clear=ze,Re.prototype.delete=ft,Re.prototype.get=us,Re.prototype.has=Gs,Re.prototype.set=Qs;function ln(l){var u=-1,y=l==null?0:l.length;for(this.clear();++u<y;){var P=l[u];this.set(P[0],P[1])}}function ea(){this.size=0,this.__data__={hash:new Me,map:new($r||Re),string:new Me}}function Io(l){var u=ch(this,l).delete(l);return this.size-=u?1:0,u}function nl(l){return ch(this,l).get(l)}function Du(l){return ch(this,l).has(l)}function km(l,u){var y=ch(this,l),P=y.size;return y.set(l,u),this.size+=y.size==P?0:1,this}ln.prototype.clear=ea,ln.prototype.delete=Io,ln.prototype.get=nl,ln.prototype.has=Du,ln.prototype.set=km;function sr(l){var u=-1,y=l==null?0:l.length;for(this.__data__=new ln;++u<y;)this.add(l[u])}function I0(l){return this.__data__.set(l,m),this}function T0(l){return this.__data__.has(l)}sr.prototype.add=sr.prototype.push=I0,sr.prototype.has=T0;function Ta(l){var u=this.__data__=new Re(l);this.size=u.size}function D0(){this.__data__=new Re,this.size=0}function x0(l){var u=this.__data__,y=u.delete(l);return this.size=u.size,y}function P0(l){return this.__data__.get(l)}function M0(l){return this.__data__.has(l)}function E0(l,u){var y=this.__data__;if(y instanceof Re){var P=y.__data__;if(!$r||P.length<i-1)return P.push([l,u]),this.size=++y.size,this;y=this.__data__=new ln(P)}return y.set(l,u),this.size=y.size,this}Ta.prototype.clear=D0,Ta.prototype.delete=x0,Ta.prototype.get=P0,Ta.prototype.has=M0,Ta.prototype.set=E0;function cy(l,u){var y=Ts(l),P=!y&&ec(l),q=!y&&!P&&ll(l),K=!y&&!P&&!q&&qc(l),ue=y||P||q||K,be=ue?Qo(l.length,zt):[],Ie=be.length;for(var st in l)(u||as.call(l,st))&&!(ue&&(st=="length"||q&&(st=="offset"||st=="parent")||K&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||xr(st,Ie)))&&be.push(st);return be}function uy(l){var u=l.length;return u?l[Om(0,u-1)]:s}function O0(l,u){return uh(Zi(l),Jl(u,0,l.length))}function R0(l){return uh(Zi(l))}function Am(l,u,y){(y!==s&&!Da(l[u],y)||y===s&&!(u in l))&&Ir(l,u,y)}function xu(l,u,y){var P=l[u];(!(as.call(l,u)&&Da(P,y))||y===s&&!(u in l))&&Ir(l,u,y)}function Xd(l,u){for(var y=l.length;y--;)if(Da(l[y][0],u))return y;return-1}function N0(l,u,y,P){return il(l,function(q,K,ue){u(P,q,y(q),ue)}),P}function dy(l,u){return l&&ir(u,ni(u),l)}function L0(l,u){return l&&ir(u,to(u),l)}function Ir(l,u,y){u=="__proto__"&&Mc?Mc(l,u,{configurable:!0,enumerable:!0,value:y,writable:!0}):l[u]=y}function Cm(l,u){for(var y=-1,P=u.length,q=ye(P),K=l==null;++y<P;)q[y]=K?s:ip(l,u[y]);return q}function Jl(l,u,y){return l===l&&(y!==s&&(l=l<=y?l:y),u!==s&&(l=l>=u?l:u)),l}function ta(l,u,y,P,q,K){var ue,be=u&A,Ie=u&D,st=u&E;if(y&&(ue=q?y(l,P,q,K):y(l)),ue!==s)return ue;if(!Cn(l))return l;var nt=Ts(l);if(nt){if(ue=CS(l),!be)return Zi(l,ue)}else{var ct=Ti(l),xt=ct==jt||ct==ne;if(ll(l))return Ny(l,be);if(ct==Be||ct==Ut||xt&&!q){if(ue=Ie||xt?{}:ew(l),!be)return Ie?fS(l,L0(ue,l)):hS(l,dy(ue,l))}else{if(!Tt[ct])return q?l:{};ue=SS(l,ct,be)}}K||(K=new Ta);var Kt=K.get(l);if(Kt)return Kt;K.set(l,ue),xw(l)?l.forEach(function(fs){ue.add(ta(fs,u,y,fs,l,K))}):Tw(l)&&l.forEach(function(fs,Bs){ue.set(Bs,ta(fs,u,y,Bs,l,K))});var hs=st?Ie?Wm:Hm:Ie?to:ni,Rs=nt?s:hs(l);return ie(Rs||l,function(fs,Bs){Rs&&(Bs=fs,fs=l[Bs]),xu(ue,Bs,ta(fs,u,y,Bs,l,K))}),ue}function F0(l){var u=ni(l);return function(y){return hy(y,l,u)}}function hy(l,u,y){var P=y.length;if(l==null)return!P;for(l=Dt(l);P--;){var q=y[P],K=u[q],ue=l[q];if(ue===s&&!(q in l)||!K(ue))return!1}return!0}function fy(l,u,y){if(typeof l!="function")throw new Es(r);return Lu(function(){l.apply(s,y)},u)}function Pu(l,u,y,P){var q=-1,K=Ee,ue=!0,be=l.length,Ie=[],st=u.length;if(!be)return Ie;y&&(u=It(u,gn(y))),P?(K=lt,ue=!1):u.length>=i&&(K=Ji,ue=!1,u=new sr(u));e:for(;++q<be;){var nt=l[q],ct=y==null?nt:y(nt);if(nt=P||nt!==0?nt:0,ue&&ct===ct){for(var xt=st;xt--;)if(u[xt]===ct)continue e;Ie.push(nt)}else K(u,ct,P)||Ie.push(nt)}return Ie}var il=jy(nr),my=jy(Im,!0);function U0(l,u){var y=!0;return il(l,function(P,q,K){return y=!!u(P,q,K),y}),y}function $d(l,u,y){for(var P=-1,q=l.length;++P<q;){var K=l[P],ue=u(K);if(ue!=null&&(be===s?ue===ue&&!Do(ue):y(ue,be)))var be=ue,Ie=K}return Ie}function B0(l,u,y,P){var q=l.length;for(y=Os(y),y<0&&(y=-y>q?0:q+y),P=P===s||P>q?q:Os(P),P<0&&(P+=q),P=y>P?0:Mw(P);y<P;)l[y++]=u;return l}function py(l,u){var y=[];return il(l,function(P,q,K){u(P,q,K)&&y.push(P)}),y}function gi(l,u,y,P,q){var K=-1,ue=l.length;for(y||(y=TS),q||(q=[]);++K<ue;){var be=l[K];u>0&&y(be)?u>1?gi(be,u-1,y,P,q):ms(q,be):P||(q[q.length]=be)}return q}var Sm=Vy(),gy=Vy(!0);function nr(l,u){return l&&Sm(l,u,ni)}function Im(l,u){return l&&gy(l,u,ni)}function Zd(l,u){return He(u,function(y){return Pr(l[y])})}function Xl(l,u){u=al(u,l);for(var y=0,P=u.length;l!=null&&y<P;)l=l[or(u[y++])];return y&&y==P?l:s}function vy(l,u,y){var P=u(l);return Ts(l)?P:ms(P,y(l))}function Ri(l){return l==null?l===s?Et:Qe:So&&So in Dt(l)?bS(l):RS(l)}function Tm(l,u){return l>u}function j0(l,u){return l!=null&&as.call(l,u)}function V0(l,u){return l!=null&&u in Dt(l)}function q0(l,u,y){return l>=si(u,y)&&l<Ln(u,y)}function Dm(l,u,y){for(var P=y?lt:Ee,q=l[0].length,K=l.length,ue=K,be=ye(K),Ie=1/0,st=[];ue--;){var nt=l[ue];ue&&u&&(nt=It(nt,gn(u))),Ie=si(nt.length,Ie),be[ue]=!y&&(u||q>=120&&nt.length>=120)?new sr(ue&&nt):s}nt=l[0];var ct=-1,xt=be[0];e:for(;++ct<q&&st.length<Ie;){var Kt=nt[ct],hs=u?u(Kt):Kt;if(Kt=y||Kt!==0?Kt:0,!(xt?Ji(xt,hs):P(st,hs,y))){for(ue=K;--ue;){var Rs=be[ue];if(!(Rs?Ji(Rs,hs):P(l[ue],hs,y)))continue e}xt&&xt.push(hs),st.push(Kt)}}return st}function H0(l,u,y,P){return nr(l,function(q,K,ue){u(P,y(q),K,ue)}),P}function Mu(l,u,y){u=al(u,l),l=iw(l,u);var P=l==null?l:l[or(na(u))];return P==null?s:H(P,l,y)}function yy(l){return Tn(l)&&Ri(l)==Ut}function W0(l){return Tn(l)&&Ri(l)==Zt}function z0(l){return Tn(l)&&Ri(l)==it}function Eu(l,u,y,P,q){return l===u?!0:l==null||u==null||!Tn(l)&&!Tn(u)?l!==l&&u!==u:G0(l,u,y,P,Eu,q)}function G0(l,u,y,P,q,K){var ue=Ts(l),be=Ts(u),Ie=ue?qt:Ti(l),st=be?qt:Ti(u);Ie=Ie==Ut?Be:Ie,st=st==Ut?Be:st;var nt=Ie==Be,ct=st==Be,xt=Ie==st;if(xt&&ll(l)){if(!ll(u))return!1;ue=!0,nt=!1}if(xt&&!nt)return K||(K=new Ta),ue||qc(l)?Xy(l,u,y,P,q,K):wS(l,u,Ie,y,P,q,K);if(!(y&T)){var Kt=nt&&as.call(l,"__wrapped__"),hs=ct&&as.call(u,"__wrapped__");if(Kt||hs){var Rs=Kt?l.value():l,fs=hs?u.value():u;return K||(K=new Ta),q(Rs,fs,y,P,K)}}return xt?(K||(K=new Ta),_S(l,u,y,P,q,K)):!1}function Y0(l){return Tn(l)&&Ti(l)==re}function xm(l,u,y,P){var q=y.length,K=q,ue=!P;if(l==null)return!K;for(l=Dt(l);q--;){var be=y[q];if(ue&&be[2]?be[1]!==l[be[0]]:!(be[0]in l))return!1}for(;++q<K;){be=y[q];var Ie=be[0],st=l[Ie],nt=be[1];if(ue&&be[2]){if(st===s&&!(Ie in l))return!1}else{var ct=new Ta;if(P)var xt=P(st,nt,Ie,l,u,ct);if(!(xt===s?Eu(nt,st,T|N,P,ct):xt))return!1}}return!0}function wy(l){if(!Cn(l)||xS(l))return!1;var u=Pr(l)?hm:fn;return u.test(Zl(l))}function Q0(l){return Tn(l)&&Ri(l)==rt}function K0(l){return Tn(l)&&Ti(l)==ot}function J0(l){return Tn(l)&&gh(l.length)&&!!Xs[Ri(l)]}function _y(l){return typeof l=="function"?l:l==null?so:typeof l=="object"?Ts(l)?Ay(l[0],l[1]):ky(l):qw(l)}function Pm(l){if(!Nu(l))return pm(l);var u=[];for(var y in Dt(l))as.call(l,y)&&y!="constructor"&&u.push(y);return u}function X0(l){if(!Cn(l))return OS(l);var u=Nu(l),y=[];for(var P in l)P=="constructor"&&(u||!as.call(l,P))||y.push(P);return y}function Mm(l,u){return l<u}function by(l,u){var y=-1,P=eo(l)?ye(l.length):[];return il(l,function(q,K,ue){P[++y]=u(q,K,ue)}),P}function ky(l){var u=Gm(l);return u.length==1&&u[0][2]?sw(u[0][0],u[0][1]):function(y){return y===l||xm(y,l,u)}}function Ay(l,u){return Qm(l)&&tw(u)?sw(or(l),u):function(y){var P=ip(y,l);return P===s&&P===u?op(y,l):Eu(u,P,T|N)}}function eh(l,u,y,P,q){l!==u&&Sm(u,function(K,ue){if(q||(q=new Ta),Cn(K))$0(l,u,ue,y,eh,P,q);else{var be=P?P(Jm(l,ue),K,ue+"",l,u,q):s;be===s&&(be=K),Am(l,ue,be)}},to)}function $0(l,u,y,P,q,K,ue){var be=Jm(l,y),Ie=Jm(u,y),st=ue.get(Ie);if(st){Am(l,y,st);return}var nt=K?K(be,Ie,y+"",l,u,ue):s,ct=nt===s;if(ct){var xt=Ts(Ie),Kt=!xt&&ll(Ie),hs=!xt&&!Kt&&qc(Ie);nt=Ie,xt||Kt||hs?Ts(be)?nt=be:Fn(be)?nt=Zi(be):Kt?(ct=!1,nt=Ny(Ie,!0)):hs?(ct=!1,nt=Ly(Ie,!0)):nt=[]:Fu(Ie)||ec(Ie)?(nt=be,ec(be)?nt=Ew(be):(!Cn(be)||Pr(be))&&(nt=ew(Ie))):ct=!1}ct&&(ue.set(Ie,nt),q(nt,Ie,P,K,ue),ue.delete(Ie)),Am(l,y,nt)}function Cy(l,u){var y=l.length;if(y)return u+=u<0?y:0,xr(u,y)?l[u]:s}function Sy(l,u,y){u.length?u=It(u,function(K){return Ts(K)?function(ue){return Xl(ue,K.length===1?K[0]:K)}:K}):u=[so];var P=-1;u=It(u,gn(ds()));var q=by(l,function(K,ue,be){var Ie=It(u,function(st){return st(K)});return{criteria:Ie,index:++P,value:K}});return di(q,function(K,ue){return dS(K,ue,y)})}function Z0(l,u){return Iy(l,u,function(y,P){return op(l,P)})}function Iy(l,u,y){for(var P=-1,q=u.length,K={};++P<q;){var ue=u[P],be=Xl(l,ue);y(be,ue)&&Ou(K,al(ue,l),be)}return K}function eS(l){return function(u){return Xl(u,l)}}function Em(l,u,y,P){var q=P?pt:Le,K=-1,ue=u.length,be=l;for(l===u&&(u=Zi(u)),y&&(be=It(l,gn(y)));++K<ue;)for(var Ie=0,st=u[K],nt=y?y(st):st;(Ie=q(be,nt,Ie,P))>-1;)be!==l&&Gl.call(be,Ie,1),Gl.call(l,Ie,1);return l}function Ty(l,u){for(var y=l?u.length:0,P=y-1;y--;){var q=u[y];if(y==P||q!==K){var K=q;xr(q)?Gl.call(l,q,1):Lm(l,q)}}return l}function Om(l,u){return l+Rc(Qd()*(u-l+1))}function tS(l,u,y,P){for(var q=-1,K=Ln(Oc((u-l)/(y||1)),0),ue=ye(K);K--;)ue[P?K:++q]=l,l+=y;return ue}function Rm(l,u){var y="";if(!l||u<1||u>wt)return y;do u%2&&(y+=l),u=Rc(u/2),u&&(l+=l);while(u);return y}function Ls(l,u){return Xm(nw(l,u,so),l+"")}function sS(l){return uy(Hc(l))}function nS(l,u){var y=Hc(l);return uh(y,Jl(u,0,y.length))}function Ou(l,u,y,P){if(!Cn(l))return l;u=al(u,l);for(var q=-1,K=u.length,ue=K-1,be=l;be!=null&&++q<K;){var Ie=or(u[q]),st=y;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return l;if(q!=ue){var nt=be[Ie];st=P?P(nt,Ie,be):s,st===s&&(st=Cn(nt)?nt:xr(u[q+1])?[]:{})}xu(be,Ie,st),be=be[Ie]}return l}var Dy=Ia?function(l,u){return Ia.set(l,u),l}:so,iS=Mc?function(l,u){return Mc(l,"toString",{configurable:!0,enumerable:!1,value:rp(u),writable:!0})}:so;function oS(l){return uh(Hc(l))}function sa(l,u,y){var P=-1,q=l.length;u<0&&(u=-u>q?0:q+u),y=y>q?q:y,y<0&&(y+=q),q=u>y?0:y-u>>>0,u>>>=0;for(var K=ye(q);++P<q;)K[P]=l[P+u];return K}function aS(l,u){var y;return il(l,function(P,q,K){return y=u(P,q,K),!y}),!!y}function th(l,u,y){var P=0,q=l==null?P:l.length;if(typeof u=="number"&&u===u&&q<=Ct){for(;P<q;){var K=P+q>>>1,ue=l[K];ue!==null&&!Do(ue)&&(y?ue<=u:ue<u)?P=K+1:q=K}return q}return Nm(l,u,so,y)}function Nm(l,u,y,P){var q=0,K=l==null?0:l.length;if(K===0)return 0;u=y(u);for(var ue=u!==u,be=u===null,Ie=Do(u),st=u===s;q<K;){var nt=Rc((q+K)/2),ct=y(l[nt]),xt=ct!==s,Kt=ct===null,hs=ct===ct,Rs=Do(ct);if(ue)var fs=P||hs;else st?fs=hs&&(P||xt):be?fs=hs&&xt&&(P||!Kt):Ie?fs=hs&&xt&&!Kt&&(P||!Rs):Kt||Rs?fs=!1:fs=P?ct<=u:ct<u;fs?q=nt+1:K=nt}return si(K,At)}function xy(l,u){for(var y=-1,P=l.length,q=0,K=[];++y<P;){var ue=l[y],be=u?u(ue):ue;if(!y||!Da(be,Ie)){var Ie=be;K[q++]=ue===0?0:ue}}return K}function Py(l){return typeof l=="number"?l:Do(l)?Xe:+l}function To(l){if(typeof l=="string")return l;if(Ts(l))return It(l,To)+"";if(Do(l))return Tu?Tu.call(l):"";var u=l+"";return u=="0"&&1/l==-Lt?"-0":u}function ol(l,u,y){var P=-1,q=Ee,K=l.length,ue=!0,be=[],Ie=be;if(y)ue=!1,q=lt;else if(K>=i){var st=u?null:vS(l);if(st)return Aa(st);ue=!1,q=Ji,Ie=new sr}else Ie=u?[]:be;e:for(;++P<K;){var nt=l[P],ct=u?u(nt):nt;if(nt=y||nt!==0?nt:0,ue&&ct===ct){for(var xt=Ie.length;xt--;)if(Ie[xt]===ct)continue e;u&&Ie.push(ct),be.push(nt)}else q(Ie,ct,y)||(Ie!==be&&Ie.push(ct),be.push(nt))}return be}function Lm(l,u){return u=al(u,l),l=iw(l,u),l==null||delete l[or(na(u))]}function My(l,u,y,P){return Ou(l,u,y(Xl(l,u)),P)}function sh(l,u,y,P){for(var q=l.length,K=P?q:-1;(P?K--:++K<q)&&u(l[K],K,l););return y?sa(l,P?0:K,P?K+1:q):sa(l,P?K+1:0,P?q:K)}function Ey(l,u){var y=l;return y instanceof Fs&&(y=y.value()),Ht(u,function(P,q){return q.func.apply(q.thisArg,ms([P],q.args))},y)}function Fm(l,u,y){var P=l.length;if(P<2)return P?ol(l[0]):[];for(var q=-1,K=ye(P);++q<P;)for(var ue=l[q],be=-1;++be<P;)be!=q&&(K[q]=Pu(K[q]||ue,l[be],u,y));return ol(gi(K,1),u,y)}function Oy(l,u,y){for(var P=-1,q=l.length,K=u.length,ue={};++P<q;){var be=P<K?u[P]:s;y(ue,l[P],be)}return ue}function Um(l){return Fn(l)?l:[]}function Bm(l){return typeof l=="function"?l:so}function al(l,u){return Ts(l)?l:Qm(l,u)?[l]:lw(tn(l))}var rS=Ls;function rl(l,u,y){var P=l.length;return y=y===s?P:y,!u&&y>=P?l:sa(l,u,y)}var Ry=Ec||function(l){return $s.clearTimeout(l)};function Ny(l,u){if(u)return l.slice();var y=l.length,P=Cu?Cu(y):new l.constructor(y);return l.copy(P),P}function jm(l){var u=new l.constructor(l.byteLength);return new xc(u).set(new xc(l)),u}function lS(l,u){var y=u?jm(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.byteLength)}function cS(l){var u=new l.constructor(l.source,dt.exec(l));return u.lastIndex=l.lastIndex,u}function uS(l){return tl?Dt(tl.call(l)):{}}function Ly(l,u){var y=u?jm(l.buffer):l.buffer;return new l.constructor(y,l.byteOffset,l.length)}function Fy(l,u){if(l!==u){var y=l!==s,P=l===null,q=l===l,K=Do(l),ue=u!==s,be=u===null,Ie=u===u,st=Do(u);if(!be&&!st&&!K&&l>u||K&&ue&&Ie&&!be&&!st||P&&ue&&Ie||!y&&Ie||!q)return 1;if(!P&&!K&&!st&&l<u||st&&y&&q&&!P&&!K||be&&y&&q||!ue&&q||!Ie)return-1}return 0}function dS(l,u,y){for(var P=-1,q=l.criteria,K=u.criteria,ue=q.length,be=y.length;++P<ue;){var Ie=Fy(q[P],K[P]);if(Ie){if(P>=be)return Ie;var st=y[P];return Ie*(st=="desc"?-1:1)}}return l.index-u.index}function Uy(l,u,y,P){for(var q=-1,K=l.length,ue=y.length,be=-1,Ie=u.length,st=Ln(K-ue,0),nt=ye(Ie+st),ct=!P;++be<Ie;)nt[be]=u[be];for(;++q<ue;)(ct||q<K)&&(nt[y[q]]=l[q]);for(;st--;)nt[be++]=l[q++];return nt}function By(l,u,y,P){for(var q=-1,K=l.length,ue=-1,be=y.length,Ie=-1,st=u.length,nt=Ln(K-be,0),ct=ye(nt+st),xt=!P;++q<nt;)ct[q]=l[q];for(var Kt=q;++Ie<st;)ct[Kt+Ie]=u[Ie];for(;++ue<be;)(xt||q<K)&&(ct[Kt+y[ue]]=l[q++]);return ct}function Zi(l,u){var y=-1,P=l.length;for(u||(u=ye(P));++y<P;)u[y]=l[y];return u}function ir(l,u,y,P){var q=!y;y||(y={});for(var K=-1,ue=u.length;++K<ue;){var be=u[K],Ie=P?P(y[be],l[be],be,y,l):s;Ie===s&&(Ie=l[be]),q?Ir(y,be,Ie):xu(y,be,Ie)}return y}function hS(l,u){return ir(l,Ym(l),u)}function fS(l,u){return ir(l,$y(l),u)}function nh(l,u){return function(y,P){var q=Ts(y)?fe:N0,K=u?u():{};return q(y,l,ds(P,2),K)}}function Bc(l){return Ls(function(u,y){var P=-1,q=y.length,K=q>1?y[q-1]:s,ue=q>2?y[2]:s;for(K=l.length>3&&typeof K=="function"?(q--,K):s,ue&&Ni(y[0],y[1],ue)&&(K=q<3?s:K,q=1),u=Dt(u);++P<q;){var be=y[P];be&&l(u,be,P,K)}return u})}function jy(l,u){return function(y,P){if(y==null)return y;if(!eo(y))return l(y,P);for(var q=y.length,K=u?q:-1,ue=Dt(y);(u?K--:++K<q)&&P(ue[K],K,ue)!==!1;);return y}}function Vy(l){return function(u,y,P){for(var q=-1,K=Dt(u),ue=P(u),be=ue.length;be--;){var Ie=ue[l?be:++q];if(y(K[Ie],Ie,K)===!1)break}return u}}function mS(l,u,y){var P=u&F,q=Ru(l);function K(){var ue=this&&this!==$s&&this instanceof K?q:l;return ue.apply(P?y:this,arguments)}return K}function qy(l){return function(u){u=tn(u);var y=In(u)?mi(u):s,P=y?y[0]:u.charAt(0),q=y?rl(y,1).join(""):u.slice(1);return P[l]()+q}}function jc(l){return function(u){return Ht(jw(Bw(u).replace(br,"")),l,"")}}function Ru(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var y=sl(l.prototype),P=l.apply(y,u);return Cn(P)?P:y}}function pS(l,u,y){var P=Ru(l);function q(){for(var K=arguments.length,ue=ye(K),be=K,Ie=Vc(q);be--;)ue[be]=arguments[be];var st=K<3&&ue[0]!==Ie&&ue[K-1]!==Ie?[]:fi(ue,Ie);if(K-=st.length,K<y)return Yy(l,u,ih,q.placeholder,s,ue,st,s,s,y-K);var nt=this&&this!==$s&&this instanceof q?P:l;return H(nt,this,ue)}return q}function Hy(l){return function(u,y,P){var q=Dt(u);if(!eo(u)){var K=ds(y,3);u=ni(u),y=function(be){return K(q[be],be,q)}}var ue=l(u,y,P);return ue>-1?q[K?u[ue]:ue]:s}}function Wy(l){return Dr(function(u){var y=u.length,P=y,q=$i.prototype.thru;for(l&&u.reverse();P--;){var K=u[P];if(typeof K!="function")throw new Es(r);if(q&&!ue&&lh(K)=="wrapper")var ue=new $i([],!0)}for(P=ue?P:y;++P<y;){K=u[P];var be=lh(K),Ie=be=="wrapper"?zm(K):s;Ie&&Km(Ie[0])&&Ie[1]==(k|W|le|Ce)&&!Ie[4].length&&Ie[9]==1?ue=ue[lh(Ie[0])].apply(ue,Ie[3]):ue=K.length==1&&Km(K)?ue[be]():ue.thru(K)}return function(){var st=arguments,nt=st[0];if(ue&&st.length==1&&Ts(nt))return ue.plant(nt).value();for(var ct=0,xt=y?u[ct].apply(this,st):nt;++ct<y;)xt=u[ct].call(this,xt);return xt}})}function ih(l,u,y,P,q,K,ue,be,Ie,st){var nt=u&k,ct=u&F,xt=u&R,Kt=u&(W|Q),hs=u&he,Rs=xt?s:Ru(l);function fs(){for(var Bs=arguments.length,Vs=ye(Bs),xo=Bs;xo--;)Vs[xo]=arguments[xo];if(Kt)var Li=Vc(fs),Po=Gn(Vs,Li);if(P&&(Vs=Uy(Vs,P,q,Kt)),K&&(Vs=By(Vs,K,ue,Kt)),Bs-=Po,Kt&&Bs<st){var Un=fi(Vs,Li);return Yy(l,u,ih,fs.placeholder,y,Vs,Un,be,Ie,st-Bs)}var xa=ct?y:this,Er=xt?xa[l]:l;return Bs=Vs.length,be?Vs=NS(Vs,be):hs&&Bs>1&&Vs.reverse(),nt&&Ie<Bs&&(Vs.length=Ie),this&&this!==$s&&this instanceof fs&&(Er=Rs||Ru(Er)),Er.apply(xa,Vs)}return fs}function zy(l,u){return function(y,P){return H0(y,l,u(P),{})}}function oh(l,u){return function(y,P){var q;if(y===s&&P===s)return u;if(y!==s&&(q=y),P!==s){if(q===s)return P;typeof y=="string"||typeof P=="string"?(y=To(y),P=To(P)):(y=Py(y),P=Py(P)),q=l(y,P)}return q}}function Vm(l){return Dr(function(u){return u=It(u,gn(ds())),Ls(function(y){var P=this;return l(u,function(q){return H(q,P,y)})})})}function ah(l,u){u=u===s?" ":To(u);var y=u.length;if(y<2)return y?Rm(u,l):u;var P=Rm(u,Oc(l/Jo(u)));return In(u)?rl(mi(P),0,l).join(""):P.slice(0,l)}function gS(l,u,y,P){var q=u&F,K=Ru(l);function ue(){for(var be=-1,Ie=arguments.length,st=-1,nt=P.length,ct=ye(nt+Ie),xt=this&&this!==$s&&this instanceof ue?K:l;++st<nt;)ct[st]=P[st];for(;Ie--;)ct[st++]=arguments[++be];return H(xt,q?y:this,ct)}return ue}function Gy(l){return function(u,y,P){return P&&typeof P!="number"&&Ni(u,y,P)&&(y=P=s),u=Mr(u),y===s?(y=u,u=0):y=Mr(y),P=P===s?u<y?1:-1:Mr(P),tS(u,y,P,l)}}function rh(l){return function(u,y){return typeof u=="string"&&typeof y=="string"||(u=ia(u),y=ia(y)),l(u,y)}}function Yy(l,u,y,P,q,K,ue,be,Ie,st){var nt=u&W,ct=nt?ue:s,xt=nt?s:ue,Kt=nt?K:s,hs=nt?s:K;u|=nt?le:me,u&=~(nt?me:le),u&j||(u&=~(F|R));var Rs=[l,u,q,Kt,ct,hs,xt,be,Ie,st],fs=y.apply(s,Rs);return Km(l)&&ow(fs,Rs),fs.placeholder=P,aw(fs,l,u)}function qm(l){var u=Nt[l];return function(y,P){if(y=ia(y),P=P==null?0:si(Os(P),292),P&&Su(y)){var q=(tn(y)+"e").split("e"),K=u(q[0]+"e"+(+q[1]+P));return q=(tn(K)+"e").split("e"),+(q[0]+"e"+(+q[1]-P))}return u(y)}}var vS=Zr&&1/Aa(new Zr([,-0]))[1]==Lt?function(l){return new Zr(l)}:up;function Qy(l){return function(u){var y=Ti(u);return y==re?er(u):y==ot?Wl(u):Oi(u,l(u))}}function Tr(l,u,y,P,q,K,ue,be){var Ie=u&R;if(!Ie&&typeof l!="function")throw new Es(r);var st=P?P.length:0;if(st||(u&=~(le|me),P=q=s),ue=ue===s?ue:Ln(Os(ue),0),be=be===s?be:Os(be),st-=q?q.length:0,u&me){var nt=P,ct=q;P=q=s}var xt=Ie?s:zm(l),Kt=[l,u,y,P,q,nt,ct,K,ue,be];if(xt&&ES(Kt,xt),l=Kt[0],u=Kt[1],y=Kt[2],P=Kt[3],q=Kt[4],be=Kt[9]=Kt[9]===s?Ie?0:l.length:Ln(Kt[9]-st,0),!be&&u&(W|Q)&&(u&=~(W|Q)),!u||u==F)var hs=mS(l,u,y);else u==W||u==Q?hs=pS(l,u,be):(u==le||u==(F|le))&&!q.length?hs=gS(l,u,y,P):hs=ih.apply(s,Kt);var Rs=xt?Dy:ow;return aw(Rs(hs,Kt),l,u)}function Ky(l,u,y,P){return l===s||Da(l,Nn[y])&&!as.call(P,y)?u:l}function Jy(l,u,y,P,q,K){return Cn(l)&&Cn(u)&&(K.set(u,l),eh(l,u,s,Jy,K),K.delete(u)),l}function yS(l){return Fu(l)?s:l}function Xy(l,u,y,P,q,K){var ue=y&T,be=l.length,Ie=u.length;if(be!=Ie&&!(ue&&Ie>be))return!1;var st=K.get(l),nt=K.get(u);if(st&&nt)return st==u&&nt==l;var ct=-1,xt=!0,Kt=y&N?new sr:s;for(K.set(l,u),K.set(u,l);++ct<be;){var hs=l[ct],Rs=u[ct];if(P)var fs=ue?P(Rs,hs,ct,u,l,K):P(hs,Rs,ct,l,u,K);if(fs!==s){if(fs)continue;xt=!1;break}if(Kt){if(!rn(u,function(Bs,Vs){if(!Ji(Kt,Vs)&&(hs===Bs||q(hs,Bs,y,P,K)))return Kt.push(Vs)})){xt=!1;break}}else if(!(hs===Rs||q(hs,Rs,y,P,K))){xt=!1;break}}return K.delete(l),K.delete(u),xt}function wS(l,u,y,P,q,K,ue){switch(y){case $e:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case Zt:return!(l.byteLength!=u.byteLength||!K(new xc(l),new xc(u)));case xe:case it:case Pe:return Da(+l,+u);case Gt:return l.name==u.name&&l.message==u.message;case rt:case qe:return l==u+"";case re:var be=er;case ot:var Ie=P&T;if(be||(be=Aa),l.size!=u.size&&!Ie)return!1;var st=ue.get(l);if(st)return st==u;P|=N,ue.set(l,u);var nt=Xy(be(l),be(u),P,q,K,ue);return ue.delete(l),nt;case mt:if(tl)return tl.call(l)==tl.call(u)}return!1}function _S(l,u,y,P,q,K){var ue=y&T,be=Hm(l),Ie=be.length,st=Hm(u),nt=st.length;if(Ie!=nt&&!ue)return!1;for(var ct=Ie;ct--;){var xt=be[ct];if(!(ue?xt in u:as.call(u,xt)))return!1}var Kt=K.get(l),hs=K.get(u);if(Kt&&hs)return Kt==u&&hs==l;var Rs=!0;K.set(l,u),K.set(u,l);for(var fs=ue;++ct<Ie;){xt=be[ct];var Bs=l[xt],Vs=u[xt];if(P)var xo=ue?P(Vs,Bs,xt,u,l,K):P(Bs,Vs,xt,l,u,K);if(!(xo===s?Bs===Vs||q(Bs,Vs,y,P,K):xo)){Rs=!1;break}fs||(fs=xt=="constructor")}if(Rs&&!fs){var Li=l.constructor,Po=u.constructor;Li!=Po&&"constructor"in l&&"constructor"in u&&!(typeof Li=="function"&&Li instanceof Li&&typeof Po=="function"&&Po instanceof Po)&&(Rs=!1)}return K.delete(l),K.delete(u),Rs}function Dr(l){return Xm(nw(l,s,hw),l+"")}function Hm(l){return vy(l,ni,Ym)}function Wm(l){return vy(l,to,$y)}var zm=Ia?function(l){return Ia.get(l)}:up;function lh(l){for(var u=l.name+"",y=el[u],P=as.call(el,u)?y.length:0;P--;){var q=y[P],K=q.func;if(K==null||K==l)return q.name}return u}function Vc(l){var u=as.call(Y,"placeholder")?Y:l;return u.placeholder}function ds(){var l=Y.iteratee||lp;return l=l===lp?_y:l,arguments.length?l(arguments[0],arguments[1]):l}function ch(l,u){var y=l.__data__;return DS(u)?y[typeof u=="string"?"string":"hash"]:y.map}function Gm(l){for(var u=ni(l),y=u.length;y--;){var P=u[y],q=l[P];u[y]=[P,q,tw(q)]}return u}function $l(l,u){var y=Ao(l,u);return wy(y)?y:s}function bS(l){var u=as.call(l,So),y=l[So];try{l[So]=s;var P=!0}catch{}var q=Dc.call(l);return P&&(u?l[So]=y:delete l[So]),q}var Ym=Sr?function(l){return l==null?[]:(l=Dt(l),He(Sr(l),function(u){return zd.call(l,u)}))}:dp,$y=Sr?function(l){for(var u=[];l;)ms(u,Ym(l)),l=Pc(l);return u}:dp,Ti=Ri;(Nc&&Ti(new Nc(new ArrayBuffer(1)))!=$e||$r&&Ti(new $r)!=re||Iu&&Ti(Iu.resolve())!=Ze||Zr&&Ti(new Zr)!=ot||Ql&&Ti(new Ql)!=Ne)&&(Ti=function(l){var u=Ri(l),y=u==Be?l.constructor:s,P=y?Zl(y):"";if(P)switch(P){case Lc:return $e;case Kl:return re;case wm:return Ze;case _m:return ot;case Kd:return Ne}return u});function kS(l,u,y){for(var P=-1,q=y.length;++P<q;){var K=y[P],ue=K.size;switch(K.type){case"drop":l+=ue;break;case"dropRight":u-=ue;break;case"take":u=si(u,l+ue);break;case"takeRight":l=Ln(l,u-ue);break}}return{start:l,end:u}}function AS(l){var u=l.match(Mn);return u?u[1].split(_n):[]}function Zy(l,u,y){u=al(u,l);for(var P=-1,q=u.length,K=!1;++P<q;){var ue=or(u[P]);if(!(K=l!=null&&y(l,ue)))break;l=l[ue]}return K||++P!=q?K:(q=l==null?0:l.length,!!q&&gh(q)&&xr(ue,q)&&(Ts(l)||ec(l)))}function CS(l){var u=l.length,y=new l.constructor(u);return u&&typeof l[0]=="string"&&as.call(l,"index")&&(y.index=l.index,y.input=l.input),y}function ew(l){return typeof l.constructor=="function"&&!Nu(l)?sl(Pc(l)):{}}function SS(l,u,y){var P=l.constructor;switch(u){case Zt:return jm(l);case xe:case it:return new P(+l);case $e:return lS(l,y);case _t:case bs:case Zs:case qs:case sn:case nn:case Is:case Hs:case Ws:return Ly(l,y);case re:return new P;case Pe:case qe:return new P(l);case rt:return cS(l);case ot:return new P;case mt:return uS(l)}}function IS(l,u){var y=u.length;if(!y)return l;var P=y-1;return u[P]=(y>1?"& ":"")+u[P],u=u.join(y>2?", ":" "),l.replace(Ms,`{
/* [wrapped with `+u+`] */
`)}function TS(l){return Ts(l)||ec(l)||!!(Gd&&l&&l[Gd])}function xr(l,u){var y=typeof l;return u=u??wt,!!u&&(y=="number"||y!="symbol"&&li.test(l))&&l>-1&&l%1==0&&l<u}function Ni(l,u,y){if(!Cn(y))return!1;var P=typeof u;return(P=="number"?eo(y)&&xr(u,y.length):P=="string"&&u in y)?Da(y[u],l):!1}function Qm(l,u){if(Ts(l))return!1;var y=typeof l;return y=="number"||y=="symbol"||y=="boolean"||l==null||Do(l)?!0:bt.test(l)||!gt.test(l)||u!=null&&l in Dt(u)}function DS(l){var u=typeof l;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?l!=="__proto__":l===null}function Km(l){var u=lh(l),y=Y[u];if(typeof y!="function"||!(u in Fs.prototype))return!1;if(l===y)return!0;var P=zm(y);return!!P&&l===P[0]}function xS(l){return!!qd&&qd in l}var PS=pi?Pr:hp;function Nu(l){var u=l&&l.constructor,y=typeof u=="function"&&u.prototype||Nn;return l===y}function tw(l){return l===l&&!Cn(l)}function sw(l,u){return function(y){return y==null?!1:y[l]===u&&(u!==s||l in Dt(y))}}function MS(l){var u=mh(l,function(P){return y.size===v&&y.clear(),P}),y=u.cache;return u}function ES(l,u){var y=l[1],P=u[1],q=y|P,K=q<(F|R|k),ue=P==k&&y==W||P==k&&y==Ce&&l[7].length<=u[8]||P==(k|Ce)&&u[7].length<=u[8]&&y==W;if(!(K||ue))return l;P&F&&(l[2]=u[2],q|=y&F?0:j);var be=u[3];if(be){var Ie=l[3];l[3]=Ie?Uy(Ie,be,u[4]):be,l[4]=Ie?fi(l[3],g):u[4]}return be=u[5],be&&(Ie=l[5],l[5]=Ie?By(Ie,be,u[6]):be,l[6]=Ie?fi(l[5],g):u[6]),be=u[7],be&&(l[7]=be),P&k&&(l[8]=l[8]==null?u[8]:si(l[8],u[8])),l[9]==null&&(l[9]=u[9]),l[0]=u[0],l[1]=q,l}function OS(l){var u=[];if(l!=null)for(var y in Dt(l))u.push(y);return u}function RS(l){return Dc.call(l)}function nw(l,u,y){return u=Ln(u===s?l.length-1:u,0),function(){for(var P=arguments,q=-1,K=Ln(P.length-u,0),ue=ye(K);++q<K;)ue[q]=P[u+q];q=-1;for(var be=ye(u+1);++q<u;)be[q]=P[q];return be[u]=y(ue),H(l,this,be)}}function iw(l,u){return u.length<2?l:Xl(l,sa(u,0,-1))}function NS(l,u){for(var y=l.length,P=si(u.length,y),q=Zi(l);P--;){var K=u[P];l[P]=xr(K,y)?q[K]:s}return l}function Jm(l,u){if(!(u==="constructor"&&typeof l[u]=="function")&&u!="__proto__")return l[u]}var ow=rw(Dy),Lu=fm||function(l,u){return $s.setTimeout(l,u)},Xm=rw(iS);function aw(l,u,y){var P=u+"";return Xm(l,IS(P,LS(AS(P),y)))}function rw(l){var u=0,y=0;return function(){var P=gm(),q=ut-(P-y);if(y=P,q>0){if(++u>=Ve)return arguments[0]}else u=0;return l.apply(s,arguments)}}function uh(l,u){var y=-1,P=l.length,q=P-1;for(u=u===s?P:u;++y<u;){var K=Om(y,q),ue=l[K];l[K]=l[y],l[y]=ue}return l.length=u,l}var lw=MS(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(cs,function(y,P,q,K){u.push(q?K.replace(wo,"$1"):P||y)}),u});function or(l){if(typeof l=="string"||Do(l))return l;var u=l+"";return u=="0"&&1/l==-Lt?"-0":u}function Zl(l){if(l!=null){try{return Co.call(l)}catch{}try{return l+""}catch{}}return""}function LS(l,u){return ie(ls,function(y){var P="_."+y[0];u&y[1]&&!Ee(l,P)&&l.push(P)}),l.sort()}function cw(l){if(l instanceof Fs)return l.clone();var u=new $i(l.__wrapped__,l.__chain__);return u.__actions__=Zi(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}function FS(l,u,y){(y?Ni(l,u,y):u===s)?u=1:u=Ln(Os(u),0);var P=l==null?0:l.length;if(!P||u<1)return[];for(var q=0,K=0,ue=ye(Oc(P/u));q<P;)ue[K++]=sa(l,q,q+=u);return ue}function US(l){for(var u=-1,y=l==null?0:l.length,P=0,q=[];++u<y;){var K=l[u];K&&(q[P++]=K)}return q}function BS(){var l=arguments.length;if(!l)return[];for(var u=ye(l-1),y=arguments[0],P=l;P--;)u[P-1]=arguments[P];return ms(Ts(y)?Zi(y):[y],gi(u,1))}var jS=Ls(function(l,u){return Fn(l)?Pu(l,gi(u,1,Fn,!0)):[]}),VS=Ls(function(l,u){var y=na(u);return Fn(y)&&(y=s),Fn(l)?Pu(l,gi(u,1,Fn,!0),ds(y,2)):[]}),qS=Ls(function(l,u){var y=na(u);return Fn(y)&&(y=s),Fn(l)?Pu(l,gi(u,1,Fn,!0),s,y):[]});function HS(l,u,y){var P=l==null?0:l.length;return P?(u=y||u===s?1:Os(u),sa(l,u<0?0:u,P)):[]}function WS(l,u,y){var P=l==null?0:l.length;return P?(u=y||u===s?1:Os(u),u=P-u,sa(l,0,u<0?0:u)):[]}function zS(l,u){return l&&l.length?sh(l,ds(u,3),!0,!0):[]}function GS(l,u){return l&&l.length?sh(l,ds(u,3),!0):[]}function YS(l,u,y,P){var q=l==null?0:l.length;return q?(y&&typeof y!="number"&&Ni(l,u,y)&&(y=0,P=q),B0(l,u,y,P)):[]}function uw(l,u,y){var P=l==null?0:l.length;if(!P)return-1;var q=y==null?0:Os(y);return q<0&&(q=Ln(P+q,0)),se(l,ds(u,3),q)}function dw(l,u,y){var P=l==null?0:l.length;if(!P)return-1;var q=P-1;return y!==s&&(q=Os(y),q=y<0?Ln(P+q,0):si(q,P-1)),se(l,ds(u,3),q,!0)}function hw(l){var u=l==null?0:l.length;return u?gi(l,1):[]}function QS(l){var u=l==null?0:l.length;return u?gi(l,Lt):[]}function KS(l,u){var y=l==null?0:l.length;return y?(u=u===s?1:Os(u),gi(l,u)):[]}function JS(l){for(var u=-1,y=l==null?0:l.length,P={};++u<y;){var q=l[u];P[q[0]]=q[1]}return P}function fw(l){return l&&l.length?l[0]:s}function XS(l,u,y){var P=l==null?0:l.length;if(!P)return-1;var q=y==null?0:Os(y);return q<0&&(q=Ln(P+q,0)),Le(l,u,q)}function $S(l){var u=l==null?0:l.length;return u?sa(l,0,-1):[]}var ZS=Ls(function(l){var u=It(l,Um);return u.length&&u[0]===l[0]?Dm(u):[]}),eI=Ls(function(l){var u=na(l),y=It(l,Um);return u===na(y)?u=s:y.pop(),y.length&&y[0]===l[0]?Dm(y,ds(u,2)):[]}),tI=Ls(function(l){var u=na(l),y=It(l,Um);return u=typeof u=="function"?u:s,u&&y.pop(),y.length&&y[0]===l[0]?Dm(y,s,u):[]});function sI(l,u){return l==null?"":Yd.call(l,u)}function na(l){var u=l==null?0:l.length;return u?l[u-1]:s}function nI(l,u,y){var P=l==null?0:l.length;if(!P)return-1;var q=P;return y!==s&&(q=Os(y),q=q<0?Ln(P+q,0):si(q,P-1)),u===u?Xr(l,u,q):se(l,Ot,q,!0)}function iI(l,u){return l&&l.length?Cy(l,Os(u)):s}var oI=Ls(mw);function mw(l,u){return l&&l.length&&u&&u.length?Em(l,u):l}function aI(l,u,y){return l&&l.length&&u&&u.length?Em(l,u,ds(y,2)):l}function rI(l,u,y){return l&&l.length&&u&&u.length?Em(l,u,s,y):l}var lI=Dr(function(l,u){var y=l==null?0:l.length,P=Cm(l,u);return Ty(l,It(u,function(q){return xr(q,y)?+q:q}).sort(Fy)),P});function cI(l,u){var y=[];if(!(l&&l.length))return y;var P=-1,q=[],K=l.length;for(u=ds(u,3);++P<K;){var ue=l[P];u(ue,P,l)&&(y.push(ue),q.push(P))}return Ty(l,q),y}function $m(l){return l==null?l:ym.call(l)}function uI(l,u,y){var P=l==null?0:l.length;return P?(y&&typeof y!="number"&&Ni(l,u,y)?(u=0,y=P):(u=u==null?0:Os(u),y=y===s?P:Os(y)),sa(l,u,y)):[]}function dI(l,u){return th(l,u)}function hI(l,u,y){return Nm(l,u,ds(y,2))}function fI(l,u){var y=l==null?0:l.length;if(y){var P=th(l,u);if(P<y&&Da(l[P],u))return P}return-1}function mI(l,u){return th(l,u,!0)}function pI(l,u,y){return Nm(l,u,ds(y,2),!0)}function gI(l,u){var y=l==null?0:l.length;if(y){var P=th(l,u,!0)-1;if(Da(l[P],u))return P}return-1}function vI(l){return l&&l.length?xy(l):[]}function yI(l,u){return l&&l.length?xy(l,ds(u,2)):[]}function wI(l){var u=l==null?0:l.length;return u?sa(l,1,u):[]}function _I(l,u,y){return l&&l.length?(u=y||u===s?1:Os(u),sa(l,0,u<0?0:u)):[]}function bI(l,u,y){var P=l==null?0:l.length;return P?(u=y||u===s?1:Os(u),u=P-u,sa(l,u<0?0:u,P)):[]}function kI(l,u){return l&&l.length?sh(l,ds(u,3),!1,!0):[]}function AI(l,u){return l&&l.length?sh(l,ds(u,3)):[]}var CI=Ls(function(l){return ol(gi(l,1,Fn,!0))}),SI=Ls(function(l){var u=na(l);return Fn(u)&&(u=s),ol(gi(l,1,Fn,!0),ds(u,2))}),II=Ls(function(l){var u=na(l);return u=typeof u=="function"?u:s,ol(gi(l,1,Fn,!0),s,u)});function TI(l){return l&&l.length?ol(l):[]}function DI(l,u){return l&&l.length?ol(l,ds(u,2)):[]}function xI(l,u){return u=typeof u=="function"?u:s,l&&l.length?ol(l,s,u):[]}function Zm(l){if(!(l&&l.length))return[];var u=0;return l=He(l,function(y){if(Fn(y))return u=Ln(y.length,u),!0}),Qo(u,function(y){return It(l,ws(y))})}function pw(l,u){if(!(l&&l.length))return[];var y=Zm(l);return u==null?y:It(y,function(P){return H(u,s,P)})}var PI=Ls(function(l,u){return Fn(l)?Pu(l,u):[]}),MI=Ls(function(l){return Fm(He(l,Fn))}),EI=Ls(function(l){var u=na(l);return Fn(u)&&(u=s),Fm(He(l,Fn),ds(u,2))}),OI=Ls(function(l){var u=na(l);return u=typeof u=="function"?u:s,Fm(He(l,Fn),s,u)}),RI=Ls(Zm);function NI(l,u){return Oy(l||[],u||[],xu)}function LI(l,u){return Oy(l||[],u||[],Ou)}var FI=Ls(function(l){var u=l.length,y=u>1?l[u-1]:s;return y=typeof y=="function"?(l.pop(),y):s,pw(l,y)});function gw(l){var u=Y(l);return u.__chain__=!0,u}function UI(l,u){return u(l),l}function dh(l,u){return u(l)}var BI=Dr(function(l){var u=l.length,y=u?l[0]:0,P=this.__wrapped__,q=function(K){return Cm(K,l)};return u>1||this.__actions__.length||!(P instanceof Fs)||!xr(y)?this.thru(q):(P=P.slice(y,+y+(u?1:0)),P.__actions__.push({func:dh,args:[q],thisArg:s}),new $i(P,this.__chain__).thru(function(K){return u&&!K.length&&K.push(s),K}))});function jI(){return gw(this)}function VI(){return new $i(this.value(),this.__chain__)}function qI(){this.__values__===s&&(this.__values__=Pw(this.value()));var l=this.__index__>=this.__values__.length,u=l?s:this.__values__[this.__index__++];return{done:l,value:u}}function HI(){return this}function WI(l){for(var u,y=this;y instanceof Fc;){var P=cw(y);P.__index__=0,P.__values__=s,u?q.__wrapped__=P:u=P;var q=P;y=y.__wrapped__}return q.__wrapped__=l,u}function zI(){var l=this.__wrapped__;if(l instanceof Fs){var u=l;return this.__actions__.length&&(u=new Fs(this)),u=u.reverse(),u.__actions__.push({func:dh,args:[$m],thisArg:s}),new $i(u,this.__chain__)}return this.thru($m)}function GI(){return Ey(this.__wrapped__,this.__actions__)}var YI=nh(function(l,u,y){as.call(l,y)?++l[y]:Ir(l,y,1)});function QI(l,u,y){var P=Ts(l)?je:U0;return y&&Ni(l,u,y)&&(u=s),P(l,ds(u,3))}function KI(l,u){var y=Ts(l)?He:py;return y(l,ds(u,3))}var JI=Hy(uw),XI=Hy(dw);function $I(l,u){return gi(hh(l,u),1)}function ZI(l,u){return gi(hh(l,u),Lt)}function e2(l,u,y){return y=y===s?1:Os(y),gi(hh(l,u),y)}function vw(l,u){var y=Ts(l)?ie:il;return y(l,ds(u,3))}function yw(l,u){var y=Ts(l)?Se:my;return y(l,ds(u,3))}var t2=nh(function(l,u,y){as.call(l,y)?l[y].push(u):Ir(l,y,[u])});function s2(l,u,y,P){l=eo(l)?l:Hc(l),y=y&&!P?Os(y):0;var q=l.length;return y<0&&(y=Ln(q+y,0)),vh(l)?y<=q&&l.indexOf(u,y)>-1:!!q&&Le(l,u,y)>-1}var n2=Ls(function(l,u,y){var P=-1,q=typeof u=="function",K=eo(l)?ye(l.length):[];return il(l,function(ue){K[++P]=q?H(u,ue,y):Mu(ue,u,y)}),K}),i2=nh(function(l,u,y){Ir(l,y,u)});function hh(l,u){var y=Ts(l)?It:by;return y(l,ds(u,3))}function o2(l,u,y,P){return l==null?[]:(Ts(u)||(u=u==null?[]:[u]),y=P?s:y,Ts(y)||(y=y==null?[]:[y]),Sy(l,u,y))}var a2=nh(function(l,u,y){l[y?0:1].push(u)},function(){return[[],[]]});function r2(l,u,y){var P=Ts(l)?Ht:zs,q=arguments.length<3;return P(l,ds(u,4),y,q,il)}function l2(l,u,y){var P=Ts(l)?pn:zs,q=arguments.length<3;return P(l,ds(u,4),y,q,my)}function c2(l,u){var y=Ts(l)?He:py;return y(l,ph(ds(u,3)))}function u2(l){var u=Ts(l)?uy:sS;return u(l)}function d2(l,u,y){(y?Ni(l,u,y):u===s)?u=1:u=Os(u);var P=Ts(l)?O0:nS;return P(l,u)}function h2(l){var u=Ts(l)?R0:oS;return u(l)}function f2(l){if(l==null)return 0;if(eo(l))return vh(l)?Jo(l):l.length;var u=Ti(l);return u==re||u==ot?l.size:Pm(l).length}function m2(l,u,y){var P=Ts(l)?rn:aS;return y&&Ni(l,u,y)&&(u=s),P(l,ds(u,3))}var p2=Ls(function(l,u){if(l==null)return[];var y=u.length;return y>1&&Ni(l,u[0],u[1])?u=[]:y>2&&Ni(u[0],u[1],u[2])&&(u=[u[0]]),Sy(l,gi(u,1),[])}),fh=Yl||function(){return $s.Date.now()};function g2(l,u){if(typeof u!="function")throw new Es(r);return l=Os(l),function(){if(--l<1)return u.apply(this,arguments)}}function ww(l,u,y){return u=y?s:u,u=l&&u==null?l.length:u,Tr(l,k,s,s,s,s,u)}function _w(l,u){var y;if(typeof u!="function")throw new Es(r);return l=Os(l),function(){return--l>0&&(y=u.apply(this,arguments)),l<=1&&(u=s),y}}var ep=Ls(function(l,u,y){var P=F;if(y.length){var q=fi(y,Vc(ep));P|=le}return Tr(l,P,u,y,q)}),bw=Ls(function(l,u,y){var P=F|R;if(y.length){var q=fi(y,Vc(bw));P|=le}return Tr(u,P,l,y,q)});function kw(l,u,y){u=y?s:u;var P=Tr(l,W,s,s,s,s,s,u);return P.placeholder=kw.placeholder,P}function Aw(l,u,y){u=y?s:u;var P=Tr(l,Q,s,s,s,s,s,u);return P.placeholder=Aw.placeholder,P}function Cw(l,u,y){var P,q,K,ue,be,Ie,st=0,nt=!1,ct=!1,xt=!0;if(typeof l!="function")throw new Es(r);u=ia(u)||0,Cn(y)&&(nt=!!y.leading,ct="maxWait"in y,K=ct?Ln(ia(y.maxWait)||0,u):K,xt="trailing"in y?!!y.trailing:xt);function Kt(Un){var xa=P,Er=q;return P=q=s,st=Un,ue=l.apply(Er,xa),ue}function hs(Un){return st=Un,be=Lu(Bs,u),nt?Kt(Un):ue}function Rs(Un){var xa=Un-Ie,Er=Un-st,Hw=u-xa;return ct?si(Hw,K-Er):Hw}function fs(Un){var xa=Un-Ie,Er=Un-st;return Ie===s||xa>=u||xa<0||ct&&Er>=K}function Bs(){var Un=fh();if(fs(Un))return Vs(Un);be=Lu(Bs,Rs(Un))}function Vs(Un){return be=s,xt&&P?Kt(Un):(P=q=s,ue)}function xo(){be!==s&&Ry(be),st=0,P=Ie=q=be=s}function Li(){return be===s?ue:Vs(fh())}function Po(){var Un=fh(),xa=fs(Un);if(P=arguments,q=this,Ie=Un,xa){if(be===s)return hs(Ie);if(ct)return Ry(be),be=Lu(Bs,u),Kt(Ie)}return be===s&&(be=Lu(Bs,u)),ue}return Po.cancel=xo,Po.flush=Li,Po}var v2=Ls(function(l,u){return fy(l,1,u)}),y2=Ls(function(l,u,y){return fy(l,ia(u)||0,y)});function w2(l){return Tr(l,he)}function mh(l,u){if(typeof l!="function"||u!=null&&typeof u!="function")throw new Es(r);var y=function(){var P=arguments,q=u?u.apply(this,P):P[0],K=y.cache;if(K.has(q))return K.get(q);var ue=l.apply(this,P);return y.cache=K.set(q,ue)||K,ue};return y.cache=new(mh.Cache||ln),y}mh.Cache=ln;function ph(l){if(typeof l!="function")throw new Es(r);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}function _2(l){return _w(2,l)}var b2=rS(function(l,u){u=u.length==1&&Ts(u[0])?It(u[0],gn(ds())):It(gi(u,1),gn(ds()));var y=u.length;return Ls(function(P){for(var q=-1,K=si(P.length,y);++q<K;)P[q]=u[q].call(this,P[q]);return H(l,this,P)})}),tp=Ls(function(l,u){var y=fi(u,Vc(tp));return Tr(l,le,s,u,y)}),Sw=Ls(function(l,u){var y=fi(u,Vc(Sw));return Tr(l,me,s,u,y)}),k2=Dr(function(l,u){return Tr(l,Ce,s,s,s,u)});function A2(l,u){if(typeof l!="function")throw new Es(r);return u=u===s?u:Os(u),Ls(l,u)}function C2(l,u){if(typeof l!="function")throw new Es(r);return u=u==null?0:Ln(Os(u),0),Ls(function(y){var P=y[u],q=rl(y,0,u);return P&&ms(q,P),H(l,this,q)})}function S2(l,u,y){var P=!0,q=!0;if(typeof l!="function")throw new Es(r);return Cn(y)&&(P="leading"in y?!!y.leading:P,q="trailing"in y?!!y.trailing:q),Cw(l,u,{leading:P,maxWait:u,trailing:q})}function I2(l){return ww(l,1)}function T2(l,u){return tp(Bm(u),l)}function D2(){if(!arguments.length)return[];var l=arguments[0];return Ts(l)?l:[l]}function x2(l){return ta(l,E)}function P2(l,u){return u=typeof u=="function"?u:s,ta(l,E,u)}function M2(l){return ta(l,A|E)}function E2(l,u){return u=typeof u=="function"?u:s,ta(l,A|E,u)}function O2(l,u){return u==null||hy(l,u,ni(u))}function Da(l,u){return l===u||l!==l&&u!==u}var R2=rh(Tm),N2=rh(function(l,u){return l>=u}),ec=yy(function(){return arguments}())?yy:function(l){return Tn(l)&&as.call(l,"callee")&&!zd.call(l,"callee")},Ts=ye.isArray,L2=p?gn(p):W0;function eo(l){return l!=null&&gh(l.length)&&!Pr(l)}function Fn(l){return Tn(l)&&eo(l)}function F2(l){return l===!0||l===!1||Tn(l)&&Ri(l)==xe}var ll=mm||hp,U2=w?gn(w):z0;function B2(l){return Tn(l)&&l.nodeType===1&&!Fu(l)}function j2(l){if(l==null)return!0;if(eo(l)&&(Ts(l)||typeof l=="string"||typeof l.splice=="function"||ll(l)||qc(l)||ec(l)))return!l.length;var u=Ti(l);if(u==re||u==ot)return!l.size;if(Nu(l))return!Pm(l).length;for(var y in l)if(as.call(l,y))return!1;return!0}function V2(l,u){return Eu(l,u)}function q2(l,u,y){y=typeof y=="function"?y:s;var P=y?y(l,u):s;return P===s?Eu(l,u,s,y):!!P}function sp(l){if(!Tn(l))return!1;var u=Ri(l);return u==Gt||u==vt||typeof l.message=="string"&&typeof l.name=="string"&&!Fu(l)}function H2(l){return typeof l=="number"&&Su(l)}function Pr(l){if(!Cn(l))return!1;var u=Ri(l);return u==jt||u==ne||u==ce||u==ht}function Iw(l){return typeof l=="number"&&l==Os(l)}function gh(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=wt}function Cn(l){var u=typeof l;return l!=null&&(u=="object"||u=="function")}function Tn(l){return l!=null&&typeof l=="object"}var Tw=I?gn(I):Y0;function W2(l,u){return l===u||xm(l,u,Gm(u))}function z2(l,u,y){return y=typeof y=="function"?y:s,xm(l,u,Gm(u),y)}function G2(l){return Dw(l)&&l!=+l}function Y2(l){if(PS(l))throw new et(n);return wy(l)}function Q2(l){return l===null}function K2(l){return l==null}function Dw(l){return typeof l=="number"||Tn(l)&&Ri(l)==Pe}function Fu(l){if(!Tn(l)||Ri(l)!=Be)return!1;var u=Pc(l);if(u===null)return!0;var y=as.call(u,"constructor")&&u.constructor;return typeof y=="function"&&y instanceof y&&Co.call(y)==dm}var np=x?gn(x):Q0;function J2(l){return Iw(l)&&l>=-wt&&l<=wt}var xw=U?gn(U):K0;function vh(l){return typeof l=="string"||!Ts(l)&&Tn(l)&&Ri(l)==qe}function Do(l){return typeof l=="symbol"||Tn(l)&&Ri(l)==mt}var qc=B?gn(B):J0;function X2(l){return l===s}function $2(l){return Tn(l)&&Ti(l)==Ne}function Z2(l){return Tn(l)&&Ri(l)==Pt}var eT=rh(Mm),tT=rh(function(l,u){return l<=u});function Pw(l){if(!l)return[];if(eo(l))return vh(l)?mi(l):Zi(l);if(Ca&&l[Ca])return Xi(l[Ca]());var u=Ti(l),y=u==re?er:u==ot?Aa:Hc;return y(l)}function Mr(l){if(!l)return l===0?l:0;if(l=ia(l),l===Lt||l===-Lt){var u=l<0?-1:1;return u*Je}return l===l?l:0}function Os(l){var u=Mr(l),y=u%1;return u===u?y?u-y:u:0}function Mw(l){return l?Jl(Os(l),0,tt):0}function ia(l){if(typeof l=="number")return l;if(Do(l))return Xe;if(Cn(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=Cn(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=ti(l);var y=ks.test(l);return y||mn.test(l)?Hl(l.slice(2),y?2:8):ys.test(l)?Xe:+l}function Ew(l){return ir(l,to(l))}function sT(l){return l?Jl(Os(l),-wt,wt):l===0?l:0}function tn(l){return l==null?"":To(l)}var nT=Bc(function(l,u){if(Nu(u)||eo(u)){ir(u,ni(u),l);return}for(var y in u)as.call(u,y)&&xu(l,y,u[y])}),Ow=Bc(function(l,u){ir(u,to(u),l)}),yh=Bc(function(l,u,y,P){ir(u,to(u),l,P)}),iT=Bc(function(l,u,y,P){ir(u,ni(u),l,P)}),oT=Dr(Cm);function aT(l,u){var y=sl(l);return u==null?y:dy(y,u)}var rT=Ls(function(l,u){l=Dt(l);var y=-1,P=u.length,q=P>2?u[2]:s;for(q&&Ni(u[0],u[1],q)&&(P=1);++y<P;)for(var K=u[y],ue=to(K),be=-1,Ie=ue.length;++be<Ie;){var st=ue[be],nt=l[st];(nt===s||Da(nt,Nn[st])&&!as.call(l,st))&&(l[st]=K[st])}return l}),lT=Ls(function(l){return l.push(s,Jy),H(Rw,s,l)});function cT(l,u){return X(l,ds(u,3),nr)}function uT(l,u){return X(l,ds(u,3),Im)}function dT(l,u){return l==null?l:Sm(l,ds(u,3),to)}function hT(l,u){return l==null?l:gy(l,ds(u,3),to)}function fT(l,u){return l&&nr(l,ds(u,3))}function mT(l,u){return l&&Im(l,ds(u,3))}function pT(l){return l==null?[]:Zd(l,ni(l))}function gT(l){return l==null?[]:Zd(l,to(l))}function ip(l,u,y){var P=l==null?s:Xl(l,u);return P===s?y:P}function vT(l,u){return l!=null&&Zy(l,u,j0)}function op(l,u){return l!=null&&Zy(l,u,V0)}var yT=zy(function(l,u,y){u!=null&&typeof u.toString!="function"&&(u=Dc.call(u)),l[u]=y},rp(so)),wT=zy(function(l,u,y){u!=null&&typeof u.toString!="function"&&(u=Dc.call(u)),as.call(l,u)?l[u].push(y):l[u]=[y]},ds),_T=Ls(Mu);function ni(l){return eo(l)?cy(l):Pm(l)}function to(l){return eo(l)?cy(l,!0):X0(l)}function bT(l,u){var y={};return u=ds(u,3),nr(l,function(P,q,K){Ir(y,u(P,q,K),P)}),y}function kT(l,u){var y={};return u=ds(u,3),nr(l,function(P,q,K){Ir(y,q,u(P,q,K))}),y}var AT=Bc(function(l,u,y){eh(l,u,y)}),Rw=Bc(function(l,u,y,P){eh(l,u,y,P)}),CT=Dr(function(l,u){var y={};if(l==null)return y;var P=!1;u=It(u,function(K){return K=al(K,l),P||(P=K.length>1),K}),ir(l,Wm(l),y),P&&(y=ta(y,A|D|E,yS));for(var q=u.length;q--;)Lm(y,u[q]);return y});function ST(l,u){return Nw(l,ph(ds(u)))}var IT=Dr(function(l,u){return l==null?{}:Z0(l,u)});function Nw(l,u){if(l==null)return{};var y=It(Wm(l),function(P){return[P]});return u=ds(u),Iy(l,y,function(P,q){return u(P,q[0])})}function TT(l,u,y){u=al(u,l);var P=-1,q=u.length;for(q||(q=1,l=s);++P<q;){var K=l==null?s:l[or(u[P])];K===s&&(P=q,K=y),l=Pr(K)?K.call(l):K}return l}function DT(l,u,y){return l==null?l:Ou(l,u,y)}function xT(l,u,y,P){return P=typeof P=="function"?P:s,l==null?l:Ou(l,u,y,P)}var Lw=Qy(ni),Fw=Qy(to);function PT(l,u,y){var P=Ts(l),q=P||ll(l)||qc(l);if(u=ds(u,4),y==null){var K=l&&l.constructor;q?y=P?new K:[]:Cn(l)?y=Pr(K)?sl(Pc(l)):{}:y={}}return(q?ie:nr)(l,function(ue,be,Ie){return u(y,ue,be,Ie)}),y}function MT(l,u){return l==null?!0:Lm(l,u)}function ET(l,u,y){return l==null?l:My(l,u,Bm(y))}function OT(l,u,y,P){return P=typeof P=="function"?P:s,l==null?l:My(l,u,Bm(y),P)}function Hc(l){return l==null?[]:Za(l,ni(l))}function RT(l){return l==null?[]:Za(l,to(l))}function NT(l,u,y){return y===s&&(y=u,u=s),y!==s&&(y=ia(y),y=y===y?y:0),u!==s&&(u=ia(u),u=u===u?u:0),Jl(ia(l),u,y)}function LT(l,u,y){return u=Mr(u),y===s?(y=u,u=0):y=Mr(y),l=ia(l),q0(l,u,y)}function FT(l,u,y){if(y&&typeof y!="boolean"&&Ni(l,u,y)&&(u=y=s),y===s&&(typeof u=="boolean"?(y=u,u=s):typeof l=="boolean"&&(y=l,l=s)),l===s&&u===s?(l=0,u=1):(l=Mr(l),u===s?(u=l,l=0):u=Mr(u)),l>u){var P=l;l=u,u=P}if(y||l%1||u%1){var q=Qd();return si(l+q*(u-l+Xa("1e-"+((q+"").length-1))),u)}return Om(l,u)}var UT=jc(function(l,u,y){return u=u.toLowerCase(),l+(y?Uw(u):u)});function Uw(l){return ap(tn(l).toLowerCase())}function Bw(l){return l=tn(l),l&&l.replace(an,bo).replace(kr,"")}function BT(l,u,y){l=tn(l),u=To(u);var P=l.length;y=y===s?P:Jl(Os(y),0,P);var q=y;return y-=u.length,y>=0&&l.slice(y,q)==u}function jT(l){return l=tn(l),l&&J.test(l)?l.replace(Sn,Cr):l}function VT(l){return l=tn(l),l&&is.test(l)?l.replace(kt,"\\$&"):l}var qT=jc(function(l,u,y){return l+(y?"-":"")+u.toLowerCase()}),HT=jc(function(l,u,y){return l+(y?" ":"")+u.toLowerCase()}),WT=qy("toLowerCase");function zT(l,u,y){l=tn(l),u=Os(u);var P=u?Jo(l):0;if(!u||P>=u)return l;var q=(u-P)/2;return ah(Rc(q),y)+l+ah(Oc(q),y)}function GT(l,u,y){l=tn(l),u=Os(u);var P=u?Jo(l):0;return u&&P<u?l+ah(u-P,y):l}function YT(l,u,y){l=tn(l),u=Os(u);var P=u?Jo(l):0;return u&&P<u?ah(u-P,y)+l:l}function QT(l,u,y){return y||u==null?u=0:u&&(u=+u),vm(tn(l).replace(St,""),u||0)}function KT(l,u,y){return(y?Ni(l,u,y):u===s)?u=1:u=Os(u),Rm(tn(l),u)}function JT(){var l=arguments,u=tn(l[0]);return l.length<3?u:u.replace(l[1],l[2])}var XT=jc(function(l,u,y){return l+(y?"_":"")+u.toLowerCase()});function $T(l,u,y){return y&&typeof y!="number"&&Ni(l,u,y)&&(u=y=s),y=y===s?tt:y>>>0,y?(l=tn(l),l&&(typeof u=="string"||u!=null&&!np(u))&&(u=To(u),!u&&In(l))?rl(mi(l),0,y):l.split(u,y)):[]}var ZT=jc(function(l,u,y){return l+(y?" ":"")+ap(u)});function eD(l,u,y){return l=tn(l),y=y==null?0:Jl(Os(y),0,l.length),u=To(u),l.slice(y,y+u.length)==u}function tD(l,u,y){var P=Y.templateSettings;y&&Ni(l,u,y)&&(u=s),l=tn(l),u=yh({},u,P,Ky);var q=yh({},u.imports,P.imports,Ky),K=ni(q),ue=Za(q,K),be,Ie,st=0,nt=u.interpolate||Kn,ct="__p += '",xt=Ss((u.escape||Kn).source+"|"+nt.source+"|"+(nt===Ue?En:Kn).source+"|"+(u.evaluate||Kn).source+"|$","g"),Kt="//# sourceURL="+(as.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ql+"]")+`
`;l.replace(xt,function(fs,Bs,Vs,xo,Li,Po){return Vs||(Vs=xo),ct+=l.slice(st,Po).replace(ya,ko),Bs&&(be=!0,ct+=`' +
__e(`+Bs+`) +
'`),Li&&(Ie=!0,ct+=`';
`+Li+`;
__p += '`),Vs&&(ct+=`' +
((__t = (`+Vs+`)) == null ? '' : __t) +
'`),st=Po+fs.length,fs}),ct+=`';
`;var hs=as.call(u,"variable")&&u.variable;if(!hs)ct=`with (obj) {
`+ct+`
}
`;else if(ri.test(hs))throw new et(f);ct=(Ie?ct.replace(Qn,""):ct).replace(xn,"$1").replace(Pn,"$1;"),ct="function("+(hs||"obj")+`) {
`+(hs?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(be?", __e = _.escape":"")+(Ie?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ct+`return __p
}`;var Rs=Vw(function(){return Rt(K,Kt+"return "+ct).apply(s,ue)});if(Rs.source=ct,sp(Rs))throw Rs;return Rs}function sD(l){return tn(l).toLowerCase()}function nD(l){return tn(l).toUpperCase()}function iD(l,u,y){if(l=tn(l),l&&(y||u===s))return ti(l);if(!l||!(u=To(u)))return l;var P=mi(l),q=mi(u),K=Cs(P,q),ue=Ko(P,q)+1;return rl(P,K,ue).join("")}function oD(l,u,y){if(l=tn(l),l&&(y||u===s))return l.slice(0,Xo(l)+1);if(!l||!(u=To(u)))return l;var P=mi(l),q=Ko(P,mi(u))+1;return rl(P,0,q).join("")}function aD(l,u,y){if(l=tn(l),l&&(y||u===s))return l.replace(St,"");if(!l||!(u=To(u)))return l;var P=mi(l),q=Cs(P,mi(u));return rl(P,q).join("")}function rD(l,u){var y=Ke,P=Te;if(Cn(u)){var q="separator"in u?u.separator:q;y="length"in u?Os(u.length):y,P="omission"in u?To(u.omission):P}l=tn(l);var K=l.length;if(In(l)){var ue=mi(l);K=ue.length}if(y>=K)return l;var be=y-Jo(P);if(be<1)return P;var Ie=ue?rl(ue,0,be).join(""):l.slice(0,be);if(q===s)return Ie+P;if(ue&&(be+=Ie.length-be),np(q)){if(l.slice(be).search(q)){var st,nt=Ie;for(q.global||(q=Ss(q.source,tn(dt.exec(q))+"g")),q.lastIndex=0;st=q.exec(nt);)var ct=st.index;Ie=Ie.slice(0,ct===s?be:ct)}}else if(l.indexOf(To(q),be)!=be){var xt=Ie.lastIndexOf(q);xt>-1&&(Ie=Ie.slice(0,xt))}return Ie+P}function lD(l){return l=tn(l),l&&qo.test(l)?l.replace(dn,$o):l}var cD=jc(function(l,u,y){return l+(y?" ":"")+u.toUpperCase()}),ap=qy("toUpperCase");function jw(l,u,y){return l=tn(l),u=y?s:u,u===s?ka(l)?ve(l):O(l):l.match(u)||[]}var Vw=Ls(function(l,u){try{return H(l,s,u)}catch(y){return sp(y)?y:new et(y)}}),uD=Dr(function(l,u){return ie(u,function(y){y=or(y),Ir(l,y,ep(l[y],l))}),l});function dD(l){var u=l==null?0:l.length,y=ds();return l=u?It(l,function(P){if(typeof P[1]!="function")throw new Es(r);return[y(P[0]),P[1]]}):[],Ls(function(P){for(var q=-1;++q<u;){var K=l[q];if(H(K[0],this,P))return H(K[1],this,P)}})}function hD(l){return F0(ta(l,A))}function rp(l){return function(){return l}}function fD(l,u){return l==null||l!==l?u:l}var mD=Wy(),pD=Wy(!0);function so(l){return l}function lp(l){return _y(typeof l=="function"?l:ta(l,A))}function gD(l){return ky(ta(l,A))}function vD(l,u){return Ay(l,ta(u,A))}var yD=Ls(function(l,u){return function(y){return Mu(y,l,u)}}),wD=Ls(function(l,u){return function(y){return Mu(l,y,u)}});function cp(l,u,y){var P=ni(u),q=Zd(u,P);y==null&&!(Cn(u)&&(q.length||!P.length))&&(y=u,u=l,l=this,q=Zd(u,ni(u)));var K=!(Cn(y)&&"chain"in y)||!!y.chain,ue=Pr(l);return ie(q,function(be){var Ie=u[be];l[be]=Ie,ue&&(l.prototype[be]=function(){var st=this.__chain__;if(K||st){var nt=l(this.__wrapped__),ct=nt.__actions__=Zi(this.__actions__);return ct.push({func:Ie,args:arguments,thisArg:l}),nt.__chain__=st,nt}return Ie.apply(l,ms([this.value()],arguments))})}),l}function _D(){return $s._===this&&($s._=Hd),this}function up(){}function bD(l){return l=Os(l),Ls(function(u){return Cy(u,l)})}var kD=Vm(It),AD=Vm(je),CD=Vm(rn);function qw(l){return Qm(l)?ws(or(l)):eS(l)}function SD(l){return function(u){return l==null?s:Xl(l,u)}}var ID=Gy(),TD=Gy(!0);function dp(){return[]}function hp(){return!1}function DD(){return{}}function xD(){return""}function PD(){return!0}function MD(l,u){if(l=Os(l),l<1||l>wt)return[];var y=tt,P=si(l,tt);u=ds(u),l-=tt;for(var q=Qo(P,u);++y<l;)u(y);return q}function ED(l){return Ts(l)?It(l,or):Do(l)?[l]:Zi(lw(tn(l)))}function OD(l){var u=++um;return tn(l)+u}var RD=oh(function(l,u){return l+u},0),ND=qm("ceil"),LD=oh(function(l,u){return l/u},1),FD=qm("floor");function UD(l){return l&&l.length?$d(l,so,Tm):s}function BD(l,u){return l&&l.length?$d(l,ds(u,2),Tm):s}function jD(l){return $t(l,so)}function VD(l,u){return $t(l,ds(u,2))}function qD(l){return l&&l.length?$d(l,so,Mm):s}function HD(l,u){return l&&l.length?$d(l,ds(u,2),Mm):s}var WD=oh(function(l,u){return l*u},1),zD=qm("round"),GD=oh(function(l,u){return l-u},0);function YD(l){return l&&l.length?qn(l,so):0}function QD(l,u){return l&&l.length?qn(l,ds(u,2)):0}return Y.after=g2,Y.ary=ww,Y.assign=nT,Y.assignIn=Ow,Y.assignInWith=yh,Y.assignWith=iT,Y.at=oT,Y.before=_w,Y.bind=ep,Y.bindAll=uD,Y.bindKey=bw,Y.castArray=D2,Y.chain=gw,Y.chunk=FS,Y.compact=US,Y.concat=BS,Y.cond=dD,Y.conforms=hD,Y.constant=rp,Y.countBy=YI,Y.create=aT,Y.curry=kw,Y.curryRight=Aw,Y.debounce=Cw,Y.defaults=rT,Y.defaultsDeep=lT,Y.defer=v2,Y.delay=y2,Y.difference=jS,Y.differenceBy=VS,Y.differenceWith=qS,Y.drop=HS,Y.dropRight=WS,Y.dropRightWhile=zS,Y.dropWhile=GS,Y.fill=YS,Y.filter=KI,Y.flatMap=$I,Y.flatMapDeep=ZI,Y.flatMapDepth=e2,Y.flatten=hw,Y.flattenDeep=QS,Y.flattenDepth=KS,Y.flip=w2,Y.flow=mD,Y.flowRight=pD,Y.fromPairs=JS,Y.functions=pT,Y.functionsIn=gT,Y.groupBy=t2,Y.initial=$S,Y.intersection=ZS,Y.intersectionBy=eI,Y.intersectionWith=tI,Y.invert=yT,Y.invertBy=wT,Y.invokeMap=n2,Y.iteratee=lp,Y.keyBy=i2,Y.keys=ni,Y.keysIn=to,Y.map=hh,Y.mapKeys=bT,Y.mapValues=kT,Y.matches=gD,Y.matchesProperty=vD,Y.memoize=mh,Y.merge=AT,Y.mergeWith=Rw,Y.method=yD,Y.methodOf=wD,Y.mixin=cp,Y.negate=ph,Y.nthArg=bD,Y.omit=CT,Y.omitBy=ST,Y.once=_2,Y.orderBy=o2,Y.over=kD,Y.overArgs=b2,Y.overEvery=AD,Y.overSome=CD,Y.partial=tp,Y.partialRight=Sw,Y.partition=a2,Y.pick=IT,Y.pickBy=Nw,Y.property=qw,Y.propertyOf=SD,Y.pull=oI,Y.pullAll=mw,Y.pullAllBy=aI,Y.pullAllWith=rI,Y.pullAt=lI,Y.range=ID,Y.rangeRight=TD,Y.rearg=k2,Y.reject=c2,Y.remove=cI,Y.rest=A2,Y.reverse=$m,Y.sampleSize=d2,Y.set=DT,Y.setWith=xT,Y.shuffle=h2,Y.slice=uI,Y.sortBy=p2,Y.sortedUniq=vI,Y.sortedUniqBy=yI,Y.split=$T,Y.spread=C2,Y.tail=wI,Y.take=_I,Y.takeRight=bI,Y.takeRightWhile=kI,Y.takeWhile=AI,Y.tap=UI,Y.throttle=S2,Y.thru=dh,Y.toArray=Pw,Y.toPairs=Lw,Y.toPairsIn=Fw,Y.toPath=ED,Y.toPlainObject=Ew,Y.transform=PT,Y.unary=I2,Y.union=CI,Y.unionBy=SI,Y.unionWith=II,Y.uniq=TI,Y.uniqBy=DI,Y.uniqWith=xI,Y.unset=MT,Y.unzip=Zm,Y.unzipWith=pw,Y.update=ET,Y.updateWith=OT,Y.values=Hc,Y.valuesIn=RT,Y.without=PI,Y.words=jw,Y.wrap=T2,Y.xor=MI,Y.xorBy=EI,Y.xorWith=OI,Y.zip=RI,Y.zipObject=NI,Y.zipObjectDeep=LI,Y.zipWith=FI,Y.entries=Lw,Y.entriesIn=Fw,Y.extend=Ow,Y.extendWith=yh,cp(Y,Y),Y.add=RD,Y.attempt=Vw,Y.camelCase=UT,Y.capitalize=Uw,Y.ceil=ND,Y.clamp=NT,Y.clone=x2,Y.cloneDeep=M2,Y.cloneDeepWith=E2,Y.cloneWith=P2,Y.conformsTo=O2,Y.deburr=Bw,Y.defaultTo=fD,Y.divide=LD,Y.endsWith=BT,Y.eq=Da,Y.escape=jT,Y.escapeRegExp=VT,Y.every=QI,Y.find=JI,Y.findIndex=uw,Y.findKey=cT,Y.findLast=XI,Y.findLastIndex=dw,Y.findLastKey=uT,Y.floor=FD,Y.forEach=vw,Y.forEachRight=yw,Y.forIn=dT,Y.forInRight=hT,Y.forOwn=fT,Y.forOwnRight=mT,Y.get=ip,Y.gt=R2,Y.gte=N2,Y.has=vT,Y.hasIn=op,Y.head=fw,Y.identity=so,Y.includes=s2,Y.indexOf=XS,Y.inRange=LT,Y.invoke=_T,Y.isArguments=ec,Y.isArray=Ts,Y.isArrayBuffer=L2,Y.isArrayLike=eo,Y.isArrayLikeObject=Fn,Y.isBoolean=F2,Y.isBuffer=ll,Y.isDate=U2,Y.isElement=B2,Y.isEmpty=j2,Y.isEqual=V2,Y.isEqualWith=q2,Y.isError=sp,Y.isFinite=H2,Y.isFunction=Pr,Y.isInteger=Iw,Y.isLength=gh,Y.isMap=Tw,Y.isMatch=W2,Y.isMatchWith=z2,Y.isNaN=G2,Y.isNative=Y2,Y.isNil=K2,Y.isNull=Q2,Y.isNumber=Dw,Y.isObject=Cn,Y.isObjectLike=Tn,Y.isPlainObject=Fu,Y.isRegExp=np,Y.isSafeInteger=J2,Y.isSet=xw,Y.isString=vh,Y.isSymbol=Do,Y.isTypedArray=qc,Y.isUndefined=X2,Y.isWeakMap=$2,Y.isWeakSet=Z2,Y.join=sI,Y.kebabCase=qT,Y.last=na,Y.lastIndexOf=nI,Y.lowerCase=HT,Y.lowerFirst=WT,Y.lt=eT,Y.lte=tT,Y.max=UD,Y.maxBy=BD,Y.mean=jD,Y.meanBy=VD,Y.min=qD,Y.minBy=HD,Y.stubArray=dp,Y.stubFalse=hp,Y.stubObject=DD,Y.stubString=xD,Y.stubTrue=PD,Y.multiply=WD,Y.nth=iI,Y.noConflict=_D,Y.noop=up,Y.now=fh,Y.pad=zT,Y.padEnd=GT,Y.padStart=YT,Y.parseInt=QT,Y.random=FT,Y.reduce=r2,Y.reduceRight=l2,Y.repeat=KT,Y.replace=JT,Y.result=TT,Y.round=zD,Y.runInContext=$,Y.sample=u2,Y.size=f2,Y.snakeCase=XT,Y.some=m2,Y.sortedIndex=dI,Y.sortedIndexBy=hI,Y.sortedIndexOf=fI,Y.sortedLastIndex=mI,Y.sortedLastIndexBy=pI,Y.sortedLastIndexOf=gI,Y.startCase=ZT,Y.startsWith=eD,Y.subtract=GD,Y.sum=YD,Y.sumBy=QD,Y.template=tD,Y.times=MD,Y.toFinite=Mr,Y.toInteger=Os,Y.toLength=Mw,Y.toLower=sD,Y.toNumber=ia,Y.toSafeInteger=sT,Y.toString=tn,Y.toUpper=nD,Y.trim=iD,Y.trimEnd=oD,Y.trimStart=aD,Y.truncate=rD,Y.unescape=lD,Y.uniqueId=OD,Y.upperCase=cD,Y.upperFirst=ap,Y.each=vw,Y.eachRight=yw,Y.first=fw,cp(Y,function(){var l={};return nr(Y,function(u,y){as.call(Y.prototype,y)||(l[y]=u)}),l}(),{chain:!1}),Y.VERSION=o,ie(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){Y[l].placeholder=Y}),ie(["drop","take"],function(l,u){Fs.prototype[l]=function(y){y=y===s?1:Ln(Os(y),0);var P=this.__filtered__&&!u?new Fs(this):this.clone();return P.__filtered__?P.__takeCount__=si(y,P.__takeCount__):P.__views__.push({size:si(y,tt),type:l+(P.__dir__<0?"Right":"")}),P},Fs.prototype[l+"Right"]=function(y){return this.reverse()[l](y).reverse()}}),ie(["filter","map","takeWhile"],function(l,u){var y=u+1,P=y==de||y==Qt;Fs.prototype[l]=function(q){var K=this.clone();return K.__iteratees__.push({iteratee:ds(q,3),type:y}),K.__filtered__=K.__filtered__||P,K}}),ie(["head","last"],function(l,u){var y="take"+(u?"Right":"");Fs.prototype[l]=function(){return this[y](1).value()[0]}}),ie(["initial","tail"],function(l,u){var y="drop"+(u?"":"Right");Fs.prototype[l]=function(){return this.__filtered__?new Fs(this):this[y](1)}}),Fs.prototype.compact=function(){return this.filter(so)},Fs.prototype.find=function(l){return this.filter(l).head()},Fs.prototype.findLast=function(l){return this.reverse().find(l)},Fs.prototype.invokeMap=Ls(function(l,u){return typeof l=="function"?new Fs(this):this.map(function(y){return Mu(y,l,u)})}),Fs.prototype.reject=function(l){return this.filter(ph(ds(l)))},Fs.prototype.slice=function(l,u){l=Os(l);var y=this;return y.__filtered__&&(l>0||u<0)?new Fs(y):(l<0?y=y.takeRight(-l):l&&(y=y.drop(l)),u!==s&&(u=Os(u),y=u<0?y.dropRight(-u):y.take(u-l)),y)},Fs.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Fs.prototype.toArray=function(){return this.take(tt)},nr(Fs.prototype,function(l,u){var y=/^(?:filter|find|map|reject)|While$/.test(u),P=/^(?:head|last)$/.test(u),q=Y[P?"take"+(u=="last"?"Right":""):u],K=P||/^find/.test(u);q&&(Y.prototype[u]=function(){var ue=this.__wrapped__,be=P?[1]:arguments,Ie=ue instanceof Fs,st=be[0],nt=Ie||Ts(ue),ct=function(Bs){var Vs=q.apply(Y,ms([Bs],be));return P&&xt?Vs[0]:Vs};nt&&y&&typeof st=="function"&&st.length!=1&&(Ie=nt=!1);var xt=this.__chain__,Kt=!!this.__actions__.length,hs=K&&!xt,Rs=Ie&&!Kt;if(!K&&nt){ue=Rs?ue:new Fs(this);var fs=l.apply(ue,be);return fs.__actions__.push({func:dh,args:[ct],thisArg:s}),new $i(fs,xt)}return hs&&Rs?l.apply(this,be):(fs=this.thru(ct),hs?P?fs.value()[0]:fs.value():fs)})}),ie(["pop","push","shift","sort","splice","unshift"],function(l){var u=bn[l],y=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",P=/^(?:pop|shift)$/.test(l);Y.prototype[l]=function(){var q=arguments;if(P&&!this.__chain__){var K=this.value();return u.apply(Ts(K)?K:[],q)}return this[y](function(ue){return u.apply(Ts(ue)?ue:[],q)})}}),nr(Fs.prototype,function(l,u){var y=Y[u];if(y){var P=y.name+"";as.call(el,P)||(el[P]=[]),el[P].push({name:u,func:y})}}),el[ih(s,R).name]=[{name:"wrapper",func:s}],Fs.prototype.clone=Jd,Fs.prototype.reverse=bm,Fs.prototype.value=Uc,Y.prototype.at=BI,Y.prototype.chain=jI,Y.prototype.commit=VI,Y.prototype.next=qI,Y.prototype.plant=WI,Y.prototype.reverse=zI,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=GI,Y.prototype.first=Y.prototype.head,Ca&&(Y.prototype[Ca]=HI),Y},Fe=Oe();ei?((ei.exports=Fe)._=Fe,$a._=Fe):$s._=Fe}).call(ac)})(af,af.exports);var iR=af.exports;const Ft=fv(iR),oR={props:{show:{type:Boolean,default:!1}},components:{ProfileBar:oi,WelcomeForm:_c,TextTextarea:kn,PostButton:xs,NumberInput:fa,TextArray:Uf,TextInput:js,MainModal:Sd,SlideUpGroup:jf},data(){return{errorName:!1,errorAgeEnd:!1,errorAgeStart:!1,showProfiles:!1,loading:!1,inputName:"",inputDescription:"",ageGroupText:"add age group",inputAgeEnd:"0",inputAgeStart:"0",hasAgeGroup:!1,alertError:!1,alertSuccess:!1,showAgeGroup:!1,alertMessage:"",buttonText:"create",actionType:"grade",title:"create a grade",gradeRequestnumber:0,grades:[],grade:{},aliasesArray:[],temporaryInputAliases:"",inputAliases:"",aliasesCurrentPosition:null,aliasesArrayPositions:null,showAliases:!0}},watch:{inputName(e,t){e.length&&(this.errorName=!1,e.trim().length&&this.actionType==="grade"&&this.debouncedGetGrades(),e.length<t.length&&(this.gradeRequestnumber=0))},hasAgeGroup(e){e?(this.inputAgeEnd="0",this.inputAgeEnd="5",this.ageGroupText="no age group"):this.ageGroupText="add age group"},inputAgeStart(e){this.errorAgeStart=!1,this.errorAgeEnd=!1,Number(this.inputAgeStart)+5<=50?this.inputAgeEnd=`${Number(this.inputAgeStart)+5}`:this.inputAgeEnd="50"},inputAgeEnd(e){this.errorAgeStart=!1,this.errorAgeEnd=!1},actionType(e){e==="grade"?(this.buttonText="create",this.showAliases=!0,this.showAgeGroup=!0,this.title="create a grade",this.inputName.length&&this.getGrades()):(this.buttonText="add alias",this.showAliases=!1,this.showAgeGroup=!1,this.title=`create alias of ${this.grade.name}`,this.hasAgeGroup=!1)},grades:{handler(e){(!e||!e.length)&&(this.grade={})},deep:!0}},computed:{...os(["getProfiles"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedShowGrade(){return this.actionType==="grade"&&this.grades.length&&this.inputName.length},computedHasNoMore(){return this.gradeRequestnumber===0||this.gradeRequestnumber>0&&this.grades.length>0},computedAgeMore(){return this.inputAgeStart>=50}},methods:{...ss(["profile/createGrade","profile/searchGrades","profile/createGradeAlias"]),clickedCreate(){this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},clickedAddGroup(){this.hasAgeGroup=!this.hasAgeGroup},clickedAddGrade(){this.actionType="grade"},clickedProfile(e){this.showProfiles=!1,this.createGrade(e)},ageStart(e){this.inputAgeStart=e},ageEnd(e){this.inputAgeEnd=e},debouncedGetGrades:Ft.debounce(function(){this.getGrades()},100),async getGrades(){if(this.computedHasNoMore){let e=await this["profile/searchGrades"](this.inputName);e.status?(this.gradeRequestnumber+=1,this.grades=e.data.grades.length?e.data.grades.map(t=>({id:t.id,name:t.name,description:t.description,age_group:t.age_group,aliases:Ft.take(t.aliases.map(s=>` ${s.name}`),4).toString()})):[]):console.log(e.message)}},clickedGrade(e){this.actionType="alias",this.grade=e},async createGrade(e){if(!this.inputName||!this.inputName.length){this.errorName=!0,this.alertError=!0,this.alertMessage="please enter the grade name";return}if(this.hasAgeGroup){if(!this.inputAgeStart.length||!this.inputAgeEnd.length){this.errorAgeStart=!0,this.errorAgeEnd=!0,this.alertError=!0,this.alertMessage="please start and end age inputs must have values";return}if(Number(this.inputAgeStart)>Number(this.inputAgeEnd)){this.errorAgeStart=!0,this.errorAgeEnd=!0,this.alertError=!0,this.alertMessage="please start must be lower than the end";return}}this.loading=!0;let t={},s=null;if(t.account=e.account,t.accountId=e.accountId,this.inputName&&(t.name=this.inputName.trim()),this.inputDescription&&(t.description=this.inputDescription.trim()),this.actionType==="grade"){if(e.account==="learner"||e.account==="parent"){this.alertError=!0,this.alertMessage=`a ${e.account} cannot create a grade. Try creating an alias of a grade instead or contact us.`,this.loading=!1;return}this.hasAgeGroup&&(t.ageGroup=`${this.inputAgeStart.trim()} - ${this.inputAgeEnd.trim()}`);let o=this.aliasesArray;this.aliasesArrayPositions===this.aliasesCurrentPosition?this.inputAliases&&this.inputAliases.trim()!==""?o.push(this.inputAliases.trim()):o.push(this.temporaryInputAliases.trim()):this.temporaryInputAliases&&this.temporaryInputAliases.trim()!==""&&o.push(this.temporaryInputAliases.trim()),t.aliases=o,s=await this["profile/createGrade"](t)}else s=await this["profile/createGradeAlias"]({data:t,gradeId:this.grade.id});this.loading=!1,s.status?(this.gradeRequestnumber=0,this.alertSuccess=!0,this.alertMessage=`successfully created ${t.name} ${this.actionType}`,this.$emit("attachmentCreated",{attachment:s.data.grade,type:"grade"}),this.clearData()):(this.alertError=!0,this.alertMessage=s.message)},textArrayData(e){this.aliasesArray=e.inputArray,this.temporaryInputAliases=e.temporaryInput,this.aliasesCurrentPosition=e.currentPosition,this.inputAliases=e.input,this.aliasesArrayPositions=e.positions},closeModal(){this.clearData(),this.$emit("closeCreateGrade")},clearData(){this.inputName="",this.inputDescription="",this.inputAgeStart="0",this.inputAgeEnd="0",this.aliasesArray=[],this.temporaryInputAliases="",this.aliasesCurrentPosition=null,this.aliasesArrayPositions=null,this.inputAliases="",this.actionType="grade",this.hasAgeGroup=!1},clearAlert(){this.alertMessage="",this.alertError=!1,this.alertSuccess=!1}}},Vf=e=>(gs("data-v-7e6a68e6"),e=e(),vs(),e),aR={slot:"main"},rR={slot:"input"},lR={class:"form-section"},cR={slot:"transition"},uR=["onClick"],dR={class:"grade"},hR={key:0},fR={key:1},mR={key:2},pR={key:1,class:"search-section-message"},gR={key:4,class:"form-section age-group"},vR={class:"age-section"},yR=Vf(()=>h("div",{class:"label"},"from",-1)),wR={key:0,class:"label"},_R={key:1,class:"age-section"},bR=Vf(()=>h("div",{class:"label"},"to",-1)),kR=Vf(()=>h("div",{class:"label"},"years",-1)),AR={key:5,class:"form-section"},CR={class:"form-section"},SR={key:6,class:"profiles"},IR=Vf(()=>h("span",null," create as ",-1)),TR={slot:"buttons"};function DR(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("text-input"),m=_("slide-up-group"),v=_("number-input"),g=_("text-array"),A=_("text-textarea"),D=_("profile-bar"),E=_("post-button"),T=_("welcome-form"),N=_("main-modal"),F=_("just-fade");return a(),S(F,null,{default:z(()=>[s.show?(a(),S(N,{key:0,show:s.show,onMainModalDisappear:n.closeModal,alertMessage:i.alertMessage,alertError:i.alertError,alertSuccess:i.alertSuccess,onClearAlert:n.clearAlert,loading:i.loading},{default:z(()=>[i.loading?(a(),S(r,{key:0,loading:i.loading},null,8,["loading"])):c("",!0),h("template",aR,[b(T,{title:i.title,class:"create-grade-wrapper"},{default:z(()=>[h("template",rR,[h("div",lR,[b(f,{bottomBorder:!0,error:i.errorName,placeholder:"grade name*",modelValue:i.inputName,"onUpdate:modelValue":t[0]||(t[0]=R=>i.inputName=R)},null,8,["error","modelValue"])]),n.computedShowGrade?(a(),S(m,{key:0,class:"search-section"},{default:z(()=>[h("template",cR,[(a(!0),d(Z,null,pe(i.grades,R=>(a(),d("div",{class:"search-subject",key:R.id,onClick:j=>n.clickedGrade(R)},[h("div",dR,V(R.name),1),R.description&&R.description.length?(a(),d("p",hR,V(`description: ${R.description}`),1)):c("",!0),R.age_group&&R.age_group.length?(a(),d("p",fR,V(`age group: ${R.age_group} years`),1)):c("",!0),R.aliases.length?(a(),d("p",mR,V(`aliases: ${R.aliases}`),1)):c("",!0)],8,uR))),128))])]),_:1})):c("",!0),n.computedShowGrade?(a(),d("p",pR,"click to add an alias")):c("",!0),i.actionType==="alias"?(a(),d("div",{key:2,class:"add-grade",onClick:t[1]||(t[1]=(...R)=>n.clickedAddGrade&&n.clickedAddGrade(...R))}," add grade ")):c("",!0),i.actionType==="grade"?(a(),d("div",{key:3,class:"add-age-group",onClick:t[2]||(t[2]=(...R)=>n.clickedAddGroup&&n.clickedAddGroup(...R))},V(i.ageGroupText),1)):c("",!0),i.hasAgeGroup&&i.showAgeGroup?(a(),d("div",gR,[h("div",vR,[yR,b(v,{value:i.inputAgeStart,error:i.errorAgeStart,placeholder:"0",onNumberinput:n.ageStart,inputMax:50,inputMin:0,bottomBorder:!0,sm:!0},null,8,["value","error","onNumberinput"])]),n.computedAgeMore?(a(),d("div",wR,"and more")):(a(),d("div",_R,[bR,b(v,{value:i.inputAgeEnd,error:i.errorAgeEnd,placeholder:"10",onNumberinput:n.ageEnd,sm:!0,bottomBorder:!0,inputMax:50,inputMin:0},null,8,["value","error","onNumberinput"])])),kR])):c("",!0),i.showAliases?(a(),d("div",AR,[b(g,{show:!0,bottomBorder:!0,propsArray:i.aliasesArray,example:"soc, social",placeholder:"aliases for grade name",onTextArrayData:n.textArrayData},null,8,["propsArray","onTextArrayData"])])):c("",!0),h("div",CR,[b(A,{bottomBorder:!0,placeholder:"description of the grade",modelValue:i.inputDescription,"onUpdate:modelValue":t[3]||(t[3]=R=>i.inputDescription=R)},null,8,["modelValue"])]),i.showProfiles?(a(),d("div",SR,[IR,(a(!0),d(Z,null,pe(n.computedProfiles,(R,j)=>(a(),d("div",{key:j},[b(D,{smallType:!0,profile:R,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)]),h("template",TR,[b(E,{buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear","alertMessage","alertError","alertSuccess","onClearAlert","loading"])):c("",!0)]),_:1})}const xR=Ae(oR,[["render",DR],["__scopeId","data-v-7e6a68e6"]]),PR={props:{show:{type:Boolean,default:!1}},components:{ProfileBar:oi,WelcomeForm:_c,TextTextarea:kn,PostButton:xs,TextArray:Uf,TextInput:js,MainModal:Sd,SlideUpGroup:jf},data(){return{errorName:!1,showProfiles:!1,loading:!1,inputName:"",inputDescription:"",inputRationale:"",alertError:!1,alertSuccess:!1,showRationale:!0,showAliases:!0,alertMessage:"",buttonText:"create",actionType:"subject",title:"create a subject",aliasesArray:[],temporaryInputAliases:"",inputAliases:"",aliasesCurrentPosition:null,aliasesArrayPositions:null,subjectRequestnumber:0,subjects:[],subject:{}}},watch:{inputName(e,t){e.length&&(this.errorName=!1,e.trim().length&&this.actionType==="subject"&&this.debouncedGetSubjects(),e.length<t.length&&(this.subjectRequestnumber=0))},actionType(e){e==="subject"?(this.buttonText="create",this.showRationale=!0,this.showAliases=!0,this.title="create a subject",this.inputName.length&&this.getSubjects()):(this.buttonText="add alias",this.showRationale=!1,this.showAliases=!1,this.title=`create alias of ${this.subject.name}`)},subjects:{handler(e){(!e||!e.length)&&(this.subject={})},deep:!0}},computed:{...os(["getProfiles"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedShowSubject(){return this.actionType==="subject"&&this.subjects.length&&this.inputName.length},computedHasNoMore(){return this.subjectRequestnumber===0||this.subjectRequestnumber>0&&this.subjects.length>0}},methods:{...ss(["profile/createSubject","profile/searchSubjects","profile/createSubjectAlias"]),clickedCreate(){this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},clickedAddSubject(){this.actionType="subject"},clickedProfile(e){this.showProfiles=!1,this.createSubject(e)},debouncedGetSubjects:Ft.debounce(function(){this.getSubjects()},100),async getSubjects(){if(this.computedHasNoMore){let e=await this["profile/searchSubjects"](this.inputName);e.status?(this.subjectRequestnumber=0,this.subjects=e.data.subjects.length?e.data.subjects.map(t=>({id:t.id,name:t.name,description:t.description,aliases:Ft.take(t.aliases.map(s=>` ${s.name}`),4).toString()})):[]):console.log(e.message)}},clickedSubject(e){this.actionType="alias",this.subject=e},async createSubject(e){if(!this.inputName||!this.inputName.length){this.errorName=!0,this.alertError=!0,this.alertMessage=`please enter the ${this.actionType} name`;return}this.loading=!0;let t={},s=null;if(t.account=e.account,t.accountId=e.accountId,t.name=this.inputName?this.inputName.trim():this.inputName,t.description=this.inputDescription?this.inputDescription.trim():this.inputDescription,this.actionType==="subject"){if(e.account==="learner"||e.account==="parent"){this.alertError=!0,this.alertMessage=`a ${e.account} cannot create a subject. Try creating an alias of a subject instead or contact us.`,this.loading=!1;return}t.rationale=this.inputRationale?this.inputRationale.trim():this.inputRationale;let o=this.aliasesArray;this.aliasesArrayPositions===this.aliasesCurrentPosition?this.inputAliases&&this.inputAliases.trim()!==""?o.push(this.inputAliases.trim()):o.push(this.temporaryInputAliases.trim()):this.temporaryInputAliases&&this.temporaryInputAliases.trim()!==""&&o.push(this.temporaryInputAliases.trim()),t.aliases=o,s=await this["profile/createSubject"](t)}else s=await this["profile/createSubjectAlias"]({data:t,subjectId:this.subject.id});this.loading=!1,s.status?(this.subjectRequestnumber=0,this.alertSuccess=!0,this.alertMessage=`successfully created ${t.name} ${this.actionType}`,this.$emit("attachmentCreated",{attachment:s.data.subject,type:"subject"}),this.clearData()):(this.alertError=!0,this.alertMessage=s.message)},textArrayData(e){this.aliasesArray=e.inputArray,this.temporaryInputAliases=e.temporaryInput,this.aliasesCurrentPosition=e.currentPosition,this.inputAliases=e.input,this.aliasesArrayPositions=e.positions},closeModal(){this.clearData(),this.$emit("closeCreateSubject")},clearData(){this.inputName="",this.inputDescription="",this.inputRationale="",this.aliasesArray=[],this.temporaryInputAliases="",this.aliasesCurrentPosition=null,this.aliasesArrayPositions=null,this.inputAliases="",this.actionType="subject"},clearAlert(){this.alertMessage="",this.alertError=!1,this.alertSuccess=!1}}},MR=e=>(gs("data-v-4364fa6a"),e=e(),vs(),e),ER={slot:"main"},OR={slot:"input"},RR={key:0,class:"loading"},NR={class:"form-section"},LR={slot:"transition"},FR=["onClick"],UR={class:"subject"},BR={key:0},jR={key:1},VR={key:2,class:"search-section-message"},qR={class:"form-section"},HR={key:4,class:"form-section"},WR={key:5,class:"form-section"},zR={key:6,class:"profiles"},GR=MR(()=>h("span",null," create as ",-1)),YR={slot:"buttons"};function QR(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("slide-up-group"),g=_("text-textarea"),A=_("text-array"),D=_("profile-bar"),E=_("post-button"),T=_("welcome-form"),N=_("main-modal"),F=_("just-fade");return a(),S(F,null,{default:z(()=>[s.show?(a(),S(N,{key:0,show:s.show,onMainModalDisappear:n.closeModal,requests:!1,mainOther:!1},{default:z(()=>[h("template",ER,[b(T,{title:i.title,class:"create-subject-wrapper"},{default:z(()=>[h("template",OR,[b(r,{message:i.alertMessage,success:i.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:n.clearAlert},null,8,["message","success","danger","onHideAlert"]),i.loading?(a(),d("div",RR,[b(f,{loading:i.loading},null,8,["loading"])])):c("",!0),h("div",NR,[b(m,{bottomBorder:!0,error:i.errorName,placeholder:"subject name*",modelValue:i.inputName,"onUpdate:modelValue":t[0]||(t[0]=R=>i.inputName=R)},null,8,["error","modelValue"])]),n.computedShowSubject?(a(),S(v,{key:1,class:"search-section"},{default:z(()=>[h("template",LR,[(a(!0),d(Z,null,pe(i.subjects,R=>(a(),d("div",{class:"search-subject",key:R.id,onClick:j=>n.clickedSubject(R)},[h("div",UR,V(R.name),1),R.description&&R.description.length?(a(),d("p",BR,V(`description: ${R.description}`),1)):c("",!0),R.aliases.length?(a(),d("p",jR,V(`aliases: ${R.aliases}`),1)):c("",!0)],8,FR))),128))])]),_:1})):c("",!0),n.computedShowSubject?(a(),d("p",VR,"click a sbject to which you want to add an alias")):c("",!0),i.actionType==="alias"?(a(),d("div",{key:3,class:"add-subject",onClick:t[1]||(t[1]=(...R)=>n.clickedAddSubject&&n.clickedAddSubject(...R))}," add subject ")):c("",!0),h("div",qR,[b(g,{bottomBorder:!0,placeholder:"description of the subject",modelValue:i.inputDescription,"onUpdate:modelValue":t[2]||(t[2]=R=>i.inputDescription=R)},null,8,["modelValue"])]),i.showRationale?(a(),d("div",HR,[b(g,{bottomBorder:!0,placeholder:"rationale for this subject",modelValue:i.inputRationale,"onUpdate:modelValue":t[3]||(t[3]=R=>i.inputRationale=R)},null,8,["modelValue"])])):c("",!0),i.showAliases?(a(),d("div",WR,[b(A,{show:!0,bottomBorder:!0,propsArray:i.aliasesArray,example:"soc, social",placeholder:"aliases for subject name",onTextArrayData:n.textArrayData},null,8,["propsArray","onTextArrayData"])])):c("",!0),i.showProfiles?(a(),d("div",zR,[GR,(a(!0),d(Z,null,pe(n.computedProfiles,(R,j)=>(a(),d("div",{key:j},[b(D,{smallType:!0,profile:R,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)]),h("template",YR,[b(E,{buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const KR=Ae(PR,[["render",QR],["__scopeId","data-v-4364fa6a"]]),JR={props:{show:{type:Boolean,default:!1},type:{type:String,default:"program"}},components:{ProfileBar:oi,WelcomeForm:_c,TextTextarea:kn,PostButton:xs,TextArray:Uf,TextInput:js,MainModal:Sd,SlideUpGroup:jf},data(){return{errorName:!1,showProfiles:!1,loading:!1,inputName:"",inputDescription:"",inputRationale:"",alertError:!1,alertSuccess:!1,showRationale:!0,showAliases:!0,alertMessage:"",buttonText:"create",actionType:"attachment",title:"create a attachment",aliasesArray:[],temporaryInputAliases:"",inputAliases:"",aliasesCurrentPosition:null,aliasesArrayPositions:null,attachmentRequestnumber:0,attachments:[],attachment:{}}},watch:{type:{immediate:!0,handler(e){this.title=`create a ${e}`}},inputName(e,t){e.length&&(this.errorName=!1,e.trim().length&&this.actionType==="attachment"&&this.debouncedGetAttachments(),e.length<t.length&&(this.attachmentRequestnumber=0))},actionType(e){e==="attachment"?(this.buttonText="create",this.showRationale=!0,this.showAliases=!0,this.title="create a attachment",this.inputName.length&&this.getAttachments()):(this.buttonText="add alias",this.showRationale=!1,this.showAliases=!1,this.title=`create alias of ${this.attachment.name}`)},attachments:{handler(e){(!e||!e.length)&&(this.attachment={})},deep:!0}},computed:{...os(["getProfiles"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedShowattachment(){return this.actionType==="attachment"&&this.attachments.length&&this.inputName.length},computedHasNoMore(){return this.attachmentRequestnumber===0||this.attachmentRequestnumber>0&&this.attachments.length>0}},methods:{...ss(["profile/createProgram","profile/searchPrograms","profile/createProgramAlias","profile/createCourse","profile/searchCourses","profile/createCourseAlias"]),clickedCreate(){this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},clickedAddattachment(){this.actionType="attachment"},clickedProfile(e){this.showProfiles=!1,this.createAttachment(e)},debouncedGetAttachments:Ft.debounce(function(){this.getAttachments()},100),async getAttachments(){if(this.computedHasNoMore){let e;if(this.type==="program"?e=await this["profile/searchPrograms"](this.inputName):this.type==="course"&&(e=await this["profile/searchCourses"](this.inputName)),e.status){let t=e.data.programs?e.data.programs:e.data.courses?e.data.courses:[];this.attachmentRequestnumber=0,this.attachments=t.length?t.map(s=>({id:s.id,name:s.name,description:s.description,aliases:s.aliases?Ft.take(s.aliases.map(o=>` ${o.name}`),4).toString():[]})):[]}else console.log(e.message)}},clickedattachment(e){this.actionType="alias",this.attachment=e},async createAttachment(e){if(!this.inputName||!this.inputName.length){this.errorName=!0,this.alertError=!0,this.alertMessage=`please enter the ${this.actionType} name`;return}this.loading=!0;let t={},s=null;if(t.account=e.account,t.accountId=e.accountId,t.name=this.inputName?this.inputName.trim():this.inputName,t.description=this.inputDescription?this.inputDescription.trim():this.inputDescription,this.actionType==="attachment"){if(e.account==="learner"||e.account==="parent"){this.alertError=!0,this.alertMessage=`a ${e.account} cannot create a attachment. Try creating an alias of a attachment instead or contact us.`,this.loading=!1;return}t.rationale=this.inputRationale?this.inputRationale.trim():this.inputRationale;let o=this.aliasesArray;this.aliasesArrayPositions===this.aliasesCurrentPosition?this.inputAliases&&this.inputAliases.trim()!==""?o.push(this.inputAliases.trim()):o.push(this.temporaryInputAliases.trim()):this.temporaryInputAliases&&this.temporaryInputAliases.trim()!==""&&o.push(this.temporaryInputAliases.trim()),t.aliases=o,this.type==="program"?s=await this["profile/createProgram"](t):this.type==="course"&&(s=await this["profile/createCourse"](t))}else this.type==="program"?s=await this["profile/createProgramAlias"]({data:t,attachmentId:this.attachment.id}):this.type==="course"&&(s=await this["profile/createCourseAlias"]({data:t,attachmentId:this.attachment.id}));this.loading=!1,s.status?(this.attachmentRequestnumber=0,this.alertSuccess=!0,this.alertMessage=`successfully created ${t.name} ${this.actionType}`,this.$emit("attachmentCreated",{attachment:s.data.program?s.data.program:s.data.course?s.data.course:[],type:this.type}),this.clearData()):(this.alertError=!0,this.alertMessage=s.message)},textArrayData(e){this.aliasesArray=e.inputArray,this.temporaryInputAliases=e.temporaryInput,this.aliasesCurrentPosition=e.currentPosition,this.inputAliases=e.input,this.aliasesArrayPositions=e.positions},closeModal(){this.clearData(),this.$emit("closeCreateAttachment")},clearData(){this.inputName="",this.inputDescription="",this.inputRationale="",this.aliasesArray=[],this.temporaryInputAliases="",this.aliasesCurrentPosition=null,this.aliasesArrayPositions=null,this.inputAliases="",this.actionType="attachment"},clearAlert(){this.alertMessage="",this.alertError=!1,this.alertSuccess=!1}}},XR=e=>(gs("data-v-5d0e337c"),e=e(),vs(),e),$R={slot:"main"},ZR={slot:"input"},eN={class:"form-section"},tN={slot:"transition"},sN=["onClick"],nN={class:"attachment"},iN={key:0},oN={key:1},aN={key:1,class:"search-section-message"},rN={class:"form-section"},lN={key:3,class:"form-section"},cN={key:4,class:"form-section"},uN={key:5,class:"profiles"},dN=XR(()=>h("span",null," create as ",-1)),hN={slot:"buttons"};function fN(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("text-input"),m=_("slide-up-group"),v=_("text-textarea"),g=_("text-array"),A=_("profile-bar"),D=_("post-button"),E=_("welcome-form"),T=_("main-modal"),N=_("just-fade");return a(),S(N,null,{default:z(()=>[s.show?(a(),S(T,{key:0,show:s.show,onMainModalDisappear:n.closeModal,alertMessage:i.alertMessage,alertError:i.alertError,alertSuccess:i.alertSuccess,onClearAlert:n.clearAlert,loading:i.loading},{default:z(()=>[i.loading?(a(),S(r,{key:0,loading:i.loading},null,8,["loading"])):c("",!0),h("template",$R,[b(E,{title:i.title,class:"create-attachment-wrapper"},{default:z(()=>[h("template",ZR,[h("div",eN,[b(f,{bottomBorder:!0,error:i.errorName,placeholder:`${s.type} name*`,modelValue:i.inputName,"onUpdate:modelValue":t[0]||(t[0]=F=>i.inputName=F)},null,8,["error","placeholder","modelValue"])]),n.computedShowattachment?(a(),S(m,{key:0,class:"search-section"},{default:z(()=>[h("template",tN,[(a(!0),d(Z,null,pe(i.attachments,F=>(a(),d("div",{class:"search-attachment",key:F.id,onClick:R=>n.clickedattachment(F)},[h("div",nN,V(F.name),1),F.description&&F.description.length?(a(),d("p",iN,V(`description: ${F.description}`),1)):c("",!0),F.aliases.length?(a(),d("p",oN,V(`aliases: ${F.aliases}`),1)):c("",!0)],8,sN))),128))])]),_:1})):c("",!0),n.computedShowattachment?(a(),d("p",aN,"click a "+V(s.type)+" to add as an alias",1)):c("",!0),i.actionType==="alias"?(a(),d("div",{key:2,class:"add-attachment",onClick:t[1]||(t[1]=(...F)=>n.clickedAddattachment&&n.clickedAddattachment(...F))}," add "+V(s.type),1)):c("",!0),h("div",rN,[b(v,{bottomBorder:!0,placeholder:`description of the ${s.type}`,modelValue:i.inputDescription,"onUpdate:modelValue":t[2]||(t[2]=F=>i.inputDescription=F)},null,8,["placeholder","modelValue"])]),i.showRationale?(a(),d("div",lN,[b(v,{bottomBorder:!0,placeholder:`rationale for this ${s.type}`,modelValue:i.inputRationale,"onUpdate:modelValue":t[3]||(t[3]=F=>i.inputRationale=F)},null,8,["placeholder","modelValue"])])):c("",!0),i.showAliases?(a(),d("div",cN,[b(g,{show:!0,bottomBorder:!0,propsArray:i.aliasesArray,example:s.type==="course"?"comm skills, communication":"mining, mn eng.",placeholder:`aliases for ${s.type} name`,onTextArrayData:n.textArrayData},null,8,["propsArray","example","placeholder","onTextArrayData"])])):c("",!0),i.showProfiles?(a(),d("div",uN,[dN,(a(!0),d(Z,null,pe(n.computedProfiles,(F,R)=>(a(),d("div",{key:R},[b(A,{smallType:!0,profile:F,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)]),h("template",hN,[b(D,{buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear","alertMessage","alertError","alertSuccess","onClearAlert","loading"])):c("",!0)]),_:1})}const mN=Ae(JR,[["render",fN],["__scopeId","data-v-5d0e337c"]]),pN={components:{CreateAttachment:mN,CreateSubject:KR,CreateGrade:xR,FadeDown:$k,TextTextarea:kn,SelectInput:S4,SearchInput:hr},props:{buttons:{type:Array,default(){return["subjects","grades","programs","courses"]}},attachments:{type:Array,default(){return[]}},show:{type:Boolean,default:!1},hasSelect:{type:Boolean,default:!1},hasClose:{type:Boolean,default:!0},attachmentsNumber:{type:Number,default:0},isAttached:{type:Boolean,default:!1},mainSearchItem:{type:String,default:""}},data(){return{items:[],item:null,searchItem:"",showLowerSection:!1,createAttachment:!1,showNoAttachments:!1,showNote:!1,searchText:"",searchNextPage:1,inputNote:"",itemClass:null,loading:!1}},watch:{searchItem(e){e.length?(this.showLowerSection=!0,this.searchText="",this.items=[],this.debouncedSearch()):this.showLowerSection=!1},show(e){e||(this.items=[],this.item=null,this.searchItem="",this.showLowerSection=!1,this.searchText="",this.inputNote="")},mainSearchItem:{immediate:!0,handler(e){e.length&&(this.searchItem=e)}}},computed:{computedSearchItem(){return this.searchItem.slice(0,this.searchItem.length-1)},computedCreateAttachment(){return(this.searchItem!=="grades"||this.searchItem!=="subjects")&&this.createAttachment},computedPlaceholder(){return this.mainSearchItem.length?`select ${this.mainSearchItem}`:"select an attachment"}},methods:{...ss(["profile/getGrades","profile/searchGrades","profile/getSubjects","profile/searchSubjects","profile/getPrograms","profile/searchPrograms","profile/getCourses","profile/searchCourses"]),closeCreateAttachment(){this.createAttachment=!1},attachmentCreated(e){this.showNoAttachments=!1,this.items.unshift(e.attachment)},clickedUnattach(e){this.$emit("clickedUnattach",e)},hidePostAttachment(){this.$emit("hidePostAttachment")},clickedAttachmentSelection(e){this.$emit("clickedAttachmentSelection",{type:this.searchItem,data:e})},clickedAttach(){let e=this.item;e.note=this.inputNote.trim(),this.$emit("itemClicked",e)},clickedCreateAttachment(){this.createAttachment=!0},itemClicked(e){this.itemClass=e;let t={};t.itemId=e.id,this.searchItem==="subjects"?t.item="subject":this.searchItem==="grades"&&(t.item="grade"),this.item=t,this.showNote=!0},buttonClicked(e){if(e===this.searchItem){this.searchItem="";return}this.searchItem=e,this.showNote=!1},searchInput(e){this.searchText=e,this.debouncedSearch()},debouncedSearch:Ft.debounce(function(){this.showNote=!1,this.search()},200),async search(){this.showNoAttachments=!1,this.loading=!0;let e=await this.getResponse();this.loading=!1,e.status&&(e.next?this.searchNextPage+=1:this.searchNextPage=null)},async infiniteHandler(){let e=await this.getResponse();e.status&&(e.next?this.searchNextPage+=1:this.searchNextPage=null)},async getResponse(){let e;if(this.searchItem==="subjects")this.searchText.trim().length?e=await this["profile/searchSubjects"]({searchText:this.searchText,searchNextPage:this.searchNextPage}):e=await this["profile/getSubjects"](this.searchNextPage);else if(this.searchItem==="grades")this.searchText.trim().length?e=await this["profile/searchGrades"]({searchText:this.searchText,searchNextPage:this.searchNextPage}):e=await this["profile/getGrades"](this.searchNextPage);else if(this.searchItem==="programs")this.searchText.trim().length?e=await this["profile/searchPrograms"]({searchText:this.searchText,searchNextPage:this.searchNextPage}):e=await this["profile/getPrograms"](this.searchNextPage);else if(this.searchItem==="courses")this.searchText.trim().length?e=await this["profile/searchCourses"]({searchText:this.searchText,searchNextPage:this.searchNextPage}):e=await this["profile/getCourses"](this.searchNextPage);else return;return e.status?(this.items.push(...e.data),this.items.length||(this.showNoAttachments=!0),{status:!0,next:e.next}):(console.log("response :>> ",e),{status:!1})}}},gN={key:1,class:"numbers"},vN={key:2,class:"buttons-section",ref:"buttonsection"},yN=["onClick"],wN={key:3,class:"search-section"},_N={key:4,class:"preview-section",ref:"previewsection"},bN=["onClick"],kN={key:5,class:"note-section"},AN={key:6,class:"attachment-section"},CN={class:"name"},SN=["onClick"],IN={class:"loading"},TN={key:7,class:"selection"},DN={key:8,class:"no-attachments"},xN={key:9,class:"creation"},PN={class:"info"};function MN(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("search-input"),m=_("text-textarea"),v=_("pulse-loader"),g=_("select-input"),A=_("create-subject"),D=_("just-fade"),E=_("create-grade"),T=_("create-attachment"),N=_("fade-down");return a(),S(N,null,{default:z(()=>[s.show?(a(),d("div",{key:0,class:we(["post-attachment-wrapper",{hasSelect:s.hasSelect}])},[s.hasClose&&s.hasSelect?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...F)=>n.hidePostAttachment&&n.hidePostAttachment(...F))},[b(r,{icon:["fa","times"]})])):c("",!0),s.hasSelect?c("",!0):(a(),d("div",gN,V(`${s.attachmentsNumber} attachments`),1)),s.mainSearchItem.length?c("",!0):(a(),d("div",vN,[h("template",null,[(a(!0),d(Z,null,pe(s.buttons,(F,R)=>(a(),d("div",{class:we(["button",{active:i.searchItem===F}]),key:R,onClick:j=>n.buttonClicked(F)},V(F),11,yN))),128))])],512)),i.showLowerSection?(a(),d("div",wN,[b(f,{onSearch:n.searchInput,background:!1,value:i.searchText,paClass:"gray"},null,8,["onSearch","value"])])):c("",!0),i.showLowerSection&&!s.hasSelect?(a(),d("div",_N,[(a(!0),d(Z,null,pe(i.items,(F,R)=>(a(),d("div",{class:we(["item",{itemActive:F===i.itemClass}]),key:R,onClick:j=>n.itemClicked(F)},V(F.name?F.name:F),11,bN))),128))],512)):c("",!0),i.showNote&&!s.hasSelect?(a(),d("div",kN,[b(m,{modelValue:i.inputNote,"onUpdate:modelValue":t[1]||(t[1]=F=>i.inputNote=F),hasMax:!0,ttaClass:"transparent",placeholder:"what should we note?"},null,8,["modelValue"]),h("div",{class:"add-attachment",onClick:t[2]||(t[2]=(...F)=>n.clickedAttach&&n.clickedAttach(...F))}," attach ")])):c("",!0),s.isAttached&&!s.hasSelect?(a(),d("div",AN,[Mt(" your attachments "),(a(!0),d(Z,null,pe(s.attachments,F=>(a(),d("div",{class:"attachment",key:F.id},[h("div",CN,V(F.with),1),h("div",null,V(F.with_type),1),h("div",{class:"close",onClick:R=>n.clickedUnattach(F),title:"remove attachment"},[b(r,{icon:["fa","times"]})],8,SN)]))),128))])):c("",!0),h("div",IN,[b(v,{loading:i.loading,size:"10px"},null,8,["loading"])]),s.hasSelect&&i.items.length&&!i.loading?(a(),d("div",TN,[b(g,{show:s.hasSelect,placeholder:n.computedPlaceholder,items:i.items,onGetMore:n.infiniteHandler,next:i.searchNextPage,special:!0,onClickedSelection:n.clickedAttachmentSelection},null,8,["show","placeholder","items","onGetMore","next","onClickedSelection"])])):c("",!0),i.showNoAttachments&&!i.loading?(a(),d("div",DN," there are no "+V(i.searchItem),1)):c("",!0),n.computedSearchItem.length&&!i.loading?(a(),d("div",xN,[h("div",PN,V(`can't find the ${n.computedSearchItem} you are looking for?`),1),h("div",{class:"create-button",onClick:t[3]||(t[3]=(...F)=>n.clickedCreateAttachment&&n.clickedCreateAttachment(...F))}," create ")])):c("",!0),b(D,null,{default:z(()=>[i.searchItem==="subjects"&&i.createAttachment?(a(),S(A,{key:0,show:!0,onCloseCreateSubject:n.closeCreateAttachment,onAttachmentCreated:n.attachmentCreated},null,8,["onCloseCreateSubject","onAttachmentCreated"])):c("",!0)]),_:1}),b(D,null,{default:z(()=>[i.searchItem==="grades"&&i.createAttachment?(a(),S(E,{key:0,show:!0,onCloseCreateGrade:n.closeCreateAttachment,onAttachmentCreated:n.attachmentCreated},null,8,["onCloseCreateGrade","onAttachmentCreated"])):c("",!0)]),_:1}),b(D,null,{default:z(()=>[n.computedCreateAttachment?(a(),S(T,{key:0,show:!0,type:n.computedSearchItem,onCloseCreateAttachment:n.closeCreateAttachment,onAttachmentCreated:n.attachmentCreated},null,8,["type","onCloseCreateAttachment","onAttachmentCreated"])):c("",!0)]),_:1})],2)):c("",!0)]),_:1})}const go=Ae(pN,[["render",MN],["__scopeId","data-v-3bb4be39"]]),EN={props:{placeholder:{type:String,default:"select an item"},hasRadius:{type:Boolean,default:!1},value:{type:String,default:""},backgroundColor:{type:String,default:""},items:{type:Array,default(){return[]}},objects:{type:Array,default(){return[]}}},data(){return{activeIcon:"up",inputValue:""}},watch:{inputValue(e){if(e)if(this.items.length)this.$emit("selection",e),this.$emit("input",e);else{let t=this.findObjectIndex(e);t>-1&&(this.$emit("input",this.objects[t]),this.$emit("selection",this.objects[t]))}else this.inputValue=""},items:{immediate:!0,handler(e){e.findIndex(t=>t===this.inputValue)===-1&&(this.inputValue="")}},value:{immediate:!0,handler(e){e!==this.inputValue&&(this.inputValue=e)}}},mounted(){this.backgroundColor.length&&(this.$refs.selectedsection.style.backgroundColor=`${this.backgroundColor}`,this.$refs.dropdownsection.style.backgroundColor=`${this.backgroundColor}`)},computed:{computedItems(){return this.items.length?this.items:this.objects}},methods:{clickedSelect(){this.activeIcon==="up"?this.activeIcon="down":this.activeIcon="up"},clickedItem(e){this.inputValue===e?this.inputValue="":this.inputValue=e,this.activeIcon="up"},findObjectIndex(e){return this.objects.findIndex(t=>t===e||t.name===e)}}},ON=["onClick"];function RN(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",{class:"main-select-wrapper",onFocus:t[2]||(t[2]=(...f)=>n.clickedSelect&&n.clickedSelect(...f)),onKeydown:t[3]||(t[3]=hu((...f)=>n.clickedSelect&&n.clickedSelect(...f),["tab"]))},[h("div",{class:we(["selected-section",{active:s.value.length,"has-radius":s.hasRadius}]),onClick:t[1]||(t[1]=Vt((...f)=>n.clickedSelect&&n.clickedSelect(...f),["self"])),ref:"selectedsection"},[Mt(V(s.value.length?s.value:s.placeholder)+" ",1),h("div",{class:"icon",onClick:t[0]||(t[0]=(...f)=>n.clickedSelect&&n.clickedSelect(...f))},[i.activeIcon==="up"?(a(),S(r,{key:0,icon:["fa","chevron-down"]})):c("",!0),i.activeIcon==="down"?(a(),S(r,{key:1,icon:["fa","chevron-up"]})):c("",!0)])],2),h("div",{class:we(["dropdown-section",{active:i.activeIcon==="down"}]),ref:"dropdownsection"},[(a(!0),d(Z,null,pe(n.computedItems,(f,m)=>(a(),d("div",{class:we(["dropdown-item",{active:s.value===f}]),key:m,onClick:v=>n.clickedItem(f)},V(f.name?f.name:f),11,ON))),128))],2)],32)}const pa=Ae(EN,[["render",RN],["__scopeId","data-v-f4cb44ee"]]),NN={props:{attachment:{type:Object,default(){return{}}},file:{type:File,default:null},type:{type:String,default:""},hasClose:{type:Boolean,default:!1}},computed:{computedName(){return this.attachment.name?this.attachment.name:this.file?this.file.name:""}},methods:{clickedClose(){this.$emit("removeAttachment",{type:this.type,data:this.attachment.name?this.attachment:this.file})},clickedBadge(){this.$emit("click")}}};function LN(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",{class:we(["attachment-item-wrapper",{borderRadius:!s.hasClose}]),onClick:t[1]||(t[1]=(...f)=>n.clickedBadge&&n.clickedBadge(...f))},[Mt(V(n.computedName)+" ",1),s.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>n.clickedClose&&n.clickedClose(...f))},[b(r,{icon:["fa","times"]})])):c("",!0)],2)}const vo=Ae(NN,[["render",LN],["__scopeId","data-v-0fbf38bf"]]),FN={props:{active:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{type:String,default:""}},components:{},data(){return{clicked:!1}},methods:{clickedAction(){if(this.active){this.$emit("clickedAction","");return}this.$emit("clickedAction",this.text)}}};function UN(e,t,s,o,i,n){const r=_("pulse-loader");return a(),d("div",{class:we(["grey-button-wrapper",{active:s.active}]),onClick:t[0]||(t[0]=(...f)=>n.clickedAction&&n.clickedAction(...f))},[Mt(V(s.loading?"":s.text)+" ",1),b(r,{loading:s.loading,size:"6px"},null,8,["loading"])],2)}const Nl=Ae(FN,[["render",UN],["__scopeId","data-v-516aa737"]]),BN={};function jN(e,t,s,o,i,n){return a(),S(No,{name:"fade-up"},{default:z(()=>[Jt(e.$slots,"transition",{mode:"out-in"},void 0,!0)]),_:3})}const bi=Ae(BN,[["render",jN],["__scopeId","data-v-4253ed00"]]),VN={props:{message:{type:String,default:""},success:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},lengthy:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},components:{FadeRight:ma},data(){return{show:!1,time:4e3}},watch:{message(e){e&&e.length&&this.showMessage()},lengthy:{immediate:!0,handler(e){e?this.time=15e3:this.time=4e3}}},computed:{...os(["profile/getMsg"])},methods:{...ss(["profile/clearMsg"]),emit(){this.success&&this.$emit("doneShowingSuccessMessage",this.message),this.danger&&this.$emit("doneShowingDangerMessage",this.message),this.$emit("hideAlert",this.message)},showMessage(){this.show=!0,setTimeout(()=>{this.show=!1,this.emit(),this["profile/getMsg"]&&this["profile/getMsg"].length&&this["profile/clearMsg"]()},this.time)}}};function qN(e,t,s,o,i,n){const r=_("fade-right");return a(),S(r,null,Oa({_:2},[i.show?{name:"transition",fn:z(()=>[h("div",{class:we(["alert-wrapper z-50 top-8",{success:s.success,danger:s.danger,sticky:s.sticky}])},V(s.message),3)]),key:"0"}:void 0]),1024)}const Mi=Ae(VN,[["render",qN],["__scopeId","data-v-160b1067"]]),HN={components:{WelcomeForm:_c,ProfileBar:oi,MediaCapture:Rl,FadeUp:bi,AutoAlert:Mi,AttachmentBadge:vo,PostAttachment:go,PostButton:xs,GreyButton:Nl,TextTextarea:kn,TextInput:js},props:{show:{type:Boolean,default:!1},auto:{type:Boolean,default:!1},edit:{type:Boolean,default:!1}},data(){return{discussionData:{title:"",allowed:"all",type:"public",preamble:"",restricted:!1,postAttachments:[],mediaFiles:[]},activeFile:null,fileType:"",fileAccept:"",showFilePreview:!1,errorTitle:!1,errorFile:!1,mediaCaptureType:"",showMediaCapture:!1,fileNumberError:!1,showProfiles:!1,scrollUp:!1,alertMessage:"",alertDanger:!1,title:"Create a Discussion",buttonText:"create"}},watch:{showFilePreview(e){e||(this.activeFile=null)},showProfiles(e){e&&setTimeout(()=>{this.showProfiles=!1},4e3)},title(e,t){e.length&&!t.length&&(this.errorTitle=!1)},scrollUp(e){e&&setTimeout(()=>{this.scrollUp=!1,this.alertMessage=""},3e3)},auto:{immediate:!0,handler(e){this.buttonText="done",this.discussionData.type="private"}}},computed:{...os(["getProfiles"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]}},methods:{clickedRemoveAttachment(e){let t=this.discussionData.postAttachments.findIndex(s=>s.type===e.type&&s.data.id===e.data.id);t>-1&&this.discussionData.postAttachments.splice(t,1)},attachmentSelected(e){this.discussionData.postAttachments.findIndex(s=>s.type===e.type&&s.data.id===e.data.id)===-1&&this.discussionData.postAttachments.push(e)},clearAlert(){this.alertMessage="",this.alertDanger=!1,this.alertSuccess=!1},clickedActionButton(e){e==="all"?this.discussionData.allowed=e:e==="learners"?this.discussionData.allowed=e:e==="parents"?this.discussionData.allowed=e:e==="facilitators"?this.discussionData.allowed=e:e==="professionals"?this.discussionData.allowed=e:e==="schools"?this.discussionData.allowed=e:e==="private"?this.discussionData.type=e:e==="public"?this.discussionData.type=e:e==="yes"?this.discussionData.restricted=!0:e==="no"&&(this.discussionData.restricted=!1)},mainModalDisappear(){this.$emit("createDiscussionDisappear")},clickedClosePreview(){this.showFilePreview=!1,this.activeFile=null},clickedBan(e){this.showFilePreview=!1;let t=this.discussionData.mediaFiles.findIndex(s=>s.name===e.name);t>-1&&this.discussionData.mediaFiles.splice(t,1)},clickedFile(e){this.showFilePreview=this.activeFile!==e,this.activeFile=e},receiveMediaCapture(e){let t=new Date().getTime(),s;e.type.includes("image")?(s=`my_picture${t}.png`,this.activeFile=this.imageFile=new File([e],s,{type:"image/png",lastModified:new Date})):e.type.includes("video")?(s=`my_video${t}.webm`,this.activeFile=this.videoFile=new File([e],s,{type:"video/webm",lastModified:new Date})):e.type.includes("audio")&&(s=`my_audio${t}.mp3`,this.activeFile=this.audioFile=new File([e],s,{type:"audio/mp3",lastModified:new Date})),this.discussionData.mediaFiles.push(this.activeFile),this.showFilePreview=!0},closeMediaCapture(){this.showMediaCapture=!1},clickedCreate(){if(!this.discussionData.title.length){this.errorTitle=!0,this.scrollUp=!0,this.alertDanger=!0,this.alertMessage="the title of the discussion is required";return}this.auto?this.clickedProfile():this.showProfiles=!0},clickedProfile(e){console.log("clicked profile"),this.showProfiles=!1;let t=[];this.auto||(t.account=e==null?void 0:e.account,t.accountId=e==null?void 0:e.accountId,t.postAttachments=this.discussionData.postAttachments),t.title=this.discussionData.title,t.type=this.discussionData.type,t.allowed=this.discussionData.allowed,t.preamble=this.discussionData.preamble,t.restricted=this.discussionData.restricted,t.files=this.discussionData.mediaFiles,this.$emit("clickedCreate",t),this.mainModalDisappear()},clickedAction(e){e==="video"?(this.mediaCaptureType="video",this.showMediaCapture=!0):e==="camera"?(this.mediaCaptureType="image",this.showMediaCapture=!0):e==="microphone"?(this.mediaCaptureType="audio",this.showMediaCapture=!0):e==="upload"&&(this.$refs.inputfile.value="",this.$refs.inputfile.click())},clickedFileType(e){e==="picture"?this.fileAccept="image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp":e==="video"?this.fileAccept="video/webm,video/mp4,video/ogg":e==="audio"&&(this.fileAccept="audio/mpeg,audio/ogg,audio/wav"),this.fileType=e},getFileType(e){if(e.includes("image"))return"image";if(e.includes("video"))return"video";if(e.includes("audio"))return"audio"},fileChange(){if(this.$refs.inputfile.files.length+this.discussionData.mediaFiles.length>3){this.fileNumberError=!0,setTimeout(()=>{this.fileNumberError=!1},4e3),this.$refs.inputfile.value="";return}this.activeFile=this.$refs.inputfile.files[0];for(let e=0;e<this.$refs.inputfile.files.length;e++)this.discussionData.mediaFiles.push(this.$refs.inputfile.files[e]);this.showFilePreview=!0},removeFile(){this.fileType="",this.showFilePreview=!1,this.clickedBan(this.activeFile)}}},bc=e=>(gs("data-v-b3565bd8"),e=e(),vs(),e),WN={slot:"main-other"},zN={slot:"input"},GN=bc(()=>h("div",{class:"section"},"Discussion Info",-1)),YN={class:"form-edit"},QN={class:"form-edit"},KN={key:0,class:"form-edit"},JN={class:"main-section"},XN=bc(()=>h("div",{class:"label"},"type:",-1)),$N={class:"info-section"},ZN={key:1,class:"form-edit"},eL={class:"main-section"},tL=bc(()=>h("div",{class:"label"},"restricted:",-1)),sL={class:"info-section"},nL={key:2,class:"form-edit"},iL={class:"main-section"},oL=bc(()=>h("div",{class:"label"},"allowed:",-1)),aL={class:"info-section"},rL={key:3,class:"section"},lL={key:4,class:"attachments-section"},cL=bc(()=>h("div",{class:"section"},"Discussion Resources",-1)),uL=bc(()=>h("div",{class:"info"},"you can upload up to three files",-1)),dL={key:6,class:"files"},hL={key:7,class:"actions"},fL=["title"],mL={key:8,class:"file-number-error"},pL={key:9,class:"media-section"},gL=["onClick"],vL=["onClick"],yL=["onClick","title"],wL=["accept"],_L={slot:"buttons"},bL={key:0,class:"profiles"},kL=bc(()=>h("span",null," create as ",-1));function AL(e,t,s,o,i,n){const r=_("auto-alert"),f=_("text-input"),m=_("text-textarea"),v=_("grey-button"),g=_("attachment-badge"),A=_("post-attachment"),D=_("font-awesome-icon"),E=_("file-preview"),T=_("fade-up"),N=_("profile-bar"),F=_("post-button"),R=_("welcome-form"),j=_("media-capture"),W=_("main-modal"),Q=_("just-fade");return a(),S(Q,null,{default:z(()=>[s.show?(a(),S(W,{key:0,show:s.show,main:!1,requests:!1,onMainModalDisappear:n.mainModalDisappear,class:"modal-wrapper",scrollUp:i.scrollUp},{default:z(()=>[h("template",WN,[b(R,{class:"welcome-form",title:i.title},{default:z(()=>[h("template",zN,[b(r,{message:i.alertMessage,danger:i.alertDanger,sticky:!0,onHideAlert:n.clearAlert},null,8,["message","danger","onHideAlert"]),GN,h("div",YN,[b(f,{placeholder:"discussion title",bottomBorder:!0,error:i.errorTitle,modelValue:i.discussionData.title,"onUpdate:modelValue":t[0]||(t[0]=le=>i.discussionData.title=le)},null,8,["error","modelValue"])]),h("div",QN,[b(m,{placeholder:"discussion preamble (an introduction to the discussion)",bottomBorder:!0,modelValue:i.discussionData.preamble,"onUpdate:modelValue":t[1]||(t[1]=le=>i.discussionData.preamble=le)},null,8,["modelValue"])]),s.auto?c("",!0):(a(),d("div",KN,[h("div",JN,[XN,b(v,{class:"grey-button",onClickedAction:t[2]||(t[2]=le=>n.clickedActionButton("public")),active:i.discussionData.type==="public",text:"public"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[3]||(t[3]=le=>n.clickedActionButton("private")),active:i.discussionData.type==="private",text:"private"},null,8,["active"])]),h("div",$N,V(i.discussionData.type==="public"?"this is the default value. it means any account of the right type can join this discussion":"this means you will have to send out requests to accounts"),1)])),s.auto?c("",!0):(a(),d("div",ZN,[h("div",eL,[tL,b(v,{class:"grey-button",onClickedAction:t[4]||(t[4]=le=>n.clickedActionButton("yes")),active:i.discussionData.restricted,text:"yes"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[5]||(t[5]=le=>n.clickedActionButton("no")),active:!i.discussionData.restricted,text:"no"},null,8,["active"])]),h("div",sL,V(i.discussionData.restricted?"restricted mode means all messages sent must be accepted by you before anyone can see them":"no means messages sent by participants will be seen by all"),1)])),s.auto?c("",!0):(a(),d("div",nL,[h("div",iL,[oL,b(v,{class:"grey-button",onClickedAction:t[6]||(t[6]=le=>n.clickedActionButton("all")),active:i.discussionData.allowed==="all",text:"all"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[7]||(t[7]=le=>n.clickedActionButton("learners")),active:i.discussionData.allowed==="learners",text:"learners"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[8]||(t[8]=le=>n.clickedActionButton("parents")),active:i.discussionData.allowed==="parents",text:"parents"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[9]||(t[9]=le=>n.clickedActionButton("facilitators")),active:i.discussionData.allowed==="facilitators",text:"facilitators"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[10]||(t[10]=le=>n.clickedActionButton("professionals")),active:i.discussionData.allowed==="professionals",text:"professionals"},null,8,["active"]),b(v,{class:"grey-button",onClickedAction:t[11]||(t[11]=le=>n.clickedActionButton("schools")),active:i.discussionData.allowed==="schools",text:"schools"},null,8,["active"])]),h("div",aL,V(i.discussionData.allowed==="all"?"all account types can join discussion":`only ${i.discussionData.allowed} can join this discussion`),1)])),s.auto?c("",!0):(a(),d("div",rL,"Discussion Attachments")),s.auto?c("",!0):(a(),d("div",lL,[(a(!0),d(Z,null,pe(i.discussionData.postAttachments,(le,me)=>(a(),S(g,{key:me,hasClose:!0,attachment:le.data,type:le.type,onRemoveAttachment:n.clickedRemoveAttachment},null,8,["attachment","type","onRemoveAttachment"]))),128))])),s.auto?c("",!0):(a(),S(A,{key:5,show:!0,hasSelect:!0,hasClose:!1,onClickedAttachmentSelection:n.attachmentSelected,class:"post-attachment"},null,8,["onClickedAttachmentSelection"])),cL,uL,i.discussionData.mediaFiles.length<3?(a(),d("div",dL,[h("div",{class:we(["file",{active:i.fileType==="video"}]),onClick:t[12]||(t[12]=le=>n.clickedFileType("video"))},"video",2),h("div",{class:we(["file",{active:i.fileType==="audio"}]),onClick:t[13]||(t[13]=le=>n.clickedFileType("audio"))},"audio",2),h("div",{class:we(["file",{active:i.fileType==="picture"}]),onClick:t[14]||(t[14]=le=>n.clickedFileType("picture"))},"picture",2)])):c("",!0),i.discussionData.mediaFiles.length<3?(a(),d("div",hL,[i.fileType.length?(a(),d("div",{key:0,class:"action",onClick:t[15]||(t[15]=le=>n.clickedAction("upload")),title:`upload ${i.fileType}`},[b(D,{icon:["fa","upload"]})],8,fL)):c("",!0),i.fileType==="video"?(a(),d("div",{key:1,class:"action",onClick:t[16]||(t[16]=le=>n.clickedAction("video")),title:"record a video"},[b(D,{icon:["fa","video"]})])):c("",!0),i.fileType==="picture"?(a(),d("div",{key:2,class:"action",onClick:t[17]||(t[17]=le=>n.clickedAction("camera")),title:"snap a picture"},[b(D,{icon:["fa","camera"]})])):c("",!0),i.fileType==="audio"?(a(),d("div",{key:3,class:"action",onClick:t[18]||(t[18]=le=>n.clickedAction("microphone")),title:"record an audio"},[b(D,{icon:["fa","microphone"]})])):c("",!0)])):c("",!0),i.fileNumberError?(a(),d("div",mL," you cannot upload more than three resources ")):c("",!0),i.discussionData.mediaFiles.length?(a(),d("div",pL,[(a(!0),d(Z,null,pe(i.discussionData.mediaFiles,(le,me)=>(a(),d("div",{class:"media-item",key:me},[h("div",{class:"item-type",onClick:k=>n.clickedFile(le)},[b(D,{icon:["fa","image"]})],8,gL),h("div",{class:"item-info",onClick:k=>n.clickedFile(le)},V(le.name),9,vL),h("div",{class:"item-clear",onClick:k=>n.clickedBan(le),title:`remove ${n.getFileType(le.type)}`},[b(D,{icon:["fa","ban"]})],8,yL)]))),128))])):c("",!0),b(T,null,{default:z(()=>[i.showFilePreview?(a(),S(E,{key:0,class:"file-preview",file:i.activeFile,middle:!0,onRemoveFile:n.removeFile},null,8,["file","onRemoveFile"])):c("",!0)]),_:1}),h("input",{type:"file",class:"hidden",onChange:t[19]||(t[19]=(...le)=>n.fileChange&&n.fileChange(...le)),ref:"inputfile",accept:i.fileAccept,multiple:""},null,40,wL)]),h("template",_L,[i.showProfiles?(a(),d("div",bL,[kL,(a(!0),d(Z,null,pe(n.computedProfiles,(le,me)=>(a(),d("div",{key:me},[b(N,{smallType:!0,profile:le,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0),b(F,{buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"]),i.activeFile?(a(),S(F,{key:1,buttonText:"close preview",buttonStyle:"success",onClick:n.clickedClosePreview},null,8,["onClick"])):c("",!0)])]),_:1},8,["title"]),i.showMediaCapture?(a(),S(j,{key:0,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receiveMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0)])]),_:1},8,["show","onMainModalDisappear","scrollUp"])):c("",!0)]),_:1})}const kc=Ae(HN,[["render",AL],["__scopeId","data-v-b3565bd8"]]),xp=1e3*60*60*24,t1=1e3*60*60,s1=1e3,_s={dayShort(e){if(e===0)return"Sun";if(e===1)return"Mon";if(e===2)return"Tue";if(e===3)return"Wed";if(e===4)return"Thu";if(e===5)return"Fri";if(e===6)return"Sat"},monthShort(e){if(e===0)return"Jan";if(e===1)return"Feb";if(e===2)return"Mar";if(e===3)return"Apr";if(e===4)return"May";if(e===5)return"Jun";if(e===6)return"Jul";if(e===7)return"Aug";if(e===8)return"Sep";if(e===9)return"Oct";if(e===10)return"Nov";if(e===11)return"Dec"},toDate(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())},age(e){let t=new Date(e),s=new Date,o=s.getFullYear()-t.getFullYear(),i=new Date(s.getFullYear(),t.getMonth(),t.getDate());return o=s>i?o--:o,o},dateDiff(e,t){return Math.abs(Math.floor((e-t)/xp))},dateReadable(e,t=null){return t?new Date(e).toDateString(t):new Date(e).toDateString()},createdAt(e){let t=new Date(e),o=new Date-t,i=o/s1,n=o/t1,r=o/xp;if(i<60)return"now";if(i>60&&i<300)return"few minutes ago";if(i>300&&n<1)return`${Math.floor(i/60)} minutes ago`;if(n>1&&n<2)return"an hour ago";if(n>2&&n<24)return`${Math.floor(n)} hours ago`;if(r>1&&r<2)return`${Math.floor(n)} hours ago`;if(r>2&&r<3)return"2 days ago";if(r>3)return`${this.dayShort(t.getDay())}, ${t.getDate()} ${this.monthShort(t.getMonth())}, ${t.getFullYear()}`},dueAt(e){let t=new Date(e),o=t-new Date,i=o/s1,n=o/t1,r=o/xp;if(i<60)return"now";if(i>60&&i<120)return"few minutes time";if(i>120&&n<1)return`${Math.floor(i/60)} minutes time`;if(n>1&&n<2)return"an hour time";if(n>2&&n<24)return`${Math.floor(n)} hours time`;if(r>1&&r<2)return`${Math.floor(n)} hours time`;if(r>2&&r<3)return"2 days time";if(r>3)return`${this.dayShort(t.getDay())}, ${t.getDate()} ${this.monthShort(t.getMonth())}, ${t.getFullYear()}`},tomorrow(){let e=new Date;return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()+1))}},Zk={fileType(e){if(e.type.includes("image"))return"image";if(e.type.includes("video"))return"video";if(e.type.includes("audio"))return"audio";if(e.type.includes("application"))return"application"}},ns={trim(e,t=100){if(e)return e.length>t?`${e.slice(0,t)}...`:e},capitalize(e){`${e.slice(0,1).toUpperCase()}${e.slice(1)}`},getNumberString(e){switch(e){case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 9:return"nine";case 10:return"ten"}},getNumberLetter(e){switch(e){case 1:return"a";case 2:return"b";case 3:return"c";case 4:return"d";case 5:return"e";case 6:return"f";case 7:return"g";case 8:return"h";case 9:return"i";case 10:return"j";case 11:return"k";case 12:return"l";case 13:return"m";case 14:return"n";case 15:return"o";case 16:return"p";case 17:return"q";case 18:return"r";case 19:return"q";case 20:return"t";case 20:return"u";case 21:return"v";case 22:return"w";case 23:return"x";case 24:return"y";case 25:return"z";default:if(e>25&&e<=50)return`a${this.getNumberLetter(e-25)}`;if(e>50&&e<=75)return`b${this.getNumberLetter(e-50)}`;break}},arrayToNewLineStrings(e){let t="";for(let s=0;s<e.length;s++)s===e.length-1?t+=e[s]:t+=e[s]+`

`;return t},getAccount(e){if(e.toString().toLocaleLowerCase().includes("learner"))return"learner";if(e.toString().toLocaleLowerCase().includes("parent"))return"parent";if(e.toString().toLocaleLowerCase().includes("facilitator"))return"facilitator";if(e.toString().toLocaleLowerCase().includes("professional"))return"professional";if(e.toString().toLocaleLowerCase().includes("school"))return"school";if(e.toString().toLocaleLowerCase().includes("post"))return"post";if(e.toString().toLocaleLowerCase().includes("discussion"))return"discussion";if(e.toString().toLocaleLowerCase().includes("comment"))return"comment";if(e.toString().toLocaleLowerCase().includes("subject"))return"subject";if(e.toString().toLocaleLowerCase().includes("grade"))return"grade"}},CL={props:{item:{type:Object,default(){return null}},type:{type:String,default:""},hasRemove:{type:Boolean,default:!1}},computed:{computedItem(){return this.item?this.type==="class"||this.type==="course"||this.type==="subject"||this.type==="program"||this.type==="year"||this.type==="section"||this.item.name||this.type.includes("academic")?this.item.name:this.type==="discussion"?this.item.title:"":""},computedDescription(){let e="";return this.type==="class"&&this.item.description?e=this.item.description:this.type==="discussion"&&this.item.preamble?e=this.item.preamble:this.item.description&&(e=this.item.description),ns.trim(e,30)},computedDetails(){let e="";return this.item.learners&&(e=`${this.item.learners} learners
`),this.item.lessons&&(e=`${this.item.lessons} lessons
`),this.item.type&&(e=`type: ${this.item.type}
`),this.item.allowed&&(e=`allowed: ${this.item.allowed}
`),this.item.rationale&&(e=`rationale: ${ns.trim(this.item.rationale,40)}
`),this.item.courses&&(e=`${this.item.courses.length} courses
`),this.computedDates.length&&(e=this.computedDates),e},computedCreatedAt(){return this.item&&this.item.createdAt?_s.dateReadable(this.item.createdAt):null},computedDates(){let e="";return this.item.startDate&&(e+=`start date: ${_s.dateReadable(this.item.startDate)}`),this.item.endDate&&(e.length&&(e+=`
`),e+=`end date: ${_s.dateReadable(this.item.endDate)}`),e}},methods:{clickedItem(){this.$emit("clickedItem",this.item)},clickedRemoveItem(){this.$emit("clickedRemoveItem",this.item)},getDateReadable(e){return _s.dateReadable(e)}}};function SL(e,t,s,o,i,n){const r=_("font-awesome-icon");return s.item?(a(),d("div",{key:0,class:we(["item-badge-wrapper",{active:s.hasRemove}]),onClick:t[5]||(t[5]=Vt((...f)=>n.clickedItem&&n.clickedItem(...f),["self"]))},[h("div",{class:"created",onClick:t[0]||(t[0]=(...f)=>n.clickedItem&&n.clickedItem(...f))},V(n.computedCreatedAt),1),n.computedItem&&n.computedItem.length?(a(),d("div",{key:0,class:"body",onClick:t[1]||(t[1]=(...f)=>n.clickedItem&&n.clickedItem(...f))},V(n.computedItem),1)):c("",!0),n.computedDescription&&n.computedDescription.length?(a(),d("div",{key:1,class:"description",onClick:t[2]||(t[2]=(...f)=>n.clickedItem&&n.clickedItem(...f))},V(n.computedDescription),1)):c("",!0),n.computedDetails.length?(a(),d("div",{key:2,class:"details",onClick:t[3]||(t[3]=(...f)=>n.clickedItem&&n.clickedItem(...f))},V(n.computedDetails),1)):c("",!0),s.hasRemove?(a(),d("div",{key:3,class:"close",onClick:t[4]||(t[4]=(...f)=>n.clickedRemoveItem&&n.clickedRemoveItem(...f))},[b(r,{icon:["fa","times"]})])):c("",!0)],2)):c("",!0)}const fr=Ae(CL,[["render",SL],["__scopeId","data-v-dd9c7629"]]),IL={props:{link:{type:Object,default(){return null}},hasRemove:{type:Boolean,default:!0}},computed:{computedName(){return this.link.name.length?this.link.name:ns.trim(this.link.link)},computedDescription(){return ns.trim(this.link.description)}},methods:{clickedLink(){this.$emit("clickedLink",this.link)},clickedRemove(){this.$emit("clickedRemoveLink",this.link)}}},TL={class:"link"},DL=["href"];function xL(e,t,s,o,i,n){const r=_("font-awesome-icon");return s.link?(a(),d("div",{key:0,class:"link-badge-wrapper",onClick:t[2]||(t[2]=Vt((...f)=>n.clickedLink&&n.clickedLink(...f),["self"]))},[h("div",TL,[h("a",{href:s.link.link},V(n.computedName),9,DL)]),h("div",{class:"description",onClick:t[0]||(t[0]=(...f)=>n.clickedLink&&n.clickedLink(...f))},V(n.computedDescription),1),s.hasRemove?(a(),d("div",{key:0,class:"close",onClick:t[1]||(t[1]=(...f)=>n.clickedRemove&&n.clickedRemove(...f))},[b(r,{icon:["fa","times"]})])):c("",!0)])):c("",!0)}const eA=Ae(IL,[["render",xL],["__scopeId","data-v-55e5b278"]]),PL={components:{TextInput:js,TextTextarea:kn,LinkBadge:eA},props:{editable:{type:Object,default(){return null}}},data(){return{link:{link:"",id:"",description:"",name:""},links:[],buttonText:""}},watch:{links(e){this.$emit("linkAdded",e)},editable:{immediate:!0,handler(e){e?(this.link.name=e.name,this.link.description=e.description,this.link.link=e.link,this.buttonText="edit section"):this.buttonText="add section"}}},methods:{clickedAddLink(){this.link.link.length?(this.buttonText.includes("add")?this.links.push({id:Math.floor(Math.random()*100),link:this.link.link,description:this.link.description,name:this.link.name}):this.$emit("editedLink",{id:this.editable.id,description:this.link.description,name:this.link.name,link:this.link.link}),this.clearData()):this.$emit("linkError",{message:"please be sure to add the actual link to the link text box."})},clickedRemoveLink(e){let t=this.links.findIndex(s=>s.id===e.id);t>-1&&this.links.splice(t,1)},clearData(){this.link.name="",this.link.id="",this.link.description="",this.link.link=""}}},ML=e=>(gs("data-v-3e9c36f3"),e=e(),vs(),e),EL={class:"add-link-wrapper"},OL={class:"preview"},RL={class:"add-link"},NL=ML(()=>h("div",{class:"main-preview"},null,-1));function LL(e,t,s,o,i,n){const r=_("link-badge"),f=_("text-input"),m=_("text-textarea");return a(),d("div",EL,[h("div",OL,[(a(!0),d(Z,null,pe(i.links,(v,g)=>(a(),S(r,{class:"link-preview",key:g,link:v,onClickedRemoveLink:n.clickedRemoveLink},null,8,["link","onClickedRemoveLink"]))),128))]),h("div",RL,[b(f,{bottomBorder:!0,placeholder:"link name",modelValue:i.link.name,"onUpdate:modelValue":t[0]||(t[0]=v=>i.link.name=v),class:"class-input"},null,8,["modelValue"]),b(m,{bottomBorder:!0,placeholder:"link*",modelValue:i.link.link,"onUpdate:modelValue":t[1]||(t[1]=v=>i.link.link=v),class:"class-input"},null,8,["modelValue"]),b(m,{bottomBorder:!0,placeholder:"link description",modelValue:i.link.description,"onUpdate:modelValue":t[2]||(t[2]=v=>i.link.description=v),class:"class-input"},null,8,["modelValue"]),h("div",{class:"add",onClick:t[3]||(t[3]=(...v)=>n.clickedAddLink&&n.clickedAddLink(...v))},V(i.buttonText),1)]),NL])}const FL=Ae(PL,[["render",LL],["__scopeId","data-v-3e9c36f3"]]),UL={props:{value:{type:String,default:""},radioValue:{type:String,default:""},name:{type:String,default:""},label:{type:String,default:""}},data(){return{inputRadio:"",id:Math.floor(Math.random()*100)}},watch:{inputRadio(e){e.length&&(this.$emit("input",e),this.inputRadio="")},value:{immediate:!0,handler(e){e===this.radioValue&&this.$refs.radioinput?this.$refs.radioinput.checked=!0:this.$refs.radioinput&&(this.$refs.radioinput.checked=!1)}}},computed:{computedValue(){return this.radioValue&&this.radioValue.length?this.radioValue:this.label}},methods:{inputRadioMethod(){this.inputRadio=this.$refs.radioinput.value}}},BL=["value","name","id"],jL=["for"];function VL(e,t,s,o,i,n){return a(),d("div",{class:we(["check-input-wrapper",{checked:s.value===s.radioValue}])},[h("input",{type:"radio",value:n.computedValue,onChange:t[0]||(t[0]=(...r)=>n.inputRadioMethod&&n.inputRadioMethod(...r)),ref:"radioinput",name:s.name,id:i.id},null,40,BL),h("label",{class:"label",for:i.id},V(s.label),9,jL)],2)}const Ll=Ae(UL,[["render",VL],["__scopeId","data-v-3d4188ed"]]),mu={props:{data:{type:Object,default(){return{}}},hasClose:{type:Boolean,default:!0}},computed:{computedDetails(){var t;let e=`amount: ${this.data.amount}`;if(this.data.period&&(e+=` per ${this.data.period}`),this.data.description&&this.data.description.length&&(e+=`
`,e+=`description: ${this.data.description}`),(t=this.data.feeables)!=null&&t.length){e+=`
`;let s=this.data.feeables[0].type.includes("ection")?"academic year sections":"academic years";e+=`${this.data.feeables.length} ${s}`}return e}},methods:{clickedRemoveData(){this.$emit("clickedRemoveData",this.data)},clickedData(){this.$emit("clickedData",this.data)}}},qL={mixins:[mu],methods:{}},HL={key:0,class:"price-badge-wrapper"},WL={class:"for"},zL={key:1,class:"details"};function GL(e,t,s,o,i,n){const r=_("font-awesome-icon");return e.data.amount?(a(),d("div",HL,[h("div",WL,V(e.data.for),1),e.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>e.clickedRemoveData&&e.clickedRemoveData(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),e.computedDetails.length?(a(),d("div",zL,V(e.computedDetails),1)):c("",!0)])):c("",!0)}const Ac=Ae(qL,[["render",GL],["__scopeId","data-v-7e69d1ed"]]),YL={mixins:[mu],computed:{computedDetails(){let e="";return this.data.percentageOwned.length&&(e+=` percentage owned: ${this.data.percentageOwned} 
`),e}}},QL=e=>(gs("data-v-4dc158a7"),e=e(),vs(),e),KL={key:0,class:"commission-badge-wrapper"},JL=QL(()=>h("div",{class:"for"}," commission ",-1)),XL={key:1,class:"details"};function $L(e,t,s,o,i,n){const r=_("font-awesome-icon");return e.data.amount?(a(),d("div",KL,[JL,e.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>e.clickedRemoveData&&e.clickedRemoveData(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),n.computedDetails.length?(a(),d("div",XL,V(n.computedDetails),1)):c("",!0)])):c("",!0)}const tA=Ae(YL,[["render",$L],["__scopeId","data-v-4dc158a7"]]),ZL={mixins:[mu]},eF={class:"fee-badge-wrapper"},tF={key:1,class:"details"};function sF(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",eF,[e.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>e.clickedRemoveData&&e.clickedRemoveData(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),e.computedDetails.length?(a(),d("div",tF,V(e.computedDetails),1)):c("",!0)])}const Id=Ae(ZL,[["render",sF],["__scopeId","data-v-64112503"]]),nF={mixins:[mu]},iF={class:"salary-badge-wrapper"},oF={key:1,class:"details"};function aF(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",iF,[e.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>e.clickedRemoveData&&e.clickedRemoveData(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),e.computedDetails.length?(a(),d("div",oF,V(e.computedDetails),1)):c("",!0)])}const sA=Ae(nF,[["render",aF]]),rF={mixins:[mu],computed:{computedDetails(){let e=`name: ${ns.trim(this.data.name,10)} 
`;return this.data.percentage.length&&(e+=` percentage: ${this.data.percentage} 
`),this.data.discountedPrice.length&&(e+=` discounted price: ${this.data.discountedPrice} 
`),this.data.expiresAt.length&&(e+=`expires at: ${this.data.expiresAt}`),e}}},lF={class:"discount-badge-wrapper"},cF={key:1,class:"details"};function uF(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",lF,[e.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>e.clickedRemoveData&&e.clickedRemoveData(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),n.computedDetails.length?(a(),d("div",cF,V(n.computedDetails),1)):c("",!0)])}const nA=Ae(rF,[["render",uF],["__scopeId","data-v-aa71f893"]]),dF={mixins:[mu],methods:{}},hF={key:0,class:"subscription-badge-wrapper"},fF={class:"name"},mF={class:"for"},pF={key:1,class:"details"};function gF(e,t,s,o,i,n){const r=_("font-awesome-icon");return e.data.name?(a(),d("div",hF,[h("div",fF,V(e.data.name),1),h("div",mF,V(e.data.for),1),e.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...f)=>e.clickedRemoveData&&e.clickedRemoveData(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),e.computedDetails.length?(a(),d("div",pF,V(e.computedDetails),1)):c("",!0)])):c("",!0)}const pu=Ae(dF,[["render",gF],["__scopeId","data-v-192ee45b"]]),vF={components:{DatePicker:wc,NumberInput:fa,SubscriptionBadge:pu,DiscountBadge:nA,SalaryBadge:sA,FeeBadge:Id,CommissionBadge:tA,PriceBadge:Ac,TextInput:js,MainSelect:pa,ItemBadge:fr,RadioInput:Ll,TextTextarea:kn},props:{type:{type:String,default:""},radioValue:{type:String,default:""},showRadios:{type:Boolean,default:!0},academicYears:{type:Array,default(){return[]}}},data(){return{payment:"",fee:{amount:"",id:"",feeables:[]},discount:{name:"",discountedPrice:"",percentage:"",expiresAt:"",type:""},price:{amount:"",description:"",for:""},subscription:{amount:"",for:"",name:"",description:"",period:""},salary:{amount:"",currency:"",period:""},prices:[],fees:[],feeableType:"",discountType:"",commission:{percentageOwned:""},errorMessage:"",errorLengthy:!1,subscriptions:[]}},watch:{radioValue:{immediate:!0,handler(e){e.length&&e!==this.payment&&(this.payment=e)}},prices(e){this.$emit("paymentType",{type:this.payment,data:e})},subscriptions(e){this.$emit("paymentType",{type:this.payment,data:e})},fees(e){this.$emit("paymentType",{type:this.payment,data:e})},discountType(e){this.discount.percentage="",this.discount.discountedPrice=""},"salary.amount":{handler(e){this.$emit("paymentType",{type:this.payment,data:this.salary})}},"salary.currency":{handler(e){this.$emit("paymentType",{type:this.payment,data:this.salary})}},"salary.period":{handler(e){this.$emit("paymentType",{type:this.payment,data:this.salary})}},payment(e){e==="free"?this.$emit("paymentType",{type:this.payment,data:""}):this.$emit("paymentType",{type:this.payment,data:null}),this.cleanUp()},discount:{deep:!0,handler(e){this.computedHasDiscountData?this.$emit("paymentType",{type:this.payment,data:[e]}):this.$emit("paymentType",{type:this.payment,data:null})}},"commission.percentageOwned":{handler(e){e.length?this.$emit("paymentType",{type:this.payment,data:[this.commission]}):this.$emit("paymentType",{type:this.payment,data:null})}},"price.amount":{handler(e){e.length===1&&this.price.for.length&&(this.price.for="")}},"price.amount":{handler(e){e.length===1&&this.price.for.length&&(this.price.for="")}},"price.for":{handler(e){this.price.amount.length&&e.length&&this.updatePrices()}},"subscription.for":{handler(e){this.subscription.name.length&&this.subscription.amount.length&&e.length&&this.updateSubscriptions()}},"subscription.name":{handler(e){e.length===1&&this.subscription.for.length&&(this.subscription.for="")}},"subscription.amount":{handler(e){e.length===1&&this.subscription.for.length&&(this.subscription.for="")}},"subscription.description":{handler(e){e.length===1&&this.subscription.for.length&&(this.subscription.for="")}},"subscription.period":{handler(e){e.length===1&&this.subscription.for.length&&(this.subscription.for="")}},errorMessage(e){e.length&&(this.$emit("paymentTypeError",{message:e,lengthy:this.errorLengthy}),this.errorLengthy=!1)},feeableType(e){this.fee.feeables=[]}},computed:{computedSubscription(){return this.type.includes("subscription")},computedOneTime(){return this.type.includes("one-time")},computedFee(){return this.type.includes("fee")},computedSalary(){return this.type.includes("salary")},computedCommission(){return this.type.includes("commission")},computedDiscount(){return this.type.includes("discount")},computedCommission(){return this.type.includes("commission")},computedAcademicYearsOrSections(){return this.feeableType==="academicYears"?this.computedMappedAcademicYears:this.feeableType==="academicYearSections"?this.computedMappedAcademicYearSections:[]},computedMappedAcademicYears(){return this.academicYears.map(e=>({id:e.id,name:e.name,description:e.description,endDate:e.endDate,startDate:e.startDate,type:e.type}))},computedMappedAcademicYearSections(){let e=[];return this.academicYears.forEach(t=>{e.push(...t.sections.map(s=>({id:s.id,name:s.name,academicYearId:s.academicYearId,endDate:s.endDate,startDate:s.startDate,type:"academicYearSection"})))}),e},computedFeeableSelectionMessage(){return this.feeableType==="academicYearSections"&&!this.computedMappedAcademicYearSections.length?"there are no academic year sections for the selected academic years":""},computedHasDiscountData(){return this.discount.name.length&&(this.discount.discountedPrice.length||this.discount.percentage.length)},computedTomorrowDate(){return this.payment==="discount"?_s.tomorrow():null}},methods:{clickedFeeOk(){if(!this.fee.amount.length){this.errorMessage="please enter fee amount";return}if(!this.fee.feeables.length){this.errorMessage="please you require an academic year or academic year section for a selected academic year";return}this.updateFees()},inItemSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.fee.feeables.push(e)},findItemIndex(e){return this.fee.feeables.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.fee.feeables.splice(t,1)},priceForSelection(e){this.price.for=e},subscriptionForSelection(e){this.subscription.for=e},subscriptionPeriodSelection(e){this.subscription.period=e},salarySelection(e){this.salary.period=e},clickedRemovePrice(e){let t=this.prices.findIndex(s=>s.amount===e.amount&&s.for===e.for);t>-1&&this.prices.splice(t,1)},clickedRemoveSubscription(e){let t=this.subscriptions.findIndex(s=>s.amount===e.amount&&s.for===e.for);t>-1&&this.subscriptions.splice(t,1)},clickedRemoveFee(e){let t=this.fees.findIndex(s=>s.id===e.id);t>-1&&this.fees.splice(t,1)},clickedRemoveSalary(e){this.clearSalary()},clickedRemoveDiscount(e){this.clearDiscount()},clickedRemoveCommission(e){this.clearCommission()},clickedAction(e){this.payment==="price"?(this.updatePrices(),this.clearPrice()):this.payment==="subscription"&&(this.updateSubscriptions(),this.clearSubscription())},updatePrices(){if(this.prices.findIndex(t=>t.for===this.price.for)>-1){this.price.for.length&&(this.errorLengthy=!0,this.errorMessage=`There is already a price for ${this.price.for}. Either remove existing or change it for this.`);return}this.prices.push({amount:this.price.amount,description:this.price.description,for:this.price.for}),this.clearPrice()},updateSubscriptions(){if(console.log("in subscription update"),this.subscriptions.findIndex(t=>t.for===this.subscription.for)>-1){this.subscription.for.length&&(this.errorLengthy=!0,this.errorMessage=`There is already a subscription for ${this.subscription.for}. Either remove existing or change it for this.`);return}this.subscriptions.push({name:this.subscription.name,description:this.subscription.description,for:this.subscription.for,amount:this.subscription.amount,period:this.subscription.period}),this.clearSubscription()},updateFees(){let e;if(this.fees.findIndex(s=>{for(let o=0;o<this.fee.feeables.length;o++){const i=this.fee.feeables[o];if(e=s.feeables.findIndex(n=>n.id===i.id&&n.type===i.type),e>-1||!s.feeables.length&&!i.length)return!0}return!1})>-1){this.errorLengthy=!0,this.fee.feeables.length?this.errorMessage="There is already a fee for one of the selected academic year (or section). Either remove existing fee or change it for this.":this.errorMessage="There is a fee for the academic year (or section) selected. Either remove that or set up this fee for specific academic year (or section).";return}this.fees.push({amount:this.fee.amount,feeables:this.fee.feeables.map(s=>({id:s.id,type:s.type})),id:Math.round(Math.random()*100)}),this.clearFee()},clearPrice(){this.price.for="",this.price.amount="",this.price.description="",this.errorLengthy=!1},clearSubscription(){this.subscription.name="",this.subscription.amount="",this.subscription.description="",this.subscription.for="",this.subscription.period="",this.errorLengthy=!1},clearSalary(){this.salary.amount="",this.salary.currency="",this.salary.period="",this.errorLengthy=!1},clearDiscount(){this.discount.name="",this.discount.expiresAt="",this.discount.percentage="",this.discount.discountedPrice="",this.errorLengthy=!1},clearCommission(){this.commission.percentageOwned="",this.errorLengthy=!1},clearFee(){this.fee.amount="",this.fee.id="",this.fee.feeables=[],this.errorLengthy=!1},cleanUp(){this.clearPrice(),this.clearSubscription(),this.clearFee(),this.commission="",this.prices=[],this.subscriptions=[]}}},Td=e=>(gs("data-v-569abd50"),e=e(),vs(),e),yF={class:"payment-types-wrapper"},wF={key:0,class:"radio-section"},_F={key:1,class:"preview-section"},bF={class:"main"},kF={key:2,class:"commission-section"},AF=Td(()=>h("div",{class:"per"},"%",-1)),CF={key:3,class:"discount-section"},SF=Td(()=>h("div",{class:"small-msg"}," choose how you want to set up the discount ",-1)),IF={class:"radio-section"},TF={key:4,class:"fee-section"},DF=Td(()=>h("div",{class:"message"}," Please note: First select an academic year in the class attachments section. Then make a selection from here because you cannot create a fee without selecting academic years (or sections) for it. You can create fees for different academic years and sections. ",-1)),xF={key:0,class:"small-msg"},PF={key:1,class:"radio-section"},MF={key:2,class:"academic-sections"},EF={key:3,class:"small-msg"},OF={key:4,class:"message"},RF={key:5,class:"price-section"},NF={key:6,class:"subscription-section"},LF={class:"sub-section"},FF=Td(()=>h("div",{class:"per"},"per",-1)),UF={key:7,class:"salary-section"},BF={class:"sub-section"},jF=Td(()=>h("div",{class:"per"},"per",-1));function VF(e,t,s,o,i,n){const r=_("radio-input"),f=_("price-badge"),m=_("subscription-badge"),v=_("fee-badge"),g=_("salary-badge"),A=_("discount-badge"),D=_("commission-badge"),E=_("number-input"),T=_("text-input"),N=_("date-picker"),F=_("item-badge"),R=_("text-textarea"),j=_("main-select");return a(),d("div",yF,[s.showRadios?(a(),d("div",wF,[b(r,{name:"payment",label:"free",radioValue:"free",modelValue:i.payment,"onUpdate:modelValue":t[0]||(t[0]=W=>i.payment=W),class:"radio-button",key:"payment1"},null,8,["modelValue"]),n.computedCommission?(a(),S(r,{name:"payment",label:"commission",radioValue:"commission",modelValue:i.payment,"onUpdate:modelValue":t[1]||(t[1]=W=>i.payment=W),class:"radio-button",key:"payment2"},null,8,["modelValue"])):c("",!0),n.computedSubscription?(a(),S(r,{name:"payment",label:"subscription",radioValue:"subscription",modelValue:i.payment,"onUpdate:modelValue":t[2]||(t[2]=W=>i.payment=W),class:"radio-button",key:"payment3"},null,8,["modelValue"])):c("",!0),n.computedOneTime?(a(),S(r,{name:"payment",label:"one-time",radioValue:"price",modelValue:i.payment,"onUpdate:modelValue":t[3]||(t[3]=W=>i.payment=W),class:"radio-button",key:"payment4"},null,8,["modelValue"])):c("",!0),n.computedFee?(a(),S(r,{name:"payment",label:"fee",radioValue:"fee",modelValue:i.payment,"onUpdate:modelValue":t[4]||(t[4]=W=>i.payment=W),class:"radio-button",key:"payment5"},null,8,["modelValue"])):c("",!0),n.computedSalary?(a(),S(r,{name:"payment",label:"salary",radioValue:"salary",modelValue:i.payment,"onUpdate:modelValue":t[5]||(t[5]=W=>i.payment=W),class:"radio-button",key:"payment6"},null,8,["modelValue"])):c("",!0),n.computedDiscount?(a(),S(r,{name:"payment",label:"discount",radioValue:"discount",modelValue:i.payment,"onUpdate:modelValue":t[6]||(t[6]=W=>i.payment=W),class:"radio-button",key:"payment6"},null,8,["modelValue"])):c("",!0)])):c("",!0),n.computedOneTime||n.computedSubscription||n.computedFee||n.computedSalary||n.computedDiscount?(a(),d("div",_F,[h("div",bF,[n.computedOneTime?(a(!0),d(Z,{key:0},pe(i.prices,(W,Q)=>(a(),S(f,{key:Q,data:W,onClickedRemoveData:n.clickedRemovePrice,class:"payment-badge"},null,8,["data","onClickedRemoveData"]))),128)):c("",!0),n.computedSubscription?(a(!0),d(Z,{key:1},pe(i.subscriptions,(W,Q)=>(a(),S(m,{key:Q,data:W,onClickedRemoveData:n.clickedRemoveSubscription,class:"payment-badge"},null,8,["data","onClickedRemoveData"]))),128)):c("",!0),n.computedFee?(a(!0),d(Z,{key:2},pe(i.fees,(W,Q)=>(a(),S(v,{key:Q,data:W,onClickedRemoveData:n.clickedRemoveFee,class:"payment-badge"},null,8,["data","onClickedRemoveData"]))),128)):c("",!0),n.computedSalary?(a(),d(Z,{key:3},[i.salary.amount.length?(a(),S(g,{key:0,data:i.salary,onClickedRemoveData:n.clickedRemoveSalary,class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)],64)):c("",!0),n.computedDiscount?(a(),d(Z,{key:4},[n.computedHasDiscountData?(a(),S(A,{key:0,data:i.discount,onClickedRemoveData:n.clickedRemoveDiscount,class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)],64)):c("",!0),n.computedCommission?(a(),d(Z,{key:5},[i.commission.percentageOwned.length?(a(),S(D,{key:0,data:i.commission,onClickedRemoveData:n.clickedRemoveCommission,class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)],64)):c("",!0)])])):c("",!0),i.payment==="commission"?(a(),d("div",kF,[b(E,{placeholder:"commission",modelValue:i.commission.percentageOwned,"onUpdate:modelValue":t[7]||(t[7]=W=>i.commission.percentageOwned=W),class:"input",noBorder:!0},null,8,["modelValue"]),AF])):c("",!0),i.payment==="discount"?(a(),d("div",CF,[SF,h("div",IF,[b(r,{name:"discount",label:"discounted price",radioValue:"discountedPrice",modelValue:i.discountType,"onUpdate:modelValue":t[8]||(t[8]=W=>i.discountType=W),class:"radio-button",key:"discount1"},null,8,["modelValue"]),b(r,{name:"discount",label:"discount percentage",radioValue:"percentage",modelValue:i.discountType,"onUpdate:modelValue":t[9]||(t[9]=W=>i.discountType=W),class:"radio-button",key:"discount2"},null,8,["modelValue"])]),i.discountType.length?(a(),S(T,{key:0,placeholder:"discount name",modelValue:i.discount.name,"onUpdate:modelValue":t[10]||(t[10]=W=>i.discount.name=W),bottomBorder:!0},null,8,["modelValue"])):c("",!0),i.discountType==="discountedPrice"?(a(),S(E,{key:1,placeholder:"discounted price",modelValue:i.discount.discountedPrice,"onUpdate:modelValue":t[11]||(t[11]=W=>i.discount.discountedPrice=W),bottomBorder:!0,hasMax:!1},null,8,["modelValue"])):c("",!0),i.discountType==="percentage"?(a(),S(E,{key:2,placeholder:"discount percentage",modelValue:i.discount.percentage,"onUpdate:modelValue":t[12]||(t[12]=W=>i.discount.percentage=W),bottomBorder:!0,hasMax:!1},null,8,["modelValue"])):c("",!0),i.discountType.length?(a(),S(N,{key:3,bottomBorder:!0,modelValue:i.discount.expiresAt,"onUpdate:modelValue":t[13]||(t[13]=W=>i.discount.expiresAt=W),class:"other-input",placeholder:"expiration date for discount",flatPickrConfig:{dateFormat:"F j, Y H:i",enableTime:!0,minDate:n.computedTomorrowDate}},null,8,["modelValue","flatPickrConfig"])):c("",!0)])):c("",!0),i.payment==="fee"?(a(),d("div",TF,[b(E,{placeholder:"fee",modelValue:i.fee.amount,"onUpdate:modelValue":t[14]||(t[14]=W=>i.fee.amount=W),bottomBorder:!0,hasMax:!1},null,8,["modelValue"]),DF,s.academicYears.length?(a(),d("div",xF," choose one and make your selection ")):c("",!0),s.academicYears.length?(a(),d("div",PF,[b(r,{name:"feeable",label:"academic years",radioValue:"academicYears",modelValue:i.feeableType,"onUpdate:modelValue":t[15]||(t[15]=W=>i.feeableType=W),class:"radio-button",key:"feeable1"},null,8,["modelValue"]),b(r,{name:"feeable",label:"academic year sections",radioValue:"academicYearSections",modelValue:i.feeableType,"onUpdate:modelValue":t[16]||(t[16]=W=>i.feeableType=W),class:"radio-button",key:"feeable2"},null,8,["modelValue"])])):c("",!0),n.computedAcademicYearsOrSections.length?(a(),d("div",MF,[(a(!0),d(Z,null,pe(n.computedAcademicYearsOrSections,(W,Q)=>(a(),S(F,{key:Q,item:W,type:"section",hasRemove:n.inItemSelection(W),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),n.computedFeeableSelectionMessage.length?(a(),d("div",EF,V(n.computedFeeableSelectionMessage),1)):c("",!0),s.academicYears.length?c("",!0):(a(),d("div",OF," there are no academic years or sections ")),h("div",{class:"fee-ok",onClick:t[17]||(t[17]=(...W)=>n.clickedFeeOk&&n.clickedFeeOk(...W))}," set up fee ")])):c("",!0),i.payment==="price"?(a(),d("div",RF,[b(E,{placeholder:"one time price",modelValue:i.price.amount,"onUpdate:modelValue":t[18]||(t[18]=W=>i.price.amount=W),hasMax:!1,bottomBorder:!0},null,8,["modelValue"]),b(R,{placeholder:"description",modelValue:i.price.description,"onUpdate:modelValue":t[19]||(t[19]=W=>i.price.description=W),bottomBorder:!0},null,8,["modelValue"]),b(j,{items:["all","learners","facilitators","parents","professionals","schools"],value:i.price.for,backgroundColor:"white",onSelection:n.priceForSelection,class:"main-select",placeholder:"set price for"},null,8,["value","onSelection"])])):c("",!0),i.payment==="subscription"?(a(),d("div",NF,[b(T,{placeholder:"name",modelValue:i.subscription.name,"onUpdate:modelValue":t[20]||(t[20]=W=>i.subscription.name=W),bottomBorder:!0},null,8,["modelValue"]),h("div",LF,[b(E,{placeholder:"amount",modelValue:i.subscription.amount,"onUpdate:modelValue":t[21]||(t[21]=W=>i.subscription.amount=W),bottomBorder:!0,hasMax:!1,class:"text-input"},null,8,["modelValue"]),FF,b(j,{items:["month","quarter","year"],value:i.subscription.period,backgroundColor:"white",onSelection:n.subscriptionPeriodSelection,class:"main-select",placeholder:"select a period*"},null,8,["value","onSelection"])]),b(R,{placeholder:"description",modelValue:i.subscription.description,"onUpdate:modelValue":t[22]||(t[22]=W=>i.subscription.description=W),bottomBorder:!0},null,8,["modelValue"]),b(j,{items:["all","learners","facilitators","parents","professionals","scools"],value:i.subscription.for,backgroundColor:"white",onSelection:n.subscriptionForSelection,class:"main-select",placeholder:"set subscription for"},null,8,["value","onSelection"])])):c("",!0),i.payment==="salary"?(a(),d("div",UF,[h("div",BF,[b(E,{placeholder:"amount",modelValue:i.salary.amount,"onUpdate:modelValue":t[23]||(t[23]=W=>i.salary.amount=W),bottomBorder:!0,hasMax:!1,class:"text-input"},null,8,["modelValue"]),jF,b(j,{items:["month","quarter","year"],value:i.salary.period,backgroundColor:"white",onSelection:e.salaryPeriodSelection,class:"main-select",placeholder:"select a period*"},null,8,["value","onSelection"])])])):c("",!0)])}const gu=Ae(vF,[["render",VF],["__scopeId","data-v-569abd50"]]),qF={props:{files:{type:Array,default(){return null}},localFiles:{type:Array,default(){return null}},hasRemove:{type:Boolean,default:!0},checkLocalFiles:{type:Boolean,default:!1},mainMessage:{type:String,default:""},removedMessage:{type:String,default:""}},data(){return{removedFiles:[],mainFiles:[]}},watch:{removedFiles(e){this.$emit("previewFiles",{removed:e,main:this.mainFiles})},files:{immediate:!0,handler(e){e&&(this.mainFiles=e)}}},methods:{clickedRemove(e,t){let s=this.findFileIndex(e,t);if(s>-1){if(t==="main")this.mainFiles.splice(s,1),this.removedFiles.push(e);else if(t==="removed"){if(this.itemTypeInLocalFiles(e))return;this.removedFiles.splice(s,1),this.mainFiles.push(e)}}},findFileIndex(e,t){return(t==="main"?this.mainFiles:this.removedFiles).findIndex(o=>e.id===o.id&&e.type===o.type)},itemTypeInLocalFiles(e){return this.localFiles&&this.localFiles.forEach(t=>{if(t&&t.type.includes(e.type))return this.$emit("error",{lengthy:!0,message:`please you cannot undo the removal of this file till you delete a ${e.type} from your locally uploaded files.`}),!0}),!1}}},HF={class:"files-preview-backend-wrapper"},WF={key:0,class:"message"},zF={class:"main"},GF=["src"],YF=["src"],QF=["src"],KF=["onClick"],JF={key:1,class:"message"},XF={key:2,class:"removed"},$F=["src"],ZF=["src"],e6=["src"],t6=["onClick"];function s6(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",HF,[s.mainMessage.length?(a(),d("div",WF,V(s.mainMessage),1)):c("",!0),h("div",zF,[(a(!0),d(Z,null,pe(i.mainFiles,f=>(a(),d("div",{class:"single-file-preview",key:`${f.type}.${f.id}`},[f.type==="video"?(a(),d("video",{key:0,src:f.url,controls:""},null,8,GF)):c("",!0),f.type==="audio"?(a(),d("audio",{key:1,src:f.url,controls:""},null,8,YF)):c("",!0),f.type==="image"?(a(),d("img",{key:2,src:f.url,alt:""},null,8,QF)):c("",!0),s.hasRemove?(a(),d("div",{key:3,class:"remove",onClick:m=>n.clickedRemove(f,"main")},[b(r,{icon:["fa","times"]})],8,KF)):c("",!0)]))),128))]),s.hasRemove&&s.removedMessage.length?(a(),d("div",JF,V(s.removedMessage),1)):c("",!0),s.hasRemove&&i.removedFiles.length?(a(),d("div",XF,[(a(!0),d(Z,null,pe(i.removedFiles,f=>(a(),d("div",{class:"single-file-preview",key:`${f.type}.${f.id}`},[f.type==="video"?(a(),d("video",{key:0,src:f.url,controls:""},null,8,$F)):c("",!0),f.type==="audio"?(a(),d("audio",{key:1,src:f.url,controls:""},null,8,ZF)):c("",!0),f.type==="image"?(a(),d("img",{key:2,src:f.url,alt:""},null,8,e6)):c("",!0),h("div",{class:"remove",onClick:m=>n.clickedRemove(f,"removed")},[b(r,{icon:["fa","times"]})],8,t6)]))),128))])):c("",!0)])}const pv=Ae(qF,[["render",s6],["__scopeId","data-v-bb367fde"]]),Dd={components:{SearchInput:hr},props:{show:{type:Boolean,default:!0},edit:{type:Boolean,default:!1},mainSection:{type:String,default:""},editable:{type:Object,default(){return null}},schoolAdmin:{type:Object,default(){return null}}},data(){return{data:{name:"",title:"",ageGroup:"",free:!1,intro:!1,paymentType:"free",description:"",grade:{},owner:{name:""},items:[],mainItems:[],removedItems:[],maximum:"",structure:"",state:"",facilitate:!1,discussion:!1,discussionData:{title:"",type:"",preamble:"",allowed:"",restricted:!1},attachmentType:"",attachments:[],mainAttachments:[],removedAttachments:[],mainPaymentData:[],removedPaymentData:[],paymentData:null,hasDiscussion:!1},discussionFiles:[],loading:!1,title:"",buttonText:"create",alertMessage:"",alertDanger:!1,alertSuccess:!1,alertLengthy:!1,hasOwnership:!1,paymentType:"subscription and one-time",searchItemsText:"",specificItemLoading:!1,specificItemDetailsNextPage:0,specificItemDetails:[]}},watch:{edit:{immediate:!0,handler(e){e&&this.editable&&this.setData(this.editable)}},searchItemsText(e){this.debouncedSearchItems()}},computed:{computedCreator(){return{name:this["dashboard/getAccountDetails"].name,hasFreeResources:this["dashboard/getAccountDetails"].hasFreeResources,account:this.computedAccount.account,accountId:this.computedAccount.accountId}},computedPossibleOwners(){if(this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional"){let e=[];return e.push(this.computedCreator),e.push(...this["dashboard/getAccountDetails"].schools.map(t=>({name:t.name,account:"school",accountId:t.id,hasFreeResources:t.hasFreeResources}))),e}return[]},computedAccount(){return this["dashboard/getCurrentAccount"]},computedPayment(){return this.computedAccount.account==="school"||this.computedAccount.account==="professional"||this.computedAccount.account==="facilitator"||this.data.owner.account==="school"||this.data.owner.account==="professional"||this.data.owner.account==="facilitator"},computedAttachment(){return this.data.owner.account==="school"?["programs","grades","courses"]:["programs","grades","courses"]},computedSpecificItems(){return this.specificItemDetails},computedShowOwnership(){return this.computedPossibleOwners.length>1&&!this.edit},computedShowGetMore(){return this.specificItemDetailsNextPage&&this.specificItemDetailsNextPage>1&&!this.specificItemLoading},computedShowPayment(){return this.computedPayment},computedCheckMain(){return!!(this.mainSection&&this.mainSection.length)},computedShowDiscussion(){return this.edit?!!this.data.hasDiscussion:!0}},methods:{checkDiscussion(e){e.discussions.constructor===Array&&e.discussions.length>0||e.discussions>0?this.data.hasDiscussion=!0:this.data.hasDiscussion=!1},initiateGetItems(){this.specificItemDetails=[],this.specificItemDetailsNextPage=1,this.getSpecificAccountItem()},debouncedSearchItems:Ft.debounce(function(){this.initiateGetItems()},200),issueDangerAlertForResponse(e){var t,s;this.alertDanger=!0,(t=e==null?void 0:e.data)!=null&&t.message?this.alertMessage=(s=e==null?void 0:e.data)==null?void 0:s.message:this.alertMessage=`${this.edit?"editing":"creation"} was unsuccessful`},error(e){this.alertDanger=!0,this.alertLengthy=e.lengthy,this.alertMessage=e.message},getSearchItemsText(e){this.searchItemsText=e},stateSelection(e){this.data.state=e},clearAlert(){this.alertMessage="",this.alertDanger=!1,this.alertSuccess=!1},getDiscussionData(e){this.data.discussionData.title=e.title,this.data.discussionData.preamble=e.preamble,this.data.discussionData.type=e.type,this.data.discussionData.restricted=e.restricted,this.data.discussionData.allowed=e.allowed,this.discussionFiles=e.files},closeDiscussionModal(){this.data.discussion=!1},async clearData(){this.data.name="",this.data.paymentType="free",this.data.description="",this.data.items=[],this.data.removedItems=[],this.data.mainItems=[],this.data.attachments=[],this.data.mainAttachments=[],this.data.removedAttachments=[],this.data.state="",this.data.attachmentType="",this.data.paymentData=null,this.data.mainPaymentData=[],this.data.removedPaymentData=[],this.data.facilitate=!1,this.clearDiscussionData(),this.discussionFiles=[],this.grades=[],this.grade={},this.data.discussion=!1,this.hasMaxLearners=!1,this.buttonText="create",this.specificItemLoading=!1,this.title.includes("lesson")&&(this.data.title="",this.data.ageGroup="",this.data.intro=!1,this.data.free=!1,this.links=[],this.errorTitle=!1,this.errorFile=!1),this.data.account&&(this.specificItemDetails=[],this.specificItemDetailsNextPage=0),this.$forceUpdate()},attachmentSelected(e){this.findAttachmentIndex(e)===-1&&this.data.attachments.push(e)},findAttachmentIndex(e,t){let s=[];return t==="main"?s.push(...this.data.mainAttachments):t==="removed"?s.push(...this.data.removedAttachments):(s.push(...this.data.attachments),s.push(...this.data.mainAttachments),s.push(...this.data.removedAttachments)),s.findIndex(o=>o.data.name===e.data.name&&o.data.description===e.data.description&&o.data.id===e.data.id)},removeAttachment(e,t){let s=this.findAttachmentIndex(e,t);s>-1&&(t==="main"?this.spliceMainAttachment(s,e):t==="removed"?this.spliceRemovedAttachment(s,e):this.data.attachments.splice(s,1))},spliceMainAttachment(e,t){this.data.mainAttachments.splice(e,1),this.data.removedAttachments.push(t)},spliceRemovedAttachment(e,t){this.data.removedAttachments.splice(e,1),this.data.mainAttachments.push(t)},getPaymentType(e){this.data.mainPaymentData.length&&this.data.mainPaymentData[0].type!==e.type&&(this.data.removedPaymentData.push(...this.data.mainPaymentData),this.data.mainPaymentData=[]),this.data.paymentType=e.type,this.data.paymentData=e.data},clickedRemovePayment(e,t){let s=this.findPaymentDataIndex(e,t);if(s>-1)if(t==="main")this.spliceMainPaymentData(s,e);else if(t==="removed"){if(this.data.paymentData&&this.data.paymentData.length&&this.data.removedPaymentData.length&&this.data.paymentType!==this.data.removedPaymentData[0].type)return;this.spliceRemovedPaymentData(s,e)}else this.data.paymentData.splice(s,1)},findPaymentDataIndex(e,t){let s=[];return t==="main"?s.push(...this.data.mainPaymentData):t==="removed"?s.push(...this.data.removedPaymentData):(s.push(...this.data.paymentData),s.push(...this.data.mainPaymentData),s.push(...this.data.removedPaymentData)),s.findIndex(o=>o.name===e.name&&o.id===e.id)},spliceMainPaymentData(e,t){this.data.mainPaymentData.splice(e,1),this.data.removedPaymentData.push(t)},spliceRemovedPaymentData(e,t){this.data.removedPaymentData.splice(e,1),this.data.mainPaymentData.push(t)},ownerSelection(e){this.data.owner=e,this.data.paymentData=null,this.data.paymentType="free"},clearDiscussionData(e){this.data.discussionData={title:"",type:"",preamble:"",allowed:"",restricted:!1}},getDiscussionData(e){this.data.discussionData.title=e.title,this.data.discussionData.preamble=e.preamble,this.data.discussionData.type=e.type,this.data.discussionData.restricted=e.restricted,this.data.discussionData.allowed=e.allowed,this.discussionFiles=e.files},closeDiscussionModal(){this.data.discussion=!1}}},n6={components:{MainSelect:pa,AttachmentBadge:vo,CreateDiscussion:kc,ItemBadge:fr,FilesPreviewBackend:pv,PaymentTypes:gu,AddLink:FL,AutoAlert:Mi,MainCheckbox:Vi,PostAttachment:go,LinkBadge:eA,PriceBadge:Ac,WelcomeForm:_c,MediaCapture:Rl,FadeUp:bi,PostButton:xs,TextTextarea:kn,TextInput:js},props:{main:{type:Boolean,default:!1},maxUploads:{type:Number,default:3}},data(){return{imageFile:null,videoFile:null,audioFile:null,activeFile:null,fileType:"",fileAccept:"",showFilePreview:!1,errorTitle:!1,errorFile:!1,mediaCaptureType:"",showMediaCapture:!1,mainFiles:[],removedFiles:[],links:[],mainLinks:[],removedLinks:[],editedLinks:[],selectedLink:null,selectedClass:null}},watch:{},watch:{showFilePreview(e){e||(this.activeFile=null)},"data.title":{handler(e){e&&e.length&&(this.errorTitle=!1)}},"data.free":{handler(e){e&&(this.data.paymentData=[],this.data.intro&&(this.data.intro=!1))}},"data.intro":{handler(e){e&&this.data.free&&(this.data.free=!1)}},"data.owner":{handler(e){e.account&&this.debouncedSearchItems()}},errorFile(e){e&&(this.alertDanger=!0,this.alertMessage="a lesson requires at least one file",this.errorFile=!1)},errorTitle(e){e&&(this.alertDanger=!0,this.alertMessage="a lesson requires a title")}},created(){this.title="create a lesson",this.main&&(this.paymentType="one-time"),this.emitter.on("editLesson",e=>{this.setData(e)}),this.emitter.on("lessonOwnership",()=>{this.hasOwnership=!0,this.data.owner=this.computedCreator})},mixins:[Dd],computed:{...os(["dashboard/getAccountDetails","dashboard/getCurrentAccount","getUser"]),computedFile(){return this.fileType==="video"?this.videoFile:this.fileType==="audio"?this.audioFile:this.fileType==="picture"?this.imageFile:null},computedFiles(){return[this.videoFile,this.audioFile,this.imageFile]},computedHasLocalFile(){return this.videoFile||this.audioFile||this.imageFile},computedShowDiscussion(){return this.main?this.data.hasDiscussion?!0:!this.edit:!1},computedShowLessonPayment(){return this.main&&!this.data.free&&!this.data.intro},computedShowVideo(){return this.edit?this.mainFiles.findIndex(e=>e.type==="video")===-1:!0},computedShowAudio(){return this.edit?this.mainFiles.findIndex(e=>e.type==="audio")===-1:!0},computedShowImage(){return this.edit?this.mainFiles.findIndex(e=>e.type==="image")===-1:!0},computedUploadMessage(){return this.edit?this.computedUploadAllowance>0?`you can upload ${ns.getNumberString(this.computedUploadAllowance)} more different files`:"":`you can up upload ${ns.getNumberString(this.maxUploads)} different files for a lesson`},computedUploadAllowance(){return this.maxUploads-this.mainFiles.length},computedMainMessage(){return this.mainFiles.length?"current files":""},computedRemovedMessage(){return this.removedFiles.length?"files to be deleted":""}},methods:{...ss(["dashboard/createLesson","dashboard/editLesson","dashboard/getAccountSpecificItems"]),mainModalDisappear(){this.data.owner={name:""},this.clearData(),this.clearExtraData(),this.$emit("createLessonDisappear")},getPreviewFiles(e){this.removedFiles=e.removed,this.mainFiles=e.main},clearExtraData(){this.specificItemDetails=[],this.specificItemDetailsNextPage=0,this.specificItemLoading=!1,this.selectedClass=null,this.selectedLink=null,this.mainLinks=[],this.removedLinks=[],this.editedLinks=[],this.mainFiles=[],this.removedFiles=[],this.fileType="",this.imageFile=null,this.videoFil=null,this.audioFile=null},clickedClosePreview(){this.showFilePreview=!1,this.activeFile=null},getLinks(e){this.links=e},getLinkError(e){this.alertDanger=!0,this.alertMessage=e},setData(e){var t;this.data.title=e.title,this.data.description=e.description,this.data.state=(t=e.state)==null?void 0:t.toLowerCase(),this.data.lessonId=e.id,this.data.items=[],this.data.mainItems=[],this.data.items.push(...e.items),this.data.mainItems.push(...this.data.items),this.data.mainAttachments=[],e.attachments?this.data.mainAttachments.push(...e.attachments):(this.data.mainAttachments.push(...e.courses),this.data.mainAttachments.push(...e.programs),this.data.mainAttachments.push(...e.grades)),this.mainFiles=[],this.mainFiles.push(...e.videos),this.mainFiles.push(...e.images),this.mainFiles.push(...e.audios),this.mainLinks=[],this.mainLinks.push(...e.links),e.prices.length?(this.data.mainPaymentData=[],this.data.mainPaymentData.push(...e.prices)):this.type="free",this.buttonText="edit",this.data.owner={name:e.ownedby.name,account:e.ownedby.account,accountId:e.ownedby.accountId},this.checkDiscussion(e)},inItemSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){if(console.log("data :>> ",e),e.type==="class"||e.type==="course"&&e.items.length>0){this.selectedClass=e;return}else this.selectedClass&&!this.isInSelectedClass(e)&&(this.selectedClass=null);this.findItemIndex(e)===-1&&this.data.items.push({classId:this.selectedClass&&e.type==="subject"?this.selectedClass.id:null,id:e.id,type:e.type,description:e.description,name:e.name})},isInSelectedClass(e){let t;return t=this.selectedClass.items.findIndex(s=>s.type===e.type&&s.id===e.id),t>-1},findItemIndex(e){return this.data.items.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.data.items.splice(t,1)},removedItemsUpdate(e){this.data.removedItems.findIndex(s=>e.type===s.type&&e.id===s.id&&e.classId===s.classId)===-1&&this.data.removedItems.push(e)},editedLink(e){let t=this.mainLinks.findIndex(s=>s.id===e.id);t>-1&&(e.edited=!0,this.mainLinks[t]=e,this.editedLinksUpdate(e)),this.selectedLink=null},selectedLinks(e){this.selectedLink=e},findLinkIndex(e,t){return(t==="main"?this.mainLinks:t==="removed"?this.removedLinks:this.links).findIndex(o=>o.id===e.id)},removeLink(e,t){let s=this.findLinkIndex(e,t);s>-1&&(t==="main"?(this.mainLinks.splice(s,1),this.removedLinks.push(e),this.editedLinksUpdate(e,!0)):t==="removed"&&(this.removedLinks.splice(s,1),this.mainLinks.push(e),e.edited&&this.editedLinksUpdate(e)))},editedLinksUpdate(e,t=!1){let s=this.editedLinks.findIndex(o=>e.id===o.id);!t&&s===-1?this.editedLinks.push(e):!t&&s>-1?(this.editedLinks[s].name=e.name,this.editedLinks[s].description=e.description,this.editedLinks[s].link=e.link):t&&s>-1&&this.editedLinks.splice(s,1)},clickedBan(e){e==="image"?this.imageFile=null:e==="video"?this.videoFile=null:e==="audio"&&(this.audioFile=null),this.showFilePreview=!1},clickedFile(e){e==="image"?this.activeFile=this.imageFile:e==="video"?this.activeFile=this.videoFile:e==="audio"&&(this.activeFile=this.audioFile),this.showFilePreview=!this.showFilePreview},async getSpecificAccountItem(){if(this.specificItemDetailsNextPage===null)return;let e,t={account:this.data.owner.account,accountId:this.data.owner.accountId,items:["courses","extracurriculums","classes"],for:"lesson",search:this.searchItemsText};this.specificItemLoading=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemDetailsNextPage}),this.specificItemLoading=!1,e.status?(this.specificItemDetailsNextPage?this.specificItemDetails.push(...e.items):this.specificItemDetails=e.items,e.next?this.specificItemDetailsNextPage+=1:this.specificItemDetailsNextPage=null):console.log("response :>> ",e)},receiveMediaCapture(e){e&&(e.type.includes("image")&&(this.activeFile=this.imageFile=new File([e],"my_picture.png",{type:"image/png",lastModified:new Date})),e.type.includes("video")&&(this.activeFile=this.videoFile=new File([e],"my_video.webm",{type:"video/webm",lastModified:new Date})),e.type.includes("audio")&&(this.activeFile=this.audioFile=new File([e],"my_audio.mp3",{type:"audio/mp3",lastModified:new Date})),this.showFilePreview=!0)},closeMediaCapture(){this.showMediaCapture=!1},clickedCreate(){if(!this.loading){if(!this.data.title.length){this.errorTitle=!0;return}if(!this.imageFile&&!this.videoFile&&!this.audioFile&&!this.mainFiles.length>0){this.errorFile=!0;return}if(this.main)this.createLesson();else{let e=[];e.title=this.data.title,e.description=this.data.description,e.ageGroup=this.data.ageGroup,e.file=this.computedFiles,this.$emit("clickedCreate",e),this.clearData(),this.clearExtraData(),this.$emit("createLessonDisappear")}}},async createLesson(){let e="";if(this.edit?this.data.state.length||(e="extracurriculum requires a state"):this.computedPossibleOwners.length>1&&!this.data.owner.account?e="Please select the owner of this lesson you are creating.":this.data.paymentData!=="free"&&this.data.paymentData===null&&(e="Please enter the required data for the payment."),e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;if(s.append("title",this.data.title),s.append("description",this.data.description),s.append("intro",JSON.stringify(this.data.intro)),s.append("free",JSON.stringify(this.data.free)),s.append("attachments",JSON.stringify(this.data.attachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("paymentType",this.data.paymentType),s.append("paymentData",JSON.stringify(this.data.paymentData)),this.data.discussionData.title.length&&(s.append("discussionData",JSON.stringify(this.data.discussionData)),this.discussionFiles.forEach(o=>{s.append("discussionFile[]",o)})),s.append("items",JSON.stringify(this.data.items.map(o=>({id:o.id,type:o.type,classId:o.classId})))),this.imageFile&&s.append("files[]",this.imageFile),this.videoFile&&s.append("files[]",this.videoFile),this.audioFile&&s.append("files[]",this.audioFile),s.append("paymentData",JSON.stringify(this.data.paymentData)),s.append("account",this.computedAccount.account),s.append("accountId",this.computedAccount.accountId),s.append("owner",this.data.owner.account?this.data.owner.account:this.computedAccount.account),s.append("ownerId",this.data.owner.account?this.data.owner.accountId:this.computedAccount.accountId),s.append("links",JSON.stringify(this.links)),this.edit?(s.append("state",this.data.state),s.append("lessonId",this.data.lessonId),s.append("main",JSON.stringify(this.computedCheckMain)),s.append("removedAttachments",JSON.stringify(this.data.removedAttachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("removedPaymentData",JSON.stringify(this.data.removedPaymentData.map(o=>({type:o.type,id:o.id})))),this.data.mainItems.forEach(o=>{this.data.items.findIndex(n=>n.type===o.type&&n.id===o.id&&n.classId===o.classId)===-1&&this.removedItemsUpdate(o)}),s.append("removedItems",JSON.stringify(this.data.removedItems.map(o=>({type:o.type,id:o.id,classId:o.classId})))),s.append("removedFiles",JSON.stringify(this.removedFiles.map(o=>({id:o.id,type:o.type})))),s.append("removedLinks",JSON.stringify(this.removedLinks.map(o=>({id:o.id})))),s.append("editedLinks",JSON.stringify(this.editedLinks)),t=await this["dashboard/editLesson"](s)):t=await this["dashboard/createLesson"](s),this.loading=!1,t.status){let o=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.title} was successfully ${o}`,this.edit?this.computedCheckMain&&this.$emit("itemSuccessfullyEdited",t.lessonResource):this.clearData(),this.emitter.emit("updateLesson",t.lesson)}else this.issueDangerAlertForResponse(t.response),console.log("response :>> ",t)},clickedAction(e){e==="video"?(this.mediaCaptureType="video",this.showMediaCapture=!0):e==="camera"?(this.mediaCaptureType="image",this.showMediaCapture=!0):e==="microphone"?(this.mediaCaptureType="audio",this.showMediaCapture=!0):e==="upload"&&(this.$refs.inputfile.value="",this.$refs.inputfile.click())},clickedFileType(e){e==="picture"?this.fileAccept="image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp":e==="video"?this.fileAccept="video/webm,video/mp4,video/ogg":e==="audio"&&(this.fileAccept="audio/mpeg,audio/ogg,audio/wav"),this.fileType=e},fileChange(){this.fileType==="picture"?this.activeFile=this.imageFile=this.$refs.inputfile.files[0]:this.fileType==="video"?this.activeFile=this.videoFile=this.$refs.inputfile.files[0]:this.fileType==="audio"&&(this.activeFile=this.audioFile=this.$refs.inputfile.files[0]),this.showFilePreview=!0},removeFile(){this.fileType="",this.showFilePreview=!1,this.clickedBan(this.activeFile)}}},xd=e=>(gs("data-v-5837fb1c"),e=e(),vs(),e),i6={slot:"main"},o6={slot:"input"},a6={key:0,class:"loading"},r6=xd(()=>h("div",{class:"section"},"Lesson Info",-1)),l6={class:"form-edit"},c6={class:"form-edit"},u6={key:1,class:"form-edit"},d6=xd(()=>h("div",{class:"attachment-heading"}," Note: setting a lesson as free or an introduction will be implemented in every course and/or class to which this lesson is added. ",-1)),h6=xd(()=>h("div",{class:"section"},"Lesson Resources",-1)),f6={key:4,class:"info"},m6={key:0,class:"attachment-heading"},p6={key:1,class:"attachments"},g6={key:2,class:"attachment-heading"},v6={key:3,class:"attachments danger"},y6={key:6,class:"attachment-heading"},w6={key:8,class:"info"},_6={class:"files"},b6={key:9,class:"attachment-heading"},k6={class:"actions"},A6=["title"],C6={class:"media-section"},S6={key:0,class:"media-item"},I6=["title"],T6={key:1,class:"media-item"},D6=["title"],x6={key:2,class:"media-item"},P6=["title"],M6=["accept"],E6={key:10,class:"section"},O6=xd(()=>h("div",{class:"section"},"Lesson Attachments",-1)),R6={key:0,class:"attachment-heading"},N6={key:1,class:"attachments"},L6={key:2,class:"attachment-heading"},F6={key:3,class:"attachments danger"},U6={key:13,class:"attachment-heading"},B6={key:14,class:"attachments"},j6=xd(()=>h("div",{class:"attachment-heading p-1"}," add lesson to courses, class' subjects and extracurriculums ",-1)),V6={key:16,class:"class-payment course-classes-section"},q6={key:0,class:"class-wrapper"},H6={key:1,class:"no-data"},W6={key:18,class:"no-data text-center"},z6={key:19,class:"class-wrapper"},G6={key:20,class:"section"},Y6={key:21,class:"attachment-heading"},Q6={key:22,class:"attachments"},K6={key:23,class:"attachment-heading"},J6={key:24,class:"attachments danger"},X6={key:25,class:"attachment-heading"},$6={key:27,class:"section"},Z6={key:29,class:"discussion-preview"},e5={slot:"buttons"};function t5(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("main-select"),A=_("main-checkbox"),D=_("link-badge"),E=_("add-link"),T=_("files-preview-backend"),N=_("font-awesome-icon"),F=_("file-preview"),R=_("fade-up"),j=_("attachment-badge"),W=_("post-attachment"),Q=_("search-input"),le=_("item-badge"),me=_("price-badge"),k=_("payment-types"),Ce=_("post-button"),he=_("welcome-form"),Ke=_("media-capture"),Te=_("main-modal"),Ve=_("just-fade"),ut=_("create-discussion");return a(),d("div",null,[b(Ve,null,{default:z(()=>[e.show?(a(),S(Te,{key:0,show:e.show,mainOther:!1,requests:!1,onMainModalDisappear:n.mainModalDisappear,class:"modal-wrapper"},{default:z(()=>[h("template",i6,[b(he,{class:"welcome-form",title:e.title},{default:z(()=>[h("template",o6,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),e.loading?(a(),d("div",a6,[b(f,{loading:e.loading},null,8,["loading"])])):c("",!0),r6,h("div",l6,[b(m,{placeholder:"lesson title",bottomBorder:!0,error:i.errorTitle,modelValue:e.data.title,"onUpdate:modelValue":t[0]||(t[0]=de=>e.data.title=de)},null,8,["error","modelValue"])]),h("div",c6,[b(v,{type:"text",placeholder:"lesson description",bottomBorder:!0,modelValue:e.data.description,"onUpdate:modelValue":t[1]||(t[1]=de=>e.data.description=de)},null,8,["modelValue"])]),s.main?c("",!0):(a(),d("div",u6,[b(m,{placeholder:"age group",bottomBorder:!0,modelValue:e.data.ageGroup,"onUpdate:modelValue":t[2]||(t[2]=de=>e.data.ageGroup=de)},null,8,["modelValue"])])),e.edit?(a(),S(g,{key:2,items:["pending","accepted","declined","suspended"],value:e.data.state,backgroundColor:"white",onSelection:e.stateSelection,class:"other-input",placeholder:"change state of class"},null,8,["value","onSelection"])):c("",!0),d6,s.main?(a(),d(Z,{key:3},[b(A,{modelValue:e.data.intro,"onUpdate:modelValue":t[3]||(t[3]=de=>e.data.intro=de),label:"set it as an introduction",class:"class-input"},null,8,["modelValue"]),b(A,{modelValue:e.data.free,"onUpdate:modelValue":t[4]||(t[4]=de=>e.data.free=de),label:"should be free",class:"class-input"},null,8,["modelValue"])],64)):c("",!0),h6,s.main?(a(),d("div",f6,"add links to this lesson")):c("",!0),e.edit?(a(),d(Z,{key:5},[i.mainLinks.length?(a(),d("div",m6," current links ")):c("",!0),i.mainLinks.length?(a(),d("div",p6,[(a(!0),d(Z,null,pe(i.mainLinks,(de,We)=>(a(),S(D,{key:We,link:de,class:"class-badge",onClickedLink:n.selectedLinks,onClickedRemoveLink:Qt=>n.removeLink(de,"main")},null,8,["link","onClickedLink","onClickedRemoveLink"]))),128))])):c("",!0),i.removedLinks.length?(a(),d("div",g6," links to be removed ")):c("",!0),i.removedLinks.length?(a(),d("div",v6,[(a(!0),d(Z,null,pe(i.removedLinks,(de,We)=>(a(),S(D,{key:We,link:de,class:"class-badge",onClickedRemoveLink:Qt=>n.removeLink(de,"removed")},null,8,["link","onClickedRemoveLink"]))),128))])):c("",!0)],64)):c("",!0),e.edit&&i.links.length?(a(),d("div",y6," new links ")):c("",!0),s.main?(a(),S(E,{key:7,class:"links-input",editable:i.selectedLink,onLinkAdded:n.getLinks,onEditedLink:n.editedLink,onLinkError:e.error},null,8,["editable","onLinkAdded","onEditedLink","onLinkError"])):c("",!0),b(T,{mainMessage:n.computedMainMessage,files:i.mainFiles,checkLocalFiles:!0,onError:e.error,localFiles:n.computedFiles,onPreviewFiles:n.getPreviewFiles,removedMessage:n.computedRemovedMessage},null,8,["mainMessage","files","onError","localFiles","onPreviewFiles","removedMessage"]),n.computedUploadMessage?(a(),d("div",w6,V(n.computedUploadMessage),1)):c("",!0),h("div",_6,[n.computedShowVideo?(a(),d("div",{key:0,class:we(["file",{active:i.fileType==="video"}]),onClick:t[5]||(t[5]=de=>n.clickedFileType("video"))},"video",2)):c("",!0),n.computedShowAudio?(a(),d("div",{key:1,class:we(["file",{active:i.fileType==="audio"}]),onClick:t[6]||(t[6]=de=>n.clickedFileType("audio"))},"audio",2)):c("",!0),n.computedShowImage?(a(),d("div",{key:2,class:we(["file",{active:i.fileType==="picture"}]),onClick:t[7]||(t[7]=de=>n.clickedFileType("picture"))},"picture",2)):c("",!0)]),n.computedHasLocalFile?(a(),d("div",b6," these are the files to be uploaded ")):c("",!0),h("div",k6,[i.fileType.length?(a(),d("div",{key:0,class:"action",onClick:t[8]||(t[8]=de=>n.clickedAction("upload")),title:`upload ${i.fileType}`},[b(N,{icon:["fa","upload"]})],8,A6)):c("",!0),i.fileType==="video"?(a(),d("div",{key:1,class:"action",onClick:t[9]||(t[9]=de=>n.clickedAction("video")),title:"record a video"},[b(N,{icon:["fa","video"]})])):c("",!0),i.fileType==="picture"?(a(),d("div",{key:2,class:"action",onClick:t[10]||(t[10]=de=>n.clickedAction("camera")),title:"snap a picture"},[b(N,{icon:["fa","camera"]})])):c("",!0),i.fileType==="audio"?(a(),d("div",{key:3,class:"action",onClick:t[11]||(t[11]=de=>n.clickedAction("microphone")),title:"record an audio"},[b(N,{icon:["fa","microphone"]})])):c("",!0)]),h("div",C6,[i.imageFile?(a(),d("div",S6,[h("div",{class:"item-type",onClick:t[12]||(t[12]=de=>n.clickedFile("image"))},[b(N,{icon:["fa","image"]})]),h("div",{class:"item-info",onClick:t[13]||(t[13]=de=>n.clickedFile("image"))},V(i.imageFile.name),1),h("div",{class:"item-clear",onClick:t[14]||(t[14]=de=>n.clickedBan("image")),title:`remove ${i.fileType}`},[b(N,{icon:["fa","ban"]})],8,I6)])):c("",!0),i.videoFile?(a(),d("div",T6,[h("div",{class:"item-type",onClick:t[15]||(t[15]=de=>n.clickedFile("video"))},[b(N,{icon:["fa","film"]})]),h("div",{class:"item-info",onClick:t[16]||(t[16]=de=>n.clickedFile("video"))},V(i.videoFile.name),1),h("div",{class:"item-clear",onClick:t[17]||(t[17]=de=>n.clickedBan("video")),title:`remove ${i.fileType}`},[b(N,{icon:["fa","ban"]})],8,D6)])):c("",!0),i.audioFile?(a(),d("div",x6,[h("div",{class:"item-type",onClick:t[18]||(t[18]=de=>n.clickedFile("audio"))},[b(N,{icon:["fa","music"]})]),h("div",{class:"item-info",onClick:t[19]||(t[19]=de=>n.clickedFile("audio"))},V(i.audioFile.name),1),h("div",{class:"item-clear",onClick:t[20]||(t[20]=de=>n.clickedBan("audio")),title:`remove ${i.fileType}`},[b(N,{icon:["fa","ban"]})],8,P6)])):c("",!0)]),b(R,null,{default:z(()=>[i.showFilePreview?(a(),S(F,{key:0,class:"file-preview",file:i.activeFile,middle:!0,onRemoveFile:n.removeFile},null,8,["file","onRemoveFile"])):c("",!0)]),_:1}),h("input",{type:"file",class:"hidden",onChange:t[21]||(t[21]=(...de)=>n.fileChange&&n.fileChange(...de)),ref:"inputfile",accept:i.fileAccept},null,40,M6),e.computedShowOwnership?(a(),d("div",E6,"Lesson Ownership")):c("",!0),e.computedShowOwnership?(a(),S(g,{key:11,class:"other-input",placeholder:"select owner of this lesson",backgroundColor:"white",objects:e.computedPossibleOwners,value:e.data.owner.name,onSelection:e.ownerSelection},null,8,["objects","value","onSelection"])):c("",!0),O6,e.edit?(a(),d(Z,{key:12},[e.data.mainAttachments.length?(a(),d("div",R6," already attached ")):c("",!0),e.data.mainAttachments.length?(a(),d("div",N6,[(a(!0),d(Z,null,pe(e.data.mainAttachments,(de,We)=>(a(),S(j,{key:We,attachment:de.data,hasClose:!0,onRemoveAttachment:Qt=>e.removeAttachment(de,"main")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.removedAttachments.length?(a(),d("div",L6," to be removed/unattached ")):c("",!0),e.data.removedAttachments.length?(a(),d("div",F6,[(a(!0),d(Z,null,pe(e.data.removedAttachments,(de,We)=>(a(),S(j,{key:We,attachment:de.data,hasClose:!0,onRemoveAttachment:Qt=>e.removeAttachment(de,"removed")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0)],64)):c("",!0),e.edit&&e.data.attachments.length?(a(),d("div",U6," new attachments ")):c("",!0),e.data.attachments.length?(a(),d("div",B6,[(a(!0),d(Z,null,pe(e.data.attachments,(de,We)=>(a(),S(j,{key:We,attachment:de.data,hasClose:!0,onRemoveAttachment:e.removeAttachment},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),b(W,{show:!0,hasSelect:!0,mainSearchItem:e.data.attachmentType,hasClose:!1,onClickedAttachmentSelection:e.attachmentSelected,class:"class-input"},null,8,["mainSearchItem","onClickedAttachmentSelection"]),j6,s.main?(a(),S(Q,{key:15,class:"search-input",placeholder:"search for courses, extracurriculums and classes",onSearch:e.getSearchItemsText},null,8,["onSearch"])):c("",!0),s.main?(a(),d("div",V6,[e.computedSpecificItems.length?(a(),d("div",q6,[(a(!0),d(Z,null,pe(e.computedSpecificItems,(de,We)=>(a(),S(le,{key:We,item:de,type:"class",hasRemove:n.inItemSelection(de),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),!e.specificItemLoading&&!e.computedSpecificItems.length?(a(),d("div",H6,V(`nothing to show for this ${e.data.owner.account}`),1)):c("",!0),b(f,{loading:e.specificItemLoading,size:"12px",class:"loading"},null,8,["loading"])])):c("",!0),e.computedShowGetMore&&s.main?(a(),d("div",{key:17,class:"get-more",onClick:t[22]||(t[22]=(...de)=>n.getSpecificAccountItem&&n.getSpecificAccountItem(...de))}," get more ")):c("",!0),i.selectedClass&&s.main?(a(),d("div",W6,V(`please select any of these ${i.selectedClass.structure?i.selectedClass.structure:"course sections"}`),1)):c("",!0),i.selectedClass&&s.main?(a(),d("div",z6,[(a(!0),d(Z,null,pe(i.selectedClass.items,(de,We)=>(a(),S(le,{key:We,item:de,type:de.type,hasRemove:n.inItemSelection(de),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","type","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),n.computedShowLessonPayment?(a(),d("div",G6,"Payments")):c("",!0),e.data.mainPaymentData.length&&n.computedShowLessonPayment?(a(),d("div",Y6," current payment types ")):c("",!0),e.data.mainPaymentData.length&&s.main?(a(),d("div",Q6,[(a(!0),d(Z,null,pe(e.data.mainPaymentData,(de,We)=>(a(),d("div",{key:We},[de.type==="price"?(a(),S(me,{key:0,data:de,onClickedRemoveData:Qt=>e.clickedRemovePayment(de,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.data.removedPaymentData.length&&s.main?(a(),d("div",K6," payment types to be removed ")):c("",!0),e.data.removedPaymentData.length?(a(),d("div",J6,[(a(!0),d(Z,null,pe(e.data.removedPaymentData,(de,We)=>(a(),d("div",{key:We},[de.type==="price"?(a(),S(me,{key:0,data:de,onClickedRemoveData:Qt=>e.clickedRemovePayment(de,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.edit&&e.data.paymentData?(a(),d("div",X6," new payment types ")):c("",!0),!e.data.free&&!e.data.intro&&s.main?(a(),S(k,{key:26,onPaymentType:e.getPaymentType,type:e.paymentType,radioValue:e.data.paymentType,class:"other-input",onPaymentTypeError:e.error},null,8,["onPaymentType","type","radioValue","onPaymentTypeError"])):c("",!0),n.computedShowDiscussion?(a(),d("div",$6,"Discussion")):c("",!0),n.computedShowDiscussion&&!e.data.discussionData.title.length?(a(),S(A,{key:28,modelValue:e.data.discussion,"onUpdate:modelValue":t[23]||(t[23]=de=>e.data.discussion=de),label:"automatically add a discussion?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.data.discussionData.title.length?(a(),d("div",Z6,[b(le,{type:"discussion",item:e.data.discussionData,hasRemove:!0,onClickedRemoveItem:e.clearDiscussionData},null,8,["item","onClickedRemoveItem"])])):c("",!0)]),h("template",e5,[b(Ce,{buttonText:e.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"]),i.activeFile?(a(),S(Ce,{key:0,buttonText:"close preview",buttonStyle:"success",onClick:n.clickedClosePreview},null,8,["onClick"])):c("",!0)])]),_:1},8,["title"]),i.showMediaCapture?(a(),S(Ke,{key:0,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receiveMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0)])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1}),e.data.discussion&&s.main?(a(),S(ut,{key:0,show:e.data.discussion,edit:e.edit,auto:!0,onClickedCreate:e.getDiscussionData,onCreateDiscussionDisappear:e.closeDiscussionModal},null,8,["show","edit","onClickedCreate","onCreateDiscussionDisappear"])):c("",!0)])}const gv=Ae(n6,[["render",t5],["__scopeId","data-v-5837fb1c"]]),s5={props:{heading:{type:String,default:""},options:{type:Array,default(){return[]}},scoredOver:{type:String,default:"5"},title:{type:String,default:""},author:{type:String,default:""},hasScore:{type:Boolean,default:!1},hasFile:{type:Boolean,default:!1},body:{type:String,default:""},file:{type:File}},components:{BlackWhiteBadge:Ad,FadeLeft:Bf,FilePreview:Lo},data(){return{showBadge:!1}},methods:{clicked(){this.$emit("clickedBadge")}}},n5={class:"remove"},i5={class:"main"},o5={class:"heading"},a5={key:0,class:"author"},r5={key:1,class:"title"},l5={key:2,class:"body"},c5={key:0,class:"options"},u5={key:1,class:"scored-over"},d5={class:"score"},h5={key:3,class:"file"};function f5(e,t,s,o,i,n){const r=_("black-white-badge"),f=_("fade-left"),m=_("file-preview");return a(),d("div",{class:"main-preview-wrapper",onMouseover:t[0]||(t[0]=v=>i.showBadge=!0),onMouseleave:t[1]||(t[1]=v=>i.showBadge=!1)},[h("div",n5,[b(f,null,{default:z(()=>[i.showBadge?(a(),S(r,{key:0,text:"remove",onClick:n.clicked},null,8,["onClick"])):c("",!0)]),_:1})]),h("div",i5,[h("div",o5,V(s.heading),1),s.author.length>0?(a(),d("div",a5,V(s.title),1)):c("",!0),s.title.length>0?(a(),d("div",r5,V(s.title),1)):c("",!0),s.body.length>0?(a(),d("div",l5,[Mt(V(s.body)+" ",1),s.options.length?(a(),d("div",c5,[(a(!0),d(Z,null,pe(s.options,(v,g)=>(a(),d("div",{class:"option",key:g},V(v),1))),128))])):c("",!0),s.hasScore?(a(),d("div",u5,[Mt(" scored over "),h("div",d5,V(s.scoredOver),1)])):c("",!0)])):c("",!0),s.hasFile?(a(),d("div",h5,[b(m,{showRemove:!1,file:s.file},null,8,["file"])])):c("",!0)])],32)}const m5=Ae(s5,[["render",f5],["__scopeId","data-v-e477815d"]]),p5={components:{MediaCapture:Rl,ValidationError:mg,ProfileBar:oi,AttachmentBadge:vo,MainPreview:m5,MainTextarea:dr,PostAttachment:go,ProfilePicture:Ys,FadeRight:ma,JustFade:uo,CreateLesson:gv,CreatePost:mv,FilePreview:Lo,PostButton:xs},data(){return{alertMessage:"",alertSuccess:!1,alertError:!1,clearActive:!1,loading:!1,textareaContent:"",error:"",imageType:"image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp",videoType:"video/webm,video/mp4,video/ogg",audioType:"audio/mpeg,audio/ogg,audio/wav",file:null,clickedButton:"",showValidation:!1,showPreview:!1,showModal:!1,formType:"",files:null,textPlaceholder:"do you have anything in mind?",showMainPreview:!1,mainPreviewData:[],postAttachments:[],hasPreviewFile:!1,showProfiles:!1,previewType:"",uploadType:"",account:"",accountId:null,showLessonModal:!1,showPostButton:!1,showAddAttachments:!1,showTextareaContent:!0,showSpecifyUpload:!1,showMediaCapture:!1}},watch:{formType:{immediate:!0,handler(e){this.showPostButton=!1,e==="lesson"?this.showLessonModal=!0:e&&e!==""&&(this.showTextareaContent=!0,this.showModal=!0,this.removeFile(),this.removePreview())}},alertMessage:{immediate:!0,handler(e){e.length&&setTimeout(()=>{this.alertMessage="",this.alertSuccess=!1,this.alertError=!1},3e3)}}},computed:{...os(["getProfiles","getActiveProfile","profile/getActiveProfile"]),computedPost(){return!!(this.textareaContent!==""||this.file||this.showPostButton||this.mainPreviewData&&this.mainPreviewData.hasOwnProperty("published"))},computedRoute(){return Ns()},computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedProfileUrl(){return this["profile/getActiveProfile"]?this["profile/getActiveProfile"].url:this.getActiveProfile?this.getActiveProfile.url:""},computedFile(){return typeof this.file===File?this.file:new File(["foo"],"foo.txt",{type:"text/plain"})},computedPreviewFile(){return this.mainPreviewData&&this.mainPreviewData.file?this.mainPreviewData.file[0]:{}},computedPreviewTitle(){return this.mainPreviewData&&(this.previewType==="book"||this.previewType==="lesson"||this.previewType==="poem")?this.mainPreviewData.title:""},computedPreviewHeading(){return this.mainPreviewData?this.previewType:""},computedPreviewBody(){if(this.mainPreviewData){if(this.previewType==="book")return this.mainPreviewData.about;if(this.previewType==="poem")return this.mainPreviewData.sections[0];if(this.previewType==="question")return this.mainPreviewData.body;if(this.previewType==="activity")return this.mainPreviewData.description;if(this.previewType==="riddle")return this.mainPreviewData.body;if(this.previewType==="lesson")return ns.trim(this.mainPreviewData.description)}},computedScore(){if(this.computedHasScore)return this.mainPreviewData.score},computedHasScore(){return!!(this.mainPreviewData&&(this.previewType=="question"||this.previewType==="riddle"))},computedPreviewOptions(){if(this.mainPreviewData&&this.previewType=="question"&&this.mainPreviewData.hasOwnProperty("possibleAnswers"))return this.mainPreviewData.possibleAnswers},computedPreviewAuthor(){return this.mainPreviewData?this.mainPreviewData.author:""}},methods:{...ss(["profile/createPost"]),attachmentSelected(e){this.postAttachments.findIndex(s=>s.type===e.type&&s.data.id===e.data.id)===-1&&this.postAttachments.push(e)},clickedRemoveAttachment(e){let t=this.postAttachments.findIndex(s=>s.type===e.type&&s.data.id===e.data.id);t>-1&&this.postAttachments.splice(t,1)},hidePostAttachment(){this.showAddAttachments=!1,this.uploadType=""},clickedClearActive(){this.showPostButton=!1,this.showAddAttachments=!1,this.formType="",this.textareaContent="",this.file=null,this.account="",this.accountId="",this.showPostButton=!1,this.postAttachments=[],this.removePreview()},clickedProfile(e){this.accountId=e.accountId,this.account=e.account,this.showProfiles=!1,this.createPost()},removePreview(){this.showMainPreview=!1,this.hasPreviewFile=!1,this.previewType="",this.mainPreviewData=[]},clickedCreate(e){this.mainPreviewData=e,this.previewType=this.formType,this.showMainPreview=!0,this.hasPreviewFile=!0,this.closeCreatePost()},closeCreatePost(){this.showModal=!1,this.formType=""},removeFile(){this.file=null,this.clickedButton="",this.showPreview=!1},clickedCreatePost(){this.computedProfiles.length>1&&this.computedRoute.name==="home"?(this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},5e3)):this.computedProfiles.length===1&&this.computedRoute.name==="home"?(this.account=this.computedProfiles[0].account,this.accountId=this.computedProfiles[0].accountId,this.createPost()):(this.accountId=null,this.createPost())},clickedCreateLesson(e){this.mainPreviewData=e,this.previewType=this.formType,this.showMainPreview=!0,this.hasPreviewFile=!0,this.showPostButton=!0,this.textareaContent="",this.showTextareaContent=!1},closeCreateLesson(){this.showLessonModal=!1,this.formType=""},async createPost(){this.loading=!0;let e=new FormData;this.file?e.append("file",this.file):(this.previewType!==""&&(e.append("type",this.previewType),(this.mainPreviewData&&this.mainPreviewData.file&&this.mainPreviewData.file.length>0||this.previewType!=="lesson")&&this.mainPreviewData.file.forEach(s=>{s&&e.append("typeFiles[]",s)})),this.previewType==="book"?(e.append("title",this.mainPreviewData.title),e.append("authorNames",this.mainPreviewData.authorNames),e.append("about",this.mainPreviewData.about),e.append("published",this.mainPreviewData.published)):this.previewType==="poem"?(e.append("title",this.mainPreviewData.title),e.append("authorNames",this.mainPreviewData.authorNames),e.append("about",this.mainPreviewData.about),e.append("sections",JSON.stringify(this.mainPreviewData.sections)),e.append("published",this.mainPreviewData.published)):this.previewType==="riddle"?(e.append("authorNames",this.mainPreviewData.authorNames),e.append("body",this.mainPreviewData.body),e.append("scoreOver",this.mainPreviewData.scoreOver),e.append("published",this.mainPreviewData.published)):this.previewType==="question"?(e.append("body",this.mainPreviewData.body),e.append("scoreOver",this.mainPreviewData.scoreOver),this.mainPreviewData.hasOwnProperty("possibleAnswers")&&e.append("possibleAnswers",JSON.stringify(this.mainPreviewData.possibleAnswers)),e.append("published",this.mainPreviewData.published)):this.previewType==="activity"?(e.append("description",this.mainPreviewData.description),e.append("published",this.mainPreviewData.published)):this.previewType==="lesson"&&(e.append("description",this.mainPreviewData.description),e.append("title",this.mainPreviewData.title),e.append("ageGroup",this.mainPreviewData.ageGroup),this.mainPreviewData.file&&this.mainPreviewData.file.length&&this.mainPreviewData.file.forEach(s=>{s&&e.append("typeFiles[]",s)}))),this.postAttachments.length&&e.append("attachments",JSON.stringify(this.postAttachments.map(s=>({attachable:s.type.slice(0,s.type.length-1),attachableId:s.data.id})))),this.accountId?(e.append("account",this.account),e.append("accountId",this.accountId)):(e.append("account",this.computedRoute.params.account),e.append("accountId",this.computedRoute.params.accountId)),e.append("content",this.textareaContent);let t=await this["profile/createPost"]({formData:e,where:this.computedRoute.name});this.loading=!1,t!=="unsuccessful"?(this.alertSuccess=!0,this.alertMessage="post created successfully"):(this.alertError=!0,this.alertMessage="post creation failed"),this.clickedClearActive()},clearValidation(){this.error="",this.showValidation=!1},clickFile(e){if(this.clickedButton=e,this.showPreview=!1,this.uploadType=e,e==="attachment"){this.showAddAttachments=!this.showAddAttachments;return}this.showSpecifyUpload=!0,setTimeout(()=>{this.uploadType="",this.showSpecifyUpload=!1},4e3)},clickedUpload(){this.uploadType==="image"?this.$refs.file.setAttribute("accept",this.imageType):this.uploadType==="video"?this.$refs.file.setAttribute("accept",this.videoType):this.uploadType==="audio"&&this.$refs.file.setAttribute("accept",this.audioType),this.$refs.file.click()},clickedMediaCapture(e){this.showMediaCapture=!0},receiveMediaCapture(e){e.type.includes("image")?this.file=new File([e],"my_picture.png",{type:"image/png",lastModified:new Date}):e.type.includes("video")?this.file=new File([e],"my_video.webm",{type:"video/webm",lastModified:new Date}):e.type.includes("audio")&&(this.file=new File([e],"my_audio.mp3",{type:"audio/mp3",lastModified:new Date}))},closeMediaCapture(){this.uploadType="",this.showMediaCapture=!1},fileChange(e){let t=e.target.files[0];this.error="",this.showValidation=!1,this.showPreview=!0,this.clickedButton==="image"?this.imageType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`):this.clickedButton==="video"?this.videoType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`):this.clickedButton==="audio"&&(this.audioType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`)),this.uploadType="",e.target.value=""}}},qf=e=>(gs("data-v-8196b29f"),e=e(),vs(),e),g5={class:"post-create-section"},v5={class:"activity-post"},y5={class:"messaging"},w5={key:0,class:"loading"},_5={class:"post-top"},b5={class:"post-top-main"},k5={key:4,class:"upload-type"},A5={class:"icon"},C5={class:"icon-text"},S5={class:"icon"},I5=qf(()=>h("div",{class:"icon-text"}," capture image ",-1)),T5={class:"icon"},D5=qf(()=>h("div",{class:"icon-text"}," record video ",-1)),x5={class:"icon"},P5=qf(()=>h("div",{class:"icon-text"}," record audio ",-1)),M5={slot:"transition"},E5={key:1,class:"profiles"},O5=qf(()=>h("span",null," post as ",-1)),R5={class:"post-middle"},N5={class:"post-picture"},L5={slot:"image"},F5=["src"],U5={class:"post-textarea"},B5={key:0,class:"error"},j5={class:"post-bottom"},V5={class:"attachments-section"};function q5(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("font-awesome-icon"),m=_("post-button"),v=_("fade-right"),g=_("profile-bar"),A=_("profile-picture"),D=_("main-textarea"),E=_("file-preview"),T=_("just-fade"),N=_("main-preview"),F=_("validation-error"),R=_("attachment-badge"),j=_("post-attachment"),W=_("create-post"),Q=_("create-lesson"),le=_("media-capture");return a(),d("div",g5,[h("div",v5,[h("div",y5,[i.loading?(a(),d("div",w5,[b(r,{loading:i.loading},null,8,["loading"])])):c("",!0),i.alertMessage.length?(a(),d("div",{key:1,class:we(["alert-message",{success:i.alertSuccess,error:i.alertError}])},V(i.alertMessage),3)):c("",!0)]),h("div",_5,[n.computedPost?(a(),d("div",{key:0,class:we(["clear",{clearActive:i.clearActive}]),onClick:t[0]||(t[0]=(...me)=>n.clickedClearActive&&n.clickedClearActive(...me))}," clear ",2)):c("",!0),h("div",b5,[i.mainPreviewData.length===0?(a(),d("div",{key:0,class:we(["icons",{active:i.uploadType==="attachment"}]),onClick:t[1]||(t[1]=Vt(me=>n.clickFile("attachment"),["prevent"])),title:"attach a subject, grade, program, etc"},[b(f,{icon:["fa","paperclip"]})],2)):c("",!0),i.mainPreviewData.length===0?(a(),d("div",{key:1,class:we(["icons",{active:i.uploadType==="image"}]),onClick:t[2]||(t[2]=Vt(me=>n.clickFile("image"),["prevent"])),title:"upload an image"},[b(f,{icon:["fa","file-image"]})],2)):c("",!0),i.mainPreviewData.length===0?(a(),d("div",{key:2,class:we(["icons",{active:i.uploadType==="video"}]),onClick:t[3]||(t[3]=Vt(me=>n.clickFile("video"),["prevent"])),title:"upload a video"},[b(f,{icon:["fa","file-video"]})],2)):c("",!0),i.mainPreviewData.length===0?(a(),d("div",{key:3,class:we(["icons",{active:i.uploadType==="audio"}]),onClick:t[4]||(t[4]=Vt(me=>n.clickFile("audio"),["prevent"])),title:"upload an audio"},[b(f,{icon:["fa","file-audio"]})],2)):c("",!0),i.uploadType!==""&&i.uploadType!=="attachment"?(a(),d("div",k5,[h("div",{class:"upload-item",onClick:t[5]||(t[5]=(...me)=>n.clickedUpload&&n.clickedUpload(...me))},[h("div",A5,[b(f,{icon:["fa","upload"]})]),h("div",C5,V(`upload ${i.uploadType} file`),1)]),i.uploadType==="image"?(a(),d("div",{key:0,class:"upload-item",onClick:t[6]||(t[6]=me=>n.clickedMediaCapture("image"))},[h("div",S5,[b(f,{icon:["fa","camera"]})]),I5])):c("",!0),i.uploadType==="video"?(a(),d("div",{key:1,class:"upload-item",onClick:t[7]||(t[7]=me=>n.clickedMediaCapture("video"))},[h("div",T5,[b(f,{icon:["fa","video"]})]),D5])):c("",!0),i.uploadType==="audio"?(a(),d("div",{key:2,class:"upload-item",onClick:t[8]||(t[8]=me=>n.clickedMediaCapture("audio"))},[h("div",x5,[b(f,{icon:["fa","microphone"]})]),P5])):c("",!0)])):c("",!0)]),b(v,null,{default:z(()=>[h("template",M5,[n.computedPost?(a(),S(m,{key:0,buttonText:"post",onClick:n.clickedCreatePost},null,8,["onClick"])):c("",!0)])]),_:1}),i.showProfiles?(a(),d("div",E5,[O5,(a(!0),d(Z,null,pe(n.computedProfiles,(me,k)=>(a(),d("div",{key:k},[b(g,{smallType:!0,profile:me,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)]),h("div",R5,[h("div",N5,[b(A,null,{default:z(()=>[h("template",L5,[h("img",{src:n.computedProfileUrl},null,8,F5)])]),_:1})]),h("div",U5,[i.showTextareaContent?(a(),S(D,{key:0,textPlaceholder:i.textPlaceholder,modelValue:i.textareaContent,"onUpdate:modelValue":t[9]||(t[9]=me=>i.textareaContent=me)},null,8,["textPlaceholder","modelValue"])):c("",!0),b(T,null,{default:z(()=>[i.showPreview?(a(),S(E,{key:0,show:i.showPreview,file:i.file,onRemoveFile:n.removeFile},null,8,["show","file","onRemoveFile"])):c("",!0)]),_:1}),b(T,null,{default:z(()=>[i.showMainPreview?(a(),S(N,{key:0,onClickedBadge:n.removePreview,file:n.computedPreviewFile,body:n.computedPreviewBody,options:n.computedPreviewOptions,hasScore:n.computedHasScore,scoredOver:n.computedScore,title:n.computedPreviewTitle,heading:n.computedPreviewHeading,hasFile:i.hasPreviewFile},null,8,["onClickedBadge","file","body","options","hasScore","scoredOver","title","heading","hasFile"])):c("",!0)]),_:1})]),i.showValidation?(a(),d("div",B5,[b(F,{errorString:i.error,onClearValidation:n.clearValidation},null,8,["errorString","onClearValidation"])])):c("",!0)]),h("input",{type:"file",ref:"file",onChange:t[10]||(t[10]=(...me)=>n.fileChange&&n.fileChange(...me)),class:"hidden"},null,544),h("div",j5,[b(m,{buttonText:"L",onClick:t[11]||(t[11]=me=>i.formType="lesson"),active:i.formType==="lesson",titleText:"share a lesson"},null,8,["active"]),b(m,{buttonText:"B",onClick:t[12]||(t[12]=me=>i.formType="book"),active:i.formType==="book",titleText:"post a book"},null,8,["active"]),b(m,{buttonText:"R",onClick:t[13]||(t[13]=me=>i.formType="riddle"),titleText:"post a riddle",active:i.formType==="riddle"},null,8,["active"]),b(m,{buttonText:"P",onClick:t[14]||(t[14]=me=>i.formType="poem"),active:i.formType==="poem",titleText:"post a poem"},null,8,["active"]),b(m,{buttonText:"Q",onClick:t[15]||(t[15]=me=>i.formType="question"),active:i.formType==="question",titleText:"post a question"},null,8,["active"]),b(m,{buttonText:"A",onClick:t[16]||(t[16]=me=>i.formType="activity"),active:i.formType==="activity",titleText:"post an activity"},null,8,["active"])]),h("div",V5,[(a(!0),d(Z,null,pe(i.postAttachments,(me,k)=>(a(),S(R,{key:k,hasClose:!0,attachment:me.data,type:me.type,onRemoveAttachment:n.clickedRemoveAttachment},null,8,["attachment","type","onRemoveAttachment"]))),128))]),b(T,null,{default:z(()=>[i.showAddAttachments?(a(),S(j,{key:0,show:i.showAddAttachments,hasSelect:!0,onClickedAttachmentSelection:n.attachmentSelected,onHidePostAttachment:n.hidePostAttachment},null,8,["show","onClickedAttachmentSelection","onHidePostAttachment"])):c("",!0)]),_:1})]),b(T,null,{default:z(()=>[i.showModal?(a(),S(W,{key:0,type:i.formType,showForm:i.showModal,onMainModalDisappear:n.closeCreatePost,onClickedCreate:n.clickedCreate},null,8,["type","showForm","onMainModalDisappear","onClickedCreate"])):c("",!0)]),_:1}),b(Q,{show:i.showLessonModal,onCreateLessonDisappear:n.closeCreateLesson,onClickedCreate:n.clickedCreateLesson},null,8,["show","onCreateLessonDisappear","onClickedCreate"]),i.showMediaCapture?(a(),S(le,{key:0,show:i.showMediaCapture,type:i.uploadType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receiveMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0)])}const iA=Ae(p5,[["render",q5],["__scopeId","data-v-8196b29f"]]),H5={methods:{askLoginRegister(){this.$emit("askLoginRegister","PostCreateAlt")}}},W5=e=>(gs("data-v-23fae000"),e=e(),vs(),e),z5=W5(()=>h("div",null,"create a post",-1)),G5=[z5];function Y5(e,t,s,o,i,n){return a(),d("div",{class:"create-alt-wrapper",onClick:t[0]||(t[0]=(...r)=>n.askLoginRegister&&n.askLoginRegister(...r))},G5)}const Q5=Ae(H5,[["render",Y5],["__scopeId","data-v-23fae000"]]),K5={props:{dataTransfer:{type:Object,default(){return{}}},drag:{type:Boolean,default:!0},effectAllowed:{type:String,default:"move"},dropEffect:{type:String,default:"move"}},methods:{dragStart(e){this.drag&&(e.dataTransfer.effectAllowed=this.effectAllowed,e.dataTransfer.dropEffect=this.dropEffect,e.dataTransfer.setData("data",JSON.stringify(this.dataTransfer)))}}},J5=["draggable"];function X5(e,t,s,o,i,n){return a(),d("div",{draggable:s.drag,onDragover:t[0]||(t[0]=Vt(()=>{},["prevent"])),onDragenter:t[1]||(t[1]=Vt(()=>{},["prevent"])),onDragstart:t[2]||(t[2]=Vt(r=>n.dragStart(r),["self","stop"]))},[Jt(e.$slots,"default")],40,J5)}const oA=Ae(K5,[["render",X5]]),$5={props:{dataTransfer:{type:Object,default(){return{}}}},methods:{drop(e){if(!e.dataTransfer.getData("data"))return;let t={...JSON.parse(e.dataTransfer.getData("data")),...this.dataTransfer};this.$emit("drop",t)}}};function Z5(e,t,s,o,i,n){return a(),d("div",{onDragover:t[0]||(t[0]=Vt(()=>{},["prevent"])),onDragenter:t[1]||(t[1]=Vt(()=>{},["prevent"])),onDrop:t[2]||(t[2]=Vt(r=>n.drop(r),["stop"]))},[Jt(e.$slots,"default")],32)}const Pd=Ae($5,[["render",Z5]]),eU={components:{DroppableComponent:Pd,DraggableComponent:oA,MainCheckbox:Vi},props:{possibleAnswer:{type:Object,default(){return null}},correctPossibleAnswers:{type:Array,default(){return[]}},autoMark:{type:Boolean,default:!1},answering:{type:Boolean,default:!1},marking:{type:Boolean,default:!1},drag:{type:Boolean,default:!0},removed:{type:Boolean,default:!1},answerType:{type:String,default:""},possibleAnswerIndex:{type:String|Number,default:null},possibleAnswersLength:{type:String|Number,default:null}},data(){return{correct:!1}},watch:{correct(e){e?this.$emit("possibleAnswerIsCorrect",this.possibleAnswer):this.$emit("possibleAnswerIsWrong",this.possibleAnswer)},correctPossibleAnswers:{immediate:!0,handler(e){if((this.computedTrueOrFalse||this.computedOption)&&e.length){if(this.isCorrectTrueOrFalse(e)||this.isCorrectOption(e)){this.correct=!0;return}this.correct=!1}}}},computed:{computedTrueOrFalse(){return this.answerType.toLowerCase().includes("true")},computedOption(){return this.answerType.toLowerCase().includes("option")},computedArrange(){return this.answerType.toLowerCase().includes("arrange")},computedFlow(){return this.answerType.toLowerCase().includes("flow")},computedPosition(){return ns.getNumberLetter(this.possibleAnswer.position)},computedCanUpdateCorrect(){return this.autoMark&&!this.removed||this.answering},computedClasses(){return this.$vnode.data.staticClass?this.$vnode.data.staticClass:""}},methods:{movePossibleAnswer(e){this.$emit("movePossibleAnswer",e)},editPossibleAnswer(){this.$emit("editPossibleAnswer",this.possibleAnswer)},isCorrectTrueOrFalse(e){return this.computedTrueOrFalse&&e[0].option===this.possibleAnswer.option},isCorrectOption(e){return this.computedOption&&e[0].id===this.possibleAnswer.id},clickedUpdateCorrect(){this.answering&&(this.correct=!this.correct)},nodeClassHas(e){return this.computedClasses.includes(e)}}},tU={key:0,class:"list-identifier"},sU={class:"item"},nU={key:0,class:"list-identifier"},iU={class:"item"},oU={key:2,class:"arrange p-2.5"},aU={key:0,class:"list-identifier"},rU={class:"item"},lU={key:3,class:"flow"},cU={class:"item"},uU={key:0,class:"list-identifier"};function dU(e,t,s,o,i,n){const r=_("main-checkbox"),f=_("droppable-component"),m=_("draggable-component");return a(),S(m,{dataTransfer:{fromPossibleAnswerIndex:s.possibleAnswerIndex,removed:s.removed},drag:s.drag},{default:z(()=>[b(f,{onDrop:n.movePossibleAnswer,dataTransfer:{toPossibleAnswerIndex:s.possibleAnswerIndex}},{default:z(()=>[s.possibleAnswer?(a(),d("div",{key:0,class:we(["possible-answer-badge-wrapper",{correct:s.possibleAnswer.correct,removed:s.removed,"no-drag":!s.drag}]),onDblclick:t[4]||(t[4]=(...v)=>n.editPossibleAnswer&&n.editPossibleAnswer(...v))},[n.computedOption?(a(),d("div",{key:0,class:we(["option",[n.nodeClassHas("p-")?"":"p-2.5 pl-0"]]),onClick:t[1]||(t[1]=(...v)=>n.clickedUpdateCorrect&&n.clickedUpdateCorrect(...v))},[!s.removed&&!s.marking?(a(),d("div",tU,V(n.computedPosition),1)):c("",!0),h("div",sU,V(s.possibleAnswer.option),1),n.computedCanUpdateCorrect?(a(),S(r,{key:1,small:!0,modelValue:i.correct,"onUpdate:modelValue":t[0]||(t[0]=v=>i.correct=v),label:"",title:"check if this is the correct answer",class:"checkbox"},null,8,["modelValue"])):c("",!0)],2)):c("",!0),n.computedTrueOrFalse?(a(),d("div",{key:1,class:we(["true-false",[n.nodeClassHas("p-")?"":"p-2.5 pl-0"]]),onClick:t[3]||(t[3]=(...v)=>n.clickedUpdateCorrect&&n.clickedUpdateCorrect(...v))},[s.marking?c("",!0):(a(),d("div",nU)),h("div",iU,V(s.possibleAnswer.option),1),n.computedCanUpdateCorrect?(a(),S(r,{key:1,small:!0,modelValue:i.correct,"onUpdate:modelValue":t[2]||(t[2]=v=>i.correct=v),label:"",title:"check if this is the correct answer",class:"checkbox"},null,8,["modelValue"])):c("",!0)],2)):c("",!0),n.computedArrange?(a(),d("div",oU,[s.removed?c("",!0):(a(),d("div",aU)),h("div",rU,V(s.possibleAnswer.option),1)])):c("",!0),n.computedFlow?(a(),d("div",lU,[h("div",cU,V(s.possibleAnswer.option),1),s.possibleAnswer.position!==s.possibleAnswersLength&&!s.removed?(a(),d("div",uU)):c("",!0)])):c("",!0)],34)):c("",!0)]),_:1},8,["onDrop","dataTransfer"])]),_:1},8,["dataTransfer","drag"])}const Hf=Ae(eU,[["render",dU],["__scopeId","data-v-c06b2f86"]]),hU={components:{TextInput:js,PossibleAnswerBadge:Hf,DroppableComponent:Pd,GreyButton:Nl},props:{answerType:{type:String,default:""},autoMark:{type:Boolean,default:!1},correctPossibleAnswers:{type:Array,default(){return[]}},possibleAnswers:{type:Array,default(){return[]}},removedPossibleAnswers:{type:Array,default(){return[]}}},mixins:[Cd],data(){return{data:{id:"",option:"",position:""},showCorrectAnswer:!1}},watch:{computedTrueOrFalse(e){e&&this.askIfTrueOrFalse()}},mounted(){this.emitter.on("scrollToPossibleAnswerForm",()=>{this.scrollToForm()})},computed:{computedShowOptionTextInput(){return this.answerType.length&&this.answerType!=="true_false"},computedOptionPlaceholder(){return this.answerType==="option"?this.answerType:this.answerType==="arrange"?"arrangeable item":this.answerType==="flow"?"flowable item":""},computedTrueOrFalse(){return this.data.option.trim()==="true"||this.data.option.trim()==="false"},computedHasData(){return this.data.option.length},computedMessage(){return this.possibleAnswers.length<2?"":this.answerType==="true_false"||this.answerType==="option"?"a selection will be made among these options":this.answerType==="arrange"?"these options must be arranged vertically":this.answerType==="flow"?"these options must be arranged vertically with arrows":""},computedAutoMarkMessage(){if(!this.autoMark||!this.computedMessage.length)return"";let e=this.answerType==="true_false"||this.answerType==="option"?". check the box of the correct answer":this.answerType==="arrange"||this.answerType==="flow"?'. put in correct order and click the "set as correct" button. then re-order.':"";return e+=`
 Note: what you set as correct will be used to automatically mark answers`,e},computedSetCorrect(){return this.answerType==="arrange"||this.answerType==="flow"},computedShowCorrectAnswerButtonText(){return this.showCorrectAnswer?"hide correct answer":"show correct answer"}},methods:{removePossibleAnswer(e){this.$emit("removePossibleAnswer",e)},editPossibleAnswer(e){this.setAssessmentSectionQuestionPossibleAnswer(e)},setAssessmentSectionQuestionPossibleAnswer(e){this.data.id=e.id,this.data.option=e.option,this.data.position=e.position},clickedSetCorrect(){this.$emit("answersInCorrectAnswer")},addPossibleAnswer(){if(this.computedHasData){if(this.data.id){this.$emit("updatePossibleAnswer",{id:this.data.id,option:this.data.option.trim(),position:this.data.position}),this.clearPossibleAnswerData();return}this.$emit("addPossibleAnswer",{id:Math.ceil(Math.random()*-1e3),option:this.data.option.trim(),position:null}),this.clearPossibleAnswerData()}},clearPossibleAnswerData(){this.data.id="",this.data.option="",this.data.position=""},scrollToForm(){this.$refs.possibleanswersform&&setTimeout(()=>{this.$refs.possibleanswersform.scrollIntoView()},100)},movePossibleAnswer(e){this.$emit("movePossibleAnswer",e)},possibleAnswerIsCorrect(e){this.$emit("possibleAnswerIsCorrect",e)},possibleAnswerIsWrong(e){this.$emit("possibleAnswerIsWrong",e)}}},aA=e=>(gs("data-v-7d781121"),e=e(),vs(),e),fU={class:"possible-answer-form",ref:"possibleanswersform"},mU={class:"main"},pU={class:"answers",id:"answers"},gU={key:0,class:"message"},vU={class:"correct-buttons"},yU={key:1,class:"correct-order"},wU=["textContent"],_U={class:"possible-answers-form"},bU=aA(()=>h("div",{class:"section"},"Answer Info",-1)),kU={class:"trash-area",title:"drop an option here to have it removed"},AU={class:"trash"},CU=aA(()=>h("div",{class:"message"},"remove option by dropping it here",-1));function SU(e,t,s,o,i,n){const r=_("possible-answer-badge"),f=_("droppable-component"),m=_("grey-button"),v=_("text-input"),g=_("font-awesome-icon"),A=_("pop-up");return a(),d("div",fU,[h("div",mU,[b(f,{onDrop:n.movePossibleAnswer},{default:z(()=>[h("div",pU,[(a(!0),d(Z,null,pe(s.possibleAnswers,(D,E)=>(a(),S(r,{key:E,possibleAnswerIndex:E,answerType:s.answerType,autoMark:s.autoMark,possibleAnswer:D,correctPossibleAnswers:s.correctPossibleAnswers,possibleAnswersLength:s.possibleAnswers.length,onMovePossibleAnswer:n.movePossibleAnswer,onEditPossibleAnswer:n.editPossibleAnswer,onPossibleAnswerIsCorrect:n.possibleAnswerIsCorrect,onPossibleAnswerIsWrong:n.possibleAnswerIsWrong},null,8,["possibleAnswerIndex","answerType","autoMark","possibleAnswer","correctPossibleAnswers","possibleAnswersLength","onMovePossibleAnswer","onEditPossibleAnswer","onPossibleAnswerIsCorrect","onPossibleAnswerIsWrong"]))),128))])]),_:1},8,["onDrop"]),n.computedMessage.length?(a(),d("div",gU,V(`${n.computedMessage} ${n.computedAutoMarkMessage}`),1)):c("",!0),h("div",vU,[n.computedAutoMarkMessage.length&&n.computedSetCorrect?(a(),S(m,{key:0,class:"correct",text:"set as correct",onClickedAction:n.clickedSetCorrect},null,8,["onClickedAction"])):c("",!0),s.correctPossibleAnswers.length?(a(),S(m,{key:1,class:"correct",text:n.computedShowCorrectAnswerButtonText,onClickedAction:t[0]||(t[0]=D=>i.showCorrectAnswer=!i.showCorrectAnswer)},null,8,["text"])):c("",!0)]),i.showCorrectAnswer?(a(),d("div",yU,[(a(!0),d(Z,null,pe(s.correctPossibleAnswers,(D,E)=>(a(),d("div",{class:"item",key:E,textContent:V(D.option)},null,8,wU))),128))])):c("",!0),cn(h("div",_U,[bU,b(v,{bottomBorder:!0,placeholder:`enter ${n.computedOptionPlaceholder}*`,modelValue:i.data.option,"onUpdate:modelValue":t[1]||(t[1]=D=>i.data.option=D),class:"other-input",onKeyupenter:n.addPossibleAnswer},null,8,["placeholder","modelValue","onKeyupenter"]),n.computedHasData?(a(),d("div",{key:0,class:"add",title:"add possible answer",onClick:t[2]||(t[2]=(...D)=>n.addPossibleAnswer&&n.addPossibleAnswer(...D))},[b(g,{icon:["fa","plus"],class:"plus"})])):c("",!0),s.possibleAnswers.length?(a(),S(f,{key:1,onDrop:n.removePossibleAnswer},{default:z(()=>[h("div",kU,[h("div",AU,[b(g,{icon:["fa","trash"],class:"icon"}),CU,(a(!0),d(Z,null,pe(s.removedPossibleAnswers,(D,E)=>(a(),S(r,{key:E,possibleAnswerIndex:E,answerType:s.answerType,autoMark:s.autoMark,removed:!0,possibleAnswer:D,possibleAnswersLength:s.possibleAnswers.length,onMovePossibleAnswer:n.removePossibleAnswer,class:"option"},null,8,["possibleAnswerIndex","answerType","autoMark","possibleAnswer","possibleAnswersLength","onMovePossibleAnswer"]))),128))])])]),_:1},8,["onDrop"])):c("",!0)],512),[[Fa,n.computedShowOptionTextInput]])]),b(A,{message:"do you want true or false options",default:"no",show:e.showPopUp,onClosePopUp:e.closePopUp,onClickedResponse:e.popUpResponse},null,8,["show","onClosePopUp","onClickedResponse"])],512)}const IU=Ae(hU,[["render",SU],["__scopeId","data-v-7d781121"]]),rA={computed:{computedFiles(){var t,s,o,i;let e=[];return(t=this.computedItemable)!=null&&t.files&&e.push(...this.computedItemable.files),(s=this.computedItemable)!=null&&s.videos&&e.push(...this.computedItemable.videos),(o=this.computedItemable)!=null&&o.audios&&e.push(...this.computedItemable.audios),(i=this.computedItemable)!=null&&i.images&&e.push(...this.computedItemable.images),e}}},TU={components:{PossibleAnswerBadge:Hf,FilePreview:Lo},props:{question:{type:Object,default(){return null}},drag:{type:Boolean,default:!1},backgroundClass:{type:String,default:null},noFiles:{type:Boolean,default:!1},close:{type:Boolean,default:!0},removed:{type:Boolean,default:!1}},mixins:[rA],computed:{computedItemable(){return this.question},computedClasses(){return this.$vnode.data.staticClass?this.$vnode.data.staticClass:""}},methods:{clickedDrag(){this.$emit("arrangeQuestions")},clickedClose(){if(this.removed){this.$emit("undoQuestionRemoval",this.question);return}this.$emit("removeQuestion",this.question)},dbclickedQuestion(){this.$emit("editQuestion",this.question)}}},DU=e=>(gs("data-v-6feb3be3"),e=e(),vs(),e),xU={class:"other"},PU={class:"body"},MU={key:0,class:"file"},EU={key:1,class:"hint"},OU={key:2,class:"score"},RU={key:3,class:"possible-answers"},NU=DU(()=>h("span",null,"Options:",-1));function LU(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("file-preview"),m=_("possible-answer-badge");return s.question?(a(),d("div",{key:0,class:we(["question-badge-wrapper relative",{"mx-2.5":!n.computedClasses.includes("mx")}])},[h("div",xU,[s.close?(a(),S(r,{key:0,class:"close",icon:["fa","times"],onClick:n.clickedClose},null,8,["onClick"])):c("",!0),s.drag?(a(),d("div",{key:1,class:"drag",onClick:t[0]||(t[0]=(...v)=>n.clickedDrag&&n.clickedDrag(...v)),onDragstart:t[1]||(t[1]=(...v)=>n.clickedDrag&&n.clickedDrag(...v)),draggable:""},[b(r,{icon:["fa","hand-rock"]})],32)):c("",!0)]),h("div",{class:we(["main",[s.backgroundClass?s.backgroundClass:"bg-wheat"]]),onDblclick:t[2]||(t[2]=(...v)=>n.dbclickedQuestion&&n.dbclickedQuestion(...v))},[h("div",PU,V(s.question.body),1),!s.noFiles&&e.computedFiles.length?(a(),d("div",MU,[b(f,{file:e.computedFiles[0],showRemove:!1},null,8,["file"])])):c("",!0),s.question.hint.length?(a(),d("div",EU," hint: "+V(s.question.hint),1)):c("",!0),s.question.scoreOver.length?(a(),d("div",OU,V(`score over: ${s.question.scoreOver}`),1)):c("",!0),s.question.possibleAnswers.length?(a(),d("div",RU,[NU,(a(!0),d(Z,null,pe(s.question.possibleAnswers,(v,g)=>(a(),S(m,{key:g,possibleAnswer:v,drag:!1,answerType:s.question.answerType},null,8,["possibleAnswer","answerType"]))),128))])):c("",!0)],34)],2)):c("",!0)}const Wf=Ae(TU,[["render",LU],["__scopeId","data-v-6feb3be3"]]),FU={components:{TextInput:js,MediaCapture:Rl,TextTextarea:kn,QuestionBadge:Wf,PossibleAnswerForm:IU,GreyButton:Nl,PostButton:xs,MainCheckbox:Vi,NumberInput:fa,DatePicker:wc},props:{questions:{type:Array,default(){return[]}},autoMark:{type:Boolean,default:!1},answerType:{type:String,default:""},answerTypes:{type:Array,default(){return[]}},answerTypesPair:{type:Object,default(){return{}}}},data(){return{data:{id:"",body:"",hint:"",position:"",scoreOver:"",answerType:"",possibleAnswer:{position:null,option:"",id:"",correct:!1},files:[],mainFiles:[],removedFiles:[],correctPossibleAnswers:[],possibleAnswers:[],removedPossibleAnswers:[],mainPossibleAnswers:[],editedPossibleAnswers:[]},showQuestionForm:!1,trueFalse:[{position:1,option:"true",id:""},{position:2,option:"false",id:""}],showMediaCapture:!1,mediaCaptureType:""}},watch:{sections(e){e&&e.length&&this.setShowQuestionFormToTrue()},answerType(e){this.data.answerType=e},"data.answerType"(e){this.data.possibleAnswers=[],e==="true_false"&&this.data.possibleAnswers.push(...this.trueFalse),this.computedShowPossibleAnswerForm&&this.scrollToPossibleAnswerForm(),this.resetCorrectAnswer()},"data.possibleAnswers"(e){this.resetCorrectAnswer()},showQuestionForm(e){e&&this.scrollToForm()}},mounted(){this.emitter.on("clearAssessmentSectionQuestionData",()=>{this.clearAssessmentSectionQuestionData()}),this.emitter.on("toggleQuestionForm",()=>{this.setShowQuestionFormToTrue()})},computed:{computedAddQuestionButton(){return!String(this.data.id).length&&this.computedHasData&&!(this.computedShowPossibleAnswerForm&&!this.data.possibleAnswers.length)},computedEditQuestionButton(){return!this.computedAddQuestionButton&&this.computedHasData},computedHasData(){return(this.data.body.length||this.data.files.length)&&this.data.scoreOver.length},computedShowPossibleAnswerForm(){return this.data.answerType.length&&(this.data.answerType==="true_false"||this.data.answerType==="option"||this.data.answerType==="arrange"||this.data.answerType==="flow")},computedDoneQuestionButton(){return String(this.data.id).length&&this.computedHasData&&!(this.computedShowPossibleAnswerForm&&!this.data.possibleAnswers.length)}},methods:{clickedRemoveFiles(){this.data.files=[]},clearQuestionData(){this.clearAssessmentSectionQuestionData()},editQuestion(e){this.setAssessmentSectionQuestionData(Ft.cloneDeep(e)),this.scrollToForm()},arrangeQuestions(){this.emitter.emit("arrangeQuestions",this.questions)},undoQuestionRemoval(e){this.$emit("undoQuestionRemoval",e)},removeQuestion(e){this.$emit("removeQuestion",e)},updateQuestion(){this.$emit("updateQuestion",Ft.cloneDeep(this.data)),this.clearAssessmentSectionQuestionData(),this.scrollToLast()},closeMediaCapture(){this.showMediaCapture=!1,this.mediaCaptureType=""},addFile(e){this.data.files=[],this.data.files.push(e)},changedInputFile(){this.addFile(this.$refs.inputfile.files[0]),this.$refs.inputfile.value=""},receiveFile(e){this.addFile(e)},getInputFileType(e){return e.includes("image")?"image/*":e.includes("video")?"video/*":e.includes("audio")?"audio/*":"application/*"},clickedFileUpload(e){if(e.includes("file")){this.$refs.inputfile.accept=this.getInputFileType(e),this.$refs.inputfile.click();return}this.mediaCaptureType=e==="microphone"?"audio":e,this.showMediaCapture=!0},dropPossibleAnswer(e,t){},answersInCorrectAnswer(){this.data.correctPossibleAnswers=Ft.clone(this.data.possibleAnswers)},itIsTrueOrFalse(){this.data.answerType="true_false",this.scrollToPossibleAnswerForm()},setShowQuestionFormToTrue(){this.showQuestionForm=!0},resetCorrectAnswer(){this.data.correctPossibleAnswers=[]},updatePossibleAnswer(e){let t=this.data.possibleAnswers.findIndex(s=>s.id==e.id);t!==-1&&this.data.possibleAnswers.splice(t,1,e)},removePossibleAnswer(e){let t=this.data.possibleAnswers.splice(e.fromPossibleAnswerIndex,1)[0];this.data.removedPossibleAnswers.push(t),this.updatePossibleAnswersPositions()},updatePossibleAnswersPositions(){this.data.possibleAnswers.forEach(function(e,t){e.position=t+1})},findCorrectPossibleAnswerIndex(e){return this.data.correctPossibleAnswers.findIndex(function(t){return t.id===e.id&&t.option===e.option})},possibleAnswerIsCorrect(e){this.findCorrectPossibleAnswerIndex(e)===-1&&(this.resetCorrectAnswer(),this.data.correctPossibleAnswers.push(e))},possibleAnswerIsWrong(e){let t=this.findCorrectPossibleAnswerIndex(e);t>-1&&this.data.correctPossibleAnswers.splice(t,1)},movePossibleAnswer(e){let t=e.removed?this.data.removedPossibleAnswers.splice(e.fromPossibleAnswerIndex,1)[0]:this.data.possibleAnswers.splice(e.fromPossibleAnswerIndex,1)[0];e.fromPossibleAnswerIndex+1===this.data.possibleAnswers.length&&e.toPossibleAnswerIndex===void 0&&!e.removed||(e.toPossibleAnswerIndex===void 0?this.data.possibleAnswers.push(t):e.toPossibleAnswerIndex===0?this.data.possibleAnswers.unshift(t):this.data.possibleAnswers.splice(e.toPossibleAnswerIndex,0,t),this.updatePossibleAnswersPositions())},clearAssessmentSectionQuestionData(){this.data.id="",this.data.body="",this.data.hint="",this.data.position="",this.data.scoreOver="",this.data.answerType="",this.data.possibleAnswers=[],this.data.removedPossibleAnswers=[],this.data.files=[],this.data.removedFiles=[],this.data.mainFiles=[],this.data.correctPossibleAnswers=[],this.data.editedPossibleAnswers=[],this.data.mainPossibleAnswers=[],this.data.possibleAnswer={position:null,option:"",id:"",correct:!1}},setAssessmentSectionQuestionData(e){this.setShowQuestionFormToTrue(),this.data.id=e.id,this.data.body=e.body,this.data.hint=e.hint,this.data.position=e.position,this.data.scoreOver=e.scoreOver,this.data.answerType=e.answerType,this.data.removedPossibleAnswers=e.removedPossibleAnswers,this.data.correctPossibleAnswers=e.correctPossibleAnswers,this.data.editedPossibleAnswers=e.editedPossibleAnswers,this.data.mainPossibleAnswers=e.mainPossibleAnswers?e.mainPossibleAnswers:[],this.data.files=e.files,this.data.removedFiles=e.removedFiles,this.data.mainFiles=e.mainFiles,setTimeout(()=>{this.data.possibleAnswers=e.possibleAnswers},100)},scrollToForm(){this.$refs.questionsform&&setTimeout(()=>{this.$refs.questionsform.scrollIntoView()},100)},scrollToPossibleAnswerForm(){this.emitter.emit("scrollToPossibleAnswerForm")},scrollToLast(){this.$refs.questions&&this.$refs.questions.scrollBy(-(this.$refs.questionsform.width+30),0)},addQuestion(){this.$emit("addQuestion",this.data),this.clearAssessmentSectionQuestionData(),this.scrollToLast()},checkActiveAnswerType(e){return this.data.answerType===this.answerTypesPair[e]},clickedAnswerType(e){this.data.answerType=this.answerTypesPair[e]??""},optionExits(e){return this.data.possibleAnswers.findIndex(function(t){return t.option===e.option})>-1},addPossibleAnswer(e){if(this.optionExits(e)){this.emitter.emit("assessmentError",{message:"the option already exits."});return}this.data.possibleAnswers.push(e),this.updatePossibleAnswersPositions()}}},lA=e=>(gs("data-v-90b81021"),e=e(),vs(),e),UU={class:"assessment-question-form",ref:"questions"},BU={class:"questions-form",ref:"questionsform"},jU=lA(()=>h("div",{class:"section"},"Question Info",-1)),VU={class:"main"},qU={key:0,class:"file-status"},HU={class:"files"},WU=lA(()=>h("div",{class:"small-msg"}," Answer type required for this question ",-1)),zU={class:"type"},GU={class:"buttons"};function YU(e,t,s,o,i,n){const r=_("question-badge"),f=_("text-textarea"),m=_("font-awesome-icon"),v=_("number-input"),g=_("grey-button"),A=_("post-button"),D=_("possible-answer-form"),E=_("media-capture");return a(),d("div",UU,[(a(!0),d(Z,null,pe(s.questions,(T,N)=>(a(),S(r,{key:N,question:T,drag:s.questions.length>1,onArrangeQuestions:n.arrangeQuestions,onEditQuestion:n.editQuestion,onRemoveQuestion:n.removeQuestion},null,8,["question","drag","onArrangeQuestions","onEditQuestion","onRemoveQuestion"]))),128)),cn(h("div",BU,[jU,h("div",VU,[b(f,{bottomBorder:!0,placeholder:"question*",modelValue:i.data.body,"onUpdate:modelValue":t[0]||(t[0]=T=>i.data.body=T),class:"other-input"},null,8,["modelValue"]),i.data.files.length?(a(),d("div",qU,[Mt(V(`${i.data.files.length} file added to question`)+" ",1),b(m,{class:"icon",icon:["fa","trash"],title:"remove file",onClick:n.clickedRemoveFiles},null,8,["onClick"])])):c("",!0),h("div",HU,[h("div",{onClick:t[1]||(t[1]=T=>n.clickedFileUpload("image")),class:"file"},[b(m,{icon:["fa","image"],title:"snap a picture"})]),h("div",{onClick:t[2]||(t[2]=T=>n.clickedFileUpload("file-image")),class:"file"},[b(m,{icon:["fa","file-image"],title:"upload image from device"})]),h("div",{onClick:t[3]||(t[3]=T=>n.clickedFileUpload("video")),class:"file"},[b(m,{icon:["fa","video"],title:"record a video"})]),h("div",{onClick:t[4]||(t[4]=T=>n.clickedFileUpload("file-video")),class:"file"},[b(m,{icon:["fa","file-video"],title:"upload video from device"})]),h("div",{onClick:t[5]||(t[5]=T=>n.clickedFileUpload("microphone")),class:"file"},[b(m,{icon:["fa","microphone"],title:"record an audio"})]),h("div",{onClick:t[6]||(t[6]=T=>n.clickedFileUpload("file-audio")),class:"file"},[b(m,{icon:["fa","file-audio"],title:"upload audio from device"})]),h("div",{onClick:t[7]||(t[7]=T=>n.clickedFileUpload("file")),class:"file"},[b(m,{icon:["fa","file"],title:"upload file from device"})])]),b(f,{bottomBorder:!0,placeholder:"hint to answering the question",modelValue:i.data.hint,"onUpdate:modelValue":t[8]||(t[8]=T=>i.data.hint=T),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,label:"score question",placeholder:"over",modelValue:i.data.scoreOver,"onUpdate:modelValue":t[9]||(t[9]=T=>i.data.scoreOver=T),hasMax:!1,inputMin:1,class:"other-input"},null,8,["modelValue"]),WU,h("div",zU,[(a(!0),d(Z,null,pe(s.answerTypes,(T,N)=>(a(),S(g,{class:"grey-button",key:N,active:n.checkActiveAnswerType(T),text:T,onClickedAction:n.clickedAnswerType},null,8,["active","text","onClickedAction"]))),128))])]),h("div",GU,[n.computedAddQuestionButton?(a(),S(A,{key:0,buttonText:"add question",buttonStyle:"",onClick:n.addQuestion},null,8,["onClick"])):c("",!0),n.computedDoneQuestionButton?(a(),S(A,{key:1,buttonText:"done editing question",buttonStyle:"",onClick:n.updateQuestion},null,8,["onClick"])):c("",!0),n.computedDoneQuestionButton?(a(),S(A,{key:2,buttonText:"clear data",buttonStyle:"",onClick:n.clearQuestionData},null,8,["onClick"])):c("",!0)])],512),[[Fa,i.showQuestionForm]]),cn(b(D,{answerType:i.data.answerType,possibleAnswers:i.data.possibleAnswers,correctPossibleAnswers:i.data.correctPossibleAnswers,removedPossibleAnswers:i.data.removedPossibleAnswers,onItIsTrueOrFalse:n.itIsTrueOrFalse,onAddPossibleAnswer:n.addPossibleAnswer,onMovePossibleAnswer:n.movePossibleAnswer,onRemovePossibleAnswer:n.removePossibleAnswer,onUpdatePossibleAnswer:n.updatePossibleAnswer,onPossibleAnswerIsCorrect:n.possibleAnswerIsCorrect,onPossibleAnswerIsWrong:n.possibleAnswerIsWrong,onAnswersInCorrectAnswer:n.answersInCorrectAnswer,autoMark:s.autoMark},null,8,["answerType","possibleAnswers","correctPossibleAnswers","removedPossibleAnswers","onItIsTrueOrFalse","onAddPossibleAnswer","onMovePossibleAnswer","onRemovePossibleAnswer","onUpdatePossibleAnswer","onPossibleAnswerIsCorrect","onPossibleAnswerIsWrong","onAnswersInCorrectAnswer","autoMark"]),[[Fa,n.computedShowPossibleAnswerForm]]),h("input",{type:"file",ref:"inputfile",class:"file-input",onChange:t[10]||(t[10]=(...T)=>n.changedInputFile&&n.changedInputFile(...T))},null,544),i.showMediaCapture?(a(),S(E,{key:0,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receiveFile},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0)],512)}const QU=Ae(FU,[["render",YU],["__scopeId","data-v-90b81021"]]),KU={components:{QuestionBadge:Wf},props:{assessmentSection:{type:Object,default(){return null}},drag:{type:Boolean,default:!1},removed:{type:Boolean,default:!1}},methods:{clickedDrag(){this.$emit("arrangeAssessmentSections")},dbclickedAssessmentSection(){this.$emit("editAssessmentSection",this.assessmentSection)},clickedClose(){if(this.removed){this.$emit("undoAssessmentSectionRemoval",this.assessmentSection);return}this.$emit("removeAssessmentSection",this.assessmentSection)}}},JU={class:"other"},XU={class:"name"},$U={class:"instruction"},ZU={key:0,class:"question"},e7={key:1,class:"questions"};function t7(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("question-badge");return s.assessmentSection?(a(),d("div",{key:0,class:"assessment-section-badge-wrapper",onDblclick:t[2]||(t[2]=(...m)=>n.dbclickedAssessmentSection&&n.dbclickedAssessmentSection(...m))},[h("div",JU,[b(r,{class:"close",icon:["fa","times"],onClick:n.clickedClose},null,8,["onClick"]),s.drag?(a(),d("div",{key:0,class:"drag",onClick:t[0]||(t[0]=(...m)=>n.clickedDrag&&n.clickedDrag(...m)),onDragstart:t[1]||(t[1]=(...m)=>n.clickedDrag&&n.clickedDrag(...m)),draggable:""},[b(r,{icon:["fa","hand-rock"]})],32)):c("",!0)]),h("div",XU,V(s.assessmentSection.name),1),h("div",$U,V(s.assessmentSection.instruction),1),s.assessmentSection.questions.length?(a(),d("div",ZU," Questions: ")):c("",!0),s.assessmentSection.questions.length?(a(),d("div",e7,[(a(!0),d(Z,null,pe(s.assessmentSection.questions,(m,v)=>(a(),S(f,{key:v,question:m,close:!1},null,8,["question"]))),128))])):c("",!0)],32)):c("",!0)}const cA=Ae(KU,[["render",t7],["__scopeId","data-v-dc48e5af"]]),s7={components:{QuestionForm:QU,TextTextarea:kn,TextInput:js,PostButton:xs,MainSelect:pa,MainCheckbox:Vi,QuestionBadge:Wf,AssessmentSectionBadge:cA,NumberInput:fa},props:{assessmentSections:{type:Array,default(){return[]}}},data(){return{data:{id:"",name:"",instruction:"",position:"",duration:"",autoMark:!1,hasMaxQuestions:!1,random:!1,maxQuestions:"",questions:[],removedQuestions:[],editedQuestions:[],mainQuestions:[],answerType:"",userAnswerType:"",question:null},showSectionForm:!1}},watch:{sections(e){e&&e.length&&this.setShowSectionFormToTrue()},showSectionForm(e){e&&(this.scrollToSections(),this.scrollToForm())},userAnswerType(e){this.answerType=this.computedAnswerTypesPair[e]}},mounted(){this.emitter.on("clearAssessmentSectionData",()=>{this.clearAssessmentSectionData()}),this.emitter.on("toggleSectionForm",()=>{this.setShowSectionFormToTrue()}),this.emitter.on("arrangedQuestions",e=>{console.log(e)})},computed:{computedAddSectionButton(){return!String(this.data.id).length&&this.computedHasData},computedDoneSectionButton(){return String(this.data.id).length&&this.computedHasData},computedEditSectionButton(){return String(this.data.id).length&&this.computedHasData},computedHasData(){return this.data.name.length&&this.data.questions.length},computedAnswerTypes(){return["true/false","option","short answer","long answer","number","flow","arrange","image","video","audio","file"]},computedAnswerTypesPair(){return{"true/false":"true_false",option:"option","short answer":"short_answer","long answer":"long_answer",number:"number",flow:"flow",arrange:"arrange",image:"image",video:"video",audio:"audio",file:"file"}}},methods:{clearSectionData(){this.clearAssessmentSectionData()},editAssessmentSection(e){this.setAssessmentSectionData(Ft.cloneDeep(e)),this.scrollToForm()},removeAssessmentSection(e){this.$emit("removeAssessmentSection",e)},arrangeAssessmentSections(){this.emitter.emit("arrangeAssessmentSections",this.assessmentSections)},updateAssessmentSection(){this.$emit("updateAssessmentSection",Ft.cloneDeep(this.data)),this.clearAssessmentSectionData(),this.scrollToLast()},updateQuestionsPositions(){this.data.questions.forEach(function(e,t){e.position=t+1})},undoQuestionRemoval(e){let t=this.findAssessmentSectionQuestion(this.data.removedQuestions,e);t!==-1&&(this.data.removedQuestions.splice(t,1),this.data.questions.push(e),this.updateQuestionsPositions())},removeQuestion(e){let t=this.findAssessmentSectionQuestion(this.data.questions,e);t!==-1&&(this.data.questions.splice(t,1),this.data.removedQuestions.push(e),this.updateQuestionsPositions())},setShowSectionFormToTrue(){this.showSectionForm=!0},setAssessmentSectionData(e){this.setShowSectionFormToTrue(),this.data.id=e.id,this.data.name=e.name,this.data.instruction=e.instruction,this.data.position=e.position,this.data.duration=e.duration,this.data.autoMark=e.autoMark,this.data.hasMaxQuestions=e.hasMaxQuestions,this.data.random=e.random,this.data.maxQuestions=e.maxQuestions,this.data.questions=e.questions,this.data.removedQuestions=e.removedQuestions,this.data.editedQuestions=e.editedQuestions,this.data.mainQuestions=e.mainQuestions?e.mainQuestions:[],this.data.answerType=e.answerType},clearAssessmentSectionData(){this.data.id="",this.data.name="",this.data.instruction="",this.data.position="",this.data.duration="",this.data.autoMark=!1,this.data.hasMaxQuestions=!1,this.data.random=!1,this.data.maxQuestions="",this.data.questions=[],this.data.removedQuestions=[],this.data.editedQuestions=[],this.data.mainQuestions=[],this.data.answerType="",this.clearAssessmentSectionQuestionData()},clearAssessmentSectionQuestionData(){this.emitter.emit("clearAssessmentSectionQuestionData")},findAssessmentSectionQuestion(e,t){return e.findIndex(s=>s.id===t.id&&s.body===t.body&&s.answerType===t.answerType)},updateQuestion(e){let t=this.findAssessmentSectionQuestion(this.data.questions,e);t!==-1&&this.data.questions.splice(t,1,e)},addQuestion(e){this.data.questions.push(this.mapAssessmentSectionQuestionData(Ft.cloneDeep(e))),this.updateQuestionsPositions()},mapAssessmentSectionQuestionData(e){return{id:e.id.length?e.id:`${Math.floor(Math.random()*-1e3)}`,body:e.body,hint:e.hint,position:e.position,scoreOver:e.scoreOver,answerType:e.answerType,files:e.files,removedFiles:e.removedFiles,mainFiles:e.mainFiles,possibleAnswers:e.possibleAnswers,removedPossibleAnswers:e.removedPossibleAnswers,mainPossibleAnswers:e.mainPossibleAnswers,editedPossibleAnswers:e.editedPossibleAnswers,correctPossibleAnswers:e.correctPossibleAnswers}},updateAssessmentSectionData(e){this.data.id=e.id,this.data.name=e.name,this.data.instruction=e.instruction,this.data.position=e.position,this.data.autoMark=e.autoMark,this.data.hasMaxQuestions=e.maxQuestions.length?e.hasMaxQuestions:!1,this.data.random=e.random,this.data.maxQuestions=e.maxQuestions,this.data.questions=e.questions,this.data.removedQuestions=e.removedQuestions,this.data.editedQuestions=e.editedQuestions,this.data.mainQuestions=e.mainQuestions,this.data.answerType=e.answerType},goToSectionQuestionForm(){this.emitter.emit("toggleQuestionForm"),this.clearAssessmentSectionQuestionData()},scrollToForm(){this.$refs.sectionsform&&setTimeout(()=>{this.$refs.sections.scrollTo(this.$refs.sections.scrollWidth,0)},100)},scrollToSections(){this.$refs.sections&&setTimeout(()=>{this.$refs.sections.scrollIntoView()},100)},scrollToLast(){this.$refs.sections&&this.$refs.sections.scrollBy(-(this.$refs.sectionsform.scrollWidth+20),0)},addSection(){this.$emit("addSection",this.data),this.clearAssessmentSectionData(),this.scrollToLast()}}},n7=e=>(gs("data-v-b794a3bf"),e=e(),vs(),e),i7={class:"assessment-section-form",ref:"sections"},o7={class:"sections-form",ref:"sectionsform"},a7=n7(()=>h("div",{class:"section"},"Assessment Section Info",-1)),r7={class:"main"},l7={class:"section add"},c7={key:0,class:"small-msg"},u7={key:1,class:"sections red"},d7={class:"buttons"};function h7(e,t,s,o,i,n){const r=_("assessment-section-badge"),f=_("text-input"),m=_("text-textarea"),v=_("main-checkbox"),g=_("number-input"),A=_("main-select"),D=_("font-awesome-icon"),E=_("question-form"),T=_("question-badge"),N=_("post-button");return a(),d("div",i7,[(a(!0),d(Z,null,pe(s.assessmentSections,(F,R)=>(a(),S(r,{key:R,assessmentSection:F,drag:s.assessmentSections.length>1,onArrangeAssessmentSections:n.arrangeAssessmentSections,onEditAssessmentSection:n.editAssessmentSection,onRemoveAssessmentSection:n.removeAssessmentSection},null,8,["assessmentSection","drag","onArrangeAssessmentSections","onEditAssessmentSection","onRemoveAssessmentSection"]))),128)),cn(h("div",o7,[a7,h("div",r7,[b(f,{bottomBorder:!0,placeholder:"assessment section name*",modelValue:i.data.name,"onUpdate:modelValue":t[0]||(t[0]=F=>i.data.name=F),class:"other-input"},null,8,["modelValue"]),b(m,{bottomBorder:!0,placeholder:"instructions for this assessment section",modelValue:i.data.instruction,"onUpdate:modelValue":t[1]||(t[1]=F=>i.data.instruction=F),class:"other-input"},null,8,["modelValue"]),b(v,{modelValue:i.data.random,"onUpdate:modelValue":t[2]||(t[2]=F=>i.data.random=F),label:"randomize questions",title:"check if you this section to have randomized questions",class:"other-input"},null,8,["modelValue"]),b(v,{modelValue:i.data.autoMark,"onUpdate:modelValue":t[3]||(t[3]=F=>i.data.autoMark=F),label:"automatically mark questions with optional/possible answers",title:"check if you want questions with optional answers to be automatically marked",class:"other-input"},null,8,["modelValue"]),b(v,{modelValue:i.data.hasMaxQuestions,"onUpdate:modelValue":t[4]||(t[4]=F=>i.data.hasMaxQuestions=F),label:"section has max number of questions",title:"check if you want the section to have questions less than what is available",class:"other-input"},null,8,["modelValue"]),b(g,{bottomBorder:!0,label:"duration",placeholder:"duration",prepend:"in minutes",modelValue:i.data.duration,"onUpdate:modelValue":t[5]||(t[5]=F=>i.data.duration=F),hasMax:!1,class:"number-input"},null,8,["modelValue"]),i.data.hasMaxQuestions?(a(),S(g,{key:0,bottomBorder:!0,placeholder:"number of questions to be made available",modelValue:i.data.maxQuestions,"onUpdate:modelValue":t[6]||(t[6]=F=>i.data.maxQuestions=F),inputMax:i.data.questions.length,class:"number-input"},null,8,["modelValue","inputMax"])):c("",!0),b(A,{class:"other-input",placeholder:"set default answer type for this section",backgroundColor:"white",items:n.computedAnswerTypes,modelValue:i.data.userAnswerType,"onUpdate:modelValue":t[7]||(t[7]=F=>i.data.userAnswerType=F)},null,8,["items","modelValue"])]),h("div",l7,[Mt(" Assessment Section Questions "),b(D,{icon:["fa","plus"],title:"add new section",class:"plus",onClick:n.goToSectionQuestionForm},null,8,["onClick"])]),b(E,{class:"sections",onAddQuestion:n.addQuestion,onUpdateQuestion:n.updateQuestion,questions:i.data.questions,answerType:i.data.answerType,autoMark:i.data.autoMark,answerTypes:n.computedAnswerTypes,answerTypesPair:n.computedAnswerTypesPair,onRemoveQuestion:n.removeQuestion,onUndoQuestionRemoval:n.undoQuestionRemoval},null,8,["onAddQuestion","onUpdateQuestion","questions","answerType","autoMark","answerTypes","answerTypesPair","onRemoveQuestion","onUndoQuestionRemoval"]),i.data.removedQuestions.length?(a(),d("div",c7," these questions have been deleted ")):c("",!0),i.data.removedQuestions.length?(a(),d("div",u7,[(a(!0),d(Z,null,pe(i.data.removedQuestions,(F,R)=>(a(),S(T,{key:R,question:F,removed:F,onUndoQuestionRemoval:n.undoQuestionRemoval},null,8,["question","removed","onUndoQuestionRemoval"]))),128))])):c("",!0),h("div",d7,[n.computedAddSectionButton?(a(),S(N,{key:0,buttonText:"add section",onClick:n.addSection},null,8,["onClick"])):c("",!0),n.computedDoneSectionButton?(a(),S(N,{key:1,buttonText:"done editing section",onClick:n.updateAssessmentSection},null,8,["onClick"])):c("",!0),n.computedDoneSectionButton?(a(),S(N,{key:2,buttonText:"clear data",onClick:n.clearSectionData},null,8,["onClick"])):c("",!0)])],512),[[Fa,i.showSectionForm]])],512)}const f7=Ae(s7,[["render",h7],["__scopeId","data-v-b794a3bf"]]),m7={components:{DroppableComponent:Pd,DraggableComponent:oA},props:{arrangable:{type:Object,default(){return null}},index:{type:Number,default:null}},computed:{computedName(){return this.arrangable.name?this.arrangable.name:this.arrangable.body?this.arrangable.body:""},computedDetail(){return this.arrangable.instruction?this.arrangable.instruction:this.arrangable.hint?this.arrangable.hint:""}},methods:{move(e){console.log(e),this.$emit("move",e)}}},p7={class:"arrangable-badge"},g7={class:"name"},v7={class:"detail"};function y7(e,t,s,o,i,n){const r=_("droppable-component"),f=_("draggable-component");return s.arrangable?(a(),S(f,{key:0,dataTransfer:{fromIndex:s.index}},{default:z(()=>[b(r,{onDrop:n.move,dataTransfer:{toIndex:s.index}},{default:z(()=>[h("div",p7,[h("div",g7,V(n.computedName),1),h("div",v7,V(n.computedDetail),1)])]),_:1},8,["onDrop","dataTransfer"])]),_:1},8,["dataTransfer"])):c("",!0)}const w7=Ae(m7,[["render",y7],["__scopeId","data-v-3e32a90c"]]),_7={components:{ArrangableBadge:w7,PostButton:xs,DroppableComponent:Pd},props:{data:{type:Array,default(){return[]}},show:{type:Boolean,default:!1},type:{type:String,default:""}},data(){return{}},methods:{updatePositions(){this.data.forEach(function(e,t){e.position=t+1})},move(e){if(e.fromIndex+1===this.data.length&&e.toIndex===void 0&&!e.removed)return;let t=this.data.splice(e.fromIndex,1)[0];e.toIndex===void 0?this.data.push(t):e.toIndex===0?this.data.unshift(t):this.data.splice(e.toIndex,0,t),this.updatePositions()},clickedDone(){this.closeModal()},closeModal(){this.$emit("closeArrangingModal")}}},b7={slot:"main"},k7={class:"title"},A7={class:"arrangables"},C7={class:"buttons"};function S7(e,t,s,o,i,n){const r=_("arrangable-badge"),f=_("droppable-component"),m=_("post-button"),v=_("main-modal"),g=_("just-fade");return a(),S(g,null,{default:z(()=>[s.show?(a(),S(v,{key:0,show:s.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"arranging-modal-wrapper"},{default:z(()=>[h("template",b7,[h("div",k7,V(`arrange ${s.type}`),1),b(f,{onDrop:n.move},{default:z(()=>[h("div",A7,[(a(!0),d(Z,null,pe(s.data,(A,D)=>(a(),S(r,{key:D,arrangable:A,index:D,onMove:n.move},null,8,["arrangable","index","onMove"]))),128))])]),_:1},8,["onDrop"]),h("div",C7,[b(m,{buttonText:"done arranging",onClick:n.clickedDone},null,8,["onClick"])])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const I7=Ae(_7,[["render",S7],["__scopeId","data-v-e93a97ba"]]),ga={components:{AutoAlert:Mi},data(){return{alertMessage:"",alertDanger:!1,alertSuccess:!1,alertLengthy:!1}},methods:{clearAlert(){this.alertSuccess=!1,this.alertDanger=!1,this.alertLengthy=!1,this.alertMessage=""},issueDangerAlert(e){e.type="danger",this.issueAlert(e)},issueSuccessAlert(e){e.type="success",this.issueAlert(e)},issueAlert(e){this.alertDanger=e.type==="danger",this.alertSuccess=e.type==="success",this.alertLengthy=e.lengthy,this.alertMessage=e.message},issueDangerAlertForResponse(e,t=null){var s,o,i;if(this.alertDanger=!0,(s=e==null?void 0:e.data)!=null&&s.message){this.alertMessage=e.data.message;return}if(e!=null&&e.message){this.alertMessage=e.message;return}if((i=(o=e==null?void 0:e.response)==null?void 0:o.data)!=null&&i.message){this.alertMessage=e.response.data.message;return}if(t){this.alertMessage=t;return}if("edit"in this){this.alertMessage=`${this.edit?"editing":"creation"} was unsuccessful `;return}this.alertMessage="oops! something happened . please try again later."}}},T7={components:{PostAttachment:go,AttachmentBadge:vo},methods:{getOnlyNewAttachments(){if(!this.edit)return this.data.attachments;let e,t=Ft.clone(this.data.attachments);return this.data.mainAttachments.forEach(s=>{e=t.indexOf(s),e>-1&&t.splice(e,1)}),t},clickedRemoveAttachment(e){let t=findIndex(this.data.attachments,e);t>-1&&this.data.attachments.splice(t,1),this.addToRemovedAttachments(e)},isNotPartOfMainAttachments(e){return!this.isPartOfMainAttachments(e)},isPartOfMainAttachments(e){return!(findIndex(this.data.mainAttachments,e)>-1)},findIndex(e,t){return e.findIndex(s=>s.type===t.type&&s.data.id===t.data.id)},attachmentSelected(e){this.data.attachments.findIndex(s=>s.type===e.type&&s.data.id===e.data.id)===-1&&this.data.attachments.unshift(e)},clickedUndoRemoveAttachment(e){this.data.removedAttachments.splice(this.data.removedAttachments.indexOf(e),1),this.data.attachments.unshift(e)},addToRemovedAttachments(e){this.edit&&(this.isNotPartOfMainAttachments(e)||this.data.removedAttachments.unshift(e))}}},D7={components:{PostAttachment:go,AttachmentBadge:vo,CreateDiscussion:kc,GreyButton:Nl,SearchInput:hr,ItemBadge:fr,NumberInput:fa,DatePicker:wc,ArrangingModal:I7,AssessmentSectionBadge:cA,MainSelect:pa,MainCheckbox:Vi,PostButton:xs,AssessmentSectionForm:f7,RadioInput:Ll,TextInput:js,TextTextarea:kn,ProfileBar:oi},props:{show:{type:Boolean,default:!1},main:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},mainSection:{type:String,default:""},editable:{type:Object,default(){return null}},schoolAdmin:{type:Object,default(){return null}}},mixins:[T7],data(){return{data:{name:"",description:"",publishedAt:"",state:"",type:"private",dueAt:"",duration:"",hasDuration:!1,random:!1,discussion:!1,hasDiscussion:!1,discussionFiles:[],totalMark:"",mainAssessmentSections:[],assessmentSections:[],removedAssessmentSections:[],editedAssessmentSections:[],mainAttachedItems:[],attachedItems:[],unattachedItems:[],paymentData:[],removedPaymentData:[],mainAttachments:[],attachments:[],removedAttachments:[]},showProfiles:!1,title:"create assessment",validationStatus:!1,loading:!1,buttonText:"create",specificItemsNextPage:1,specificItemsLoading:!1,specificItems:[],specificItemsTexts:["lessons","classes","subjects","courses","course sections","extracurriculums"],selectedSpecificItemsText:["none"],searchItemsText:"",arrangingModalType:"",arrangingModalData:[],arrangingModalShow:!1,validationItemLength:15,formData:null}},watch:{searchItemsText(e){this.selectedSpecificItemsText.includes("none")&&(this.selectedSpecificItemsText=["lessons"]),this.debounceGetSpecificAccountItems()},selectedSpecificItemsText(e){this.debounceGetSpecificAccountItems()}},mixins:[ga],mounted(){this.emitter.on("assessmentError",e=>{this.issueDangerAlert(e)}),this.emitter.on("editAssessment",e=>{this.setData(e)}),this.emitter.on("arrangeQuestions",e=>{this.arrangingModalSetUp(e,"questions")}),this.emitter.on("arrangeAssessmentSections",e=>{this.arrangingModalSetUp(e,"assessmentSections")})},computed:{...os(["dashboard/getAccountDetails","getUser","getProfiles"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedTotalMark(){return Number.parseInt(this.data.totalMark)>5?Number.parseInt(this.data.totalMark):100},computedAccount(){return this["dashboard/getAccountDetails"]},computedProfiles(){var e;return(e=this.getUser)==null?void 0:e.profiles},computedShowPostButton(){return this.computedHasData},computedHasData(){return this.data.assessmentSections.length&&this.data.name.length},computedSpecificItems(){return this.specificItems},computedPayment(){return this.computedAccount.account==="school"||this.computedAccount.account==="professional"||this.computedAccount.account==="facilitator"},computedShowGetMore(){return this.specificItemsNextPage&&this.specificItemsNextPage>1&&!this.specificItemsLoading},computedNoItem(){return this.loading?"":this.selectedSpecificItemsText.includes("none")?"search for courses, course sections, extracurriculums, classes, programs, lessons to which to add this assessment":`no ${this.selectedSpecificItemsText[0]} for this ${this.computedAccount.account} account`},computedHasDueAt(){return this.data.dueAt&&this.data.dueAt.length},computedAnswerTypesPairInverse(){return{true_false:"true/false",option:"option",short_answer:"short answer",long_answer:"long answer",number:"number",flow:"flow",arrange:"arrange",image:"image",video:"video",audio:"audio",file:"file"}},computedMinimumDueAt(){let e=new Date(this.data.publishedAt);return this.data.publishedAt?new Date(e.getFullYear(),e.getMonth(),e.getDate()+1):"today"},computedMinimumPublishedAt(){let e=new Date(this.data.publishedAt);return this.data.publishedAt?new Date(e.getFullYear(),e.getMonth(),e.getDate()):"today"}},methods:{...ss(["dashboard/getAccountSpecificItems","dashboard/createAssessment","dashboard/editAssessment"]),findAssessmentSection(e,t){return e.findIndex(s=>s.id===t.id&&s.name===t.name)},updateAssessmentSectionsPositions(){this.data.assessmentSections.forEach(function(e,t){e.position=t+1})},undoAssessmentSectionRemoval(e){let t=this.findAssessmentSection(this.data.removedAssessmentSections,e);t!==-1&&(this.data.removedAssessmentSections.splice(t,1),this.data.assessmentSections.push(e),this.updateAssessmentSectionsPositions())},removeAssessmentSection(e){let t=this.findAssessmentSection(this.data.assessmentSections,e);t!==-1&&(this.data.assessmentSections.splice(t,1),this.data.removedAssessmentSections.push(e),this.updateAssessmentSectionsPositions())},getDiscussionData(e){this.data.discussionData.title=e.title,this.data.discussionData.preamble=e.preamble,this.data.discussionData.type=e.type,this.data.discussionData.restricted=!0,this.data.discussionData.allowed="all",this.data.discussionFiles=e.files},closeDiscussionModal(){this.data.discussion=!1},stateSelection(e){this.data.state=e},checkDiscussion(e){e.discussions.constructor===Array&&e.discussions.length>0||e.discussions>0?this.data.hasDiscussion=!0:this.data.hasDiscussion=!1},setData(e){var t;this.data.name=e.name,this.data.assessmentId=e.id,this.data.state=(t=e.state)==null?void 0:t.toLowerCase(),this.data.publishedAt=e.publishedAt,this.data.type=e.type,this.data.dueAt=e.dueAt,e.duration&&(this.data.hasDuration=!0,this.data.duration=`${e.duration}`),this.data.random=e.random,e.totalMark&&(this.data.totalMark=`${e.totalMark}`),this.data.attachedItems=Ft.cloneDeep(e.items),this.data.mainAttachedItems=Ft.cloneDeep(e.items),this.data.attachments=Ft.cloneDeep(e.items),this.data.mainAttachments=Ft.cloneDeep(e.items),this.data.mainAssessmentSections=[],this.data.mainAssessmentSections=Ft.cloneDeep(e.assessmentSections.map(s=>{let o=s.questions.map(i=>{let n=[];return i.images&&n.push(...i.images),i.audios&&n.push(...i.audios),i.videos&&n.push(...i.videos),i.files&&n.push(...i.files),{id:i.id,body:i.body,hint:i.hint,position:i.position?`${i.position}`:"",scoreOver:i.scoreOver?`${i.scoreOver}`:"",answerType:this.setAnswerTypeUsingPairIndex(i.answerType),files:Ft.cloneDeep(n),mainFiles:Ft.cloneDeep(n),removedFiles:[],correctPossibleAnswers:i.correctPossibleAnswers,possibleAnswers:Ft.cloneDeep(i.possibleAnswers),mainPossibleAnswers:Ft.cloneDeep(i.possibleAnswers),editedPossibleAnswers:[],removedPossibleAnswers:[]}});return{id:s.id,name:s.name,instruction:s.instruction,position:s.position,duration:s.duration?`${s.duration}`:"",answerType:this.setAnswerTypeUsingPairIndex(s.answerType),autoMark:s.autoMark,random:s.random,maxQuestions:s.maxQuestions?`${s.maxQuestions}`:"",questions:Ft.cloneDeep(o),mainQuestions:Ft.cloneDeep(o),editedQuestions:[],removedQuestions:[]}})),this.data.assessmentSections=[],this.data.assessmentSections=Ft.cloneDeep(this.data.mainAssessmentSections),this.data.mainPaymentData=[],e.prices&&this.data.mainPaymentData.push(...e.prices),this.buttonText="edit",this.data.addedby={name:e.addedby.name,account:e.addedby.account,accountId:e.addedby.accountId},this.checkDiscussion(e)},setAnswerTypeUsingPairIndex(e){return!e||(e=e.toLowerCase(),!this.computedAnswerTypesPairInverse.hasOwnProperty(e))?"":this.computedAnswerTypesPairInverse[e]},arrangingModalSetUp(e,t){this.arrangingModalData=e,this.arrangingModalType=t,this.arrangingModalShow=!0},closeArrangingModal(){this.arrangingModalShow=!1,this.arrangingModalData=[],this.arrangingModalType=""},debounceGetSpecificAccountItems:Ft.debounce(function(){this.initiateGetItems(),this.getSpecificAccountItems()},200),initiateGetItems(){this.specificItems=[],this.specificItemsNextPage=1},getSearchItemsText(e){this.searchItemsText=e},inItemSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.data.attachedItems.push(e)},findItemIndex(e){return this.data.attachedItems.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.data.attachedItems.splice(t,1)},removedItemsUpdate(e){this.data.unattachedItems.findIndex(s=>e.type===s.type&&e.id===s.id)===-1&&this.data.unattachedItems.push(e)},clickedSpecificItemsText(e){e===""&&(e="none"),this.selectedSpecificItemsText=[e]},async getSpecificAccountItems(){if(this.specificItemsNextPage===null)return;let e,t={account:this.computedAccount.account,accountId:this.computedAccount.accountId,items:this.selectedSpecificItemsText,search:this.searchItemsText,for:"assessment"};this.specificItemsLoading=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemsNextPage}),this.specificItemsLoading=!1,e.status?(this.specificItemsNextPage?this.specificItems.push(...e.items):this.specificItems=e.items,e.next?this.specificItemsNextPage+=1:this.specificItemsNextPage=null):console.log("response :>> ",e)},closeModal(){this.clearData(),this.$emit("closeCreateAssessment")},clearData(){this.clearAssessmentData(),this.clearAlert()},clearAssessmentData(){this.data.name="",this.data.description="",this.data.publishedAt="",this.data.dueAt="",this.data.duration="",this.data.hasDuration=!1,this.data.random=!1,this.data.totalMark="",this.data.mainAttachedItems=[],this.data.attachedItems=[],this.data.unattachedItems=[],this.data.mainAttachments=[],this.data.attachments=[],this.data.removedAttachments=[],this.data.assessmentSections=[],this.data.removedAssessmentSections=[],this.data.mainAssessmentSections=[],this.data.editedAssessmentSections=[]},clearAssessmentSectionData(){this.emitter.emit("clearAssessmentSectionData")},goToSectionForm(){this.emitter.emit("toggleSectionForm"),this.clearAssessmentSectionData()},updateAssessmentSection(e){let t=this.data.assessmentSections.findIndex(s=>s.id===e.id);t!==-1&&this.data.assessmentSections.splice(t,1,e)},addSection(e){this.data.assessmentSections.push(this.mapAssessmentSectionData(Ft.cloneDeep(e))),this.updateAssessmentSectionsPositions(),this.clearAssessmentSectionData(),this.$refs.addsectionheading.scrollIntoView()},mapAssessmentSectionData(e){return{id:e.id.length?e.id:`${Math.floor(Math.random()*-1e3)}`,name:e.name,instruction:e.instruction,position:e.position,autoMark:e.autoMark,hasMaxQuestions:e.hasMaxQuestions,random:e.random,maxQuestions:e.maxQuestions,questions:e.questions,removedQuestions:e.removedQuestions,editedQuestions:e.editedQuestions,mainQuestions:e.mainQuestions?e.mainQuestions:[],answerType:e.answerType}},validateAssessmentData(e){if(this.validationStatus=this.validateAssessment(e),!this.validationStatus)return this.validationStatus;e.assessmentSections.forEach(t=>{if(this.validationStatus=this.validateAssessmentSection(t),!this.validationStatus)return this.validationStatus;t.questions.forEach(s=>{if(this.validationStatus=this.validateAssessmentSectionQuestion(s,t),!this.validationStatus)return this.validationStatus;s.possibleAnswers.forEach(o=>{if(this.validationStatus=this.validateAssessmentSectionQuestionPossibleAnswer(o,s),!this.validationStatus)return this.validationStatus})})})},validateAssessment(e){return e.name.length?!0:(this.issueDangerAlert({message:"name of assessment is required."}),!1)},validateAssessmentSection(e){return e.name.length?e.questions.length?!0:(this.issueDangerAlert({message:`assessment with name: ${ns.trim(e.name,this.validationItemLength)} requires at least a question.`,lengthy:!0}),!1):(this.issueDangerAlert({message:"name of assessment section is required. please check your assessment sections."}),!1)},validateAssessmentSectionQuestion(e,t){if(!e.body.length&&!e.files.length)return this.issueDangerAlert({message:`${ns.trim(t.name,this.validationItemLength)} assessment section requires it's questions to have a body or file.`}),!1;if(this.isTrueOrFalseOptionAnswerType(e.answerType)){if(e.possibleAnswers.length<2)return this.issueDangerAlert({message:`${ns.trim(e.body,this.validationItemLength)} question requires at least two possible answers.`,lengthy:!0}),!1}else if(this.isArrangeFlowAnswerType(e.answerType)&&e.possibleAnswers.length<2)return this.issueDangerAlert({message:`${ns.trim(e.body,this.validationItemLength)} question requires at least two options to be re-ordered.`,lengthy:!0}),!1;return!0},validateAssessmentSectionQuestionPossibleAnswer(e,t){return e.option.length?!0:(this.issueDangerAlert({message:`possible answers of ${ns.trim(t.body,this.validationItemLength)} question requires an option.`,lengthy:!0}),!1)},isTrueOrFalseOptionAnswerType(e){return e==="true_false"||e==="option"},isArrangeFlowAnswerType(e){return e==="arrange"||e==="flow"},mapFinalAssessmentSection(e,t=!0){return console.log("before",e),e.assessmentSectionId=t?e.id:null,e.removedQuestions=t?e.removedQuestions.map(s=>({questionId:s.id})):[],e.mainQuestions.forEach(s=>{e.questions.forEach((o,i)=>{s.id==o.id&&(Ft.isEqual(s,o)||e.editedQuestions.push(this.mapFinalAssessmentSectionQuestion(o)),e.questions.splice(i,1))})}),e.mainQuestions&&delete e.mainQuestions,e.questions.map(s=>this.mapFinalAssessmentSectionQuestion(s,!1)),console.log("after",e),e},mapFinalAssessmentSectionQuestion(e,t=!0){return e.removedPossibleAnswers=t?e.removedPossibleAnswers.map(s=>({possibleAnswerId:s.id})):[],e.questionId=t?e.id:null,e.mainPossibleAnswers.forEach(s=>{e.possibleAnswers.forEach((o,i)=>{s.id==o.id&&(Ft.isEqual(s,o)||e.editedPossibleAnswers.push(this.mapFinalAssessmentSectionQuestionPossibleAnswer(o)),e.possibleAnswers.splice(i,1))})}),e.possibleAnswers.map(s=>this.mapFinalAssessmentSectionQuestionPossibleAnswer(s,!1)),e.mainFiles.forEach(s=>{e.files.forEach((o,i)=>{Ft.isEqual(s,o)&&e.files.splice(i,1)})}),e.removedFiles=t?e.removedFiles.map(s=>({id:s.id,type:s.type})):[],e.mainPossibleAnswers&&delete e.mainPossibleAnswers,e.mainFiles&&delete e.mainFiles,e.files.forEach(s=>{this.formData.append(`question${e.id}[]`,s)}),e},mapFinalAssessmentSectionQuestionPossibleAnswer(e,t=!0){return e.possibleAnswerId=t?e.id:null,e},clickedProfile(e){this.formData.append("account",e.account),this.formData.append("accountId",e.accountId),this.$emit("clickedCreate",this.formData),this.closeModal()},async createOrEditAssessment(){this.loading=!0;let e;if(this.setAssessmentFormData(),this.edit?e=await this["dashboard/editAssessment"](this.formData):e=await this["dashboard/createAssessment"](this.formData),this.loading=!1,!e.status){this.issueDangerAlertForResponse(e.response),console.log("response :>> ",e);return}let t=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.name} was successfully ${t} `,this.edit||this.clearData()},setAssessmentFormData(){this.formData=new FormData,this.main&&(this.formData.append("account",this.computedAccount.account),this.formData.append("accountId",this.computedAccount.accountId)),this.formData.append("name",this.data.name),this.formData.append("description",this.data.description),this.schoolAdmin&&this.formData.append("adminId",this.schoolAdmin.id),this.formData.append("paymentData",JSON.stringify(this.data.paymentData)),this.formData.append("main",JSON.stringify(this.main)),this.formData.append("social",JSON.stringify(!this.main)),this.formData.append("dueAt",this.data.dueAt),this.formData.append("publishedAt",this.data.publishedAt),this.formData.append("totalMark",JSON.stringify(this.data.totalMark)),this.formData.append("duration",JSON.stringify(this.data.duration)),this.formData.append("attachments",JSON.stringify(this.getOnlyNewAttachments())),this.formData.append("type",this.data.type);let e=Ft.cloneDeep(this.data.assessmentSections);if(this.edit){this.formData.append("assessmentId",this.data.assessmentId),this.formData.append("removedAttachments",JSON.stringify(this.data.removedAttachments)),this.data.editedAssessmentSections=[],this.data.mainAssessmentSections.forEach(s=>{e.forEach((o,i)=>{s.id==o.id&&(Ft.isEqual(s,o)||this.data.editedAssessmentSections.push(this.mapFinalAssessmentSection(o)),e.splice(i,1))})}),this.formData.append("editedAssessmentSections",JSON.stringify(this.data.editedAssessmentSections)),this.formData.append("assessmentSections",JSON.stringify(e.map(s=>this.mapFinalAssessmentSection(s,!1)))),this.formData.append("removedAssessmentSections",JSON.stringify(this.data.removedAssessmentSections.map(s=>({assessmentSectionId:s.id}))));let t=Ft.cloneDeep(this.data.attachedItems);this.data.mainAttachedItems.forEach(s=>{let o=this.data.attachedItems.findIndex(i=>i.type===s.type&&i.id===s.id);o===-1&&this.removedItemsUpdate(s),o>-1&&t.splice(o,1)}),this.formData.append("attachedItems",JSON.stringify(t.map(s=>({itemId:s.id,item:s.type})))),this.formData.append("unattachedItems",JSON.stringify(this.data.unattachedItems.map(s=>({type:s.type,id:s.id})))),this.formData.append("removedPaymentData",JSON.stringify(this.data.removedPaymentData.map(s=>({type:s.type,id:s.id}))));return}this.formData.append("assessmentSections",JSON.stringify(e.map(t=>this.mapFinalAssessmentSection(t,!1)))),this.formData.append("attachedItems",JSON.stringify(this.data.attachedItems.map(t=>({itemId:t.id,item:t.type}))))},clickedCreate(){if(this.validateAssessmentData(this.data),!this.validationStatus){this.formData=null;return}if(this.main){this.createOrEditAssessment();return}this.setAssessmentFormData(),this.showProfiles=!0}}},vv=e=>(gs("data-v-b91443c0"),e=e(),vs(),e),x7={slot:"main"},P7={slot:"input"},M7=vv(()=>h("div",{class:"section"},"Assessment Info",-1)),E7={key:2,class:"type"},O7=vv(()=>h("div",{class:"small-msg"},' choose public if you want assessment to be taken or marked by only accounts invited or whose requests you have accepted." ',-1)),R7={key:4,class:"section"},N7={key:6,class:"section"},L7={key:7,class:"attachments-section"},F7={key:8,class:"msg"},U7={key:9,class:"attachments-section bg-red-400"},B7={key:11,class:"section"},j7={key:12,class:"no-data"},V7={key:13,class:"class-wrapper"},q7={key:15,class:"items-section"},H7={key:0,class:"class-wrapper"},W7={class:"search-items"},z7={key:1,class:"no-data"},G7={class:"section add",ref:"addsectionheading"},Y7={key:16,class:"small-msg"},Q7={key:17,class:"sections red"},K7={slot:"buttons"},J7={key:0,class:"profiles"},X7=vv(()=>h("span",null," create as ",-1));function $7(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("main-checkbox"),A=_("number-input"),D=_("date-picker"),E=_("radio-input"),T=_("main-select"),N=_("attachment-badge"),F=_("post-attachment"),R=_("item-badge"),j=_("search-input"),W=_("grey-button"),Q=_("font-awesome-icon"),le=_("assessment-section-form"),me=_("assessment-section-badge"),k=_("profile-bar"),Ce=_("post-button"),he=_("welcome-form"),Ke=_("arranging-modal"),Te=_("create-discussion"),Ve=_("main-modal"),ut=_("just-fade");return a(),S(ut,null,{default:z(()=>[s.show?(a(),S(Ve,{key:0,show:s.show,mainOther:!1,requests:!1,long:!0,onMainModalDisappear:n.closeModal,class:"create-asessment-modal-wrapper"},{default:z(()=>[h("template",x7,[b(he,{title:i.title,class:"welcome-form"},{default:z(()=>[h("template",P7,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),b(f,{class:"loading",loading:i.loading},null,8,["loading"]),M7,b(m,{bottomBorder:!0,placeholder:"assessment name*",modelValue:i.data.name,"onUpdate:modelValue":t[0]||(t[0]=de=>i.data.name=de),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,placeholder:"description of the assessment",modelValue:i.data.description,"onUpdate:modelValue":t[1]||(t[1]=de=>i.data.description=de),class:"other-input"},null,8,["modelValue"]),b(g,{modelValue:i.data.random,"onUpdate:modelValue":t[2]||(t[2]=de=>i.data.random=de),label:"has randomized questions",title:"check if you want all assessment sections to have randomized questions",class:"other-input"},null,8,["modelValue"]),b(g,{modelValue:i.data.hasDuration,"onUpdate:modelValue":t[3]||(t[3]=de=>i.data.hasDuration=de),label:"has duration",title:"check if assessment should be taken for a duration",class:"other-input"},null,8,["modelValue"]),i.data.hasDuration?(a(),S(A,{key:0,bottomBorder:!0,label:"duration",placeholder:"duration",prepend:"in minutes",modelValue:i.data.duration,"onUpdate:modelValue":t[4]||(t[4]=de=>i.data.duration=de),hasMax:!1,class:"number-input"},null,8,["modelValue"])):c("",!0),b(A,{bottomBorder:!0,placeholder:"score assessment over",modelValue:i.data.totalMark,"onUpdate:modelValue":t[5]||(t[5]=de=>i.data.totalMark=de),hasMax:!1,hasMin:!1,inputMax:n.computedTotalMark,class:"number-input"},null,8,["modelValue","inputMax"]),b(D,{bottomBorder:!0,modelValue:i.data.publishedAt,"onUpdate:modelValue":t[6]||(t[6]=de=>i.data.publishedAt=de),class:"other-input",placeholder:"date to show this assessment",flatPickrConfig:{dateFormat:"F j, Y H:i",enableTime:!0,minDate:n.computedMinimumPublishedAt}},null,8,["modelValue","flatPickrConfig"]),i.data.publishedAt.length?(a(),S(D,{key:1,bottomBorder:!0,modelValue:i.data.dueAt,"onUpdate:modelValue":t[7]||(t[7]=de=>i.data.dueAt=de),class:"other-input",placeholder:"due date for assessment",flatPickrConfig:{dateFormat:"F j, Y H:i",enableTime:!0,minDate:n.computedMinimumDueAt}},null,8,["modelValue","flatPickrConfig"])):c("",!0),s.main?c("",!0):(a(),d("div",E7,[b(E,{modelValue:i.data.type,"onUpdate:modelValue":t[8]||(t[8]=de=>i.data.type=de),radioValue:"public",label:"public"},null,8,["modelValue"]),b(E,{modelValue:i.data.type,"onUpdate:modelValue":t[9]||(t[9]=de=>i.data.type=de),radioValue:"private",label:"private"},null,8,["modelValue"])])),O7,s.edit?(a(),S(T,{key:3,items:["pending","accepted","declined","suspended"],value:i.data.state,backgroundColor:"white",onSelection:n.stateSelection,class:"other-input",placeholder:"change state of class"},null,8,["value","onSelection"])):c("",!0),n.computedHasDueAt&&!s.edit?(a(),d("div",R7,"Discussion")):c("",!0),n.computedHasDueAt&&!s.edit&&!i.data.discussionData.title.length?(a(),S(g,{key:5,modelValue:i.data.discussion,"onUpdate:modelValue":t[10]||(t[10]=de=>i.data.discussion=de),label:"automatically add a discussion?",class:"class-input"},null,8,["modelValue"])):c("",!0),s.main?c("",!0):(a(),d("div",N7,"Assessment Attachments")),!s.main&&i.data.attachments.length?(a(),d("div",L7,[(a(!0),d(Z,null,pe(i.data.attachments,(de,We)=>(a(),S(N,{key:We,hasClose:!0,attachment:de.data,type:de.type,onRemoveAttachment:e.clickedRemoveAttachment},null,8,["attachment","type","onRemoveAttachment"]))),128))])):c("",!0),s.edit&&i.data.removedAttachments.length?(a(),d("div",F7,"attachments to be removed")):c("",!0),!s.main&&s.edit&&i.data.removedAttachments.length?(a(),d("div",U7,[(a(!0),d(Z,null,pe(i.data.removedAttachments,(de,We)=>(a(),S(N,{key:We,hasClose:!0,attachment:de.data,type:de.type,onRemoveAttachment:e.clickedUndoRemoveAttachment},null,8,["attachment","type","onRemoveAttachment"]))),128))])):c("",!0),s.main?c("",!0):(a(),S(F,{key:10,show:!0,hasSelect:!0,hasClose:!1,onClickedAttachmentSelection:e.attachmentSelected,class:"post-attachment"},null,8,["onClickedAttachmentSelection"])),s.main?(a(),d("div",B7,"Assessment Attachments")):c("",!0),i.data.attachedItems.length?(a(),d("div",j7," this assessment is attached to these ")):c("",!0),i.data.attachedItems.length?(a(),d("div",V7,[(a(!0),d(Z,null,pe(i.data.attachedItems,(de,We)=>(a(),S(R,{key:We,item:de,type:"course",hasRemove:!0,class:"class-badge",onClickedRemoveItem:n.removeItem},null,8,["item","onClickedRemoveItem"]))),128))])):c("",!0),s.main?(a(),S(j,{key:14,class:"search-input",placeholder:"search for courses/extracurriculums/classes/programs/lessons",onSearch:n.getSearchItemsText},null,8,["onSearch"])):c("",!0),s.main?(a(),d("div",q7,[b(f,{loading:i.specificItemsLoading,size:"12px",class:"loading"},null,8,["loading"]),n.computedSpecificItems.length?(a(),d("div",H7,[(a(!0),d(Z,null,pe(n.computedSpecificItems,(de,We)=>(a(),S(R,{key:We,item:de,type:"course",hasRemove:n.inItemSelection(de),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),h("div",W7,[(a(!0),d(Z,null,pe(i.specificItemsTexts,(de,We)=>(a(),S(W,{key:We,text:de,onClickedAction:n.clickedSpecificItemsText,active:i.selectedSpecificItemsText[0]===de},null,8,["text","onClickedAction","active"]))),128))]),!i.specificItemsLoading&&!n.computedSpecificItems.length?(a(),d("div",z7,V(n.computedNoItem),1)):c("",!0),n.computedShowGetMore?(a(),d("div",{key:2,class:"get-more",onClick:t[11]||(t[11]=(...de)=>n.getSpecificAccountItems&&n.getSpecificAccountItems(...de))}," get more ")):c("",!0)])):c("",!0),h("div",G7,[Mt(" Assessment Sections "),b(Q,{icon:["fa","plus"],title:"add new section",class:"plus",onClick:n.goToSectionForm},null,8,["onClick"])],512),b(le,{class:"sections",onAddSection:n.addSection,onUpdateAssessmentSection:n.updateAssessmentSection,onRemoveAssessmentSection:n.removeAssessmentSection,assessmentSections:i.data.assessmentSections},null,8,["onAddSection","onUpdateAssessmentSection","onRemoveAssessmentSection","assessmentSections"]),i.data.removedAssessmentSections.length?(a(),d("div",Y7," these assessment sections have been deleted ")):c("",!0),i.data.removedAssessmentSections.length?(a(),d("div",Q7,[(a(!0),d(Z,null,pe(i.data.removedAssessmentSections,(de,We)=>(a(),S(me,{key:We,assessmentSection:de,removed:!0,onUndoAssessmentSectionRemoval:n.undoAssessmentSectionRemoval},null,8,["assessmentSection","onUndoAssessmentSectionRemoval"]))),128))])):c("",!0)]),h("template",K7,[i.showProfiles?(a(),d("div",J7,[X7,(a(!0),d(Z,null,pe(n.computedProfiles,(de,We)=>(a(),d("div",{key:We},[b(k,{smallType:!0,profile:de,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0),n.computedShowPostButton?(a(),S(Ce,{key:1,buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])):c("",!0)])]),_:1},8,["title"]),b(Ke,{data:i.arrangingModalData,type:i.arrangingModalType,show:i.arrangingModalShow,onCloseArrangingModal:n.closeArrangingModal},null,8,["data","type","show","onCloseArrangingModal"]),i.data.discussion&&n.computedHasDueAt?(a(),S(Te,{key:0,show:i.data.discussion,edit:s.edit,auto:!0,onClickedCreate:n.getDiscussionData,onCreateDiscussionDisappear:n.closeDiscussionModal},null,8,["show","edit","onClickedCreate","onCreateDiscussionDisappear"])):c("",!0)])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const uA=Ae(D7,[["render",$7],["__scopeId","data-v-b91443c0"]]),Z7={props:{type:{type:Object,default(){return{}}},post:{type:Object,default(){return{}}},typeName:{type:String,default:""},typeMediaFull:{type:Boolean,default:!1},showButton:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},components:{PostButton:xs,MainTextarea:dr},data(){return{showImage:!1,showVideo:!1,showAudio:!1,typeValue:""}},watch:{type:{immediate:!0,handler(e,t){this.showImage=!1,this.showVideo=!1,this.showAudio=!1,e instanceof Object&&(this.type.images&&this.type.images.length>0?this.showImage=!0:this.type.videos&&this.type.videos.length>0?this.showVideo=!0:this.type.audios&&this.type.audios.length>0&&(this.showAudio=!0))},deep:!0}},computed:{computedMustAnswer(){return this.typeName==="riddle"||this.typeName==="question"},computedAnswers(){return this.computedMustAnswer?this.type.answers_number:""},computedImageUrl(){return this.type.images?this.type.images[0].url:""},computedVideoUrl(){return this.type.videos?this.type.videos[0].url:""},computedAudioUrl(){return this.type.audios?this.type.audios[0].url:""},computedHeading(){return this.type.title&&this.type.title.length?this.type.title:""},computedType(){return this.typeName?this.typeName:""},computedAuthor(){return this.type&&this.type.hasOwnProperty("author")?this.type.author:""},computedPossibleAnswers(){return this.type.hasOwnProperty("possible_answers")&&this.type.possibleAnswers.length?this.disabled?!0:!!this.typeMediaFull:!1},computedBody(){if(this.type)if(this.typeName==="book")if(this.type.about&&this.type.about.length)this.typeValue=this.typeMediaFull?this.type.about:ns.trim(this.type.about);else return!1;else if(this.typeName==="poem")if(this.type.sections&&this.type.sections.length){let e=ns.arrayToNewLineStrings(this.type.sections.map(t=>t.body));this.typeValue=this.typeMediaFull?e:ns.trim(e,200,!0)}else return!1;else if(this.typeName==="question")if(this.type.body&&this.type.body.length)this.typeValue=this.typeMediaFull?this.type.body:ns.trim(this.type.body);else return!1;else if(this.typeName==="activity")if(this.type.description&&this.type.description.length)this.typeValue=this.typeMediaFull?this.type.description:ns.trim(this.type.description);else return!1;else if(this.typeName==="riddle")if(this.type.body&&this.type.body.length)this.typeValue=this.typeMediaFull?this.type.body:ns.trim(this.type.body);else return!1;else this.typeValue="";else return!1;return!0}},methods:{clickedAnswer(){this.$emit("clickedAnswer")},clickedMedia(e,t){this.$emit("clickedMedia",{url:e,mediaType:t})},clickedShowPostPreview(){this.typeMediaFull||this.disabled||this.$emit("clickedShowPostPreview",{data:{type:this.type,typeName:this.typeName,postId:this.post.id,owner:{account:ns.getAccount(this.post.addedby_type),accountId:this.post.addedby_id}},type:"posttype"})}}},eB=e=>(gs("data-v-4307c4c1"),e=e(),vs(),e),tB={class:"author"},sB={key:0,class:"answers"},nB=eB(()=>h("div",{class:"text"}," answers ",-1)),iB={class:"numbers"},oB={class:"top-section"},aB={class:"heading"},rB={class:"type"},lB={class:"middle"},cB=["src"],uB=["src"],dB=["src"],hB={key:0,class:"bottom"};function fB(e,t,s,o,i,n){const r=_("main-textarea"),f=_("post-button");return a(),d("div",{class:we(["post-preview-wrapper",{typeMediaFull:s.typeMediaFull}]),onDblclick:t[6]||(t[6]=(...m)=>n.clickedShowPostPreview&&n.clickedShowPostPreview(...m))},[h("div",tB,[n.computedMustAnswer?(a(),d("div",sB,[nB,h("div",iB,V(n.computedAnswers),1)])):c("",!0),h("div",{class:we({pushRight:!n.computedMustAnswer})}," authored by "+V(n.computedAuthor),3)]),h("div",oB,[h("div",aB,V(n.computedHeading),1),h("div",rB,V(n.computedType),1)]),h("div",lB,[n.computedBody?(a(),d("div",{key:0,class:"body",onDblclick:t[1]||(t[1]=(...m)=>n.clickedShowPostPreview&&n.clickedShowPostPreview(...m))},[b(r,{value:i.typeValue,disabled:!0},null,8,["value"]),n.computedPossibleAnswers?(a(),d("div",{key:0,class:"possible-answers",onClick:t[0]||(t[0]=(...m)=>n.clickedShowPostPreview&&n.clickedShowPostPreview(...m))},[(a(!0),d(Z,null,pe(s.type.possibleAnswers,(m,v)=>(a(),d("div",{class:"answer",key:v},V(m.option),1))),128))])):c("",!0)],32)):c("",!0),h("div",{class:we(["preview",{typeMediaFull:s.typeMediaFull}]),onDblclick:t[5]||(t[5]=(...m)=>n.clickedShowPostPreview&&n.clickedShowPostPreview(...m))},[i.showImage?(a(),d("img",{key:0,src:n.computedImageUrl,onClick:t[2]||(t[2]=m=>n.clickedMedia(n.computedImageUrl,"image"))},null,8,cB)):c("",!0),i.showVideo?(a(),d("audio",{key:1,src:n.computedAudioUrl,controlslist:"nodownload",onClick:t[3]||(t[3]=m=>n.clickedMedia(n.computedAudioUrl,"audio"))},null,8,uB)):c("",!0),i.showAudio?(a(),d("video",{key:2,src:n.computedVideoUrl,controlslist:"nodownload",onClick:t[4]||(t[4]=m=>n.clickedMedia(n.computedVideoUrl,"video"))},null,8,dB)):c("",!0)],34)]),s.showButton&&s.typeMediaFull?(a(),d("div",hB,[b(f,{buttonText:"answer",onClick:n.clickedAnswer},null,8,["onClick"])])):c("",!0)],34)}const dA=Ae(Z7,[["render",fB],["__scopeId","data-v-4307c4c1"]]),mB={props:{lesson:{type:Object,default(){return{}}},full:{type:Boolean,default:!1},profileUrl:{type:String,default:""}},components:{FilePreview:Lo,ProfilePicture:Ys},data(){return{showDescription:!1,showFilePreview:!1,resourceType:""}},computed:{computedCheckDescription(){return!this.showDescription&&this.computedDescription.length},computedImageUrl(){return this.lesson.images?this.lesson.images[0].url:""},computedVideoUrl(){return this.lesson.videos?this.lesson.videos[0].url:""},computedAudioUrl(){return this.lesson.audios?this.lesson.audios[0].url:""},computedAgeGroup(){return this.lesson.ageGroup&&this.lesson.ageGroup.length?`age group: ${this.lesson.ageGroup}`:""},computedDescription(){return this.lesson.description&&this.lesson.description.length?this.lesson.description:""},computedTitle(){return this.lesson.title&&this.lesson.title.length?this.lesson.title:""}},methods:{clickedCheckDescription(){this.showDescription=!this.showDescription},clickedResource(e){if(this.resourceType===e){this.showFilePreview=!this.showFilePreview,this.file=null,this.resourceType="";return}this.resourceType=e,e==="image"?this.file=this.lesson.images[0]:e==="video"?this.file=this.lesson.videos[0]:e==="audio"&&(this.file=this.lesson.audios[0]),this.showFilePreview=!0},clickedMedia(e,t){this.$emit("clickedMedia",{url:e,mediaType:t})}}},pB=e=>(gs("data-v-b211b7a6"),e=e(),vs(),e),gB={class:"lesson-preview-wrapper"},vB={slot:"image"},yB=["src"],wB={class:"main-section"},_B={class:"resources-section"},bB=pB(()=>h("div",{class:"heading"},"available reources",-1)),kB={class:"resource-types"},AB=["src"],CB=["src"],SB=["src"],IB={key:1,class:"age-group"};function TB(e,t,s,o,i,n){const r=_("profile-picture"),f=_("just-fade");return a(),d("div",gB,[b(r,{class:"profile-picture"},{default:z(()=>[h("template",vB,[h("img",{src:s.profileUrl,alt:"profile picture"},null,8,yB)])]),_:1}),h("div",wB,[h("div",{class:we(["title",{titleFull:s.full}])},V(n.computedTitle),3),n.computedCheckDescription?(a(),d("div",{key:0,class:"check-description",onClick:t[0]||(t[0]=(...m)=>n.clickedCheckDescription&&n.clickedCheckDescription(...m))},"check description")):c("",!0),b(f,null,{default:z(()=>[i.showDescription?(a(),d("div",{key:0,class:"description",onClick:t[1]||(t[1]=(...m)=>n.clickedCheckDescription&&n.clickedCheckDescription(...m))},V(n.computedDescription),1)):c("",!0)]),_:1}),h("div",_B,[bB,h("div",kB,[n.computedImageUrl.length?(a(),d("div",{key:0,class:we(["resource-item",{active:i.resourceType==="image"}]),onClick:t[2]||(t[2]=m=>n.clickedResource("image"))},"image",2)):c("",!0),n.computedVideoUrl.length?(a(),d("div",{key:1,class:we(["resource-item",{active:i.resourceType==="video"}]),onClick:t[3]||(t[3]=m=>n.clickedResource("video"))},"video",2)):c("",!0),n.computedAudioUrl.length?(a(),d("div",{key:2,class:we(["resource-item",{active:i.resourceType==="audio"}]),onClick:t[4]||(t[4]=m=>n.clickedResource("audio"))},"audio",2)):c("",!0)]),b(f,null,{default:z(()=>[i.showFilePreview?(a(),d(Z,{key:0},[i.showFilePreview?(a(),d("div",{key:0,class:we(["file-preview",{typeMediaFull:s.full}])},[n.computedImageUrl.length&&i.resourceType==="image"?(a(),d("img",{key:0,src:n.computedImageUrl,onClick:t[5]||(t[5]=m=>n.clickedMedia(n.computedImageUrl,"image"))},null,8,AB)):c("",!0),n.computedAudioUrl.length&&i.resourceType==="audio"?(a(),d("audio",{key:1,src:n.computedAudioUrl,controls:"",controlslist:"nodownload",onClick:t[6]||(t[6]=m=>n.clickedMedia(n.computedAudioUrl,"audio"))},null,8,CB)):c("",!0),n.computedVideoUrl.length&&i.resourceType==="video"?(a(),d("video",{key:2,src:n.computedVideoUrl,controls:"",controlslist:"nodownload",onClick:t[7]||(t[7]=m=>n.clickedMedia(n.computedVideoUrl,"video"))},null,8,SB)):c("",!0)],2)):c("",!0)],64)):c("",!0)]),_:1})]),n.computedAgeGroup?(a(),d("div",IB,V(n.computedAgeGroup),1)):c("",!0)])])}const DB=Ae(mB,[["render",TB],["__scopeId","data-v-b211b7a6"]]),xB={props:{show:{type:Boolean,default:!1},hasSave:{type:Boolean,default:!0},hasAttachment:{type:Boolean,default:!0},isSaved:{type:Boolean,default:!1},hasEdit:{type:Boolean,default:!0},horizontal:{type:Boolean,default:!1},hasDelete:{type:Boolean,default:!0},hasOthers:{type:Boolean,default:!1},others:{type:Array,default(){return[]}},hasExtra:{type:Boolean,default:!1},extraText:{type:String,default:""},showEdit:{type:Boolean,default:!0}},components:{},methods:{clickedOption(e){this.$emit("clickedOption",e)}}},PB={key:0,class:"option"},MB={key:1,class:"option"},EB={key:2,class:"option"},OB={key:3,class:"option"},RB={key:4,class:"option"},NB=["onClick"];function LB(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("just-fade");return a(),S(f,null,{default:z(()=>[s.show?(a(),d("div",{key:0,class:we(["options-wrapper",{horizontal:s.horizontal}])},[s.hasSave&&!s.hasOthers?(a(),d("div",PB,[b(r,{icon:["fa","bookmark"]}),h("span",{onClick:t[0]||(t[0]=m=>n.clickedOption("save"))},V(s.isSaved?"unsave":"save"),1)])):c("",!0),s.hasAttachment&&!s.hasOthers?(a(),d("div",MB,[b(r,{icon:["fa","paperclip"]}),h("span",{onClick:t[1]||(t[1]=m=>n.clickedOption("attach"))}," attach ")])):c("",!0),s.hasEdit&&s.showEdit&&!s.hasOthers?(a(),d("div",EB,[b(r,{icon:["fa","pen"]}),h("span",{onClick:t[2]||(t[2]=m=>n.clickedOption("edit"))},"edit")])):c("",!0),s.hasDelete&&!s.hasOthers?(a(),d("div",OB,[b(r,{icon:["fa","trash"]}),h("span",{onClick:t[3]||(t[3]=m=>n.clickedOption("delete"))},"delete")])):c("",!0),s.hasExtra&&!s.hasOthers?(a(),d("div",RB,[Jt(e.$slots,"extraicon",{},void 0,!0),h("span",{onClick:t[4]||(t[4]=m=>n.clickedOption(s.extraText))},V(s.extraText),1)])):c("",!0),s.hasOthers?(a(!0),d(Z,{key:5},pe(s.others,(m,v)=>(a(),d("div",{class:"option",key:v},[m.icon?(a(),S(r,{key:0,icon:m.icon},null,8,["icon"])):c("",!0),h("span",{onClick:g=>n.clickedOption(m)},V(m.nanme?m.name:m),9,NB)]))),128)):c("",!0)],2)):c("",!0)]),_:3})}const Wr=Ae(xB,[["render",LB],["__scopeId","data-v-62d20e76"]]);function Md(){const e=_i(),t=at({action:"",text:"",only:!1,show:!1});Us(()=>t.value.show,n=>{n&&setTimeout(()=>{i()},4e3)});const s=Wt(()=>e.getters.getProfiles?e.getters.getProfiles:[]),o=()=>{t.value.show=!0},i=()=>{t.value.show=!1,t.value.only=!1,t.value.text=""};return{profilesData:t,computedProfiles:s,profilesAppear:o,clearProfilesData:i}}function Ed(){const e=at({message:"",danger:!1,success:!1,lengthy:!1});function t(){e.value.success=!1,e.value.danger=!1,e.value.lengthy=!1,e.value.message=""}function s(r){r.type="danger",i(r)}function o(r){r.type="success",i(r)}function i(r){e.value.danger=r.type==="danger",e.value.success=r.type==="success",e.value.lengthy=r.lengthy,e.value.message=r.message}function n(r,f=null,m=null){var v,g,A;if(e.value.danger=!0,(v=r==null?void 0:r.data)!=null&&v.message){e.value.message=r.data.message;return}if(r!=null&&r.message){e.value.message=r.message;return}if((A=(g=r==null?void 0:r.response)==null?void 0:g.data)!=null&&A.message){e.value.message=r.response.data.message;return}if(f){e.value.message=f;return}if(m){e.value.message=`${m?"editing":"creation"} was unsuccessful `;return}e.value.message="oops! something happened . please try again later."}return{alertData:e,clearAlert:t,issueAlert:i,issueDangerAlert:s,issueSuccessAlert:o,issueDangerAlertForResponse:n}}function FB(e){const t=Ns(),s=_i(),{alertData:o}=Ed(),{profilesData:i,profilesAppear:n}=Md(),r=at(!1),f=at({isAttached:!1,myAttachments:null,postAttachments:[],attachable:null,showAttach:!1,selectedAttachment:null});Us(()=>f.value.postAttachments,()=>{var T;(T=f.value.postAttachments)!=null&&T.length&&(f.value.myAttachments=null,f.value.isAttached=!1)}),Us(()=>f.value.myAttachments,()=>{var T;(T=f.value.myAttachments)!=null&&T.length&&(f.value.isAttached=!0)});const m=Wt(()=>t.name);function v({item:T,itemId:N}){!T||!N||r.value||(r.value=!0,Echo.channel(`youredu.${T}.${N}`).listen(".newAttachment",F=>{s.dispatch(`${m.value}/newAttachment`,{item:T,itemId:N,attachment:F.attachment})}).listen(".deleteAttachment",F=>{s.dispatch(`${m.value}/removeAttachment`,{item:T,itemId:N,attachmentId:F.attachmentId})}))}async function g(T,{item:N,itemId:F,postType:R}){let j={},W=null,Q="";if(j.where=m.value,j.item=N,j.itemId=F,j.postType=R,T?(Q="attachment",j.type=f.value.attachable.item,j.typeId=f.value.attachable.itemId,j.account=T.account,j.accountId=T.accountId,j.note=f.value.attachable.note,W=await s.dispatch("profile/createAttachment",j)):(Q="unattachment",j.attachmentId=f.value.selectedAttachment.id,W=await s.dispatch("profile/deleteAttachment",j)),!W.status){o.value.danger=!0,o.value.message=`${Q} unsuccessful `;return}o.value.success=!0,o.value.message=`${Q} successful `,A()}function A(){s.getters.getUser&&e!=null&&e.hasOwnProperty("attachments")&&(f.value.myAttachments=e.attachments.filter(T=>T.user_id==s.getters.getUser.id).map(T=>({id:T.id,with_type:ns.getAccount(T.attachedwith_type),with_id:T.attachedwith_id,with:T.name})),f.value.postAttachments=e.attachments.map(T=>({data:{name:T.name},type:ns.getAccount(T.attachedwith_type)})))}function D(T){f.value.showAttach=!1,f.value.selectedAttachment=T,g(null)}function E(T){f.value.showAttach=!1,f.value.attachable=T,i.value.action="attach",i.value.text="attach as",n()}return{attachmentData:f,computedRouteName:m,listenForAttachments:v,attach:g,clickedUnattach:D,attachmentClicked:E,setMyAttachment:A}}function yv(){const e=at({show:!1,type:"",info:!1,delete:!1,data:null,title:"",alerting:!1,action:"",message:""});function t(f="",{info:m=!1,del:v=!1,data:g=null,title:A="",message:D="",alerting:E=!1,action:T=""}){e.value.type=f,e.value.info=m,e.value.title=A,e.value.message=D,e.value.alerting=E,e.value.delete=v,e.value.data=g,e.value.action=T,e.value.show=!0}function s(){e.value.type="",e.value.data=null,e.value.show=!1,e.value.delete=!1,e.value.info=!1,e.value.title="",e.value.message="",e.value.alerting=!1,e.value.action=""}function o(){var f;e.value.message=`are you sure you want to delete this ${(f=this.computedItem)==null?void 0:f.item}?`,e.value.info=!1,e.value.delete=!0,e.value.show=!0}function i(f=!0){setTimeout(()=>{e.value.show=!1,e.value.info=!1,e.value.delete=!1,e.value.alerting=!1,e.value.data=null,e.value.message=""},f?0:4e3)}function n(f){e.value.info=f.type==="info",e.value.delete=f.type==="delete",e.value.data=f.data,e.value.message=f.message,e.value.show=!0}function r(f){e.value.delete=!1,e.value.info=!0,e.value.data=f.data,e.value.message=f.message,e.value.show=!0}return{modalData:e,showModal:t,closeModal:s,issueCustomMessage:n,issueSmallModalDeletionMessage:o,issueSmallModalInfoMessage:r,clearSmallModal:i}}function UB(e){const t=_i(),s=Ns(),o=at(!1),i=at(!1),n=Wt(()=>{var f;return((f=e.comments)==null?void 0:f.length)>0?Ft.take(e.comments,2):null});function r(){i.value||(i.value=!0,Echo.channel(`youredu.${e.item}.${e.itemId}`).listen(".updateComment",f=>{t.dispatch(`${s.name}/replaceComment`,f)}).listen(".deleteComment",f=>{t.dispatch(`${s.name}/removeComment`,{...f,...e})}).listen(".newComment",f=>{t.dispatch(`${s.name}/newComment`,f)}))}return{showAddComment:o,computedComments:n,listenForComments:r}}function BB(e){const{profilesAppear:t,profilesData:s}=Md(),{alertData:o}=Ed(),i=Ns(),n=_i(),r=at({isSaved:!1,mySave:null,saves:0});Us(()=>r.value.mySave,A=>{if(A){r.value.isSaved=!0;return}r.value.isSaved=!1});function f(){}async function m({who:A,schoolAdmin:D=null,emits:E}){s.value.show=!1;let T={item:e.item,itemId:e.itemId},N=null,F="";if(D&&(T.adminId=D.id),T.where=i.name,A?(T.account=A.account,T.accountId=A.accountId,F="saving",r.value.saves+=1,N=await n.dispatch("profile/createSave",T)):(T.saveId=r.value.mySave.id,F="unsaving",r.value.saves-=1,N=await n.dispatch("profile/deleteSave",T)),N.status){o.value.success=!0,o.value.message=`${F} successful`,E&&E(A?"saveSuccessful":"unsaveSuccessful",{...e,save:N.save,saveId:T.saveId}),g();return}if(o.value.danger=!0,o.value.message=`${F} unsuccessful`,A){r.saves-=1;return}r.value.saves+=1}function v(){s.value.text="save as",s.value.action="save",t()}function g(){if(!n.getters.getUser||!e){r.value.mySave=null;return}let A=e.saves.findIndex(D=>D.userId==n.getters.getUser.id);if(A>-1){r.value.mySave=e.saves[A];return}r.value.mySave=null}return{saveData:r,save:m,clickedSave:v,setMySave:g,listenForSaves:f}}function jB(e){const t=Ns(),s=_i(),{profileData:o,profilesAppear:i}=Md(),{issueCustomMessage:n,clearSmallModal:r}=yv(),f=at(!1),m=at({likeTitle:"",isLiked:!1,myLike:null,likes:0});Us(()=>m.value.isLiked,T=>{T?m.value.likeTitle=`unlike this ${e.value.item}`:m.value.likeTitle=`like this ${e.value.item}`}),Us(()=>m.value.myLike,T=>{if(T){m.value.isLiked=!0;return}m.value.isLiked=!1});function v(){f.value||(f.value=!0,Echo.channel(`youredu.${e.item}.${e.itemId}`).listen(".newLike",T=>{s.dispatch(`${t.name}/newLike`,{...e,like:T.like})}).listen(".deleteLike",T=>{s.dispatch(`${t.name}/removeLike`,{...e,likeId:T.likeId})}))}async function g({disabled:T,banned:N,emits:F,schoolAdmin:R,owner:j}){if(!(T||N)){if(!s.getters.getUser&&F){F("askLoginRegister",e.item);return}if(!s.getters.getProfiles.length){n({type:"info",message:"you must have an account (eg. learner, parent, etc) before you can like."}),r(!1);return}if(!m.value.isLiked){o.value.text="like as",o.value.action="like",i();return}m.value.myLike||m.value.myLike.hasOwnProperty("id")||A({owner:j,schoolAdmin:R,emits:F})}}async function A({owner:T,schoolAdmin:N,emits:F}){m.value.likes-=1,m.value.isLiked=!1;let R={likeId:m.value.myLike.id,item:e.item,itemId:e.itemId,owner:T.account,ownerId:T.accountId};if(N&&(R.adminId=N.id),R.where=t.name,await s.dispatch("profile/deleteLike",R)==="unsuccessful"){m.value.isLiked=!0,m.value.likes+=1,F&&F("unlikeSuccessful",{...e,likeId:R.like});return}E()}async function D({who:T,owner:N,schoolAdmin:F,emits:R}){o.value.show=!1,m.value.isLiked=!0,m.value.likes+=1;let j={item:e.item,itemId:e.itemId,account:T.account,accountId:T.accountId,owner:N.account,ownerId:N.accountId};F&&(j.adminId=F.id),j.where=t.name;let W=await s.dispatch("profile/createLike",j);if(W==="unsuccessful"){m.value.isLiked=!1,m.value.likes-=1,R&&R("likeSuccessful",{...e,like:W.like});return}E()}function E(){if(!s.getters.getUser||!e){m.value.myLike=null;return}let T=e.likes.findIndex(N=>N.userId==s.getters.getUser.id);if(T>-1){m.value.myLike=e.likes[T];return}m.value.myLike=null}return{likeData:m,setMyLike:E,like:D,deleteLike:A,clickedLike:g,listenForLikes:v}}function VB(e){const t=_i(),{alertData:s}=Ed(),{issueCustomMessage:o,clearSmallModal:i}=yv(),{profilesAppear:n,profilesData:r}=Md(),f=Ns(),m=at(!1),v=at({isFlagged:!1,myFlag:null,flagReason:"",flagTitle:"",flagRed:"",showReason:!1});Us(()=>v.value.isFlagged,R=>{R?(v.value.flagTitle="unflag this discussion",v.value.flagRed="red"):(v.value.flagTitle="flag this discussion",v.value.flagRed="")}),Us(()=>v.value.myFlag,R=>{if(R){v.value.isFlagged=!0;return}v.value.isFlagged=!1});function g(){m.value||(m.value=!1,Echo.channel(`youredu.${e.item}.${e.itemId}`).listen(".newFlag",R=>{t.dispatch(`${f.name}/newFlag`,{...e,flag:R.flag})}).listen(".deleteFlag",R=>{e.item!=="comment"&&t.dispatch(`${f.name}/removeFlag`,{...e,flagId:R.flagId})}))}function A(R){v.value.showReason=!1,v.value.flagReason=R,n()}function D(){v.value.flagReason=null,v.value.showReason=!1,n()}function E(){v.value.flagReason="",v.value.showReason=!1}function T({disabled:R,banned:j,emits:W,schoolAdmin:Q}){if(!(R||j)){if(v.value.isFlagged){N({who:null,schoolAdmin:Q,emits:W});return}if(!t.getters.getUser){W("askLoginRegister",e.item);return}if(!t.getters.getProfiles.length){o({type:"info",message:"you must have an account (eg. learner, parent, etc) before you can flag."}),i(!1);return}r.value.text="flag as",r.value.action="flag",v.value.showReason=!0}}async function N({who:R,emits:j,schoolAdmin:W}){var me;let Q={},le=null;if(Q.where=f.name,Q.itemId=e.itemId,Q.item=e.item,W&&(Q.adminId=W.id),R&&(Q.account=R.account,Q.accountId=R.accountId,Q.reason=v.value.flagReason,le=await t.dispatch("profile/createFlag",Q)),(me=v.value.myFlag)!=null&&me.flagId&&!t.getters.isAdult){s.value.danger=!0,s.value.message="sorry , you cannot unflag because it was flagged by a parent or school";return}if(!R&&v.value.myFlag&&(Q.flagId=v.value.myFlag.id,le=await t.dispatch("profile/deleteFlag",Q)),v.value.flagReason="",!le.status){s.value.danger=!0,s.value.message="oops! something unfortunate happened. try again later ";return}if(i(),F(),s.value.success=!0,R){s.value.message="successfully flagged",j("flaggedSuccessful",e);return}alertMessage="successfully unflagged",j("unflaggedSuccessful",{flag:le.flag,...e})}function F(){if(!t.getters.getUser||!e){v.value.myFlag=null;return}let R=e.flags.findIndex(j=>j.userId==t.getters.getUser.id);if(R>-1){v.value.myFlag=e.flags[R];return}v.value.myFlag=null}return{flagData:v,cancelFlagProcess:E,continueFlagProcess:D,reasonGiven:A,listenForFlags:g,setMyFlag:F,clickedFlag:T,flag:N}}function qB(e){const t=_i(),s=Ns(),{alertData:o,issueDangerAlertForResponse:i}=Ed(),n=at(!1),r=at(null),f=at(""),m=Wt(()=>t.getters.getUser&&this.computedItemable.pendingParticipants.findIndex(T=>T.userId===t.getters.getUser.id)>-1);function v(){r.value=null}function g({showDiscussionEdit:T=null,showDiscussionInfo:N=null,computedAdmin:F=!1}){n.value||(n.value=!0,Echo.channel(`youredu.${e.item}.${e.itemId}`).listen(".newParticipant",R=>{t.dispatch(`${s.name}/newItemParticipant`,{...R,...e}),o.value.success=!0,o.value.message="a new participant just joined this discussion"}).listen(".updateParticipant",R=>{t.dispatch(`${s.name}/updateItemParticipant`,{...R,...e}),t.getters.getUser&&R.participant.userId===t.getters.getUser.id&&(R.participant.state==="RESTRICTED"||R.participant.state==="BANNED")&&(N&&(N.value=!1),T&&(T.value=!1),o.value.danger=!0,o.value.message=`you have been ${R.participant.state.toLowerCase()}`)}).listen(".removeParticipant",R=>{t.dispatch(`${s.name}/removeItemParticipant`,{...R,...e}),t.getters.getUser&&R.userId===t.getters.getUser.id&&(N&&(N.value=!1),T&&(T.value=!1),o.value.danger=!0,o.value.message="you have been removed")}).listen(".newPendingParticipant",R=>{F&&(o.value.success=!0,o.value.message="new join request received"),t.dispatch(`${s.name}/newItemPendingParticipant`,{...R,...e})}).listen(".removePendingParticipant",R=>{t.dispatch(`${s.name}/removeItemPendingParticipant`,{...R,...e})}))}async function A(T){let N,F={account:T.account,accountId:T.accountId,type:f.value};if(N=await t.dispatch("profile/joinItem",{computedItem:e,item:e.main,data:F}),f.value="",!N.status){i(N,"oops ! something happened. please try again later");return}if(o.value.success=!0,e.main.type==="PRIVATE"){o.value.message=`you have successfully requested to participate in this ${e.item}. have fun as you wait for owners response .`;return}o.value.message=`you have been successfully added to ${e.item}. you can now participate .`}async function D(T){let N,F={account:T.account,accountId:T.accountId,type:f.value};if(N=await t.dispatch("profile/inviteAccount",{item:e.main,computedItem:e,data:F}),f.value="",N.status){o.value.success=!0,o.value.message=`invitation request to ${T.name} was successfully sent`,r.value=T;return}i(N,`invitation request to ${T.name} was unsuccessfully`)}function E(T){T.action==="invite"&&D(T.account)}return{removedParticipant:r,joinOrInvitationType:f,listenForParticipation:g,doneRemovingParticipant:v,clickedParticpantAction:E,invite:D,join:A,computedPendingParticipant:m}}const HB=Ef('<div class="absolute top-0 left-0 w-[10%] h-1 bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute top-0 left-0 w-1 h-[10%] bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute top-0 right-0 w-[10%] h-1 bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute top-0 right-0 w-1 h-[10%] bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute bottom-0 right-0 w-[10%] h-1 bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute bottom-0 right-0 w-1 h-[10%] bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute bottom-0 right-0 w-full h-1 bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute bottom-0 left-0 w-[10%] h-1 bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div><div class="absolute bottom-0 left-0 w-1 h-[10%] bg-gradient-to-r from-youredubrown to-youredugreen" data-v-889e40bb></div>',9),WB={key:0,class:"loading"},zB={class:"alert"},GB={key:2,class:"options"},YB={class:"created"},QB={class:"creator"},KB=["src"],JB={class:"other"},XB=["src"],$B=["src"],ZB=["src"],e9={key:0},t9={class:"bottom"},s9={class:"attachments-section"},n9={__name:"PostSingle",props:{post:{type:Object,default(){return{}}},postMediaFull:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},schoolAdmin:{type:Object,default(){return null}}},emits:["clickedShowPostPreview","postModalCommentCreated","clickedMedia","clickedShowPostComments","askLoginRegister","saveSuccessful","unsaveSuccessful","unlikeSuccessful","likeSuccessful","flaggedSuccessful","unflaggedSuccessful"],setup(e,{emit:t}){var kt,is,St,Yt,Ms,Mn,_n,ai,ri,wo,En;const{profilesAppear:s,clearProfilesData:o,profilesData:i,computedProfiles:n}=Md(),{alertData:r,clearAlert:f}=Ed(),{modalData:m,closeModal:v,showModal:g,clearSmallModal:A,issueCustomMessage:D,issueSmallModalInfoMessage:E,issueSmallModalDeletionMessage:T}=yv(),N=Ns(),F=mo(),R=_i(),j=t,W=e,{attachmentData:Q,attach:le,listenForAttachments:me,setMyAttachment:k}=FB({itemId:(kt=W.post)==null?void 0:kt.id,attachments:(is=W.post)==null?void 0:is.attachments,item:"post"}),{showAddComment:Ce,computedComments:he,listenForComments:Ke}=UB({itemId:(St=W.post)==null?void 0:St.id,comments:(Yt=W.post)==null?void 0:Yt.comments,item:"post"}),{saveData:Te,save:Ve,setMySave:ut,clickedSave:de,listenForSaves:We}=BB({itemId:(Ms=W.post)==null?void 0:Ms.id,saves:(Mn=W.post)==null?void 0:Mn.saves,item:"post"}),{likeData:Qt,clickedLike:Lt,like:wt,listenForLikes:Je,setMyLike:Xe}=jB({itemId:(_n=W.post)==null?void 0:_n.id,likes:(ai=W.post)==null?void 0:ai.likes,item:"post"});qB({itemId:(ri=W.post)==null?void 0:ri.id,main:W.post,item:"post"});const{flagData:tt,clickedFlag:At,flag:Ct,continueFlagProcess:ls,setMyFlag:Ut,listenForFlags:qt,cancelFlagProcess:ce,reasonGiven:xe}=VB({itemId:(wo=W.post)==null?void 0:wo.id,flags:(En=W.post)==null?void 0:En.flags,item:"post"}),it=at(!1),vt=at(!1),Gt=at(!1);at(null);const jt=at(!1),ne=at(!1),re=at(!1),Pe=at(!1);xf(()=>{var dt,ys,ks,fn,mn,li;(ys=(dt=W.post)==null?void 0:dt.saves)!=null&&ys.length&&(data.value.saves=(ks=W.post)==null?void 0:ks.saves.length),(mn=(fn=W.post)==null?void 0:fn.likes)!=null&&mn.length&&(data.value.likes=(li=W.post)==null?void 0:li.likes.length)}),Ol(()=>{var dt;Ut(),Xe(),ut(),k(),sn(),Ke(),Je(),qt(),We(),me({item:"post",itemId:(dt=W.post)==null?void 0:dt.id})});const Qe=Wt(()=>{var dt;return W.post.addedby.userId===((dt=R.getters.getUser)==null?void 0:dt.id)}),Be=Wt(()=>{let dt="";return(i.value.action==="save"||i.value.action==="attach")&&(dt+="absolute top-5 left-2/3 -ml-1/4 top-10 max-w-content"),dt}),Ze=Wt(()=>{var ys;if(!((ys=n.value)!=null&&ys.length))return null;let dt=n.findIndex(ks=>W.post.addedby.accountId===ks.accountId&&W.post.addedby.account===ks.account);return dt>-1?n.value[dt]:null}),ht=Wt(()=>W.post.typeName==="lesson");Wt(()=>{});const rt=Wt(()=>W.post&&W.post.images?W.post.images[0].url:""),ot=Wt(()=>W.post&&W.post.videos?W.post.videos[0].url:""),qe=Wt(()=>W.post&&W.post.audios?W.post.audios[0].url:""),mt=Wt(()=>W.post&&W.post.type?W.post.type[0]:null),Et=Wt(()=>W.post&&W.post.typeName?W.post.typeName:null),Ne=Wt(()=>W.post&&W.post.hasOwnProperty("addedby")?W.post.addedby.url:""),Pt=Wt(()=>W.post&&W.post.hasOwnProperty("content")?ns.trim(W.post.content,100):null),Zt=Wt(()=>W.post&&W.post.hasOwnProperty("addedby")?W.post.addedby.name:""),$e=Wt(()=>W.post?_s.createdAt(W.post.created_at):""),_t=Wt(()=>!!(W.post&&W.post.hasOwnProperty("content")&&W.post.content&&W.post.content.length>200)),bs=Wt(()=>({item:"post",itemId:W.post.id,postType:W.post.typeName})),Zs=Wt(()=>W.post),qs=Wt(()=>W.post?{account:W.post.addedby.account,accountId:`${W.post.addedby.accountId}`}:{});Us(()=>Zs.value,dt=>{dt&&Ut()});function sn(){vt.value||(vt.value=!0,Echo.channel(`youredu.post.${W.post.id}`).listen(".updatePost",dt=>{R.dispatch(`${N.name}/replacePost`,dt.post)}).listen(".deletePost",dt=>{R.dispatch(`${N.name}/removePost`,dt)}))}function nn(dt){j("clickedShowPostPreview",dt)}function Is(){W.disabled||(it.value=!it.value,Q.value.showAttach=!1)}function Hs(dt){j("clickedMedia",dt)}function Ws(dt,ys){Hs({url:dt,mediaType:ys})}function Qn(dt){W.postMediaFull&&j("postModalCommentCreated",dt)}function xn(){j("clickedShowPostComments",{post:this.post,type:"post"})}function Pn(){if(N.name!=="profile"&&qs.value){F.push({name:"profile",params:{account:qs.value.account,accountId:qs.value.accountId}});return}qs.value&&(N.params.account==qs.value.account&&N.params.accountId==qs.value.accountId||F.push({name:"profile",params:{account:qs.value.account,accountId:qs.value.accountId}}))}function dn(){j("askLoginRegister","post")}function Sn(){g("small modal")}function qo(){var dt;if(!W.disabled){if(!R.getters.getUser){dn();return}if(!((dt=n.value)!=null&&dt.length)){E({message:"you must have an account (eg. learner, parent, etc) before you can comment."}),A(!1);return}Ce.value=!0}}function J(dt){dt==="successful"?(Ce.value=!1,re.value=!0,setTimeout(()=>{re.value=!1},2e3)):(Pe.value=!0,setTimeout(()=>{Pe.value=!1},2e3))}async function ee(dt){if(i.value.show=!1,i.value.action==="like"){jt.value=!0,await wt({who:dt,schoolAdmin:W.schoolAdmin,emits:j,owner:{...Ze.value}}),jt.value=!1;return}if(i.value.action==="save"){jt.value=!0,await Ve({who:dt,schoolAdmin:W.schoolAdmin,emits:j}),jt.value=!1;return}if(i.value.action==="flag"){D({type:"delete",message:"are you sure you want to flag this?",data:dt});return}i.value.action==="attach"&&(jt.value=!0,le(dt),jt.value=!1)}async function ke(dt){let ys={},ks=new FormData;ne.value=!0,dt.hasOwnProperty("contentFile")&&dt.contentFile?ks.append("file",dt.contentFile):(console.log("enters",dt),dt.type!==""&&dt.type!==null&&(ks.append("type",W.post.typeName),ks.append("typeId",W.post.type[0].id)),dt.type==="book"?(ks.append("title",dt.title),ks.append("authorNames",dt.author),ks.append("about",dt.about),ks.append("published",dt.published)):dt.type==="poem"?(ks.append("title",dt.title),ks.append("authorNames",dt.author),ks.append("about",dt.about),ks.append("sections",JSON.stringify(dt.sections)),ks.append("published",dt.published)):dt.type==="riddle"?(ks.append("authorNames",dt.author),ks.append("body",dt.body),ks.append("published",dt.published)):dt.type==="question"?(ks.append("body",dt.body),ks.append("published",dt.published)):dt.type==="activity"&&(ks.append("description",dt.description),ks.append("published",dt.published)),dt&&dt.file&&dt.file.length>0&&(ks.append("typeFiles",dt.file[0]),ks.append("typeFilesType",Zk.fileType(dt.file[0])))),ks.append("content",dt.content),ks.append("account",Ze.value.account),ks.append("accountId",Ze.value.accountId),ks.append("postId",W.post.id),ys.postId=W.post.id,ys.where=N.name;let fn={otherData:ys,formData:ks},mn=await R.dispatch("profile/updatePost",fn);ne.value=!1,mn==="successful"&&(Gt.value=!1)}async function Ue(){if(i.value.action==="flag"){jt.value=!0,await Ct({who:m.value.data,schoolAdmin:W.schoolAdmin,emits:j}),jt.value=!1;return}gt()}async function gt(){jt.value=!0;let dt={postId:W.post.id,account:Ze.value.account,accountId:Ze.value.accountId};dt.where=Ns().name,await R.dispatch("profile/deletePost",dt)==="successful"?r.value.success=!0:r.value.danger=!0,jt.value=!1,R.getters["profile/getMsg"]&&(r.value.message=R.getters["profile/getMsg"],W.postMediaFull&&j("postDeleteSuccess",{postId:dt.postId}))}function bt(){A()}async function cs(dt){if(it.value=!1,dt==="edit"){Gt.value=!0;return}if(dt==="attach"){Q.value.showAttach=!0;return}if(dt==="delete"){T();return}if(dt==="save"){if(Te.isSaved){jt.value=!0,await Ve({who:null,schoolAdmin:W.schoolAdmin,emits:j}),jt.value=!1;return}de()}}return(dt,ys)=>{const ks=_("pulse-loader"),fn=_("font-awesome-icon"),mn=_("reaction-component"),li=_("small-modal");return a(),d("div",{class:"post-single-wrapper",onDblclick:Vt(xn,["self"])},[HB,jt.value?(a(),d("div",WB,[b(ks,{loading:jt.value,size:"10px"},null,8,["loading"])])):c("",!0),h("div",zB,[b(Mi,{message:es(r).message,success:es(r).success,danger:es(r).danger,sticky:!0,onHideAlert:es(f)},null,8,["message","success","danger","onHideAlert"])]),es(n).length?(a(),d("div",{key:1,class:"edit absolute top-2 right-2",onClick:Is},[b(fn,{icon:["fa","chevron-down"]})])):c("",!0),it.value?(a(),d("div",GB,[b(Wr,{show:it.value,hasSave:!Qe.value,isSaved:es(Te).isSaved,hasEdit:Qe.value,hasAttachment:!!es(n).length,hasDelete:Qe.value,onClickedOption:cs},null,8,["show","hasSave","isSaved","hasEdit","hasAttachment","hasDelete"])])):c("",!0),es(Q).showAttach&&!ht.value?(a(),d("div",{key:3,class:"post-attachment",onClick:ys[0]||(ys[0]=Vt(an=>es(Q).showAttach=!1,["self"]))},[b(go,{show:es(Q).showAttach,isAttached:es(Q).isAttached,attachmentsNumber:es(Q).postAttachments.length,attachments:es(Q).myAttachments,onItemClicked:dt.attachmentClicked,onClickedUnattach:dt.clickedUnattach},null,8,["show","isAttached","attachmentsNumber","attachments","onItemClicked","onClickedUnattach"])])):c("",!0),h("div",{class:"top",onDblclick:xn},[h("div",{class:"name",onClick:Pn},V(Zt.value),1),h("div",YB,V($e.value),1)],32),ht.value?c("",!0):(a(),d("div",{key:4,class:"body",onDblclick:xn},[h("div",QB,[b(Ys,null,{image:z(()=>[h("img",{src:Ne.value},null,8,KB)]),_:1})]),h("div",JB,[rt.value.length?(a(),d("div",{key:0,class:we(["post-media",{postMediaFull:e.postMediaFull}]),onClick:ys[1]||(ys[1]=an=>Ws(rt.value,"image"))},[h("img",{src:rt.value},null,8,XB)],2)):c("",!0),qe.value.length?(a(),d("div",{key:1,class:we(["post-media",{postMediaFull:e.postMediaFull}]),onClick:ys[2]||(ys[2]=an=>Ws(qe.value,"audio"))},[h("audio",{src:qe.value,controls:"",controlslist:"nodownload"},null,8,$B)],2)):c("",!0),ot.value.length?(a(),d("div",{key:2,class:we(["post-media",{postMediaFull:e.postMediaFull}]),onClick:ys[3]||(ys[3]=an=>Ws(ot.value,"video"))},[h("video",{src:ot.value,controls:"",controlslist:"nodownload"},null,8,ZB)],2)):c("",!0),h("div",{class:"text-short",onClick:xn},[Jt(dt.$slots,"text",{},void 0,!0),b(dr,{disabled:!0,modelValue:Pt.value,"onUpdate:modelValue":ys[4]||(ys[4]=an=>Pt.value=an)},null,8,["modelValue"]),_t.value?(a(),d("div",e9,"see more")):c("",!0)])])],32)),mt.value&&!ht.value?(a(),S(dA,{key:5,type:mt.value,typeName:Et.value,typeMediaFull:e.postMediaFull,onClickedMedia:Hs,onClickedShowPostPreview:nn,post:e.post},null,8,["type","typeName","typeMediaFull","post"])):c("",!0),mt.value&&ht.value?(a(),S(DB,{key:6,lesson:mt.value,profileUrl:e.post.addedby.url,full:e.postMediaFull,onClickedMedia:Hs,post:e.post},null,8,["lesson","profileUrl","full","post"])):c("",!0),h("div",t9,[b(mn,{comments:es(he),item:bs.value,isOwner:Qe.value,full:e.postMediaFull,showAddComment:es(Ce),showFlagReason:es(tt).showReason,flagData:es(tt),likeData:es(Qt),classes:Be.value,showProfilesText:es(i).text,showOnlyProfiles:!!Be.value.length,showProfiles:es(i).show,profiles:es(n),onHideAddComment:ys[5]||(ys[5]=an=>Ce.value=!1),onPostAddComplete:J,onAskLoginRegister:dn,onClickedMedia:Hs,onClickedProfile:ee,onClickedLike:ys[6]||(ys[6]=()=>es(Lt)({owner:{...Ze.value},schoolAdmin:e.schoolAdmin,emits:dt.$emit,disabled:e.disabled,banned:!1})),onClickedAddComment:qo,onCancelFlagProcess:es(ce),onReasonGiven:es(xe),onClickedFlag:ys[7]||(ys[7]=()=>es(At)({schoolAdmin:e.schoolAdmin,emits:dt.$emit,disabled:e.disabled,banned:!1})),onContinueFlagProcess:es(ls),onClickedShowPostComments:xn,onPostModalCommentCreated:Qn},null,8,["comments","item","isOwner","full","showAddComment","showFlagReason","flagData","likeData","classes","showProfilesText","showOnlyProfiles","showProfiles","profiles","onCancelFlagProcess","onReasonGiven","onContinueFlagProcess"])]),h("div",s9,[(a(!0),d(Z,null,pe(es(Q).postAttachments,(an,Kn)=>(a(),S(vo,{key:Kn,hasClose:!1,attachment:an.data,type:an.type},null,8,["attachment","type"]))),128))]),b(uo,null,Oa({_:2},[Gt.value?{name:"transition",fn:z(()=>[b(mv,{edit:Gt.value,editableData:e.post,showForm:Gt.value,loading:ne.value,type:e.post.typeName,onClickedEdit:ke,onMainModalDisappear:ys[8]||(ys[8]=an=>Gt.value=!1)},null,8,["edit","editableData","showForm","loading","type"])]),key:"0"}:void 0]),1024),b(bi,null,Oa({_:2},[es(m).show&&es(m).type=="small modal"?{name:"transition",fn:z(()=>[b(li,{title:es(m).message,show:es(m).show,message:es(r).message,success:es(r).success,danger:es(r).danger,loading:jt.value,alerting:es(m).alerting,onDisappear:ys[9]||(ys[9]=an=>es(m).show=!1)},{actions:z(()=>[es(m).info?(a(),S(xs,{key:0,buttonText:"ok",onClick:Sn})):c("",!0),es(m).delete?(a(),S(xs,{key:1,buttonText:"yes",onClick:Ue})):c("",!0),es(m).Delete?(a(),S(xs,{key:2,buttonText:"no",onClick:bt})):c("",!0)]),_:1},8,["title","show","message","success","danger","loading","alerting"])]),key:"0"}:void 0]),1024)],32)}}},wv=Ae(n9,[["__scopeId","data-v-889e40bb"]]),i9={props:{show:{type:Boolean,default:!0},showMore:{type:Boolean,default:!1},mediaData:{type:Object,default:null},main:{type:Boolean,default:!0},justUrl:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},showMoreText:{type:String,default:""},url:{type:String,default:""},urlType:{type:String,default:""},alertMessage:{type:String,default:""},alertError:{type:Boolean,default:!1},alertSuccess:{type:Boolean,default:!1}},components:{FadeRight:ma},watch:{show:{immediate:!0,handler(e){e&&this.$emit("mainModalAppear")}},alertMessage:{immediate:!0,handler(e){this.alertMessage.length>0&&setTimeout(()=>{this.$emit("clearAlert")},3e3)}}},computed:{...os(["getUser","profile/getProfile"]),showAlert(){return this.alertMessage.length>0},computedImage(){return this.mediaData&&this.mediaData.mediaType.includes("image")?this.mediaData.media:this.justUrl&&this.urlType.includes("image")?{url:this.url}:null},computedVideo(){return this.mediaData&&this.mediaData.mediaType.includes("video")?this.mediaData.media:this.justUrl&&this.urlType.includes("video")?{url:this.url}:null},computedAudio(){return this.mediaData&&this.mediaData.mediaType.includes("audio")?this.mediaData.media:this.justUrl&&this.urlType.includes("audio")?{url:this.url}:null},computedOwner(){return this.getUser&&this["profile/getProfile"]?this.getUser.id===this["profile/getProfile"].user_id:!1}},methods:{disappear(){this.$emit("mainModalDisappear")},showMoreMedia(){this.$emit("showMoreMedia")},clickedIcon(e,t){this.$emit("clickedMediaIcon",{mediaId:e,type:t})}}},o9={class:"main-modal"},a9={key:0,class:"main"},r9={key:0,class:"media"},l9=["src"],c9={key:1,class:"media"},u9=["src"],d9={key:2,class:"media"},h9=["src"],f9={key:1,class:"media-all"},m9=["src"],p9={key:0,class:"actions"},g9=["onClick"],v9=["onClick"],y9=["onClick"],w9=["src"],_9={key:0,class:"actions"},b9=["onClick"],k9=["onClick"],A9=["onClick"],C9=["src"],S9={key:0,class:"actions"},I9=["onClick"],T9=["onClick"],D9=["onClick"],x9={key:3,class:"loading-errors"};function P9(e,t,s,o,i,n){const r=_("font-awesome-icon");return s.show?(a(),d("div",{key:0,class:"modal-wrapper",onClick:t[2]||(t[2]=Vt((...f)=>n.disappear&&n.disappear(...f),["self"]))},[h("div",o9,[h("div",{class:"close",onClick:t[0]||(t[0]=(...f)=>n.disappear&&n.disappear(...f))},[b(r,{icon:["fas","times"]})]),n.showAlert?c("",!0):(a(),d(Z,{key:0},[s.main?(a(),d("div",a9,[n.computedImage?(a(),d("div",r9,[h("img",{src:n.computedImage.url},null,8,l9)])):c("",!0),n.computedVideo?(a(),d("div",c9,[h("video",{controls:"",controlslist:"nodownload",src:n.computedVideo.url},null,8,u9)])):c("",!0),n.computedAudio?(a(),d("div",d9,[h("audio",{controls:"",controlslist:"nodownload",src:n.computedAudio.url},null,8,h9)])):c("",!0)])):c("",!0),s.main?c("",!0):(a(),d("div",f9,[s.mediaData.mediaType.includes("image")?(a(!0),d(Z,{key:0},pe(s.mediaData.media,f=>(a(),d("div",{class:"media",key:f.id},[h("img",{src:f.url},null,8,m9),n.computedOwner?(a(),d("div",p9,[f.state==="PRIVATE"?(a(),d("div",{key:0,class:"show",title:"make public",onClick:m=>n.clickedIcon(f.id,"change")},[b(r,{icon:["fa","eye"]})],8,g9)):c("",!0),f.state==="PUBLIC"?(a(),d("div",{key:1,class:"show",title:"make private",onClick:m=>n.clickedIcon(f.id,"change")},[b(r,{icon:["fa","eye-slash"]})],8,v9)):c("",!0),h("div",{class:"delete",title:"delete",onClick:m=>n.clickedIcon(f.id,"delete media")},[b(r,{icon:["fa","trash"]})],8,y9)])):c("",!0)]))),128)):c("",!0),s.mediaData.mediaType.includes("video")?(a(!0),d(Z,{key:1},pe(s.mediaData.media,f=>(a(),d("div",{class:"media",key:f.id},[h("video",{src:f.url,controls:"",controlslist:"nodownload"},null,8,w9),n.computedOwner?(a(),d("div",_9,[f.state==="PRIVATE"?(a(),d("div",{key:0,class:"show",title:"make public",onClick:m=>n.clickedIcon(f.id,"change")},[b(r,{icon:["fa","eye"]})],8,b9)):c("",!0),f.state==="PUBLIC"?(a(),d("div",{key:1,class:"show",title:"make private",onClick:m=>n.clickedIcon(f.id,"change")},[b(r,{icon:["fa","eye-slash"]})],8,k9)):c("",!0),h("div",{class:"delete",title:"delete",onClick:m=>n.clickedIcon(f.id,"delete media")},[b(r,{icon:["fa","trash"]})],8,A9)])):c("",!0)]))),128)):c("",!0),s.mediaData.mediaType.includes("audio")?(a(!0),d(Z,{key:2},pe(s.mediaData.media,f=>(a(),d("div",{class:"media",key:f.id},[h("audio",{src:f.url,controls:"",controlslist:"nodownload"},null,8,C9),n.computedOwner?(a(),d("div",S9,[f.state==="PRIVATE"?(a(),d("div",{key:0,class:"show",title:"make public",onClick:m=>n.clickedIcon(f.id,"change")},[b(r,{icon:["fa","eye"]})],8,I9)):c("",!0),f.state==="PUBLIC"?(a(),d("div",{key:1,class:"show",title:"make private",onClick:m=>n.clickedIcon(f.id,"change")},[b(r,{icon:["fa","eye-slash"]})],8,T9)):c("",!0),h("div",{class:"delete",title:"delete",onClick:m=>n.clickedIcon(f.id,"delete media")},[b(r,{icon:["fa","trash"]})],8,D9)])):c("",!0)]))),128)):c("",!0)])),!s.loading&&s.showMore?(a(),d("div",{key:2,class:"show-more",onClick:t[1]||(t[1]=(...f)=>n.showMoreMedia&&n.showMoreMedia(...f))}," show more ")):c("",!0),s.loading?(a(),d("div",x9,[Jt(e.$slots,"loading",{},void 0,!0)])):c("",!0)],64))])])):c("",!0)}const hA=Ae(i9,[["render",P9],["__scopeId","data-v-7f8189e4"]]),M9={props:{green:{type:Boolean,default:!1},background:{type:Boolean,default:!1},red:{type:Boolean,default:!1},prevent:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},text:{type:String,default:""}},data(){return{clicked:!1}},methods:{clickedAction(){this.prevent||(this.$emit("click",this.text),this.clicked=!this.clicked)}}};function E9(e,t,s,o,i,n){const r=_("pulse-loader");return a(),d("div",{class:we(["action-button-wrapper",{green:s.green,red:s.red,clicked:i.clicked,background:s.background}]),onClick:t[0]||(t[0]=(...f)=>n.clickedAction&&n.clickedAction(...f))},[Mt(V(s.loading?"":s.text)+" ",1),s.loading?c("",!0):Jt(e.$slots,"icon",{key:0},void 0,!0),b(r,{loading:s.loading,size:"6px"},null,8,["loading"])],2)}const mr=Ae(M9,[["render",E9],["__scopeId","data-v-d02b3f03"]]),O9={components:{ActionButton:mr,OptionalActions:Wr,ProfilePicture:Ys},props:{message:{type:Object,default(){return{}}},request:{type:Boolean,default:!1},admin:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},adminText:{type:String,default:"all"},alert:{type:Boolean,default:!1}},data(){return{showOptionalActions:!1,acceptLoading:!1,rejectLoading:!1}},watch:{message:{immediate:!0,handler(e){this.listenToMessageChannels()}}},computed:{...os(["getUser"]),computedOwnerId(){return this.message.fromable.userId},computedOwner(){return this.getUser&&this.getUser.id===this.message.fromable.userId},computedFlags(){return this.message.flags},computedDeletedForMe(){return this.getUser&&this.message.userDeletes&&this.message.userDeletes.includes(this.getUser.id)},computedButtons(){return this.simple||this.alert?!1:this.request||this.admin&&this.adminText!=="all"||this.message.state!=="ACCEPTED"},computedButtonAccept(){return this.simple?!1:this.request?!0:!this.alert&&(this.adminText==="pending"||this.adminText==="rejected")},computedButtonReject(){return this.simple?!1:this.request?!0:!this.alert&&(this.adminText==="pending"||this.adminText==="accepted")},computedResources(){let e=[];return this.message.images&&this.message.images.forEach(t=>{e.push({url:t.url,type:"image"})}),this.message.videos&&this.message.videos.forEach(t=>{e.push({url:t.url,type:"video"})}),this.message.audios&&this.message.audios.forEach(t=>{e.push({url:t.url,type:"audio"})}),e},computedAccountType(){return this.simple?"":this.message.fromable.account},computedCreatedAt(){return _s.createdAt(this.message.created_at)},computedAdminAction(){return this.simple?"":this.alert&&this.message.state!=="PENDING"?`admin ${this.message.state.toLowerCase()} your message created at ${this.computedCreatedAt}`:""}},methods:{listenToMessageChannels(){Echo.channel(`youredu.message.${this.message.id}`).listen(".deleteMessage",e=>{this.deleteMessage(e)})},deleteMessage(e){this.$emit("deleteMessage",e)},clickedShowMedia(){},clickedReject(){this.acceptLoading||(this.rejectLoading=!0,this.$emit("clickedAction",{message:this.message,where:this.request?"request":this.message.state,action:"rejected",adminText:this.adminText}))},clickedAccept(){this.rejectLoading||(this.acceptLoading=!0,this.$emit("clickedAction",{message:this.message,where:this.request?"request":this.message.state,action:"accepted"}))},clickedOption(e){this.showOptionalActions=!1,this.$emit("clickedOption",{action:e,message:this.message})},clickedShowOptions(){this.request||this.alert||(this.showOptionalActions=!0,setTimeout(()=>{this.showOptionalActions=!1},4e3))}}},R9=e=>(gs("data-v-cd97f09a"),e=e(),vs(),e),N9={key:0,class:"deleted"},L9={class:"icon"},F9=R9(()=>h("div",{class:"text"},"message deleted",-1)),U9={slot:"extraicon"},B9={key:2,class:"top"},j9={class:"name"},V9={class:"type"},q9={key:3,class:"message-section"},H9={slot:"image"},W9=["src"],z9={class:"message"},G9={key:0,class:"media-cover"},Y9={key:1,class:"media"},Q9=["src"],K9=["src"],J9=["src"],X9={key:5,class:"created-at"},$9={key:6,class:"created-at"},Z9={key:8,class:"buttons"};function ej(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("optional-actions"),m=_("profile-picture"),v=_("action-button");return a(),d("div",{class:we(["discussion-badge-wrapper",{discussionBadgeMine:n.computedOwner,request:s.request||s.alert}]),onDblclick:t[1]||(t[1]=(...g)=>n.clickedShowOptions&&n.clickedShowOptions(...g))},[n.computedDeletedForMe?(a(),d("div",N9,[h("div",L9,[b(r,{icon:["fa","ban"]})]),F9])):c("",!0),i.showOptionalActions&&!s.request&&!s.alert&&!n.computedDeletedForMe?(a(),S(f,{key:1,hasEdit:!1,hasDelete:n.computedOwner,hasExtra:!s.simple,extraText:"delete for me",hasAttachment:!1,hasSave:!1,show:i.showOptionalActions,onClickedOption:n.clickedOption,class:"optional-actions"},{default:z(()=>[h("template",U9,[b(r,{icon:["fa","trash"]})])]),_:1},8,["hasDelete","hasExtra","show","onClickedOption"])):c("",!0),n.computedDeletedForMe?c("",!0):(a(),d("div",B9,[h("div",j9,V(s.message.fromable.name),1),h("div",V9,V(n.computedAccountType),1)])),s.message.message&&s.message.message.length&&!n.computedDeletedForMe?(a(),d("div",q9,[s.message.fromable.url.length?(a(),S(m,{key:0,class:"profile-picture"},{default:z(()=>[h("template",H9,[h("img",{src:s.message.fromable.url},null,8,W9)])]),_:1})):c("",!0),h("div",z9,V(s.message.message),1)])):c("",!0),n.computedResources.length&&!n.computedDeletedForMe?(a(),d("div",{key:4,class:"media-section",onClick:t[0]||(t[0]=(...g)=>n.clickedShowMedia&&n.clickedShowMedia(...g))},[n.computedResources.length>1?(a(),d("div",G9,V(`+${n.computedResources.length-1}`),1)):c("",!0),n.computedResources.length?(a(),d("div",Y9,[n.computedResources[0].type==="image"?(a(),d("img",{key:0,src:n.computedResources[0].url},null,8,Q9)):c("",!0),n.computedResources[0].type==="video"?(a(),d("video",{key:1,src:n.computedResources[0].url,controls:""},null,8,K9)):c("",!0),n.computedResources[0].type==="audio"?(a(),d("audio",{key:2,src:n.computedResources[0].url,controls:""},null,8,J9)):c("",!0)])):c("",!0)])):c("",!0),!s.request&&!s.alert&&!n.computedDeletedForMe?(a(),d("div",X9,V(n.computedCreatedAt),1)):c("",!0),s.request?(a(),d("div",$9," pending ")):c("",!0),s.alert?(a(),d("div",{key:7,class:we(["created-at",{success:s.message.state==="ACCEPTED",danger:s.message.state==="REJECTED"}])},V(n.computedAdminAction),3)):c("",!0),n.computedButtons?(a(),d("div",Z9,[n.computedButtonAccept?(a(),S(v,{key:0,onClick:n.clickedAccept,green:!0,title:"accept this discussion contribution",loading:i.acceptLoading,text:"accept"},null,8,["onClick","loading"])):c("",!0),n.computedButtonReject?(a(),S(v,{key:1,onClick:n.clickedReject,red:!0,title:"reject this discussion contribution",loading:i.rejectLoading,text:"reject"},null,8,["onClick","loading"])):c("",!0)])):c("",!0)],34)}const zf=Ae(O9,[["render",ej],["__scopeId","data-v-cd97f09a"]]),tj={components:{MediaCapture:Rl,FilePreview:Lo},props:{blocked:{type:Boolean,default:!1},request:{type:Boolean,default:!1},mediaChat:{type:Boolean,default:!1}},watch:{request:{immediate:!0,handler(e){e&&(this.placeholder="have a message?")}},mediaChat:{immediate:!0,handler(e){e&&(this.placeholder="have a message?")}},textareaValue(e){e.length&&!this.typignState?(this.typingState=!0,this.typingClock&&clearTimeout(this.typingClock),this.typingClock=setTimeout(()=>{this.typingState=!1},3e3)):this.typingState=!1,this.$emit("input",e)},files(e){e.length>1?this.showFilesPreview=!0:e.length===1?(this.file=e[0],this.showFilePreview=!0,this.showFilesPreview=!0):(this.showFilePreview=!1,this.file=null)}},data(){return{showMediaCapture:!1,mediaCaptureType:"",fileCaption:"",showFilePreview:!1,showFilesPreview:!1,showEmoji:!1,showAttachments:!1,textareaValue:"",placeholder:"have anything to contribute?",files:[],file:null,typingState:!1,attachmentText:"",typingClock:null}},computed:{computedSendButton(){return!this.typingState}},methods:{clearData(){this.fileCaption="",this.textareaValue="",this.files=[]},clickedAttachment(e){if(this.attachmentText=e,this.showAttachments=!1,this.$emit("clickedAttachment",e),e==="camera"){this.mediaCaptureType="image",this.showMediaCapture=!0;return}else if(e==="microphone"){this.mediaCaptureType="audio",this.showMediaCapture=!0;return}else if(e==="video"){this.mediaCaptureType="video",this.showMediaCapture=!0;return}else e==="upload"&&(this.$refs.inputfile.accept="image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp,audio/mpeg,audio/ogg,audio/wav,video/webm,video/mp4,video/ogg");this.$refs.inputfile.value="",this.$refs.inputfile.click()},clickedShowFile(e){this.file=e,this.showFilePreview=!0},clickedRemoveFile(e){let t=this.files.findIndex(s=>s.name===e.name&&s.type===e.type&&s.size===e.size);t>-1&&this.files.splice(t,1)},fileChange(){for(let e=0;e<this.$refs.inputfile.files.length;e++)this.files.push(this.$refs.inputfile.files[e]);this.$emit("fileChange",{files:this.files,caption:this.fileCaption}),this.attachmentText=""},sendMessage(){!this.textareaValue.length&&!this.files.length||(this.$emit("sendMessage"),this.clearData())},clickedAttachments(){this.showAttachments=!0,setTimeout(()=>{this.showAttachments=!1},4e3)},clickedEmoji(){if(this.disabledChat){this.showSmallModal=!0;return}this.showEmoji=!this.showEmoji},selectEmoji(e){this.textareaValue+=e.data},clickedCloseAttachments(){this.showEmoji=!1,this.showAttachments=!1},closeMediaCapture(){this.showMediaCapture=!1,this.attachmentText=""},getMediaType(e){return Zk.fileType(e)},receivedMediaCapture(e){let t=new Date().getTime(),s;e.type.includes("image")?(s=`my_picture${t}.png`,this.files.push(new File([e],s,{type:"image/png",lastModified:new Date}))):e.type.includes("video")?(s=`my_video${t}.webm`,this.files.push(new File([e],s,{type:"video/webm",lastModified:new Date}))):e.type.includes("audio")&&(s=`my_audio${t}.mp3`,this.files.push(new File([e],s,{type:"audio/mp3",lastModified:new Date})))},clickedClosePreview(){this.showFilePreview=!1,this.clickedRemoveFile(this.file),this.file=null,this.fileCaption=""},clickedSendPreview(){this.showFilePreview=!1,this.$emit("fileChange",{files:this.files,caption:this.fileCaption}),this.file=null,this.fileCaption=""}}},sj={class:"discussion-textarea-wrapper"},nj={key:0,class:"blocked"},ij={key:0,class:"top"},oj=["onClick"],aj=["onClick"],rj=["onClick"],lj={key:1,class:"bottom"},cj={key:0,class:"attachments"},uj={key:4,class:"main-attachments"},dj=["placeholder"],hj={key:0,class:"file-section"},fj={class:"buttons"};function mj(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("just-fade"),m=_("file-preview"),v=_("addon-modal"),g=_("media-capture");return a(),d("div",sj,[s.blocked?(a(),d("div",nj," sorry...you are either restricted or banned ")):c("",!0),b(f,null,{default:z(()=>[!s.blocked&&i.files.length?(a(),d("div",ij,[(a(!0),d(Z,null,pe(i.files,(A,D)=>(a(),d("div",{class:"file",key:D},[h("div",{class:"file-name",onClick:E=>n.clickedShowFile(A)},V(A.name),9,oj),h("div",{class:"type",onClick:E=>n.clickedShowFile(A)},V(n.getMediaType(A)),9,aj),h("div",{class:"close",onClick:E=>n.clickedRemoveFile(A)},[b(r,{icon:["fa","times"]})],8,rj)]))),128))])):c("",!0)]),_:1}),s.blocked?c("",!0):(a(),d("div",lj,[s.request?c("",!0):(a(),d("div",cj,[!i.typingState&&!s.request?(a(),d("div",{key:0,class:"emoji",onClick:t[0]||(t[0]=(...A)=>n.clickedEmoji&&n.clickedEmoji(...A)),title:"add an emoji to your text"},[b(r,{icon:["fa","grin"]})])):c("",!0),!i.typingState&&!s.request?(a(),d("div",{key:1,class:"attachment",onClick:t[1]||(t[1]=(...A)=>n.clickedAttachments&&n.clickedAttachments(...A)),title:"add a file"},[b(r,{icon:["fa","paperclip"]})])):c("",!0),i.typingState?(a(),d("div",{key:2,class:"attachment",onClick:t[2]||(t[2]=A=>i.typingState=!1)},[b(r,{icon:["fa","arrow-circle-right"]})])):c("",!0),i.showAttachments||i.showEmoji?(a(),d("div",{key:3,class:"main-attachments-wrapper",onClick:t[3]||(t[3]=(...A)=>n.clickedCloseAttachments&&n.clickedCloseAttachments(...A))})):c("",!0),i.showAttachments?(a(),d("div",uj,[h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="camera"}]),onClick:t[4]||(t[4]=A=>n.clickedAttachment("camera")),title:"take a picture"},[b(r,{icon:["fa","camera"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="video"}]),onClick:t[5]||(t[5]=A=>n.clickedAttachment("video")),title:"record a video"},[b(r,{icon:["fa","video"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="microphone"}]),onClick:t[6]||(t[6]=A=>n.clickedAttachment("microphone")),title:"record an audio"},[b(r,{icon:["fa","microphone"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="upload"}]),onClick:t[7]||(t[7]=A=>n.clickedAttachment("upload")),title:"upload an image file"},[b(r,{icon:["fa","upload"]})],2)])):c("",!0),h("input",{type:"file",ref:"inputfile",onChange:t[8]||(t[8]=(...A)=>n.fileChange&&n.fileChange(...A)),multiple:"",class:"hidden"},null,544)])),cn(h("textarea",{placeholder:i.placeholder,"onUpdate:modelValue":t[9]||(t[9]=A=>i.textareaValue=A),class:"form-control",onKeyup:t[10]||(t[10]=hu((...A)=>n.sendMessage&&n.sendMessage(...A),["enter"])),rows:"1"},null,40,dj),[[yi,i.textareaValue]]),n.computedSendButton?(a(),d("div",{key:1,class:"send-button",onClick:t[11]||(t[11]=(...A)=>n.sendMessage&&n.sendMessage(...A))}," send ")):c("",!0)])),b(v,{show:i.showFilePreview,fullHeight:!0,transparent:!0,hasClose:!1},{default:z(()=>[!s.blocked&&i.showFilePreview?(a(),d("div",hj,[b(m,{show:!0,middle:!0,showRemove:!1,file:i.file,class:"file-preview-wrapper"},null,8,["file"]),i.showFilesPreview?c("",!0):cn((a(),d("input",{key:0,type:"text",class:"form-control caption",placeholder:"add a caption","onUpdate:modelValue":t[12]||(t[12]=A=>i.fileCaption=A)},null,512)),[[yi,i.fileCaption]]),h("div",fj,[h("div",{class:"send",onClick:t[13]||(t[13]=(...A)=>n.clickedSendPreview&&n.clickedSendPreview(...A))},V(i.showFilesPreview?"ok":"send"),1),h("div",{class:"cancel",onClick:t[14]||(t[14]=(...A)=>n.clickedClosePreview&&n.clickedClosePreview(...A))},"cancel")])])):c("",!0)]),_:1},8,["show"]),!s.request&&!s.blocked&&i.showMediaCapture?(a(),S(g,{key:2,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receivedMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0)])}const fA=Ae(tj,[["render",mj],["__scopeId","data-v-075d62c3"]]),pj={props:{buttonText:{type:String,default:"click"},titleText:{type:String,default:""}},computed:{computedClasses(){return this.$vnode.data.staticClass?this.$vnode.data.staticClass:""},computedHasFontSizeClasses(){return this.computedClasses.length&&["text-xs","text-sm","text-base"].forEach(t=>{if(this.computedClasses.includes(t))return!0}),!1}},methods:{onClick(){this.$emit("click")}}},gj=["title"];function vj(e,t,s,o,i,n){return a(),d("button",{class:we(["btn min-w-content max-h-content",{"btn-size":!n.computedHasFontSizeClasses}]),title:s.titleText,onClick:t[0]||(t[0]=(...r)=>n.onClick&&n.onClick(...r))},[Mt(V(s.buttonText)+" ",1),Jt(e.$slots,"loader",{},void 0,!0)],10,gj)}const Gf=Ae(pj,[["render",vj],["__scopeId","data-v-99de9f0f"]]),yj={components:{ActionButton:mr,ProfilePicture:Ys},props:{account:{type:Object,default(){return{}}},friend:{type:Boolean,default:!1},online:{type:Boolean,default:!1},chat:{type:Boolean,default:!0},participant:{type:Boolean,default:!1},participating:{type:Boolean,default:!1},admin:{type:Boolean,default:!1},owner:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},active:{type:Boolean,default:!1},request:{type:Boolean,default:!1}},data(){return{greenActionText:"",greenActionTitle:"",redActionText:"",redActionTitle:"",removeActionText:"leave",removeActionTitle:"leave this discussion",removeLoading:!1,acceptLoading:!1,showRedAction:!1,showGreenAction:!1,banLoading:!1}},watch:{account:{immediate:!0,handler(e){this.showRedAction=!1,this.showGreenAction=!1,e&&this.admin&&(e.state==="ACTIVE"?(this.greenActionText="make admin",this.greenActionTitle="turn this participant to an admin",this.redActionText="restrict",this.redActionTitle="restrict this admin",this.makeButtonsActive()):e.state==="RESTRICTED"?(this.greenActionText="make active",this.greenActionTitle="make this restricted participant active",this.redActionText="ban",this.redActionTitle="ban this restricted participant",this.makeButtonsActive()):e.state==="BANNED"&&(this.greenActionText="make normal",this.greenActionTitle="make this banned participant active",this.redActionText="restrict",this.redActionTitle="restrict this banned participant",this.makeButtonsActive()),this.computedOwner||(this.removeActionTitle="remove this participant",this.removeActionText="remove")),e&&this.owner&&(e.state==="ADMIN"&&(this.greenActionText="make normal",this.greenActionTitle="turn this admin to a normal participant",this.redActionText="restrict",this.redActionTitle="restrict this admin"),this.makeButtonsActive())},deep:!0},loading(e){e||(this.acceptLoading=!1,this.banLoading=!1,this.removeLoading=!1)}},computed:{...os(["getUser"]),computedName(){return this.account.name?this.account.name:this.account.profile_name?this.account.profile_name:""},computedTitle(){return this.chat&&this.online?"user is online":this.chat?"user is offline":""},computedBottom(){return this.chat?!this.friend:!1},computedAccount(){return this.account.account?this.account.account:this.account.followedby_type?ns.getAccount(this.account.followedby_type):this.account.username?this.account.username:""},computedMyName(){return this.account.myName?this.account.myName:this.account.my_name?this.account.my_name:""},computedMyAccount(){return this.account.myAccount?this.account.myAccount:this.account.followable_type?ns.getAccount(this.account.followable_type):""},computedUrl(){return this.account.url?this.account.url:""},computedOwner(){return this.getUser&&this.getUser.id===this.account.userId},computedAction(){return this.participating?this.getUser&&this.participant:!1},computedActionAccept(){return this.computedAction&&this.admin&&this.showGreenAction},computedActionBan(){return this.computedAction&&this.admin&&this.showRedAction&&!this.computedOwner},computedActionRemove(){return this.owner&&this.computedOwner?!1:this.owner?!0:(this.account.state==="ADMIN"||this.account.state==="OWNER")&&!this.computedOwner?!1:!!(this.admin||this.computedOwner)}},methods:{clickedOtherUserAccount(){this.$emit("clickedOtherUserAccount",this.account)},clickedRemove(e){this.acceptLoading||this.banLoading||this.removeLoading||(this.removeLoading=!0,this.$emit("clickedParticipantAction",{account:this.account,action:e}))},clickedAccept(e){if(this.acceptLoading||this.banLoading||this.removeLoading)return;this.acceptLoading=!0;let t;this.account.state==="ACTIVE"?t="admin":t="active",this.$emit("clickedParticipantAction",{account:this.account,action:t})},clickedBan(e){if(this.acceptLoading||this.banLoading||this.removeLoading)return;this.banLoading=!0;let t;this.account.state==="RESTRICTED"?t="banned":t="restricted",this.$emit("clickedParticipantAction",{account:this.account,action:t})},makeButtonsActive(){this.showRedAction=!0,this.showGreenAction=!0}}},wj=["title"],_j={class:"user-account-section"},bj={key:0,class:"online-alert"},kj={slot:"image"},Aj=["src"],Cj={class:"other-section"},Sj={class:"top"},Ij={class:"name"},Tj={class:"account"},Dj={key:0,class:"bottom"},xj={class:"type"},Pj={class:"account-details"},Mj={class:"name"},Ej={class:"account"},Oj={key:0,class:"buttons-section"};function Rj(e,t,s,o,i,n){const r=_("profile-picture"),f=_("action-button");return s.account.name?(a(),d("div",{key:0,class:we(["other-user-account",{active:s.active}]),onClick:t[0]||(t[0]=(...m)=>n.clickedOtherUserAccount&&n.clickedOtherUserAccount(...m)),title:n.computedTitle},[h("div",_j,[s.online?(a(),d("div",bj)):c("",!0),n.computedUrl.length?(a(),S(r,{key:1,class:"profile-picture"},{default:z(()=>[h("template",kj,[h("img",{src:n.computedUrl},null,8,Aj)])]),_:1})):c("",!0),h("div",Cj,[h("div",Sj,[h("div",Ij,V(n.computedName),1),h("div",Tj,V(n.computedAccount),1)]),n.computedBottom?(a(),d("div",Dj,[h("div",xj,V(s.account.type==="follower"?"follows":"followed by"),1),h("div",Pj,[h("div",Mj,V(n.computedMyName),1),h("div",Ej,V(n.computedMyAccount),1)])])):c("",!0)])]),n.computedAction?(a(),d("div",Oj,[n.computedActionAccept?(a(),S(f,{key:0,onClick:n.clickedAccept,green:!0,title:i.greenActionTitle,loading:i.acceptLoading,text:i.greenActionText},null,8,["onClick","title","loading","text"])):c("",!0),n.computedActionBan?(a(),S(f,{key:1,onClick:n.clickedBan,red:!0,title:i.redActionTitle,loading:i.banLoading,text:i.redActionText},null,8,["onClick","title","loading","text"])):c("",!0),n.computedActionRemove?(a(),S(f,{key:2,onClick:n.clickedRemove,red:!0,title:i.removeActionTitle,loading:i.removeLoading,text:i.removeActionText},null,8,["onClick","title","loading","text"])):c("",!0)])):c("",!0)],10,wj)):c("",!0)}const _v=Ae(yj,[["render",Rj],["__scopeId","data-v-21eba5b9"]]),Nj={components:{OtherUserAccount:_v,GreyButton:Nl,PostButton:xs,FadeUp:bi},props:{discussion:{type:Object,default(){return null}},files:{type:Array,default(){return[]}},participants:{type:Array,default(){return[]}},activeFile:{type:File,default(){return null}},show:{type:Boolean,default:!1},participant:{type:Boolean,default:!1},participantsLoading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},OtherUserAccountLoading:{type:Boolean,default:!1},nextPage:{type:Number,default:null},owner:{type:Boolean,default:!1},showFilePreview:{type:Boolean,default:!1},admin:{type:Boolean,default:!1},showEdit:{type:Boolean,default:!1},note:{type:String,default:""}},data(){return{data:{title:"",type:"",preamble:"",allowed:"",restricted:!1,files:[],uploadFiles:[],deletedFiles:[]},errorTitle:!1,fileAccept:"",fileType:"",showPreview:!1,showParticipants:!1,showParticipantsButton:"participants"}},watch:{showEdit(e){e&&!this.title.length?(this.data.title=this.discussion.title,this.data.preamble=this.discussion.preamble,this.data.type=this.discussion.type,this.data.restricted=this.discussion.restricted,this.data.allowed=this.discussion.allowed,this.data.files=this.files,this.data.deletedFiles=[],this.data.uploadFiles=[]):e||(this.data.title="")},"data.title"(e,t){e.length&&!t.length&&(this.errorTitle=!1)},activeFile(e){e&&this.data.uploadFiles.push(e)},showParticipants(e){e?(this.getDiscussionParticipants(),this.showParticipantsButton="hide"):(this.showParticipantsButton="participants",this.updateNextPage(1))},showFilePreview(e){if(e){this.showPreview=!0;return}this.showPreview=!1},files(e){this.data.files=e}},computed:{computedType(){return this.discussion.type.toLowerCase()},computedEditFilesLength(){return this.data.type.length?this.data.files.length+this.data.uploadFiles.length:0},computedParticipantsInfo(){return this.computedParticipantsNumber===1?`${this.computedParticipantsNumber} participant`:`${this.computedParticipantsNumber} participants`},computedParticipantsNumber(){return this.discussion.participants.length+1}},methods:{updateNextPage(e){this.$emit("updateNextPage",1)},clickedShowParticipants(){this.showParticipants=!this.showParticipants},clickedDiscussionInfo(e){this.$emit("clickedDiscussionInfo",e)},clickedEditAction(e){this.$emit("clickedEditAction",e)},getDiscussionParticipants(){this.$emit("getDiscussionParticipants")},infiniteHandlerParticipants(e){this.$emit("infiniteHandlerParticipants",e)},clickedEditActionButton(e){e==="all"?this.data.allowed=e:e==="learners"?this.data.allowed=e:e==="parents"?this.data.allowed=e:e==="facilitators"?this.data.allowed=e:e==="professionals"?this.data.allowed=e:e==="schools"?this.data.allowed=e:e==="private"?this.data.type=e:e==="public"?this.data.type=e:e==="yes"?this.data.restricted=!0:e==="no"&&(this.data.restricted=!1)},getFileType(e){if(e.includes("image"))return"image";if(e.includes("video"))return"video";if(e.includes("audio"))return"audio"},shortenUrl(e){return strings.trim(e,20)},toLowercase(e){return e.toLowerCase()},clickedFileType(e){e==="picture"?this.fileAccept="image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp":e==="video"?this.fileAccept="video/webm,video/mp4,video/ogg":e==="audio"&&(this.fileAccept="audio/mpeg,audio/ogg,audio/wav"),this.fileType=e},clickedEdit(e){this.$emit("clickedEdit",{type:e,data:this.data})},removeFile(){this.fileType="",this.showPreview=!1,this.clickedEditBan(this.activeFile,"upload")},clickedEditFile(e,t){this.$emit("clickedEditFile",{data:e,type:t})},clickedEditBan(e,t){if(t==="upload"){let s=this.data.uploadFiles.findIndex(o=>o.name===e.name&&o.size===e.size);s>-1&&this.data.uploadFiles.splice(s,1)}else if(t==="resource"){let s=this.data.files.findIndex(o=>o.type===e.type&&o.id===e.id);s>-1&&(this.data.files.splice(s,1),this.data.deletedFiles.push(e))}this.showPreview=!1},editFileChange(){if(this.$refs.inputfile.files.length+this.computedEditFilesLength>3){this.$refs.inputfile.value="";return}this.activeFile=this.$refs.inputfile.files[0];for(let e=0;e<this.$refs.inputfile.files.length;e++)this.data.uploadFiles.push(this.$refs.inputfile.files[e]);this.showPreview=!0},clickedParticipantAction(e){if(e.action==="remove"||e.action==="leave"){this.$emit("clickedLeaveRemoveParticipant",e);return}this.$emit("updateParticpantState",e)}}},yo=e=>(gs("data-v-793581bc"),e=e(),vs(),e),Lj={key:0,class:"discusssion-info-section"},Fj={class:"title"},Uj={key:1,class:"body"},Bj=yo(()=>h("div",{class:"section"},"Admin",-1)),jj={class:"owner-section"},Vj={class:"name"},qj={class:"account"},Hj={key:0,class:"section"},Wj={key:1,class:"info-section"},zj={class:"info-item"},Gj=yo(()=>h("div",{class:"label"},"title",-1)),Yj={class:"item"},Qj={class:"info-item"},Kj=yo(()=>h("div",{class:"label"},"type",-1)),Jj={class:"item"},Xj={class:"info-item"},$j=yo(()=>h("div",{class:"label"},"restriction",-1)),Zj={class:"item"},eV={class:"info-item"},tV=yo(()=>h("div",{class:"label"},"participants",-1)),sV={class:"item"},nV={class:"info-item"},iV=yo(()=>h("div",{class:"label"},"note",-1)),oV={class:"item"},aV={class:"info-item"},rV=yo(()=>h("div",{class:"label"},"attachments",-1)),lV={class:"item"},cV=yo(()=>h("div",{class:"section"},"Participation",-1)),uV={key:2,class:"participants-section","infinite-wrapper":""},dV={key:0,class:"loading"},hV={key:0,class:"edit-section"},fV={key:0,class:"loading"},mV=yo(()=>h("div",{class:"section"},"Discussion Info",-1)),pV={class:"form-edit"},gV={class:"form-edit"},vV={class:"form-edit"},yV={class:"main-section"},wV=yo(()=>h("div",{class:"label"},"type:",-1)),_V={class:"form-edit"},bV={class:"main-section"},kV=yo(()=>h("div",{class:"label"},"restricted:",-1)),AV={class:"form-edit"},CV={class:"main-section"},SV=yo(()=>h("div",{class:"label"},"allowed:",-1)),IV=yo(()=>h("div",{class:"section"},"Discussion Resources",-1)),TV=yo(()=>h("div",{class:"info"},"you can up upload up to three files",-1)),DV={key:1,class:"files"},xV={key:2,class:"actions"},PV=["title"],MV={key:3,class:"media-section resources"},EV=["onClick"],OV=["onClick"],RV=["onClick","title"],NV={key:4,class:"media-section uploads"},LV=["onClick"],FV=["onClick"],UV=["onClick","title"],BV=["accept"],jV={class:"buttons"};function VV(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("attachment-badge"),m=_("other-user-account"),v=_("pulse-loader"),g=_("infinite-loading"),A=_("text-input"),D=_("text-textarea"),E=_("grey-button"),T=_("file-preview"),N=_("fade-up"),F=_("post-button"),R=_("just-fade");return a(),S(R,null,{default:z(()=>[s.show?(a(),d("div",Lj,[h("div",{class:"close",onClick:t[0]||(t[0]=j=>n.clickedDiscussionInfo("view"))},[b(r,{icon:["fa","times"]})]),(s.owner||s.admin)&&!s.showEdit?(a(),d("div",{key:0,class:"pencil",onClick:t[1]||(t[1]=j=>n.clickedDiscussionInfo("edit"))},[b(r,{icon:["fa","pencil-alt"]})])):c("",!0),h("div",Fj,V(s.showEdit?"edit discussion information":"discussion information"),1),s.showEdit?c("",!0):(a(),d("div",Uj,[Bj,h("div",jj,[h("div",Vj,V(s.discussion.raisedby.name),1),h("div",qj,V(s.discussion.raisedby.account),1)]),i.showParticipantsButton!=="hide"?(a(),d("div",Hj,"Information")):c("",!0),i.showParticipantsButton!=="hide"?(a(),d("div",Wj,[h("div",zj,[Gj,h("div",Yj,V(s.discussion.title),1)]),h("div",Qj,[Kj,h("div",Jj,V(n.computedType),1)]),h("div",Xj,[$j,h("div",Zj,V(s.discussion.restricted?"restricted mode":"unrestricted mode"),1)]),h("div",eV,[tV,h("div",sV,V(n.computedParticipantsInfo),1)]),h("div",nV,[iV,h("div",oV,V(s.note),1)]),h("div",aV,[rV,h("div",lV,[b(f)])])])):c("",!0),cV,h("div",{class:"show-participants",onClick:t[2]||(t[2]=(...j)=>n.clickedShowParticipants&&n.clickedShowParticipants(...j))},V(i.showParticipantsButton),1),i.showParticipants?(a(),d("div",uV,[(a(!0),d(Z,null,pe(s.participants,j=>(a(),S(m,{key:j.id,account:j,loading:e.otherUserAccountLoading,admin:s.admin,owner:s.owner,participant:!0,participating:j,onClickedParticipantAction:n.clickedParticipantAction},null,8,["account","loading","admin","owner","participating","onClickedParticipantAction"]))),128)),s.participantsLoading?(a(),d("div",dV,[b(v,{loading:s.participantsLoading,size:"10px"},null,8,["loading"])])):c("",!0)])):c("",!0),s.nextPage&&s.nextPage>1?(a(),S(g,{key:3,onInfinite:n.infiniteHandlerParticipants,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)])),b(R,null,{default:z(()=>[s.showEdit?(a(),d("div",hV,[s.loading&&s.showEdit?(a(),d("div",fV,[b(v,{loading:s.loading,size:"10px"},null,8,["loading"])])):c("",!0),mV,h("div",pV,[b(A,{placeholder:"discussion title",bottomBorder:!0,error:i.errorTitle,modelValue:i.data.title,"onUpdate:modelValue":t[3]||(t[3]=j=>i.data.title=j)},null,8,["error","modelValue"])]),h("div",gV,[b(D,{type:"text",placeholder:"discussion preamble (an introduction to the discussion)",bottomBorder:!0,modelValue:i.data.preamble,"onUpdate:modelValue":t[4]||(t[4]=j=>i.data.preamble=j)},null,8,["modelValue"])]),h("div",vV,[h("div",yV,[wV,b(E,{class:"grey-button",onClickedAction:t[5]||(t[5]=j=>n.clickedEditActionButton("public")),active:n.toLowercase(i.data.type)==="public",text:"public"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[6]||(t[6]=j=>n.clickedEditActionButton("private")),active:n.toLowercase(i.data.type)==="private",text:"private"},null,8,["active"])])]),h("div",_V,[h("div",bV,[kV,b(E,{class:"grey-button",onClickedAction:t[7]||(t[7]=j=>n.clickedEditActionButton("yes")),active:i.data.restricted,text:"yes"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[8]||(t[8]=j=>n.clickedEditActionButton("no")),active:!i.data.restricted,text:"no"},null,8,["active"])])]),h("div",AV,[h("div",CV,[SV,b(E,{class:"grey-button",onClickedAction:t[9]||(t[9]=j=>n.clickedEditActionButton("all")),active:n.toLowercase(i.data.allowed)==="all",text:"main"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[10]||(t[10]=j=>n.clickedEditActionButton("learners")),active:n.toLowercase(i.data.allowed)==="learners",text:"learners"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[11]||(t[11]=j=>n.clickedEditActionButton("parents")),active:n.toLowercase(i.data.allowed)==="parents",text:"parents"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[12]||(t[12]=j=>n.clickedEditActionButton("facilitators")),active:n.toLowercase(i.data.allowed)==="facilitators",text:"facilitators"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[13]||(t[13]=j=>n.clickedEditActionButton("professionals")),active:n.toLowercase(i.data.allowed)==="professionals",text:"professionals"},null,8,["active"]),b(E,{class:"grey-button",onClickedAction:t[14]||(t[14]=j=>n.clickedEditActionButton("schools")),active:n.toLowercase(i.data.allowed)==="schools",text:"schools"},null,8,["active"])])]),IV,TV,n.computedEditFilesLength<3?(a(),d("div",DV,[h("div",{class:we(["file",{active:i.fileType==="video"}]),onClick:t[15]||(t[15]=j=>n.clickedFileType("video"))},"video",2),h("div",{class:we(["file",{active:i.fileType==="audio"}]),onClick:t[16]||(t[16]=j=>n.clickedFileType("audio"))},"audio",2),h("div",{class:we(["file",{active:i.fileType==="picture"}]),onClick:t[17]||(t[17]=j=>n.clickedFileType("picture"))},"picture",2)])):c("",!0),n.computedEditFilesLength<3?(a(),d("div",xV,[i.fileType.length?(a(),d("div",{key:0,class:"action",onClick:t[18]||(t[18]=j=>n.clickedEditAction("upload")),title:`upload ${i.fileType}`},[b(r,{icon:["fa","upload"]})],8,PV)):c("",!0),i.fileType==="video"?(a(),d("div",{key:1,class:"action",onClick:t[19]||(t[19]=j=>n.clickedEditAction("video")),title:"record a video"},[b(r,{icon:["fa","video"]})])):c("",!0),i.fileType==="picture"?(a(),d("div",{key:2,class:"action",onClick:t[20]||(t[20]=j=>n.clickedEditAction("camera")),title:"snap a picture"},[b(r,{icon:["fa","camera"]})])):c("",!0),i.fileType==="audio"?(a(),d("div",{key:3,class:"action",onClick:t[21]||(t[21]=j=>n.clickedEditAction("microphone")),title:"record an audio"},[b(r,{icon:["fa","microphone"]})])):c("",!0)])):c("",!0),n.computedEditFilesLength?(a(),d("div",MV,[(a(!0),d(Z,null,pe(s.files,(j,W)=>(a(),d("div",{class:"media-item",key:W},[h("div",{class:"item-type",onClick:Q=>n.clickedEditFile(j,"resource")},[b(r,{icon:["fa","image"]})],8,EV),h("div",{class:"item-info",onClick:Q=>n.clickedEditFile(j,"resource")},V(j.name?j.name:n.shortenUrl(j.url)),9,OV),h("div",{class:"item-clear",onClick:Q=>n.clickedEditBan(j,"resource"),title:`remove ${n.getFileType(j.type)}`},[b(r,{icon:["fa","ban"]})],8,RV)]))),128))])):c("",!0),i.data.uploadFiles.length?(a(),d("div",NV,[(a(!0),d(Z,null,pe(i.data.uploadFiles,(j,W)=>(a(),d("div",{class:"media-item",key:W},[h("div",{class:"item-type",onClick:Q=>n.clickedEditFile(j,"upload")},[b(r,{icon:["fa","image"]})],8,LV),h("div",{class:"item-info",onClick:Q=>n.clickedEditFile(j,"upload")},V(j.name?j.name:n.shortenUrl(j.url)),9,FV),h("div",{class:"item-clear",onClick:Q=>n.clickedEditBan(j,"upload"),title:`remove ${n.getFileType(j.type)}`},[b(r,{icon:["fa","ban"]})],8,UV)]))),128))])):c("",!0),b(N,null,{default:z(()=>[i.showPreview?(a(),S(T,{key:0,class:"file-preview",file:s.activeFile,middle:!0,onRemoveFile:n.removeFile},null,8,["file","onRemoveFile"])):c("",!0)]),_:1}),h("input",{type:"file",class:"hidden",onChange:t[22]||(t[22]=(...j)=>n.editFileChange&&n.editFileChange(...j)),ref:"inputfile",accept:i.fileAccept,multiple:""},null,40,BV),h("div",jV,[b(F,{buttonText:"edit",buttonStyle:"success",onClick:n.clickedEdit},null,8,["onClick"]),b(F,{buttonText:"cancel",buttonStyle:"danger",onClick:n.clickedEdit},null,8,["onClick"])])])):c("",!0)]),_:1})])):c("",!0)]),_:1})}const qV=Ae(Nj,[["render",VV],["__scopeId","data-v-793581bc"]]),HV={props:{account:{type:Object,default(){return null}},request:{type:Object,default(){return null}},isRequest:{type:Boolean,default:!1},notification:{type:Boolean,default:!1},alert:{type:Boolean,default:!1},message:{type:String,default:""},createdAt:{type:String,default:""},invite:{type:Boolean,default:!1},inviting:{type:Boolean,default:!1},flag:{type:Boolean,default:!1},action:{type:Boolean,default:!0}},components:{ActionButton:mr,ProfileBar:oi,ProfilePicture:Ys},data(){return{loading:!1,declineLoading:!1,acceptLoading:!1,greenActionButtonText:"accept"}},watch:{invite:{immediate:!0,handler(e){e&&(this.greenActionButtonText="invite")}},inviting(e){e||(this.loading=!1,this.acceptLoading=!1,this.declineLoading=!1)}},beforeDestroy(){this.acceptLoading=!1},computed:{...os(["getProfiles","getUser"]),computedAccountType(){var e,t;return(e=this.account)!=null&&e.hasOwnProperty("account")?this.account.account:(t=this.request)!=null&&t.account?this.request.account.account:""},computedAccountId(){var e;return this.account.hasOwnProperty("accountId")?this.account.accountId:(e=this.request)!=null&&e.account?this.request.account.account:""},computedCreatedAt(){return this.createdAt.length?_s.createdAt(this.createdAt):""},computedMessage(){var e;return this.message.lemgth?this.message:(e=this.request)!=null&&e.message?this.request.message:""},computedAccount(){var e;return this.account?this.account:(e=this.request)!=null&&e.account?this.request.account:null}},methods:{...ss([]),clickedDecline(){var e,t,s,o,i;this.acceptLoading||(this.declineLoading=!0,this.$emit("clickedAction",{myAccount:(e=this.request)==null?void 0:e.myAccount,action:"declined",type:(t=this.request)==null?void 0:t.type,item:(s=this.request)==null?void 0:s.item,itemId:(o=this.request)==null?void 0:o.itemId,requestId:(i=this.request)==null?void 0:i.id}))},clickedAccept(){var e,t,s,o,i,n;if(!this.declineLoading){if(this.acceptLoading=!0,this.greenActionButtonText==="accept"){this.$emit("clickedAction",{action:"accepted",myAccount:(e=this.request)==null?void 0:e.myAccount,type:(t=this.request)==null?void 0:t.type,marker:(s=this.request)==null?void 0:s.marker,item:(o=this.request)==null?void 0:o.item,itemId:(i=this.request)==null?void 0:i.itemId,id:(n=this.request)==null?void 0:n.id});return}this.$emit("clickedAction",{action:"invite",account:this.computedAccount})}},goToProfile(e){this.isRequest||(this.$emit("clearData"),useRouter().push({name:"profile",params:{account:this.computedAccountType,accountId:this.computedAccountId}}))}}},WV={class:"top"},zV={slot:"image"},GV=["src"],YV={key:1,class:"name"},QV={key:2,class:"account-type"},KV={key:3,class:"created-at"},JV={key:0,class:"message w-10/12 mx-auto"},XV={key:1,class:"bottom"};function $V(e,t,s,o,i,n){const r=_("profile-picture"),f=_("action-button");return a(),d("div",{class:we(["account-badge-wrapper",{request:s.isRequest,notification:s.notification}]),onClick:t[1]||(t[1]=Vt(m=>n.goToProfile(s.account),["self"]))},[h("div",WV,[n.computedAccount?(a(),S(r,{key:0,class:"profile-picture mr-2",onClick:t[0]||(t[0]=m=>n.goToProfile(n.computedAccount))},{default:z(()=>[h("template",zV,[h("img",{src:n.computedAccount.url},null,8,GV)])]),_:1})):c("",!0),!s.message.length&&n.computedAccount?(a(),d("div",YV,V(n.computedAccount.name),1)):c("",!0),s.message.length?c("",!0):(a(),d("div",QV,V(n.computedAccountType),1)),s.message.length&&s.createdAt.length?(a(),d("div",KV,V(n.computedCreatedAt),1)):c("",!0)]),n.computedMessage.length?(a(),d("div",JV,V(n.computedMessage),1)):c("",!0),s.message.length?c("",!0):(a(),d("div",XV,[b(f,{onClick:n.clickedAccept,green:!0,title:"accept request to join discussion",loading:i.acceptLoading,text:i.greenActionButtonText},null,8,["onClick","loading","text"]),s.invite?c("",!0):(a(),S(f,{key:0,onClick:n.clickedDecline,red:!0,title:"decline request to join discussion",loading:i.declineLoading,text:"decline"},null,8,["onClick","loading"]))]))],2)}const mA=Ae(HV,[["render",$V],["__scopeId","data-v-3fc5652d"]]),ZV={components:{SearchInput:hr,GreyButton:Nl,ParticipantBadge:mA},props:{show:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},allowed:{type:String,default:""},for:{type:String,default:""},hasAllowed:{type:Boolean,default:!1},removedParticipant:{type:Object,default(){return null}},computedItem:{type:Object,default(){return null}}},data(){return{searchType:"profiles",searchLoading:!1,searchText:"",searchParticipants:[],searchNextPage:1,noSearchParticipants:!0,showMoreSearchParticipants:!1}},watch:{show:{immediate:!0,handler(e){if(!e){this.searchParticipants=[];return}this.setSearchTypeBasedOnAllowed()}},searchType(e){this.searhInvitableParticipants()},searchText(e){e.length?this.searhInvitableParticipants():this.searchParticipants=[]},removedParticipant(e){e&&this.removeSearchParticipant(e.userId)},searchNextPage(e){if(this.setOtherSearchVariables(),e==null||e==1){this.showMoreSearchParticipants=!1;return}this.showMoreSearchParticipants=!0},searchParticipants(e){this.setOtherSearchVariables()}},computed:{computedTitle(){return`invite accounts to join this ${this.computedItem.item}`}},methods:{...ss(["profile/discussionSearch","profile/itemSearch"]),clickedParticpantAction(e){this.$emit("clickedParticpantAction",e)},clickedCloseRequest(){this.clearData(),this.$emit("clickedCloseRequest")},clearData(){this.searchType="profiles",this.searchLoading=!1,this.searchText="",this.searchParticipants=[],this.searchNextPage=1,this.noSearchParticipants=!0,this.showMoreSearchParticipants=!1},searhInvitableParticipants:Ft.debounce(function(){this.searchNextPage=1,this.startSearch()},400),setSearchTypeBasedOnAllowed(){if(!this.hasAllowed){this.setSearchType("profiles");return}if(this.allowed==="ALL"){this.setSearchType("profiles");return}this.setSearchType(this.allowed.toLowerCase())},setOtherSearchVariables(){if(this.searchNextPage>1&&this.searchParticipants.length){this.noSearchParticipants=!1;return}if(this.searchNextPage&&!this.searchParticipants.length){this.noSearchParticipants=!0;return}if(!this.searchNextPage&&this.searchParticipants.length){this.noSearchParticipants=!1;return}},clickedSearchType(e){this.setSearchType(e)},setSearchType(e){this.searchType=e},receivedParticipantsSearchText(e){this.searchText=e},removeSearchParticipant(e){this.searchParticipants=this.searchParticipants.filter(t=>t.userId!==e),this.$emit("doneRemovingParticipant")},async startSearch(){this.searchParticipants=await this.search()},async infiniteHandler(e){if(this.searchParticipants.push(...await this.search()),this.searchNextPage){e.loaded();return}e.complete()},async search(){if(this.searchNextPage===null||!this.searchText.length)return;this.searchLoading=!0;let e=null,t={search:this.searchText,searchType:this.searchType},s={};return this.for.length&&(t[`${this.for}s`]=!0),s.nextPage=this.searchNextPage,s.item=this.computedItem.item,s.params=t,s.params[`${this.computedItem.item}Id`]=this.computedItem.itemId,e=await this["profile/itemSearch"](s),this.searchLoading=!1,e.status?(e.next&&(this.searchNextPage+=1),e.next||(this.searchNextPage=null),e.data):[]}}},eq={key:0,class:"item-request-section"},tq={class:"title"},sq={class:"body"},nq={key:0,class:"search-types"},iq={class:"accounts-section"},oq={key:0,class:"no-participants"},aq={key:1,class:"loading"};function rq(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("search-input"),m=_("grey-button"),v=_("participant-badge"),g=_("pulse-loader"),A=_("infinite-loading"),D=_("just-fade");return a(),S(D,null,{default:z(()=>[s.show?(a(),d("div",eq,[h("div",{class:"close",onClick:t[0]||(t[0]=(...E)=>n.clickedCloseRequest&&n.clickedCloseRequest(...E))},[b(r,{icon:["fa","times"]})]),h("div",tq,V(n.computedTitle),1),h("div",sq,[b(f,{class:"search-section",placeholder:"search whom to invite?",onSearch:n.receivedParticipantsSearchText},null,8,["onSearch"]),s.hasAllowed?(a(),d("div",nq,[s.allowed==="ALL"?(a(),S(m,{key:0,class:"grey-button",onClickedAction:t[1]||(t[1]=E=>n.clickedSearchType("profiles")),active:i.searchType==="profiles",text:"all"},null,8,["active"])):c("",!0),s.allowed==="ALL"||s.allowed==="LEARNERS"?(a(),S(m,{key:1,class:"grey-button",onClickedAction:t[2]||(t[2]=E=>n.clickedSearchType("learners")),active:i.searchType==="learners",text:"learners"},null,8,["active"])):c("",!0),s.allowed==="ALL"||s.allowed==="PARENTS"?(a(),S(m,{key:2,class:"grey-button",onClickedAction:t[3]||(t[3]=E=>n.clickedSearchType("parents")),active:i.searchType==="parents",text:"parents"},null,8,["active"])):c("",!0),s.allowed==="ALL"||s.allowed==="FACILITATORS"?(a(),S(m,{key:3,class:"grey-button",onClickedAction:t[4]||(t[4]=E=>n.clickedSearchType("facilitators")),active:i.searchType==="facilitators",text:"facilitators"},null,8,["active"])):c("",!0),s.allowed==="ALL"||s.allowed==="PROFESSIONALS"?(a(),S(m,{key:4,class:"grey-button",onClickedAction:t[5]||(t[5]=E=>n.clickedSearchType("professionals")),active:i.searchType==="professionals",text:"professionals"},null,8,["active"])):c("",!0),s.allowed==="ALL"||s.allowed==="SCHOOLS"?(a(),S(m,{key:5,class:"grey-button",onClickedAction:t[6]||(t[6]=E=>n.clickedSearchType("schools")),active:i.searchType==="schools",text:"schools"},null,8,["active"])):c("",!0)])):c("",!0),h("div",iq,[!i.searchLoading&&i.noSearchParticipants?(a(),d("div",oq," no search results ")):c("",!0),(a(!0),d(Z,null,pe(i.searchParticipants,(E,T)=>(a(),S(v,{key:T,account:E,class:"participant-badge",invite:!0,inviting:s.loading,onClickedAction:n.clickedParticpantAction},null,8,["account","inviting","onClickedAction"]))),128)),i.searchLoading?(a(),d("div",aq,[b(g,{loading:i.searchLoading,size:"10px"},null,8,["loading"])])):c("",!0),!i.searchLoading&&i.showMoreSearchParticipants?(a(),S(A,{key:2,onInfinite:n.infiniteHandler},null,8,["onInfinite"])):c("",!0)])])])):c("",!0)]),_:1})}const pA=Ae(ZV,[["render",rq],["__scopeId","data-v-1b38b33c"]]),lq={props:{data:{type:Object,default(){return null}},additionalText:{type:String,default:""},transparent:{type:Boolean,default:!1}},computed:{computedTypeText(){return this.data.type?`this is an ${this.data.type}`:""}}},cq={key:0,class:"flex flex-col h-full justify-between p-3 border-2 rounded-lg"},uq={class:"text-gray-500 text-sm lowercase flex justify-between w-full"},dq={key:0},hq={key:1},fq={key:0,class:"capitalize text-lg font-black"},mq={key:1,class:"pt-10 text-center truncate"},pq={class:"flex p-2 items-center overflow-y-auto"};function gq(e,t,s,o,i,n){return s.data?(a(),d("div",cq,[h("div",uq,[n.computedTypeText.length?(a(),d("div",dq,V(n.computedTypeText),1)):c("",!0),s.additionalText.length?(a(),d("div",hq,V(s.additionalText),1)):c("",!0)]),h("div",{class:we(["mx-auto min-w-3/4 max-w-full p-2 bg-gray-50",{"text-transparent":s.transparent}])},[s.data.name?(a(),d("div",fq,V(s.data.name),1)):c("",!0),s.data.description?(a(),d("div",mq,V(s.data.description),1)):c("",!0)],2),h("div",pq,[Jt(e.$slots,"buttons")])])):c("",!0)}const gA=Ae(lq,[["render",gq]]),bv={data(){return{likeData:{likeTitle:"",isLiked:!1,myLike:null,likes:0}}},watch:{"likeData.isLiked"(e){e?this.likeData.likeTitle=`unlike this ${this.computedItem.item}`:this.likeData.likeTitle=`like this ${this.computedItem.item}`},"likeData.myLike"(e){if(e){this.likeData.isLiked=!0;return}this.likeData.isLiked=!1}},computed:{computedRoute(){return Ns()}},methods:{...ss(["profile/createLike","profile/deleteLike","profile/newLike","profile/removeLike","home/newLike","home/removeLike"]),listenForLikes(){Echo.channel(`youredu.${this.computedItem.item}.${this.computedItem.itemId}`).listen(".newLike",e=>{this[`${this.computedRoute.name}/newLike`]({...this.computedItem,like:e.like})}).listen(".deleteLike",e=>{this[`${this.computedRoute.name}/removeLike`]({...this.computedItem,likeId:e.likeId})})},async clickedLike(){if(!this.disabled&&!this.computedBanned){if(!this.getUser){this.$emit("askLoginRegister",this.computedItem.item);return}if(!this.getProfiles.length){this.issueCustomMessage({type:"info",message:"you must have an account (eg. learner, parent, etc) before you can like."}),this.clearSmallModal(!1);return}if(!this.likeData.isLiked){this.showProfilesText="like as",this.showProfilesAction="like",this.profilesAppear();return}!this.likeData.myLike||!this.likeData.myLike.hasOwnProperty("id")||this.deleteLike()}},async deleteLike(){this.likeData.likes-=1,this.likeData.isLiked=!1;let e={likeId:this.likeData.myLike.id,item:this.computedItem.item,itemId:this.computedItem.itemId,owner:this.computedOwner.account,ownerId:this.computedOwner.accountId};if(this.schoolAdmin&&(e.adminId=this.schoolAdmin.id),e.where=this.computedRoute.name,await this["profile/deleteLike"](e)==="unsuccessful"){this.likeData.isLiked=!0,this.likeData.likes+=1,this.$emit("unlikeSuccessful",{...this.computedItem,likeId:e.like});return}this.setMyLike()},async like(e){this.showProfiles=!1,this.likeData.isLiked=!0,this.likeData.likes+=1;let t={item:this.computedItem.item,itemId:this.computedItem.itemId,account:e.account,accountId:e.accountId,owner:this.computedOwner.account,ownerId:this.computedOwner.accountId};this.schoolAdmin&&(t.adminId=this.schoolAdmin.id),t.where=this.computedRoute.name;let s=await this["profile/createLike"](t);if(s==="unsuccessful"){this.likeData.isLiked=!1,this.likeData.likes-=1,this.$emit("likeSuccessful",{...this.computedItem,like:s.like});return}this.setMyLike()},setMyLike(){if(!this.getUser||!this.computedItemable){this.likeData.myLike=null;return}let e=this.computedItemable.likes.findIndex(t=>t.userId==this.getUser.id);if(e>-1){this.likeData.myLike=this.computedItemable.likes[e];return}this.likeData.myLike=null}}},vq={props:{item:{type:String,default:""}},computed:{computedMainText(){return`${this.item} is flagged`}}},yq={class:"absolute bg-gray-800 flex flex-col h-full items-center justify-center opacity-90 px-10 right-0 top-0 w-full"},wq={class:"font-extrabold text-2xl text-red-200"},_q=h("div",{class:"font-black mt-10 text-center text-red-900 text-sm"}," you have either flagged this or it has been flagged by any of your parents if you have one on the platform ",-1);function bq(e,t,s,o,i,n){return a(),d("div",yq,[h("div",wq,V(n.computedMainText),1),_q])}const kq=Ae(vq,[["render",bq]]),kv={components:{FlagCover:kq},data(){return{showFlagReason:!1,flagData:{isFlagged:!1,myFlag:null,flagReason:"",flagTitle:"",flagRed:""}}},watch:{"flagData.isFlagged"(e){e?(this.flagData.flagTitle="unflag this discussion",this.flagData.flagRed="red"):(this.flagData.flagTitle="flag this discussion",this.flagData.flagRed="")},"flagData.myFlag"(e){if(e){this.flagData.isFlagged=!0;return}this.flagData.isFlagged=!1}},computed:{...os(["isAdult"]),computedRoute(){return Ns()}},methods:{...ss(["profile/createFlag","profile/deleteFlag","profile/newFlag","profile/removeFlag","home/newFlag","home/removeFlag"]),listenForFlags(){Echo.channel(`youredu.${this.computedItem.item}.${this.computedItem.itemId}`).listen(".newFlag",e=>{this[`${this.computedRoute.name}/newFlag`]({...this.computedItem,flag:e.flag})}).listen(".deleteFlag",e=>{this.computedItem.item!=="comment"&&this[`${this.computedRoute.name}/removeFlag`]({...this.computedItem,flagId:e.flagId})})},reasonGiven(e){this.showFlagReason=!1,this.flagData.flagReason=e,this.profilesAppear()},continueFlagProcess(){this.flagData.flagReason=null,this.showFlagReason=!1,this.profilesAppear()},cancelFlagProcess(){this.flagData.flagReason="",this.showFlagReason=!1},clickedFlag(){if(!this.disabled&&!this.computedBanned){if(this.flagData.isFlagged){this.flag(null);return}if(!this.getUser){this.$emit("askLoginRegister",this.computedIem.item);return}if(!this.getProfiles.length){this.issueCustomMessage({type:"info",message:"you must have an account (eg. learner, parent, etc) before you can flag."}),this.clearSmallModal(!1);return}this.showProfilesText="flag as",this.showProfilesAction="flag",this.showFlagReason=!0}},async flag(e){var o;this.loading=!0;let t={},s=null;if(t.where=this.computedRoute.name,t.itemId=this.computedItem.itemId,t.item=this.computedItem.item,this.schoolAdmin&&(t.adminId=this.schoolAdmin.id),e&&(t.account=e.account,t.accountId=e.accountId,t.reason=this.flagData.flagReason,s=await this["profile/createFlag"](t)),(o=this.flagData.myFlag)!=null&&o.flagId&&!this.isAdult){this.alertDanger=!0,this.alertMessage="sorry , you cannot unflag because it was flagged by a parent or school";return}if(!e&&this.flagData.myFlag&&(t.flagId=this.flagData.myFlag.id,s=await this["profile/deleteFlag"](t)),this.loading=!1,this.flagData.flagReason="",!s.status){this.alertDanger=!0,this.alertMessage="oops! something unfortunate happened. try again later ";return}if(this.clearSmallModal(),this.setMyFlag(),this.alertSuccess=!0,e){this.alertMessage="successfully flagged",this.$emit("flaggedSuccessful",this.computedItem);return}this.alertMessage="successfully unflagged",this.$emit("unflaggedSuccessful",{flag:s.flag,...this.computedItem})},setMyFlag(){if(!this.getUser||!this.computedItemable){this.flagData.myFlag=null;return}let e=this.computedItemable.flags.findIndex(t=>t.userId==this.getUser.id);if(e>-1){this.flagData.myFlag=this.computedItemable.flags[e];return}this.flagData.myFlag=null}}},Av={data(){return{saveData:{isSaved:!1,mySave:null,saves:0}}},watch:{"saveData.mySave"(e){if(e){this.saveData.isSaved=!0;return}this.saveData.isSaved=!1}},methods:{...ss(["profile/createSave","profile/deleteSave","profile/newSave","profile/removeSave","home/newSave","home/removeSave"]),listenForSaves(){},async save(e){this.showProfiles=!1,this.loading=!0;let t={item:this.computedItem.item,itemId:this.computedItem.itemId},s=null,o="";if(this.schoolAdmin&&(t.adminId=this.schoolAdmin.id),t.where=Ns().name,e?(t.account=e.account,t.accountId=e.accountId,o="saving",this.saveData.saves+=1,s=await this["profile/createSave"](t)):(t.saveId=this.mySave.id,o="unsaving",this.saveData.saves-=1,s=await this["profile/deleteSave"](t)),this.loading=!1,s.status){this.alertSuccess=!0,this.alertMessage=`${o} successful`,this.$emit(e?"saveSuccessful":"unsaveSuccessful",{...this.computedItem,save:s.save,saveId:t.saveId}),this.setMySave();return}this.alertDanger=!0,this.alertMessage=`${o} unsuccessful`,e&&(this.saveData.saves-=1),e||(this.saveData.saves+=1)},clickedSave(){this.showProfilesText="save as",this.showProfilesAction="save",this.profilesAppear()},setMySave(){if(!this.getUser||!this.computedItemable){this.saveData.mySave=null;return}let e=this.computedItemable.saves.findIndex(t=>t.userId==this.getUser.id);if(e>-1){this.mySave=this.computedItemable.saves[e];return}this.saveData.mySave=null}}},vA={data(){return{removedParticipant:null,joinOrInvitationType:""}},computed:{computedPendingParticipant(){return this.getUser&&this.computedItemable.pendingParticipants.findIndex(e=>e.userId===this.getUser.id)>-1},computedRouteName(){return Ns().name}},methods:{...ss(["profile/joinItem","profile/inviteAccount","profile/newItemParticipant","profile/removeItemParticipant","home/newItemParticipant","home/removeItemParticipant","profile/updateItemParticipant","home/updateItemParticipant","profile/newItemPendingParticipant","home/newItemPendingParticipant","profile/removeItemPendingParticipant","home/removeItemPendingParticipant"]),doneRemovingParticipant(){this.removedParticipant=null},listenForParticipation(){Echo.channel(`youredu.${this.computedItem.item}.${this.computedItem.itemId}`).listen(".newParticipant",e=>{this[`${this.computedRouteName}/newItemParticipant`]({...e,...this.computedItem}),this.alertSuccess=!0,this.alertMessage="a new participant just joined this discussion"}).listen(".updateParticipant",e=>{this[`${this.computedRouteName}/updateItemParticipant`]({...e,...this.computedItem}),this.getUser&&e.participant.userId===this.getUser.id&&(e.participant.state==="RESTRICTED"||e.participant.state==="BANNED")&&(this.showDiscussionInfo=!1,this.showDiscussionEdit=!1,this.alertDanger=!0,this.alertMessage=`you have been ${e.participant.state.toLowerCase()}`)}).listen(".removeParticipant",e=>{this[`${this.computedRouteName}/removeItemParticipant`]({...e,...this.computedItem}),this.getUser&&e.userId===this.getUser.id&&(this.showDiscussionInfo=!1,this.showDiscussionEdit=!1,this.alertDanger=!0,this.alertMessage="you have been removed")}).listen(".newPendingParticipant",e=>{this.computedAdmin&&(this.alertSuccess=!0,this.alertMessage="new join request received"),this[`${this.computedRouteName}/newItemPendingParticipant`]({...e,...this.computedItem})}).listen(".removePendingParticipant",e=>{this[`${this.computedRouteName}/removeItemPendingParticipant`]({...e,...this.computedItem})})},async join(e){let t,s={account:e.account,accountId:e.accountId,type:this.joinOrInvitationType};if(this.loading=!0,t=await this["profile/joinItem"]({computedItem:this.computedItem,item:this.computedItemable,data:s}),this.loading=!1,this.joinOrInvitationType="",!t.status){this.issueDangerAlertForResponse(t,"oops ! something happened. please try again later");return}if(this.alertSuccess=!0,this.computedItemable.type==="PRIVATE"){this.alertMessage=`you have successfully requested to participate in this ${this.computedItem.item}. have fun as you wait for owners response .`;return}this.alertMessage=`you have been successfully added to ${this.computedItem.item}. you can now participate .`},async invite(e){this.loading=!0;let t,s={account:e.account,accountId:e.accountId,type:this.joinOrInvitationType};if(t=await this["profile/inviteAccount"]({item:this.computedItemable,computedItem:this.computedItem,data:s}),this.loading=!1,this.joinOrInvitationType="",t.status){this.alertSuccess=!0,this.alertMessage=`invitation request to ${e.name} was successfully sent`,this.removedParticipant=e;return}this.issueDangerAlertForResponse(t,`invitation request to ${e.name} was unsuccessfully`)},clickedParticpantAction(e){e.action==="invite"&&this.invite(e.account)}}},Yf={components:{ProfileBar:oi},data(){return{showProfilesAction:"",showProfilesText:"",showOnlyProfiles:!1,showProfiles:!1}},watch:{showProfiles(e){e&&setTimeout(()=>{this.clearProfilesData()},4e3)}},computed:{...os(["getProfiles"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]}},methods:{profilesAppear(){this.showProfiles=!0},clearProfilesData(){this.showProfiles=!1,this.showOnlyProfiles=!1,this.showProfilesText=""}}},Cv={data(){return{smallModalDelete:!1,smallModalInfo:!1,smallModalAlerting:!1,showSmallModal:!1,smallModalMessage:"",smallModalData:null}},watch:{showSmallModal(e){e&&this.clearSmallModal(!1)}},methods:{issueSmallModalDeletionMessage(){var e;this.smallModalMessage=`are you sure you want to delete this ${(e=this.computedItem)==null?void 0:e.item}?`,this.smallModalInfo=!1,this.smallModalDelete=!0,this.showSmallModal=!0},clearSmallModal(e=!0){setTimeout(()=>{this.showSmallModal=!1,this.smallModalInfo=!1,this.smallModalDelete=!1,this.smallModalAlerting=!1,this.smallModalData=null,this.smallModalMessage=""},e?0:4e3)},issueCustomMessage(e){this.smallModalInfo=e.type==="info",this.smallModalDelete=e.type==="delete",this.smallModalData=e.data,this.smallModalMessage=e.message,this.showSmallModal=!0},issueSmallModalInfoMessage(e){this.smallModalDelete=!1,this.smallModalInfo=!0,this.smallModalData=e.data,this.smallModalMessage=e.message,this.showSmallModal=!0}}},Sv={data(){return{showAddComment:!1}},computed:{computedComments(){var e,t;return((t=(e=this[this.computedItem.item])==null?void 0:e.comments)==null?void 0:t.length)>0?Ft.take(this[this.computedItem.item].comments,2):null}},methods:{...ss(["home/replaceComment","home/removeComment","profile/replaceComment","profile/removeComment","home/newomment","profile/newComment","profile/deleteComment"]),listenForComments(){const e=Ns();Echo.channel(`youredu.${this.computedItem.item}.${this.computedItem.itemId}`).listen(".updateComment",t=>{this[`${e.name}/replaceComment`](t)}).listen(".deleteComment",t=>{this[`${e.name}/removeComment`]({...t,...this.computedItem})}).listen(".newComment",t=>{this[`${e.name}/newComment`](t)})}}},Aq={components:{PostAttachment:go,AttachmentBadge:vo},data(){return{attachmentData:{isAttached:!1,myAttachments:null,postAttachments:[],attachable:null,showAttach:!1,selectedAttachment:null}}},watch:{"attachmentData.postAttachments"(e){(!e||!e.length)&&(this.attachmentData.myAttachments=null,this.attachmentData.isAttached=!1)},"attachmentData.myAttachments"(e){e&&e.length&&(this.attachmentData.isAttached=!0)}},computed:{computedRouteName(){return Ns().name}},methods:{...ss(["profile/createAttachment","profile/deleteAttachment","profile/newAttachment","profile/removeAttachment","home/newAttachment","home/removeAttachment"]),listenForAttachments(){Echo.channel(`youredu.${this.computedItem.item}.${this.computedItem.itemId}`).listen(".newAttachment",e=>{this[`${this.computedRouteName.name}/newAttachment`]({...this.computedItem,attachment:e.attachment})}).listen(".deleteAttachment",e=>{this[`${this.computedRouteName.name}/removeAttachment`]({...this.computedItem,attachmentId:e.attachmentId})})},setMyAttachment(){this.getUser&&(this.computedItemable&&this.computedItemable.hasOwnProperty("attachments")||(this.attachmentData.myAttachments=this.computedItemable.attachments.filter(e=>e.user_id==this.getUser.id).map(e=>({id:e.id,with_type:ns.getAccount(e.attachedwith_type),with_id:e.attachedwith_id,with:e.name})),this.attachmentData.postAttachments=this.computedItemable.attachments.map(e=>({data:{name:e.name},type:ns.getAccount(e.attachedwith_type)}))))},clickedUnattach(e){this.attachmentData.showAttach=!1,this.attachmentData.selectedAttachment=e,this.attach(null)},attachmentClicked(e){this.attachmentData.showAttach=!1,this.attachmentData.attachable=e,this.showProfilesAction="attach",this.showProfilesText="attach as",this.profilesAppear()},async attach(e){this.loading=!0;let t={},s=null,o="";if(t.where=this.computedRouteName.name,t.item=this.computedItem.item,t.itemId=this.computedItem.itemId,t.postType=this.computedItem.postType,e?(o="attachment",t.type=this.attachmentData.attachable.item,t.typeId=this.attachmentData.attachable.itemId,t.account=e.account,t.accountId=e.accountId,t.note=this.attachmentData.attachable.note,s=await this["profile/createAttachment"](t)):(o="unattachment",t.attachmentId=this.attachmentData.selectedAttachment.id,s=await this["profile/deleteAttachment"](t)),this.loading=!1,!s.status){this.alertDanger=!0,this.alertMessage=`${o} unsuccessful `;return}this.alertSuccess=!0,this.alertMessage=`${o} successful `,this.setMyAttachment()}}},Cq={components:{ProfilePicture:Ys,FadeUp:bi,MediaCapture:Rl,OptionalActions:Wr,DiscussionTextarea:fA,TextInput:js,TextTextarea:kn,PostButton:xs,DiscussionBadge:zf,MediaModal:hA,SpecialButton:Gf,ItemViewCover:gA,ItemRequestSection:pA,DiscussionSingleInfo:qV},props:{discussion:{type:Object,default(){return{}}},discussionFull:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},schoolAdmin:{type:Object,default(){return null}}},mixins:[bv,kv,Av,ga,Cv,Sv,vA,Yf,Aq],data(){return{steps:0,showMediaModal:!1,mediaModalUrl:{},showDiscussionInfo:!1,showDiscussionRequest:!1,showOptions:!1,loading:!1,participantsLoading:!1,otherUserAccountLoading:!1,requestType:"",messageSectionState:"min",adminButtonText:"all",participants:[],participantsNextPage:1,messageNextPage:1,messages:[],discussionFiles:[],discussionText:"",messageSending:!1,messagesGetting:!1,showInfiniteLoader:!1,showUnseenMessages:!1,unseenMessagesNumber:0,showDiscussionEdit:!1,showMediaCapture:!1,mediaCaptureType:"",fileNumberError:!1,showFilePreview:!1,activeFile:null}},watch:{discussion:{immediate:!0,handler(e,t){e.messages&&(this.messages=e.messages)},deep:!0},"discussion.participants"(e,t){var s,o;t&&((s=e.participants)==null?void 0:s.length)>((o=t.participants)==null?void 0:o.length)&&(this.alertSuccess=!0,this.alertMessage="a new participant just joined")},computedItemable(e){e&&this.setMyFlag()},showUnseenMessages(e){e&&setTimeout(()=>{this.showUnseenMessages=!1},5e3)},messageNextPage(e){e&&e>2?this.showInfiniteLoader=!0:this.showInfiniteLoader=!1},"discussion.likes":{immediate:!0,handler(e){e&&(this.likeData.likes=e.length)}},"discussion.saves":{immediate:!0,handler(e){e&&(this.saveData.saves=e.length)}}},mounted(){this.setMyFlag(),this.setMyLike(),this.setMySave(),this.setMyAttachment(),this.listen(),this.listenForComments(),this.listenForLikes(),this.listenForFlags(),this.listenForSaves(),this.listenForAttachments(),this.listenForParticipation()},computed:{...os(["getUser"]),computedRestriction(){return this.discussion.restricted?"restricted participation":""},computedRestricted(){return this.computedParticipant?this.computedParticipant.state==="RESTRICTED"||this.computedParticipant.state==="BANNED":!1},computedBanned(){return this.computedParticipant?this.computedParticipant.state==="BANNED":!1},computedResources(){let e=[];return this.discussion.images&&this.discussion.images.forEach(t=>{e.push({url:t.url,id:t.id,type:"image"})}),this.discussion.videos&&this.discussion.videos.forEach(t=>{e.push({url:t.url,id:t.id,type:"video"})}),this.discussion.audios&&this.discussion.audios.forEach(t=>{e.push({url:t.url,id:t.id,type:"audio"})}),e},computedClasses(){let e="";return(this.showProfilesAction==="save"||this.showProfilesAction==="attach"||this.showProfilesAction==="join")&&(e+="absolute top-5 left-2/3 -ml-1/4 top-10 max-w-content"),this.steps===0&&(e+=" bottom-8"),e},computedAdmin(){return this.computedIsOwner||this.computedUserParticipant&&this.discussion.participants.findIndex(e=>e.userId===this.getUser.id&&e.state==="ADMIN")>-1},computedShowDiscussions(){return this.computedMessagesCount>2&&this.messages.length<=2&&!this.messagesGetting},computedCanJoin(){return this.discussion.allowed!=="ALL"?this.computedProfiles.filter(e=>e.account==this.discussion.allowed).map(e=>({account:e.account,accountId:e.accountId})):{}},computedMessagesCount(){return this.discussion.messages_count},computedBlocked(){return!!(this.getUser&&this.computedRestricted)},computedParticipationNote(){return this.computedIsOwner?"you are the owner and admin of this discussion":this.computedUserParticipant?"you are a participant in this discussion":this.discussion.allowed==="ALL"&&this.computedProfiles||this.computedCanJoin.account?"you can join this discussion":this.computedProfiles&&!this.computedCanJoin.account?"you cannot join this discussion because you do not have an allowable account":""},computedIsOwner(){return this.getUser&&this.discussion.raisedby.userId===this.getUser.id},computedOwner(){return this.discussion.raisedby},computedParticipant(){if(!this.getUser)return null;let e=this.discussion.participants.findIndex(t=>t.userId===this.getUser.id);return e>-1?this.discussion.participants[e]:null},computedUserParticipant(){return!!(this.computedIsOwner||this.computedParticipant&&this.computedParticipant.id)},computedJoin(){return!this.computedPendingParticipant&&!this.computedIsOwner&&!this.computedUserParticipant&&this.computedCanJoin&&this.discussion.type==="PUBLIC"},computedItem(){return{item:"discussion",itemId:this.discussion.id}},computedItemable(){return this.discussion},computedCoverData(){return{name:this.discussion.title,description:this.discussion.preamble?this.discussion.preamble:"",type:"discussion"}},computedShowReaction(){return this.flagData.isFlagged?this.flagData.isFlagged:this.computedShowCoverJoin?computedShowCoverJoin:this.steps},computedShowCoverJoin(){return this.discussion.type!=="PUBLIC"&&this.computedJoin}},methods:{...ss(["profile/getDiscussionMessages","profile/sendDiscussionMessage","profile/updateDiscussion","profile/deleteDiscussion","profile/deleteDiscussionMessage","profile/discusionContributionResponse","profile/getDiscussionParticipants","profile/updateParticpantState","profile/deleteDiscussionParticipant"]),listen(){Echo.channel(`youredu.discussion.${this.discussion.id}`).listen(".newDiscussionMessage",e=>{console.log("data :>> ",e),this.discussion.restricted?this.computedIsOwner&&this.adminButtonText==="pending"?this.messages.unshift(e.message):(this.alertSuccess=!0,this.alertMessage="a new contribution has been sent"):this.messages.unshift(e.message)}).listen(".newDiscussionMessageResponse",e=>{if(console.log("data :>> ",e),this.discussion.restricted)if(this.computedAdmin){(this.adminButtonText==="all"||this.adminButtonText==="accepted")&&e.message.state==="ACCEPTED"?(this.alertSuccess=!0,this.messages.unshift(e.message)):this.adminButtonText==="rejected"&&e.message.state==="REJECTED"&&(this.messages.unshift(e.message),this.alertDanger=!0),this.alertMessage=`a new contribution has been ${e.message.state.toLowerCase()}`;return}else e.message.state==="ACCEPT"&&(this.alertSuccess=!0,this.alertMessage="a new contribution has been sent",this.messages.unshift(e.message))}).listen(".deleteDiscussionMessage",e=>{console.log("data :>> ",e),this.spliceMessage(e.messageId)})},clickedMessageSectionToggle(){this.messageSectionState=this.messageSectionState==="max"?"min":"max"},async clickedDiscussionAction(e){let t,s={userId:e.message.userId,messageId:e.message.id,action:e.action};t=await this["profile/discusionContributionResponse"](s),t.status?((this.adminButtonText==="all"&&s.action==="accepted"&&e.message.state==="ACCEPTED"||this.adminButtonText===e.message.state.toLowerCase())&&this.spliceMessage(e.message.id),(this.adminButtonText==="all"&&s.action==="accepted"&&t.discussionMessage.state==="ACCEPTED"||this.adminButtonText===t.discussionMessage.state.toLowerCase())&&this.unshiftMessage(t.discussionMessage,e.adminText)):console.log("response :>> ",t)},unshiftMessage(e,t){this.messages.unshift(e)},spliceMessage(e){console.log("messageId :>> ",e);let t=this.messages.findIndex(s=>s.id==e);console.log("index :>> ",t),t>-1&&this.messages.splice(t,1)},clickedDiscussionOption(e){this.deleteMessage(e)},async deleteMessage(e){let t;t=await this["profile/deleteDiscussionMessage"]({messageId:e.message.id,discussionId:this.discussion.id,action:e.action==="delete"?e.action:"self"}),t.status?e.action==="delete"?this.spliceMessage(e.message.id):this.replaceMessage(t.discussionMessage):console.log("response :>> ",t)},replaceMessage(e){let t=this.messages.findIndex(s=>s.id===e.id);t>-1&&this.messages.splice(t,1,e)},clickedSmallModalButton(e){e==="yes"?this.showProfilesAction==="flag"?this.flag(this.smallModalData):this.showProfilesAction==="delete"?this.deleteDiscussion():this.showProfilesAction==="participant"&&this.deleteDiscussionParticipant(this.smallModalData):e==="no"&&(this.otherUserAccountLoading=!1,this.clearSmallModal())},clickedEdit(e){if(e.type==="cancel"){this.showDiscussionInfo=!1,this.showDiscussionEdit=!1;return}if(e.type==="edit"){if(!this.data.title.length){this.alertDanger=!0,this.alertMessage="a title is needed";return}this.updateDiscussion(e.data)}},async deleteDiscussion(){const e=Ns();this.loading=!0,data={where:e.name};let t=await this["profile/deleteDiscussion"]({discussionId:this.discussion.id,data});this.loading=!1,t.status?(this.alertSuccess=!0,this.alertMessage="deletion was successful"):(console.log("response :>> ",t),this.alertDanger=!0,this.alertMessage=t.response.data.message),this.smallModalAlerting=!0},async updateDiscussion(){let e,t=new FormData,s={};this.loading=!0,this.computedIsOwner&&(t.append("account",ns.getAccount(this.discussion.raisedby.account)),t.append("accountId",this.discussion.raisedby.accountId)),t.append("title",s.title),t.append("type",s.type),t.append("restricted",JSON.stringify(s.restricted)),t.append("allowed",s.allowed),t.append("preamble",s.preamble),this.files.forEach(o=>{t.append("files[]",o)}),t.append("deletedFiles",JSON.stringify(s.deletedFiles)),s.discussionId=this.discussion.id,s.formData=t,s.where=Ns().name,e=await this["profile/updateDiscussion"](s),this.loading=!1,e.status?(this.alertSuccess=!0,this.alertMessage="update was successful"):(console.log("response :>> ",e),this.alertDanger=!0,this.alertMessage="update was unsuccessful"),setTimeout(()=>{this.showDiscussionEdit=!1,this.showDiscussionInfo=!1},3e3)},updateNextPage(e){this.participantsNextPage=e},clickedEditAction(e){e==="video"?(this.mediaCaptureType="video",this.showMediaCapture=!0):e==="camera"?(this.mediaCaptureType="image",this.showMediaCapture=!0):e==="microphone"?(this.mediaCaptureType="audio",this.showMediaCapture=!0):e==="upload"&&(this.$refs.inputfile.value="",this.$refs.inputfile.click())},toLowercase(e){return e.toLowerCase()},closeMediaCapture(){this.showMediaCapture=!1},receiveMediaCapture(e){let t=new Date().getTime(),s;e.type.includes("image")?(s=`my_picture${t}.png`,this.activeFile=this.imageFile=new File([e],s,{type:"image/png",lastModified:new Date})):e.type.includes("video")?(s=`my_video${t}.webm`,this.activeFile=this.videoFile=new File([e],s,{type:"video/webm",lastModified:new Date})):e.type.includes("audio")&&(s=`my_audio${t}.mp3`,this.activeFile=this.audioFile=new File([e],s,{type:"audio/mp3",lastModified:new Date})),this.showFilePreview=!0},scrollingMainArea(){console.log("mainarea :>> ",this.$refs.mainarea.scrollTop)},clickedUnseenMessages(){this.showUnseenMessages=!1,this.unseenMessagesNumber=0},clickedEditIcon(){this.disabled||this.computedBanned||(this.showOptions=!this.showOptions,this.showOptions&&setTimeout(()=>{this.showOptions=!1},4e3),this.showAttach=!1)},clickedOption(e){if(this.showOptions=!1,e==="edit"){this.showDiscussionInfo=!0,this.showDiscussionEdit=!0;return}if(e==="save"){if(this.saveData.isSaved){this.save(null);return}this.showProfilesText="save as",this.showProfilesAction="save",this.profilesAppear();return}if(e==="attach"){this.showAttach=!0;return}if(e==="delete"){this.showProfilesAction="delete",this.issueSmallModalDeletionMessage();return}e==="requests"&&(this.requestType=e,this.showDiscussionRequest=!0)},clickedUnattach(e){this.showAttach=!1,this.selectedAttachment=e,this.attach(null)},attachmentClicked(e){this.showAttach=!1,this.attachable=e,this.showProfilesAction="attach",this.showProfilesText="attach as",this.profilesAppear()},async attach(e){this.loading=!0;let t={},s=null,o="";t.where=Ns().name,t.item="discussion",t.itemId=this.discussion.id,e?(o="attachment",t.attachable=this.attachable.item,t.attachableId=this.attachable.itemId,t.account=e.account,t.accountId=e.accountId,t.note=this.attachable.note,s=await this["profile/createAttachment"](t)):(o="unattachment",t.attachmentId=this.selectedAttachment.id,s=await this["profile/deleteAttachment"](t)),this.loading=!1,s.status?(e?this.attachments+=1:this.attachments-=1,this.alertSuccess=!0,this.alertMessage=`${o} successful`):(this.alertDanger=!0,this.alertMessage=`${o} unsuccessful`)},clickedAdminButton(e){this.adminButtonText!==e&&(this.messageNextPage=1,this.getMessages(e)),this.adminButtonText=e},closeMediaModal(){this.showMediaModal=!1},clickedPostButton(e){if(e==="invite"){this.requestType=e,this.showDiscussionRequest=!0;return}if(e==="join"){this.clickedJoin();return}e==="leave"&&(this.showProfilesAction="participant",this.clickedLeaveRemoveParticipant({action:e}))},clickedJoin(){if(this.discussion.allowed==="ALL"){this.showProfilesAction="join",this.showProfilesText="join discussion as",this.showProfiles=!0;return}if(!this.getUser){this.askLoginRegister("discussion");return}this.computedCanJoin.account&&this.join(this.computedCanJoin)},clickedLeaveRemoveParticipant(e){this.otherUserAccountLoading=!0,(e.action==="remove"||e.action==="leave")&&(this.showProfilesAction="participant");let t="are you sure you want to remove this participant from the discussion?";e.action==="leave"&&(t="are you sure you want to leave this discussion?"),this.issueCustomMessageWithDeletion(t)},askLoginRegister(e){this.$emit("askLoginRegister",e)},clickedDiscussionInfo(e){this.computedBanned||(e==="view"?(this.showDiscussionInfo&&(this.showDiscussionEdit=!1),this.showDiscussionInfo=!this.showDiscussionInfo):e==="edit"&&(this.showDiscussionEdit=!0))},clickedDiscussionMedia(e){this.mediaModalUrl=e,this.showMediaModal=!0},async sendDiscussionMessage(){this.messageSending=!0;let e,t=new FormData,s=this.discussion.id;this.computedIsOwner?(t.append("account",this.discussion.raisedby.account),t.append("accountId",this.discussion.raisedby.accountId)):t.append("userId",this.getUser.id),t.append("message",this.discussionText),this.discussionFiles.length&&this.discussionFiles.forEach(o=>{t.append("file[]",o)}),this.discussion.restricted?this.computedAdmin?t.append("state","ACCEPTED"):t.append("state","PENDING"):t.append("state","ACCEPTED"),e=await this["profile/sendDiscussionMessage"]({discussionId:s,formData:t}),this.messageSending=!1,e.status?(this.discussion.restricted?(this.alertSuccess=!0,this.alertMessage="your message is pending"):this.messages.unshift(e.discussionMessage),this.$refs.mainarea.scrollTop!==0&&(this.showUnseenMessages=!0,this.unseenMessagesNumber+=1)):(console.log("response :>> ",e),this.alertDanger=!0,this.alertMessage="message sending failed")},discussionFileChange(e){this.discussionText=e.caption.length?e.caption.length:this.discussionText,this.discussionFiles=e.files},async getMessages(e=null){let t,s=this.discussion.id,o=this.messageNextPage,i=e||this.adminButtonText;this.messagesGetting=!0,t=await this["profile/getDiscussionMessages"]({discussionId:s,nextPage:o,type:i}),t.status?(this.messages=t.data,t.next?(this.messageNextPage+=1,this.showInfiniteLoader=!0):this.messageNextPage=null):console.log("response :>> ",t),this.messagesGetting=!1},async infiniteHandler(e){if(this.messageNextPage===1)return;if(this.messageNextPage===null){e.complete();return}let t,s=this.discussion.id,o=this.messageNextPage;this.adminButtonText,this.messageSending=!0,t=await this["profile/getDiscussionMessages"]({discussionId:s,nextPage:o}),this.messageSending=!1,t.status?(this.messages.push(...t.data),t.next?(this.messageNextPage+=1,e.loaded()):(this.messageNextPage=null,e.complete())):console.log("response :>> ",t)},async getDiscussionParticipants(){this.participantsLoading=!0;let e,t={};t.nextPage=this.participantsNextPage,t.discussionId=this.discussion.id,e=await this["profile/getDiscussionParticipants"](t),this.participantsLoading=!1,e.status?(this.participants=e.data,e.next?this.participantsNextPage+=1:this.participantsNextPage=null):console.log("response :>> ",e)},async infiniteHandlerParticipants(e){if(this.participantsNextPage!==1){if(this.participantsNextPage===null){e.complete();return}this.participantsLoading=!0,data.nextPage=this.participantsNextPage,data.discussionId=this.discussion.id,response=await this["profile/getDiscussionParticipants"](data),this.participantsLoading=!1,response.status?(this.participants.push(...response.data),response.next?(this.participantsNextPage+=1,e.loaded()):(this.participantsNextPage=null,e.complete())):console.log("response :>> ",response)}},async deleteDiscussionParticipant(e){let t,s={discussionId:this.discussion.id,action:e.action};this.loading=!0,e.action==="leave"?(s.participantId=this.computedParticipant.id,s.userId=this.computedParticipant.userId):(s.participantId=e.account.participantId,s.userId=e.account.userId),t=await this["profile/deleteDiscussionParticipant"](s),this.loading=!1,this.otherUserAccountLoading=!1,t.status?(this.alertSuccess=!0,e.action==="leave"?this.alertMessage="left successfully":this.alertMessage="removed participant successfully",this.removeParticipant(s.participantId)):(console.log("response :>> ",t),this.alertDanger=!0,this.alertMessage=t.response.data.message),this.smallModalAlerting=!0},async updateParticpantState(e){this.otherUserAccountLoading=!0;let t,s={discussionId:this.discussion.id,participantId:e.account.participantId,userId:e.account.userId,action:e.action};t=await this["profile/updateParticpantState"](s),this.otherUserAccountLoading=!1,t.status?this.replaceParticipant(t.discussionParticipant):console.log("response :>> ",t)},removeParticipant(e){let t=this.participants.findIndex(s=>s.participantId===e);t>-1&&this.participants.splice(t,1)},replaceParticipant(e){let t=this.participants.findIndex(s=>s.participantId===e.participantId);t>-1&&this.participants.splice(t,1,e)},clickedShowPostComments(){this.$emit("clickedShowPostComments",{item:this.post,type:"discussion"})},postAddComplete(e){if(e==="successful"){this.showAddComment=!1,this.alertSuccess=!0,this.alertMessage="comment created successfully ";return}this.alertDanger=!0,this.alertMessage="comment creation failed "},clickedAddComment(){if(!this.disabled&&!this.computedBanned){if(!this.getUser){this.$emit("askLoginRegister","discussionsingle");return}if(!this.getProfiles||!this.getProfiles.length){this.issueSmallModalInfoMessage({message:"you must have an account (eg. learner, parent, etc) before you can comment."});return}this.showAddComment=!0}},clickedProfile(e){if(this.showProfiles=!1,this.showProfilesAction==="join"){this.join(e);return}if(this.showProfilesAction==="like"){this.like(e);return}if(this.showProfilesAction==="save"){this.save(e);return}if(this.showProfilesAction==="flag"){this.issueCustomMessage({message:"are you sure you want to flag this?",data:e,type:"delete"});return}this.showProfilesAction==="attach"&&this.attach(e)},clickedEditFile(e){e.type==="resource"?(this.mediaModalUrl=e.data,this.showMediaModal=!0):e.type==="upload"&&(this.showFilePreview=this.activeFile!==e.data,this.activeFile=e.data)},clickedMedia(e){}}},Sq=e=>(gs("data-v-5a63e38b"),e=e(),vs(),e),Iq={class:"discussion-single-wrapper min-h-90vh flex flex-col relative"},Tq={slot:"buttons"},Dq={key:1,class:"top flex-shrink-0"},xq={class:"discussion-type"},Pq={key:0,class:"restriction"},Mq={key:1,class:"options"},Eq={slot:"extraicon"},Oq={class:"alert w-full"},Rq={key:2,class:"loading"},Nq={key:3,class:"first flex-grow-0 flex-shrink-0"},Lq={class:"creator-info"},Fq=Sq(()=>h("div",{class:"started"},"started by",-1)),Uq={slot:"image"},Bq=["src"],jq={class:"name"},Vq={class:"buttons"},qq={key:3,class:"message"},Hq={class:"discussion-info"},Wq={class:"title"},zq={key:4,class:"second flex-grow-0 flex-shrink-0"},Gq={class:"attachments-section"},Yq={class:"resources-section"},Qq=["onDblclick"],Kq=["src"],Jq=["src"],Xq=["src"],$q={key:1,class:"no-resources"},Zq={key:0,class:"admin-section flex-shrink-0"},eH={class:"discussion-section h-full w-full"},tH={class:"main-area h-full w-full",ref:"mainarea"},sH={key:1,class:"no-discussions"},nH={key:0,class:"loading"},iH={key:0,class:"text-area"},oH={class:"forth flex-grow-0 flex-shrink-0"},aH={slot:"actions"};function rH(e,t,s,o,i,n){const r=_("special-button"),f=_("item-view-cover"),m=_("font-awesome-icon"),v=_("optional-actions"),g=_("auto-alert"),A=_("pulse-loader"),D=_("post-attachment"),E=_("profile-picture"),T=_("post-button"),N=_("attachment-badge"),F=_("discussion-badge"),R=_("infinite-loading"),j=_("fade-up"),W=_("discussion-textarea"),Q=_("reaction-component"),le=_("media-modal"),me=_("just-fade"),k=_("discussion-single-info"),Ce=_("item-request-section"),he=_("media-capture"),Ke=_("small-modal"),Te=_("flag-cover");return a(),d("div",Iq,[i.steps===0?(a(),S(f,{key:0,class:"min-h-90vh",data:n.computedCoverData,transparent:e.flagData.isFlagged,additionalText:s.discussion.type},{default:z(()=>[h("template",Tq,[s.discussion.type==="PUBLIC"?(a(),S(r,{key:0,buttonText:"view discussion",class:"p-1 ml-5",onClick:t[0]||(t[0]=Ve=>i.steps=1)})):c("",!0),n.computedShowCoverJoin?(a(),S(r,{key:1,buttonText:"join",class:"p-1 ml-5",onClick:n.clickedJoin},null,8,["onClick"])):c("",!0)])]),_:1},8,["data","transparent","additionalText"])):c("",!0),i.steps?(a(),d("div",Dq,[h("div",xq,V(s.discussion.type),1),n.computedRestriction.length?(a(),d("div",Pq,V(n.computedRestriction),1)):c("",!0)])):c("",!0),n.computedShowReaction?(a(),d("div",{key:2,class:we(["bottom flex flex-col h-full flex-1",[i.steps===0?"border-0":""]])},[i.steps?(a(),d(Z,{key:0},[n.computedUserParticipant?(a(),d("div",{key:0,class:"edit",onClick:t[1]||(t[1]=(...Ve)=>n.clickedEditIcon&&n.clickedEditIcon(...Ve))},[b(m,{icon:["fa","chevron-down"]})])):c("",!0),i.showOptions?(a(),d("div",Mq,[b(v,{show:i.showOptions,hasSave:!n.computedIsOwner,isSaved:e.saveData.isSaved,hasExtra:n.computedIsOwner&&s.discussion.type==="PRIVATE",extraText:"requests",hasEdit:n.computedIsOwner,hasAttachment:n.computedUserParticipant,hasDelete:n.computedIsOwner,onClickedOption:n.clickedOption},{default:z(()=>[h("template",Eq,[b(m,{icon:["fa","info-circle"]})])]),_:1},8,["show","hasSave","isSaved","hasExtra","hasEdit","hasAttachment","hasDelete","onClickedOption"])])):c("",!0),h("div",Oq,[b(g,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"])]),i.loading&&!i.showDiscussionEdit?(a(),d("div",Rq,[b(A,{loading:i.loading,size:"10px"},null,8,["loading"])])):c("",!0),h("div",{class:"post-attachment h-content",onClick:t[2]||(t[2]=Vt(Ve=>e.attachmentData.showAttach=!1,["self"]))},[b(D,{show:e.attachmentData.showAttach,isAttached:e.attachmentData.isAttached,attachmentsNumber:e.attachmentData.postAttachments.length,attachments:e.attachmentData.myAttachments,onItemClicked:n.attachmentClicked,onClickedUnattach:n.clickedUnattach},null,8,["show","isAttached","attachmentsNumber","attachments","onItemClicked","onClickedUnattach"])]),i.messageSectionState!=="max"?(a(),d("div",Nq,[h("div",Lq,[Fq,b(E,{class:"profile-picture mr-1"},{default:z(()=>[h("template",Uq,[h("img",{src:s.discussion.raisedby.url},null,8,Bq)])]),_:1}),h("div",jq,V(s.discussion.raisedby.name),1),h("div",Vq,[n.computedIsOwner?(a(),S(T,{key:0,buttonText:"invite",onClick:n.clickedPostButton},null,8,["onClick"])):c("",!0),n.computedJoin?(a(),S(T,{key:1,buttonText:"join",onClick:n.clickedPostButton,class:"z-10"},null,8,["onClick"])):c("",!0),!n.computedIsOwner&&n.computedUserParticipant&&!n.computedBanned?(a(),S(T,{key:2,buttonText:"leave",onClick:n.clickedPostButton},null,8,["onClick"])):c("",!0),e.computedPendingParticipant?(a(),d("div",qq," your request is pending ")):c("",!0)])]),h("div",Hq,[h("div",Wq,V(s.discussion.title),1)])])):c("",!0),i.messageSectionState!=="max"?(a(),d("div",zq,[h("div",Gq,[(a(!0),d(Z,null,pe(e.attachmentData.postAttachments,(Ve,ut)=>(a(),S(N,{key:ut,hasClose:!1,attachment:Ve.data,type:Ve.type},null,8,["attachment","type"]))),128))]),h("div",Yq,[n.computedResources.length?(a(!0),d(Z,{key:0},pe(n.computedResources,(Ve,ut)=>(a(),d("div",{class:"resource",key:ut,onDblclick:de=>n.clickedDiscussionMedia(Ve)},[Ve.type==="image"?(a(),d("img",{key:0,src:Ve.url},null,8,Kq)):c("",!0),Ve.type==="video"?(a(),d("video",{key:1,src:Ve.url,controls:""},null,8,Jq)):c("",!0),Ve.type==="audio"?(a(),d("audio",{key:2,src:Ve.url,controls:""},null,8,Xq)):c("",!0)],40,Qq))),128)):(a(),d("div",$q," no discussion resources "))])])):c("",!0),h("div",{class:we(["flex flex-col flex-grow third w-full",[i.messageSectionState==="max"?"z-50 h-full absolute top-0":""]])},[n.computedIsOwner&&s.discussion.restricted?(a(),d("div",Zq,[h("div",{class:we(["admin-button",{active:i.adminButtonText==="all"}]),onClick:t[3]||(t[3]=Ve=>n.clickedAdminButton("all"))},"all",2),h("div",{class:we(["admin-button",{active:i.adminButtonText==="accepted"}]),onClick:t[4]||(t[4]=Ve=>n.clickedAdminButton("accepted"))},"accepted",2),h("div",{class:we(["admin-button",{active:i.adminButtonText==="declined"}]),onClick:t[5]||(t[5]=Ve=>n.clickedAdminButton("declined"))},"declined",2),h("div",{class:we(["admin-button",{active:i.adminButtonText==="pending"}]),onClick:t[6]||(t[6]=Ve=>n.clickedAdminButton("pending"))},"pending",2)])):c("",!0),s.discussion.preamble.length?(a(),d("div",{key:1,class:"preamble flex-shrink-0",onClick:t[8]||(t[8]=Vt(Ve=>n.clickedDiscussionInfo("view"),["self"]))},[Mt(V(s.discussion.preamble)+" ",1),i.messages.length>2?(a(),d("div",{key:0,class:"toggle",onClick:t[7]||(t[7]=(...Ve)=>n.clickedMessageSectionToggle&&n.clickedMessageSectionToggle(...Ve))},[i.messageSectionState==="max"?(a(),S(m,{key:0,icon:["fa","chevron-down"]})):c("",!0),i.messageSectionState==="min"?(a(),S(m,{key:1,icon:["fa","chevron-up"]})):c("",!0)])):c("",!0)])):c("",!0),h("div",eH,[h("div",tH,[i.unseenMessagesNumber&&i.showUnseenMessages?(a(),d("div",{key:0,class:"unseen-messages",onClick:t[9]||(t[9]=(...Ve)=>n.clickedUnseenMessages&&n.clickedUnseenMessages(...Ve)),onScroll:t[10]||(t[10]=(...Ve)=>n.scrollingMainArea&&n.scrollingMainArea(...Ve))}," 0 ",32)):c("",!0),!i.messages.length&&!i.messagesGetting&&!i.messageSending?(a(),d("div",sH," no discussions yet ")):c("",!0),(a(!0),d(Z,null,pe(i.messages,Ve=>(a(),S(F,{key:Ve.id,message:Ve,onClickedOption:n.clickedDiscussionOption,onClickedAction:n.clickedDiscussionAction,admin:n.computedAdmin,adminText:i.adminButtonText},null,8,["message","onClickedOption","onClickedAction","admin","adminText"]))),128)),n.computedShowDiscussions?(a(),d("div",{key:2,class:"show-discussions",onClick:t[11]||(t[11]=(...Ve)=>n.getMessages&&n.getMessages(...Ve))}," show discussions ")):c("",!0),i.showInfiniteLoader?(a(),S(R,{key:3,onInfinite:n.infiniteHandler},null,8,["onInfinite"])):c("",!0),b(j,null,{default:z(()=>[i.messageSending?(a(),d("div",nH,[b(A,{loading:i.messageSending,size:"10px"},null,8,["loading"])])):c("",!0)]),_:1})],512),n.computedUserParticipant?(a(),d("div",iH,[b(W,{modelValue:i.discussionText,"onUpdate:modelValue":t[12]||(t[12]=Ve=>i.discussionText=Ve),onSendMessage:n.sendDiscussionMessage,onFileChange:n.discussionFileChange,blocked:n.computedBlocked},null,8,["modelValue","onSendMessage","onFileChange","blocked"])])):c("",!0)])],2)],64)):c("",!0),h("div",oH,[b(Q,{comments:e.computedComments,item:n.computedItem,isOwner:n.computedIsOwner,full:s.discussionFull,showAddComment:e.showAddComment,showFlagReason:e.showFlagReason,flagData:e.flagData,likeData:e.likeData,classes:n.computedClasses,showProfilesText:e.showProfilesText,showOnlyProfiles:!!n.computedClasses.length,showProfiles:e.showProfiles,profiles:e.computedProfiles,onHideAddComment:t[13]||(t[13]=Ve=>e.showAddComment=!1),onPostAddComplete:n.postAddComplete,onAskLoginRegister:n.askLoginRegister,onClickedMedia:n.clickedMedia,onClickedProfile:n.clickedProfile,onClickedLike:e.clickedLike,onClickedAddComment:n.clickedAddComment,onCancelFlagProcess:e.cancelFlagProcess,onReasonGiven:e.reasonGiven,onClickedFlag:e.clickedFlag,onContinueFlagProcess:e.continueFlagProcess,onClickedShowPostComments:n.clickedShowPostComments,onUpdateParticpantState:n.updateParticpantState},null,8,["comments","item","isOwner","full","showAddComment","showFlagReason","flagData","likeData","classes","showProfilesText","showOnlyProfiles","showProfiles","profiles","onPostAddComplete","onAskLoginRegister","onClickedMedia","onClickedProfile","onClickedLike","onClickedAddComment","onCancelFlagProcess","onReasonGiven","onClickedFlag","onContinueFlagProcess","onClickedShowPostComments","onUpdateParticpantState"])])],2)):c("",!0),b(me,null,{default:z(()=>[i.showMediaModal?(a(),S(le,{key:0,show:i.showMediaModal,justUrl:!0,url:i.mediaModalUrl.url,urlType:i.mediaModalUrl.type,onMainModalDisappear:n.closeMediaModal},null,8,["show","url","urlType","onMainModalDisappear"])):c("",!0)]),_:1}),b(k,{discussion:s.discussion,participantsLoading:i.participantsLoading,otherUserAccountLoading:i.otherUserAccountLoading,participants:i.participants,activeFile:i.activeFile,loading:i.loading,owner:n.computedIsOwner,admin:n.computedAdmin,participant:n.computedUserParticipant,files:n.computedResources,showFilePreview:i.showFilePreview,note:n.computedParticipationNote,show:i.showDiscussionInfo,showEdit:i.showDiscussionEdit,nextPage:i.participantsNextPage,onUpdateNextPage:n.updateNextPage,onClickedEdit:n.clickedEdit,onClickedEditFile:n.clickedEditFile,onGetDiscussionParticipants:n.getDiscussionParticipants,onClickedLeaveRemoveParticipant:n.clickedLeaveRemoveParticipant},null,8,["discussion","participantsLoading","otherUserAccountLoading","participants","activeFile","loading","owner","admin","participant","files","showFilePreview","note","show","showEdit","nextPage","onUpdateNextPage","onClickedEdit","onClickedEditFile","onGetDiscussionParticipants","onClickedLeaveRemoveParticipant"]),b(Ce,{show:i.showDiscussionRequest,computedItem:n.computedItem,allowed:s.discussion.allowed,removedParticipant:e.removedParticipant,loading:i.loading,onClickedParticpantAction:e.clickedParticpantAction,onDoneRemovingParticipant:e.doneRemovingParticipant,onClickedCloseRequest:t[14]||(t[14]=Ve=>i.showDiscussionRequest=!1)},null,8,["show","computedItem","allowed","removedParticipant","loading","onClickedParticpantAction","onDoneRemovingParticipant"]),i.showMediaCapture?(a(),S(he,{key:3,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receiveMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0),b(j,null,{default:z(()=>[e.showSmallModal?(a(),S(Ke,{key:0,title:e.smallModalMessage,show:e.showSmallModal,message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,loading:i.loading,alerting:e.smallModalAlerting,onDisappear:e.clearSmallModal},{default:z(()=>[h("template",aH,[e.smallModalInfo?(a(),S(T,{key:0,buttonText:"ok",onClick:n.clickedSmallModalButton},null,8,["onClick"])):c("",!0),e.smallModalDelete?(a(),S(T,{key:1,buttonText:"yes",onClick:n.clickedSmallModalButton,buttonStyle:"danger"},null,8,["onClick"])):c("",!0),e.smallModalDelete?(a(),S(T,{key:2,buttonText:"no",onClick:n.clickedSmallModalButton,buttonStyle:"success"},null,8,["onClick"])):c("",!0)])]),_:1},8,["title","show","message","success","danger","loading","alerting","onDisappear"])):c("",!0)]),_:1}),e.flagData.myFlag?(a(),S(Te,{key:4,item:n.computedItem.item},null,8,["item"])):c("",!0)])}const yA=Ae(Cq,[["render",rH],["__scopeId","data-v-5a63e38b"]]),lH={props:{assessmentSection:{type:Object,default(){return null}}}},cH={key:0,class:"bg-white rounded-sm p-2"},uH={class:"text-center"},dH={class:"text-sm text-gray-500"},hH={class:"text-right text-xs"};function fH(e,t,s,o,i,n){return s.assessmentSection?(a(),d("div",cH,[h("div",uH,V(s.assessmentSection.name),1),h("div",dH,V(s.assessmentSection.instruction),1),h("div",hH,V(`${s.assessmentSection.questions.length} questions`),1)])):c("",!0)}const mH=Ae(lH,[["render",fH]]),pH={components:{DroppableComponent:Pd,PossibleAnswerBadge:Hf,TextInput:js,TextTextarea:kn,NumberInput:fa},props:{answerType:{type:String,default:null},possibleAnswers:{type:Array,default(){return[]}},providedAnswer:{type:Object,default(){return null}},currentAnswer:{type:Object,default(){return null}}},data(){return{answer:{assessmentSectionId:null,questionId:null,answer:"",file:null,possibleAnswerIds:[]},answerPossibleAnswers:[]}},watch:{possibleAnswers:{immediate:!0,handler(e){if(this.computedDrag){this.answerPossibleAnswers=this.arrangedPossibleAnswersByProvided();return}this.answerPossibleAnswers=e}},providedAnswer:{immediate:!0,handler(e){if(!e){this.clearAnswer();return}this.answer.answer=e.answer,this.answer.assessmentSectionId=e.assessmentSectionId,this.answer.file=e.file,this.answer.possibleAnswerIds=e.possibleAnswerIds,this.answer.questionId=e.questionId}},"answer.answer"(e){this.currentAnswer||e&&this.computedTypingAnswerType&&this.emitAnswer()},"answer.file"(e){this.currentAnswer||e&&this.computedFileAnswerType&&this.emitAnswer()}},computed:{computedDrag(){return["arrange","flow"].includes(this.computedAnswerType)},computedSelectable(){return["option","true_false"].includes(this.computedAnswerType)},computedTypingAnswerType(){return["long_answer","short_answer","number"].includes(this.computedAnswerType)},computedFileAnswerType(){return["file","image","video","audio"].includes(this.computedAnswerType)},computedAnswerType(){return this.answerType?this.answerType.toLowerCase():""},computedPossibleAnswerIds(){return this.answerPossibleAnswers.map(e=>e.id)},computedCorrectPossibleAnswers(){return this.providedAnswer?this.possibleAnswers.filter(e=>this.providedAnswer.possibleAnswerIds.includes(e.id)):[]},computedHasData(){return this.answer.answer.length||this.answer.possibleAnswerIds.length||this.answer.file}},methods:{movePossibleAnswer(e){if(e.fromPossibleAnswerIndex+1===this.answerPossibleAnswers.length&&e.toPossibleAnswerIndex===void 0)return;let t=this.answerPossibleAnswers.splice(e.fromPossibleAnswerIndex,1)[0];if(e.toPossibleAnswerIndex===void 0){this.answerPossibleAnswers.push(t);return}if(e.toPossibleAnswerIndex===0){this.answerPossibleAnswers.unshift(t);return}this.answerPossibleAnswers.splice(e.toPossibleAnswerIndex,0,t),this.$nextTick(this.addPossibleAnswer(null))},arrangedPossibleAnswersByProvided(){if(!this.providedAnswer||this.providedAnswer.possibleAnswerIds.length>1)return this.possibleAnswers;let e=[];return this.providedAnswer.possibleAnswerIds.forEach(t=>{e.push(this.possibleAnswers.find(s=>{s.id==t}))}),e},possibleAnswerIsCorrect(e){this.addPossibleAnswer(e)},possibleAnswerIsWrong(e){this.removePossibleAnswer(e)},removePossibleAnswer(e){let t=this.answer.possibleAnswers.findIndex(s=>s.id==e.id);t!==-1&&(this.answer.possibleAnswers.splice(t,1),!this.currentAnswer&&this.emitAnswer())},emitAnswer(){this.$emit("answered",this.answer)},addPossibleAnswer(e){if(this.answer.possibleAnswerIds=[],this.computedSelectable&&e){if(this.answer.possibleAnswerIds=[e.id],this.currentAnswer)return;this.emitAnswer();return}e||(this.answer.possibleAnswerIds=this.answerPossibleAnswers,!this.currentAnswer&&this.emitAnswer())},clearAnswer(){this.answer.assessmentSectionId=null,this.answer.questionId=null,this.answer.answer="",this.answer.file=null,this.answer.possibleAnswerIds=[]},clickedButton(e){if(e==="update"){this.$emit("answered",{type:e,...this.answer});return}this.clearAnswer(),this.$emit("answered",{close:!0})}}},gH={class:"",id:"answers"},vH={key:4,class:"w-full p-2 flex justify-end"};function yH(e,t,s,o,i,n){const r=_("text-input"),f=_("text-textarea"),m=_("number-input"),v=_("possible-answer-badge"),g=_("droppable-component");return a(),d("div",null,[n.computedAnswerType==="short_answer"?(a(),S(r,{key:0,placeholder:"give a short answer to this question",bottomBorder:!0,modelValue:i.answer.answer,"onUpdate:modelValue":t[0]||(t[0]=A=>i.answer.answer=A)},null,8,["modelValue"])):c("",!0),n.computedAnswerType==="long_answer"?(a(),S(f,{key:1,placeholder:"give a long answer to this question",bottomBorder:!0,modelValue:i.answer.answer,"onUpdate:modelValue":t[1]||(t[1]=A=>i.answer.answer=A)},null,8,["modelValue"])):c("",!0),n.computedAnswerType==="number"?(a(),S(m,{key:2,placeholder:"give a long answer to this question",bottomBorder:!0,modelValue:i.answer.answer,"onUpdate:modelValue":t[2]||(t[2]=A=>i.answer.answer=A)},null,8,["modelValue"])):c("",!0),s.possibleAnswers.length?(a(),S(g,{key:3,onDrop:n.movePossibleAnswer},{default:z(()=>[h("div",gH,[(a(!0),d(Z,null,pe(i.answerPossibleAnswers,(A,D)=>(a(),S(v,{key:D,possibleAnswerIndex:D,answering:!0,answerType:s.answerType,drag:n.computedDrag,possibleAnswer:A,possibleAnswersLength:s.possibleAnswers.length,onMovePossibleAnswer:n.movePossibleAnswer,onPossibleAnswerIsCorrect:n.possibleAnswerIsCorrect,correctPossibleAnswers:n.computedCorrectPossibleAnswers},null,8,["possibleAnswerIndex","answerType","drag","possibleAnswer","possibleAnswersLength","onMovePossibleAnswer","onPossibleAnswerIsCorrect","correctPossibleAnswers"]))),128))])]),_:1},8,["onDrop"])):c("",!0),s.currentAnswer?(a(),d("div",vH,[n.computedHasData?(a(),d("div",{key:0,class:"text-base p-2 cursor-pointer hover:text-green-500 z-30 mr-1 text-gray-500",onClick:t[3]||(t[3]=A=>n.clickedButton("update"))}," update ")):c("",!0),h("div",{class:"text-base p-2 cursor-pointer hover:text-green-500 z-30 text-gray-500",onClick:t[4]||(t[4]=A=>n.clickedButton("cancel"))}," cancel ")])):c("",!0)])}const wH=Ae(pH,[["render",yH]]),_H={},bH=e=>(gs("data-v-b6ba0f40"),e=e(),vs(),e),kH=bH(()=>h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 261.4 177.91",fill:"currentColor",class:"svg-inline--fa",role:"image"},[h("g",{id:"Layer_2","data-name":"Layer 2"},[h("g",{id:"Layer_1-2","data-name":"Layer 1"},[h("polyline",{class:"cls-1",points:"10.07 84.72 76.5 159.12 252.69 10.31"}),h("line",{class:"cls-1",x1:"152.25",y1:"166.86",x2:"246.28",y2:"84.72"})])])],-1)),AH=[kH];function CH(e,t,s,o,i,n){return a(),d("div",null,AH)}const SH=Ae(_H,[["render",CH],["__scopeId","data-v-b6ba0f40"]]),IH={methods:{clickedButton(e){this.$emit("click",e)}}},TH={class:"w-content"};function DH(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",TH,[h("div",{class:"p-2 cursor-pointer hover:text-green-500 z-30 mr-1 text-gray-500",onClick:t[0]||(t[0]=f=>n.clickedButton("edit")),"data-testid":"edit"},[b(r,{icon:["fa","pencil-alt"]})]),h("div",{class:"p-2 cursor-pointer hover:text-red-500 z-30",onClick:t[1]||(t[1]=f=>n.clickedButton("delete")),"data-testid":"delete"},[b(r,{icon:["fa","trash"]})])])}const xH=Ae(IH,[["render",DH]]),PH={components:{FilesPreviewBackend:pv,PossibleAnswerBadge:Hf,PartialMark:SH,EditDeleteButtons:xH},mixins:[rA],props:{answer:{type:Object,default(){return null}},mark:{type:Object,default(){return null}},hasEditDeleteButtons:{type:Boolean,default(){return!1}}},data(){return{showMarkForm:!1}},computed:{computedItemable(){return this.answer},computedIsCorrect(){return this.mark?this.mark.score==this.answer.question.scoreOver:!1},computedIsPartial(){return this.mark?this.mark.score<this.answer.question.scoreOver&&0<this.mark.score:!1},computedIsWrong(){return this.mark?this.mark.score==0:!1},computedPossibleAnswers(){var t;if(!((t=this.answer.possibleAnswerIds)!=null&&t.length))return[];let e=[];return this.answer.possibleAnswerIds.forEach(s=>{e.push(this.answer.question.possibleAnswers.find(o=>o.id==s))}),e},computedScore(){return this.answer.mark?`${this.answer.mark.score}/${this.answer.scoreOver}`:""},computedRemark(){var e;return(e=this.answer.mark)!=null&&e.remark?`remarks: ${this.answer.mark.remark}`:""},computedShowEditDeleteButtons(){var e;return((e=this.answer)==null?void 0:e.mark)&&this.answer.isMarker||this.hasEditDeleteButtons}},methods:{clickedButton(e){e==="edit"&&(e="update"),this.$emit("clickedButton",{type:e,answer:this.answer})}}},MH={class:"relative p-1"},EH={class:"bg-wheat rounded p-1"},OH={class:"text-xs text-right text-gray-400"},RH={key:1,class:"font-semibold text-gray-500","data-testid":"answer"},NH={key:0,class:"relative"},LH={key:0,class:"text-sm font-medium text-gray-500 p-1"},FH={key:1,class:"text-xs font-medium text-gray-400 px-4"},UH={key:0,class:"flex justify-end"};function BH(e,t,s,o,i,n){const r=_("files-preview-backend"),f=_("possible-answer-badge"),m=_("edit-delete-buttons"),v=_("font-awesome-icon"),g=_("partial-mark");return a(),d("div",MH,[h("div",EH,[e.computedFiles.length?(a(),S(r,{key:0,files:e.computedFiles},null,8,["files"])):c("",!0),h("div",OH,V(s.answer.createdAt),1),s.answer.answer&&s.answer.answer.length?(a(),d("div",RH,V(s.answer.answer),1)):c("",!0),n.computedPossibleAnswers.length?(a(!0),d(Z,{key:2},pe(n.computedPossibleAnswers,A=>(a(),S(f,{key:A.id,possibleAnswer:A,drag:!1,answerType:s.answer.question.answerType,marking:!0,class:"p-0"},null,8,["possibleAnswer","answerType"]))),128)):c("",!0)]),n.computedShowEditDeleteButtons?(a(),d("div",NH,[n.computedScore.length?(a(),d("div",LH,V(n.computedScore),1)):c("",!0),n.computedRemark.length?(a(),d("div",FH,V(n.computedRemark),1)):c("",!0),b(m,{onClick:n.clickedButton,class:we(["text-sm flex",[n.computedScore.length?"absolute right-0 top-0":"relative ml-auto"]])},null,8,["onClick","class"])])):c("",!0),s.answer.isMarker?(a(),d(Z,{key:1},[s.answer.mark?c("",!0):(a(),d("div",UH,[h("div",{class:we(["text-base p-2 cursor-pointer hover:text-green-500 z-30 mr-1",[n.computedIsCorrect?"text-green-500":"text-gray-500"]]),onClick:t[0]||(t[0]=A=>n.clickedButton("correct")),"data-testid":"correct"},[b(v,{icon:["fa","check"]})],2),b(g,{class:we(["text-base p-2 cursor-pointer hover:text-green-300 z-30 mr-1",[n.computedIsPartial?"text-green-300":"text-gray-500"]]),onClick:t[1]||(t[1]=A=>n.clickedButton("partial"))},null,8,["class"]),h("div",{class:we(["text-base p-2 cursor-pointer hover:text-red-500 z-30",[n.computedIsWrong?"text-red-500":"text-gray-500"]]),onClick:t[2]||(t[2]=A=>n.clickedButton("wrong")),"data-testid":"wrong"},[b(v,{icon:["fa","times"]})],2)]))],64)):c("",!0)])}const wA=Ae(PH,[["render",BH]]),jH={components:{AnswerForm:wH,MainCheckbox:Vi,AnswerBadge:wA},props:{question:{type:Object,default(){return null}},answer:{type:Object,default(){return null}},questionAnswer:{type:Object,default(){return null}}},data(){return{showHint:!1,show:!0,mode:""}},watch:{questionAnswer:{immediate:!0,handler(e){e&&(this.show=!1),e||(this.show=!0)}}},computed:{},methods:{answered(e){if(["update","delete"].includes(this.mode)||(e.questionId=this.question.id),e.close){this.show=!1;return}(this.mode==="update"||e.type==="update")&&(e={type:e.type.length?e.type:this.mode,answer:this.questionAnswer,newAnswerData:e}),this.$emit("answered",e),this.mode=""},clickedButton(e){if(this.questionAnswer){if(e==="update"){this.show=!1;return}if(this.mode=e.type,e.type==="update"){this.show=!0;return}this.answered({type:e.type,answer:this.questionAnswer})}}}},VH={key:0},qH={class:"mb-2 text-gray-600 font-semibold"},HH={key:1,class:"text-sm text-gray-500 w-11/12 mt-1 mx-auto"};function WH(e,t,s,o,i,n){const r=_("main-checkbox"),f=_("answer-form"),m=_("answer-badge");return a(),d("div",null,[s.question?c("",!0):(a(),d("div",VH,"sorry , there is no question")),s.question?(a(),d(Z,{key:1},[h("div",qH,V(s.question.body),1),s.question.hint&&s.question.length?(a(),S(r,{key:0,label:"show hint",modelValue:i.showHint,"onUpdate:modelValue":t[0]||(t[0]=v=>i.showHint=v)},null,8,["modelValue"])):c("",!0),i.showHint?(a(),d("div",HH,V(s.question.hint),1)):c("",!0),i.show?(a(),S(f,{key:2,answerType:s.question.answerType,possibleAnswers:s.question.possibleAnswers,providedAnswer:s.answer,currentAnswer:s.questionAnswer,onAnswered:n.answered},null,8,["answerType","possibleAnswers","providedAnswer","currentAnswer","onAnswered"])):(a(),S(m,{key:3,answer:s.questionAnswer,hasEditDeleteButtons:!0,onClickedButton:n.clickedButton},null,8,["answer","onClickedButton"]))],64)):c("",!0)])}const _A=Ae(jH,[["render",WH]]),bA={data(){return{timingItemLocked:!1,timingItemWait:!1,timingItemHasFewTimeLeft:null,timingItemTimeLeft:!1,timingItemTime:null,noTimeLeftHandled:!1}},watch:{"computedItemable.timer"(e){this.startTimer()}},computed:{computedTimingShow(){return!this.timingItemLocked&&!this.timingItemWait}},methods:{...ss(["dashboard/addTime"]),startTimer(){if(this.computedItemable.duration){if(!this.computedItemable.timer){this.getTimer();return}if(this.setTimeObject(),this.setTimingData(),this.timingItemTime.isPast()){this.noTimeLeft();return}this.timeItemable()}},noTimeLeft(e){this.noTimeLeftHandled||(this.timingItemLocked=!0,this.timingItemWait=!1,this.$emit("noTimeLeft",{...this.computedItem}),"handleNoTimeLeft"in this&&this.handleNoTimeLeft(e))},fewMinutesMore(e){this.$emit("fewMinutesMore",{...this.computedItem}),"handleFewMinutesMore"in this&&this.handleFewMinutesMore(e)},setTimeObject(){if(this.timingItemTime)return;let e={startDate:new Date(this.computedItemable.timer.startTime),endDate:new Date(this.computedItemable.timer.endTime),floatMinutesleft:function(){return(this.endDate-new Date)/(1e3*60)},timeFormat:function(t){return t>9?t:(t<0&&(t=0),`0${t}`)},currentHours:function(){return this.timeFormat(Math.floor(this.floatMinutesleft()/60))},currentMinutes:function(){return this.timeFormat(Math.floor(this.floatMinutesleft()>59?59:this.floatMinutesleft()))},currentSeconds:function(){let t=(this.floatMinutesleft()-Math.floor(this.floatMinutesleft()))*60;return this.timeFormat(Math.floor(t))},currentTimeLeft:function(){return`${this.currentHours()}:${this.currentMinutes()}:${this.currentSeconds()}`},isPast:function(){return new Date>this.endDate},hasFewTimeLeft:function(){return this.duration?!1:5>=this.timingItemTime.floatMinutesleft()}};e.duration=Math.floor((e.endDate-e.startDate)/(1e3*60)),this.timingItemTime=e},async getTimer(){if(!this.computedAccount){this.issueDangerAlert({message:`sorry , there is no valid account associated with this ${this.computedItem.item}`});return}this.timingItemWait=!0;let e={time:new Date().toISOString(),...this.computedItem,accountId:this.computedAccount.accountId,account:this.computedAccount.account},t=await this["dashboard/addTime"]({item:this.computedItemable,data:e});t.status,!t.status&&"issueDangerAlertForResponse"in this&&this.issueDangerAlertForResponse(t),this.timingItemWait=!1},setTimingData(){this.timingItemTimeLeft=this.timingItemTime.currentTimeLeft(),this.timingItemHasFewTimeLeft=this.timingItemTime.hasFewTimeLeft()},timeItemable(){this.timingItemWait=!1,this.timingItemLocked=!1;let e=setInterval(()=>{if(this.setTimingData(),this.timingItemTime.floatMinutesleft()<=-2){this.noTimeLeft(),clearInterval(e);return}},3e4)}}},zH={methods:{setItem(e,t){window.YoureduStorage.set(e,t)},getItem(e){return window.YoureduStorage.get(e)},removeItem(e){return window.YoureduStorage.remove(e)}}},GH={props:{assessmentSection:{type:Object,default(){return null}}}},YH={key:0},QH={class:"shadow-sm border-b-2 w-full flex-shrink-0 bg-gray-50 h-10 flex justify-center items-center mt-1 mb-3 relative"},KH=h("div",{class:"absolute left-0 top-0 text-gray-400 text-xs"},"current section",-1),JH={class:"text-lg font-header capitalize"},XH={class:"w-full px-5 mb-2 flex-shrink-0"},$H={key:0,class:"overflow-ellipsis text-center text-gray-500 text-sm"},ZH={class:"text-xs text-right text-gray-400"},eW={key:1,class:"text-gray-400 text-right text-xs"};function tW(e,t,s,o,i,n){return s.assessmentSection?(a(),d("div",YH,[h("div",QH,[KH,h("div",JH,V(s.assessmentSection.name),1)]),h("div",XH,[s.assessmentSection.instruction?(a(),d("div",$H,V(s.assessmentSection.instruction),1)):c("",!0),h("div",ZH,V(`${s.assessmentSection.questions.length} questions`),1),s.assessmentSection.random?(a(),d("div",eW,"the questions where selected randomly")):c("",!0)])])):c("",!0)}const kA=Ae(GH,[["render",tW]]),sW={components:{QuestionAnsweringBadge:_A,AssessmentSectionInformationBadge:kA},props:{assessmentSection:{type:Object,default(){return null}},computedAccount:{type:Object,default(){return null}},assessmentId:{default:null},answers:{type:Array,default(){return[]}},sectionAnswers:{type:Array,default(){return[]}}},mixins:[bA,Cd],watch:{assessmentSection:{immediate:!0,handler(e,t){this.initiate()}}},computed:{computedItem(){return{itemId:this.assessmentSection.id,item:"assessmentSection"}},computedItemable(){return this.assessmentSection?{...this.assessmentSection,assessmentId:this.assessmentId}:{}}},methods:{answered(e){e.assessmentSectionId=this.assessmentSection.id,this.$emit("answered",e)},initiate(){if(!this.assessmentSection.initiated){if(!this.assessmentSection.duration){this.timingItemWait=!1;return}if(this.timingItemWait=!0,this.assessmentSection.timer){this.startTimer();return}this.showPopUp=!0,this.$emit("initiated",this.assessmentSection)}},clickedPopupResponse(e){e==="continue"&&this.startTimer(),this.showPopUp=!1},getQuestionAnswer(e){return this.sectionAnswers.find(t=>t.question.id===e.id)},getProvidedAnswer(e){return this.answers.find(t=>t.questionId==e.id&&t.assessmentSectionId==this.assessmentSection.id)}}},nW={class:"h-full max-h-3/4 flex-shrink mb-2 overflow-y-auto p-2"},iW={key:2,class:"text-gray-500 font-semibold text-sm px-2"},oW={key:1,class:"text-gray-500 font-semibold text-sm px-2"},aW={key:2,class:"p-2 rounded-sm text-gray-500 font-semibold text-sm bg-yellow-400"};function rW(e,t,s,o,i,n){const r=_("assessment-section-information-badge"),f=_("question-answering-badge"),m=_("pop-up");return a(),d("div",{class:we(["assessment-section-answering-badge",{"flex justify-center items-center h-full w-full":!e.computedTimingShow}])},[e.computedTimingShow?(a(),d(Z,{key:0},[e.timingItemTimeLeft?(a(),d("div",{key:0,class:we(["flex p-0.5 w-content justify-end pr-1 text-sm",[e.timingItemHasFewTimeLeft?"bg-red-700 text-gray-200":"text-gray-500"]])},[h("div",null,V(e.timingItemTimeLeft),1)],2)):c("",!0),s.assessmentSection?(a(),d(Z,{key:1},[b(r,{assessmentSection:s.assessmentSection},null,8,["assessmentSection"]),h("div",nW,[(a(!0),d(Z,null,pe(s.assessmentSection.questions,(v,g)=>(a(),S(f,{question:v,key:g,onAnswered:n.answered,answer:n.getProvidedAnswer(v),questionAnswer:n.getQuestionAnswer(v)},null,8,["question","onAnswered","answer","questionAnswer"]))),128))])],64)):c("",!0),s.assessmentSection?c("",!0):(a(),d("div",iW,V("sorry , no section yet")))],64)):c("",!0),e.timingItemLocked?(a(),d("div",oW,V(`sorry , you have no time left for answering this assessment section with name: ${s.assessmentSection.name}`),1)):c("",!0),e.timingItemWait?(a(),d("div",aW,"  wait for a while... ")):c("",!0),b(m,{show:e.showPopUp,responses:["continue","cancel"],default:"continue",message:"this assessment section has a duration. once you click continue, a timer will start and you will have to finish before the timer completes",onClickedResponse:n.clickedPopupResponse,onClosePopUp:e.closePopUp},null,8,["show","onClickedResponse","onClosePopUp"])],2)}const lW=Ae(sW,[["render",rW],["__scopeId","data-v-3760a35e"]]),cW={props:{disabled:{type:Boolean,default:!1},text:{type:String,default:""}}},uW=["disabled"];function dW(e,t,s,o,i,n){return a(),d("button",{class:"transition-colors text-gray-500 disabled:bg-gray-200 disabled:text-gray-400 p-2 hover:text-whitesmoke border-b cursor-pointer hover:shadow-sm hover:bg-gray-800 rounded disabled:cursor-not-allowed",disabled:s.disabled},[Jt(e.$slots,"default")],8,uW)}const hW=Ae(cW,[["render",dW]]),fW={components:{NavigationButton:hW},props:{isFirst:{type:Boolean,default:!1},isLast:{type:Boolean,default:!1},buttons:{type:Array,default(){return[]}}},methods:{clickedNavigator(e){this.$emit("clickedNavigator",e)}}},mW={class:"flex-shrink-0 flex justify-around"};function pW(e,t,s,o,i,n){const r=_("navigation-button");return a(),d("div",mW,[b(r,{onClick:t[0]||(t[0]=f=>n.clickedNavigator("previous")),disabled:s.isFirst},{default:z(()=>[Mt("previous")]),_:1},8,["disabled"]),(a(!0),d(Z,null,pe(s.buttons,(f,m)=>(a(),S(r,{class:"mx-2.5",key:m,onClick:v=>n.clickedNavigator(f)},{default:z(()=>[Mt(V(f),1)]),_:2},1032,["onClick"]))),128)),b(r,{onClick:t[1]||(t[1]=f=>n.clickedNavigator("next")),disabled:s.isLast},{default:z(()=>[Mt("next")]),_:1},8,["disabled"])])}const AA=Ae(fW,[["render",pW]]),gW={components:{AssessmentSectionAnsweringBadge:lW,NavigationComponent:AA},props:{assessment:{type:Object,default(){return null}},numberOfQuestions:{type:Number,default:0},work:{type:Object,default(){return null}},computedAccount:{type:Object,default(){return null}},answers:{type:Array,default(){return[]}}},watch:{assessment:{immediate:!0,handler(e,t){e&&e.assessmentSections.length&&this.initiate()}}},data(){return{currentAssessmentSection:null,firstAssessmentSectionId:null,lastAssessmentSectionId:null}},computed:{computedCurrentAssessmentSectionIndex(){return this.assessment.assessmentSections.indexOf(this.currentAssessmentSection)},computedIsFirstSection(){var e;return this.firstAssessmentSectionId===((e=this.currentAssessmentSection)==null?void 0:e.id)},computedIsLastSection(){var e;return this.lastAssessmentSectionId===((e=this.currentAssessmentSection)==null?void 0:e.id)},computedWorkAnswers(){return this.work?this.work.answers.filter(e=>{var t;return e.assessmentSectionId==((t=this.currentAssessmentSection)==null?void 0:t.id)}):[]},computedPossiblyDone(){return this.work.answers.filter(e=>!!e).length===this.numberOfQuestions}},methods:{initiate(){this.firstAssessmentSectionId=this.assessment.assessmentSections[0].id,this.lastAssessmentSectionId=this.assessment.assessmentSections[this.assessment.assessmentSections.length-1].id,this.clickedSectionNavigator("next")},initiatedAssessmentSection(e){this.$emit("initiated",e)},clickedSectionNavigator(e){if(e==="done"){this.$emit("goToStep",0);return}if(e==="previous"){this.goToPrevious();return}this.goToNext()},goTo(e){this.currentAssessmentSection=this.assessment.assessmentSections[this.computedCurrentAssessmentSectionIndex+e]},goToNext(){this.goTo(1)},goToPrevious(){this.goTo(-1)},answered(e){this.$emit("answered",e)},fewMinutesMore(e){this.$emit("fewMinutesMore",e)},noTimeLeft(e){this.$emit("noTimeLeft",e)},clickedPopupResponse(e){this.$emit("clickedResponse",e)}}},vW={class:"assessment-section-answering-form pb-2 flex flex-col justify-center"};function yW(e,t,s,o,i,n){const r=_("assessment-section-answering-badge"),f=_("navigation-component");return a(),d("div",vW,[b(r,{class:"h-full flex-shrink",assessmentSection:i.currentAssessmentSection,answers:s.answers,sectionAnswers:n.computedWorkAnswers,computedAccount:s.computedAccount,assessmentId:s.assessment.id,onAnswered:n.answered,onInitiated:n.initiatedAssessmentSection,onClickedResponse:n.clickedPopupResponse,onNoTimeLeft:n.noTimeLeft,onFewMinutesMore:n.fewMinutesMore},null,8,["assessmentSection","answers","sectionAnswers","computedAccount","assessmentId","onAnswered","onInitiated","onClickedResponse","onNoTimeLeft","onFewMinutesMore"]),b(f,{onClickedNavigator:n.clickedSectionNavigator,isFirst:n.computedIsFirstSection,isLast:n.computedIsLastSection,buttons:n.computedPossiblyDone?["done"]:[]},null,8,["onClickedNavigator","isFirst","isLast","buttons"])])}const CA=Ae(gW,[["render",yW],["__scopeId","data-v-eb36846b"]]),wW={};function _W(e,t,s,o,i,n){return a(),S(No,{name:"fade-right-fast"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const Iv=Ae(wW,[["render",_W],["__scopeId","data-v-3b71d4b8"]]),bW={components:{FadeDown:$k,FadeRightFast:Iv,MainTextarea:dr},props:{show:{type:Boolean,default:!1},justRemark:{type:Boolean,default:!1},scoreOver:{type:String,default:"100"},inputMax:{type:Number,default:100},inputMin:{type:Number,default:0},value:{type:Object,default(){return null}}},data(){return{inputScore:0,inputRemark:"",showRemarks:!1}},watch:{value:{immediate:!0,handler(e){e&&(this.inputScore=e.score,this.inputRemark=e.remark)},deep:!0},inputScore(e){this.checkInput()}},computed:{computedClasses(){return this.$vnode.data.staticClass?this.$vnode.data.staticClass:""}},methods:{inputScoreFocused(){this.$refs.score.value=""},checkInput(){if(this.inputScore<this.inputMin){this.inputScore=this.inputMin;return}this.inputScore>this.inputMax&&(this.inputScore=this.inputMax)},emitMark({score:e,remark:t}){this.$emit("answerMarkScore",{score:Number(e),remark:t})},clickedAction(e){if(e==="mark"){this.emitMark({score:Number(this.inputScore),remark:this.inputRemark});return}if(e==="cancel"){this.inputScore=null,this.inputRemark="",this.emitMark({score:null,remark:""}),this.$emit("hideAnswerMark");return}this.showRemarks=!this.showRemarks}}},kW={class:"remark-wrapper"},AW={class:"mark-wrapper"},CW={key:0,class:"upper-section"},SW=["max","min"],IW={key:1,class:"middle-section text-center"},TW={class:"lower-section"};function DW(e,t,s,o,i,n){const r=_("main-textarea"),f=_("fade-right-fast"),m=_("fade-down");return a(),S(m,null,{default:z(()=>[s.show?(a(),d("div",{key:0,class:we(["answer-mark-wrapper z-30",{relative:!n.computedClasses.includes("absolute")}]),onClick:t[5]||(t[5]=Vt(v=>n.clickedAction("cancel"),["self"]))},[h("div",kW,[b(f,null,{default:z(()=>[s.justRemark||i.showRemarks?(a(),S(r,{key:0,modelValue:i.inputRemark,"onUpdate:modelValue":t[0]||(t[0]=v=>i.inputRemark=v),textPlaceholder:"add your remarks"},null,8,["modelValue"])):c("",!0)]),_:1})]),h("div",AW,[s.justRemark?c("",!0):(a(),d("div",CW,[cn(h("input",{type:"number",autofocus:"",max:s.inputMax,min:s.inputMin,"onUpdate:modelValue":t[1]||(t[1]=v=>i.inputScore=v),class:"form-control",ref:"score",pattern:"[0-9]*",inputmode:"numeric"},null,8,SW),[[yi,i.inputScore]])])),s.justRemark?c("",!0):(a(),d("div",IW,V(s.scoreOver),1)),h("div",TW,[s.justRemark?c("",!0):(a(),d("div",{key:0,class:"remarks",onClick:t[2]||(t[2]=v=>n.clickedAction("remarks"))},"remarks")),h("div",{class:"mark",onClick:t[3]||(t[3]=v=>n.clickedAction("mark"))},"mark"),h("div",{class:"cancel",onClick:t[4]||(t[4]=v=>n.clickedAction("cancel"))},"cancel")])])],2)):c("",!0)]),_:1})}const SA=Ae(bW,[["render",DW],["__scopeId","data-v-7b7a405c"]]),xW={components:{AnswerMark:SA,QuestionBadge:Wf,AnswerBadge:wA},props:{answer:{type:Object,default(){return null}},providedMark:{type:Object,default(){return null}}},data(){return{mark:{score:null,remark:"",answerId:null},showMarkForm:!1,loading:!1,mode:""}},watch:{providedMark:{immediate:!0,handler(e){this.initiateMark()},deep:!0}},computed:{computedScoreOver(){return String(this.answer.question.scoreOver)??"100"}},methods:{getScore(e){if(this.showMarkForm=!1,this.mode==="update"){this.performActionOnMark({type:this.mode,newMarkData:e,mark:this.answer.mark});return}this.updateMark({score:e.score,remark:e.remark}),this.emitMark()},updateMark({score:e,remark:t}){this.mark.score=e,this.mark.remark=t??"",this.mark.answerId=this.answer.id},emitMark(){this.$emit("marked",this.mark)},initiateMark(){if(!this.providedMark){this.clearMark();return}this.updateMark({score:this.providedMark.score,remark:this.providedMark.remark})},clearMark(){this.mark.score=null,this.mark.remark="",this.mark.answerId=null},clickedMarkButton(e){this.mode="";let t=0;if(e.type==="delete"){this.performActionOnMark({type:e.type,mark:e.answer.mark});return}e.type==="update"&&(this.mode="update",t=this.answer.mark.score),e.type==="correct"&&(t=this.answer.question.scoreOver),e.type==="partial"&&(t=null),this.updateMark({score:t}),this.showMarkForm=!0},performActionOnMark({type:e,mark:t,newMarkData:s}){this.$emit("performActionOnMark",{type:e,mark:t,newMarkData:s})}}},PW={key:0,class:"relative bg-white rounded mb-1"};function MW(e,t,s,o,i,n){const r=_("question-badge"),f=_("answer-badge"),m=_("answer-mark");return s.answer?(a(),d("div",PW,[b(r,{question:s.answer.question,close:!1,backgroundClass:"bg-none",class:"mx-0 mb-1"},null,8,["question"]),b(f,{answer:s.answer,mark:i.mark,onClickedButton:n.clickedMarkButton},null,8,["answer","mark","onClickedButton"]),b(m,{class:"absolute right-0 top-0",show:i.showMarkForm,inputMax:s.answer.question.scoreOver,inputMin:0,value:i.mark,scoreOver:n.computedScoreOver,onHideAnswerMark:t[0]||(t[0]=v=>i.showMarkForm=!1),onAnswerMarkScore:n.getScore},null,8,["show","inputMax","value","scoreOver","onAnswerMarkScore"])])):c("",!0)}const EW=Ae(xW,[["render",MW]]),OW={components:{AnswerMarkingBadge:EW,FilesPreviewBackend:pv,AssessmentSectionInformationBadge:kA},props:{answers:{type:Array,default(){return null}},marks:{type:Array,default(){return null}},assessmentSection:{type:Object,default(){return null}}},computed:{},methods:{marked(e){["update","delete"].includes(e.type)||(e.assessmentSectionId=this.assessmentSection.id),this.$emit("marked",e)},getSpecificMark(e){return this.marks.find(t=>t.answerId==e.id)}}},RW={class:"p-2"},NW={class:"min-h-90vh flex-shrink mb-2 overflow-y-auto p-2 overflow-x-hidden"};function LW(e,t,s,o,i,n){const r=_("assessment-section-information-badge"),f=_("answer-marking-badge");return a(),d("div",RW,[b(r,{assessmentSection:s.assessmentSection,class:"flex-shrink-0"},null,8,["assessmentSection"]),h("div",NW,[(a(!0),d(Z,null,pe(s.answers,m=>(a(),S(f,{key:m.id,answer:m,providedMark:n.getSpecificMark(m),onMarked:n.marked,onPerformActionOnMark:n.marked},null,8,["answer","providedMark","onMarked","onPerformActionOnMark"]))),128))])])}const FW=Ae(OW,[["render",LW]]),UW={components:{AssessmentSectionMarkingBadge:FW,NavigationComponent:AA},props:{marks:{type:Array,default(){return null}},work:{type:Object,default(){return null}},assessment:{type:Object,default(){return null}}},data(){return{currentAssessmentSection:null,firstAssessmentSectionId:null,lastAssessmentSectionId:null}},watch:{work:{immediate:!0,handler(e){this.initiate()}}},computed:{computedNotAddedby(){var e,t;return((e=this.work)==null?void 0:e.addedby.userId)==((t=this.getUser)==null?void 0:t.id)},computedCurrentAssessmentSectionIndex(){return this.assessment.assessmentSections.indexOf(this.currentAssessmentSection)},computedIsFirstSection(){var e;return this.firstAssessmentSectionId===((e=this.currentAssessmentSection)==null?void 0:e.id)},computedIsLastSection(){var e;return this.lastAssessmentSectionId===((e=this.currentAssessmentSection)==null?void 0:e.id)},computedAnswers(){var e;return!this.work||!((e=this.currentAssessmentSection)!=null&&e.id)?null:this.work.answers.filter(t=>t.assessmentSectionId==this.currentAssessmentSection.id)},computedMarks(){return this.marks.filter(e=>e.assessmentSectionId==this.currentAssessmentSection.id)},computedPossiblyDone(){return this.work.answers.filter(e=>e.mark&&e.isMarker).length===this.work.answers.length}},methods:{initiate(){this.firstAssessmentSectionId=this.assessment.assessmentSections[0].id,this.lastAssessmentSectionId=this.assessment.assessmentSections[this.assessment.assessmentSections.length-1].id,this.clickedSectionNavigator("next")},clickedSectionNavigator(e){if(e==="done"){this.$emit("goToStep",3);return}if(e==="previous"){this.goToPrevious();return}this.goToNext()},goTo(e){this.currentAssessmentSection=this.assessment.assessmentSections[this.computedCurrentAssessmentSectionIndex+e]},goToNext(){this.goTo(1)},goToPrevious(){this.goTo(-1)},marked(e){this.$emit("marked",e)}}},BW={class:"w-full mt-4"},jW=h("div",{class:"text-gray-500 text-center text-sm"}," sorry, you cannot mark your own work  ",-1);function VW(e,t,s,o,i,n){const r=_("assessment-section-marking-badge"),f=_("navigation-component");return a(),d("div",BW,[n.computedNotAddedby?(a(),d(Z,{key:0},[b(r,{class:"min-h-90vh flex flex-col",assessmentSection:i.currentAssessmentSection,answers:n.computedAnswers,marks:n.computedMarks,onMarked:n.marked},null,8,["assessmentSection","answers","marks","onMarked"]),b(f,{onClickedNavigator:n.clickedSectionNavigator,isFirst:n.computedIsFirstSection,isLast:n.computedIsLastSection,buttons:n.computedPossiblyDone?["done"]:[]},null,8,["onClickedNavigator","isFirst","isLast","buttons"])],64)):c("",!0),jW])}const qW=Ae(UW,[["render",VW]]),HW={components:{ProfilePicture:Ys,SpecialButton:Gf,RadioInput:Ll},props:{assessment:{type:Object,default(){return null},required:!0}},data(){return{filter:"all"}},computed:{...os(["getUser"]),computedFilteredAllParticipants(){if(this.filter=="all")return this.computedAllParticipants;if(this.filter=="markers")return this.computedMarkers;if(this.filter=="participants")return this.computedParticipants},computedMarkers(){return this.assessment.markers.map(e=>{let t=Ft.cloneDeep(e);return t.isMarker=!0,t})},computedParticipants(){return this.assessment.participants.map(e=>{let t=Ft.cloneDeep(e);return t.isParticipant=!0,t})},computedAllParticipants(){return Ft.uniqWith([this.assessment.addedby,...this.computedMarkers,...this.computedParticipants],(t,s)=>this.areSameAccount(t,s)).map(t=>{let s=Ft.cloneDeep(t);return this.isAddedby(s)&&(s.isAddedby=!0),s})},computedParticipant(){return this.computedAllParticipants.find(e=>{var t;return e.userId==((t=this.getUser)==null?void 0:t.id)})},computedCanMark(){var e,t;return((e=this.computedParticipant)==null?void 0:e.isMarker)||((t=this.computedParticipant)==null?void 0:t.isAddedby)},computedFilterMessage(){return this.filter==="all"?"these are all the user accounts invovled in this assessment ":this.filter==="markers"?"these user accounts will be marking the all the submitted works ":this.filter==="participants"?"these are the accounts to take the assessment and have their work submitted and marked ":""}},methods:{clickedButton(e,t){this.$emit("clickedButton",{text:e,account:t})},isAddedbyOrMarker(e){return!!(this.isAddedby(e)||this.isMarker(e))},isAddedby(e){return!!this.areSameAccount(e,this.assessment.addedby)},isMarker(e){return this.assessment.markers.forEach(t=>{if(this.areSameAccount(e,t))return!0}),!1},areSameAccount(e,t){return e.account===t.account&&e.accountId===t.accountId},areNotSameAccount(e,t){return!this.areSameAccount(e,t)},canMark(e){var t;return!(!this.computedCanMark||this.areSameAccount(this.computedParticipant,e)||e.userId==((t=this.getUser)==null?void 0:t.id))},getDetails(e){let t="";return e.isAddedby&&(t+="owner of assessment"),e.isMarker&&(t.length&&(t+=", "),t+="marker of submitted works"),e.isParticipant&&(t.length&&(t+=", "),t+="participant of assessment"),t},isYourAccount(e){var t;return((t=this.getUser)==null?void 0:t.id)===e.userId}}},WW={class:"w-full min-h-90vh p-2"},zW={class:"p-1 mb-4"},GW=h("div",{class:"text-xs text-gray-300"},"choose what to see",-1),YW={class:"flex flex-nowrap overflow-y-hidden overflow-x-auto"},QW={class:"text-xs text-gray-300 my-1 text-center"},KW={class:"flex"},JW={slot:"image"},XW=["src"],$W={class:"ml-2 w-full relative"},ZW={class:"text-gray-500 text-sm"},ez={class:"text-right text-gray-400 text-xs font-semibold"},tz={class:"text-center text-gray-400 text-xs"},sz={key:0,class:"absolute bottom-0 left-0 text-xs font-semibold text-gray-400"},nz={class:"flex w-full overflow-y-hidden overflow-x-auto mt-1"};function iz(e,t,s,o,i,n){const r=_("radio-input"),f=_("profile-picture"),m=_("special-button");return a(),d("div",WW,[h("div",zW,[GW,h("div",YW,[b(r,{label:"all",radioValue:"all",name:"filter",modelValue:i.filter,"onUpdate:modelValue":t[0]||(t[0]=v=>i.filter=v)},null,8,["modelValue"]),b(r,{label:"participants",radioValue:"participants",name:"filter",modelValue:i.filter,"onUpdate:modelValue":t[1]||(t[1]=v=>i.filter=v)},null,8,["modelValue"]),b(r,{label:"markers",radioValue:"markers",name:"filter",modelValue:i.filter,"onUpdate:modelValue":t[2]||(t[2]=v=>i.filter=v)},null,8,["modelValue"])]),h("div",QW,V(n.computedFilterMessage),1)]),(a(!0),d(Z,null,pe(n.computedFilteredAllParticipants,v=>(a(),d("div",{key:`${v.account}${v.accountId}`,class:"w-full border-b border-gray-400 p-2"},[h("div",KW,[b(f,{classes:"w-10 h-10 min-h-10 flex-shrink-0"},{default:z(()=>[h("template",JW,[h("img",{src:v.url},null,8,XW)])]),_:2},1024),h("div",$W,[h("div",ZW,V(v.name),1),h("div",ez,V(v.account),1),h("div",tz,V(n.getDetails(v)),1),n.isYourAccount(v)?(a(),d("div",sz,"you")):c("",!0)])]),h("div",nz,[n.canMark(v)?(a(),S(m,{key:0,buttonText:"mark work",class:"p-1 mr-1 text-xs",onClick:g=>n.clickedButton("mark work",v)},null,8,["onClick"])):c("",!0)])]))),128))])}const oz=Ae(HW,[["render",iz]]),az={components:{QuestionAnsweringBadge:_A,AssessmentSectionMiniBadge:mH,ItemViewCover:gA,SpecialButton:Gf,FadeUp:bi,ProfilePicture:Ys,AssessmentSectionAnsweringForm:CA,AssessmentSectionMarkingForm:qW,ItemRequestSection:pA,AssessmentDetails:oz,PostButton:xs},props:{assessment:{type:Object,default(){return null}},schoolAdmin:{type:Object,default(){return null}}},mixins:[ga,bv,kv,Av,zH,Sv,vA,Yf,bA,Cd,Cv],data(){return{steps:0,assessmentFull:!1,showRequest:!1,loading:!1,work:null,answers:[],marks:[],viewHistory:[0],answeringOrMarkingType:"all"}},watch:{steps(e){e===0&&this.clearViewHistory()},"assessment.likes":{immediate:!0,handler(e){e&&(this.likeData.likes=e.length)}},"assessment.saves":{immediate:!0,handler(e){e&&(this.saveData.saves=e.length)}}},mounted(){this.setStorage(),this.setMyFlag(),this.setMyLike(),this.setMySave(),this.listen(),this.listenForComments(),this.listenForLikes(),this.listenForFlags(),this.listenForSaves(),this.listenForParticipation()},beforeDestroy(){this.unsetStorage()},computed:{...os(["getUser"]),computedCoverData(){return{name:this.assessment.name,description:this.assessment.description?this.assessment.description:"",type:"assessment"}},computedNumberOfQuestions(){return this.assessment.assessmentSections.reduce(function(e,t){return e+t.questions.length},0)},computedNumberOfQuestionsToAnswer(){return this.computedNumberOfQuestions-this.computedWorkAnswers.length},computedItem(){return{itemId:this.assessment.id,item:"assessment"}},computedItemable(){return this.assessment?this.assessment:{}},computedIsOwner(){var e;return this.assessment.addedby.userId===((e=this.getUser)==null?void 0:e.id)},computedAccount(){return this.computedIsOwner?this.assessment.addedby:this.computedParticipant?this.computedParticipant:null},computedRestricted(){return this.computedParticipant?this.computedParticipant.state==="RESTRICTED"||this.computedParticipant.state==="BANNED":!1},computedBanned(){return this.computedParticipant?this.computedParticipant.state==="BANNED":!1},computedParticipantsInfo(){return this.computedParticipantsNumber===1?`${this.computedParticipantsNumber} participant`:`${this.computedParticipantsNumber} participants`},computedParticipantsNumber(){return this.assessment.participants.length+1},computedHasAnswered(){return this.assessment.answeredbyUserIds.findIndex(e=>e==this.getUser.id)>-1},computedCanParticipate(){return this.computedParticipant||this.computedHasAnswered||this.computedIsOwner?!1:!!this.getProfiles},computedMarkables(){if(!this.getProfiles)return[];if(this.computedMarker)return[];let e=this.getProfiles.filter(t=>["facilitator","professional"].includes(t.account));return e.length?e:this.computedIsOwner?[this.assessment.addedby]:[]},computedMarker(){var t;if(!this.getUser)return null;let e=(t=this.assessment.markers)==null?void 0:t.findIndex(s=>s.userId===this.getUser.id);return e>-1?this.assessment.markers[e]:null},computedParticipant(){var t;if(this.computedIsOwner)return this.assessment.addedby;if(!this.getUser)return null;let e=(t=this.assessment.participants)==null?void 0:t.findIndex(s=>s.userId===this.getUser.id);return e>-1?this.assessment.participants[e]:null},computedAnswersWithoutFiles(){return this.answers.map(e=>this.mappedItem(e))},computedUserParticipant(){return!!(this.computedIsOwner||this.computedParticipant)},computedCanJoin(){return!this.computedPendingParticipant&&!this.computedUserParticipant&&!this.computedHasAnswered&&this.assessment.type==="PUBLIC"},computedUnSentAnswers(){return this.answeringOrMarkingType==="all"?[]:this.answers.filter(e=>!e.isSent)},computedWorkAnswers(){return this.work?this.work.answers:[]},computedWorkAnswersWithoutMark(){return this.computedWorkAnswers.filter(e=>!e.mark)},computedShowSubmitMarks(){return this.computedWorkAnswersWithoutMark.length&&this.marks.length},computedItemableStorageKey(){return`${this.computedItem.item}${this.computedItem.itemId}`}},methods:{...ss(["home/removeAssessment","home/replaceAssessment","profile/removeAssessment","profile/replaceAssessment","dashboard/removeAssessment","dashboard/replaceAssessment","dashboard/deleteAssessment","dashboard/answerAssessment","dashboard/getWork","dashboard/markAssessment","profile/deleteMark","profile/updateMark","profile/deleteAnswer","profile/updateAnswer"]),listen(){const e=useRoute();Echo.channel(`youredu.assessment.${this.assessment.id}`).listen(".updateAssessment",t=>{this[`${e.name}/replaceAssessment`](t.assessment)}).listen(".deleteAssessment",t=>{this[`${e.name}/removeAssessment`](t)})},goBack(){this.goToPreviousView(),this.removeLastView()},goToPreviousView(){let e=this.viewHistory.length-2;e<0&&(e=0),this.goToStep(this.viewHistory[e],!1)},removeLastView(){this.viewHistory.pop()},clearViewHistory(){this.viewHistory=[0]},addStepToViewHistory(){this.viewHistory.push(this.steps)},handleGoToStep(e){e==0&&this.answerAssessment({done:!0}),this.removeLastView(),this.goToStep(e)},setStorage(){this.getStorageData()},unsetStorage(){this.filterNotSent(this.answers).length&&this.setStorageData("answers"),this.filterNotSent(this.marks).length&&this.setStorageData("marks")},filterNotSent(e){return e.filter(t=>!t.isSent)},getStorageDataObject(){let e=this.getItem(this.computedItemableStorageKey);return e||(e={}),e},getStorageData(){let e=this.getStorageDataObject();e.answers&&(this.answers=e.answers),e.marks&&(this.marks=e.marks)},setStorageData(e){let t=this.getStorageDataObject();e==="answers"&&(t.answers=this.answers),e==="marks"&&(t.marks=this.marks),this.setItem(this.computedItemableStorageKey,t)},deletePartOfStorageData(e){let t=this.getStorageDataObject();e==="answers"&&delete t.answers,e==="marks"&&delete t.marks,this.setItem(this.computedItemableStorageKey,t)},removeStorageData(){this.removeItem(this.computedItemableStorageKey)},initiatedAssessmentSection(e){let t=this.assessment.assessmentSections.findIndex(s=>e.id===s.id);t!==-1&&(this.assessment.assessmentSections[t].initiated=!0)},handleFewMinutesMore(e){this.issueDangerAlert({message:"less than five minites left"})},handleNoTimeLeft(e){(e==null?void 0:e.item)!=="assessmentSection"&&(this.noTimeLeftHandled=!0,!this.computedHasAnswered&&(this.answeringOrMarkingType!="all"&&this.computedUnSentAnswers.forEach(t=>{this.sendAnswer(t)}),this.answeringOrMarkingType=="all"&&this.answerAssessment({done:!1,dontCheck:!0}),this.answerAssessment({done:!0})))},answered(e){if(!["update","delete"].includes(e.type)){this.addAnswer(e),this.storeItems("answers"),this.sendAnswer(e);return}if(e.type==="update"){this.updateAnswer(e);return}this.showProfilesAction="delete answer",this.issueCustomMessage({message:"are you sure you want to delete this answer?",data:e,type:"delete"})},addAnswer(e){let t=this.answers.findIndex(s=>s.questionId==e.questionId);if(t>-1){this.answers.splice(t,1,this.cloned(e));return}this.answers.push(this.cloned(e))},storeItems(e){this.answeringOrMarkingType==="all"&&this.setStorageData(e)},marked(e){if(!["update","delete"].includes(e.type)){this.addMark(e),this.storeItems("marks"),this.sendMark(e);return}if(e.type==="update"){this.updateAnswerMark(e);return}this.showProfilesAction="delete mark",this.issueCustomMessage({message:"are you sure you want to delete this mark?",data:e,type:"delete"})},findIndexOfAnswer(e){return this.work.answers.findIndex(t=>e(t))},spliceMark(e,t=!1){let s=this.findIndexOfAnswer(o=>{var i;return((i=o.mark)==null?void 0:i.id)==e.id});if(t){this.work.answers[s].mark=e;return}this.work.answers[s].mark=null},spliceAnswer(e,t=!1){this.spliceItem({items:this.work.answers,item:e,replace:t,index:this.findIndexOfAnswer(s=>s.id==(e==null?void 0:e.id))})},spliceItem({items:e,item:t,index:s,replace:o}){if(s!==-1){if(o){e.splice(s,1,t);return}e.splice(s,1)}},async updateAnswerMark(e){this.loading=!0;let t=await this["profile/updateMark"]({markId:e.mark.id,data:e.newMarkData});if(this.loading=!1,!t.status){this.issueDangerAlertForResponse(t);return}this.spliceMark(t.mark,!0),this.removeAssessmentItem(e.newMarkData,"marks")},async deleteAnswerMark(e){this.loading=!0;let t=await this["profile/deleteMark"]({markId:e.mark.id});if(this.loading=!1,!t.status){this.issueDangerAlertForResponse(t,"oops ! something happened. please try again later");return}this.spliceMark(e.mark),this.removeAssessmentItem(e.newMarkData,"marks")},async updateAnswer(e){this.loading=!0;let t=new FormData;t.append("account",this.computedParticipant.account),t.append("accountId",this.computedParticipant.accountId),t.append("item","question"),t.append("itemId",e.newAnswerData.questionId),t.append("answer",e.newAnswerData.answer),e.newAnswerData.file&&t.append("files[]",e.newAnswerData.file),t.append("possibleAnswerIds",JSON.stringify(e.newAnswerData.possibleAnswerIds));let s=await this["profile/updateAnswer"]({answerId:e.answer.id,formData:t});if(this.loading=!1,!s.status){this.issueDangerAlertForResponse(s,"oops ! something happened. please try again later");return}this.spliceAnswer(s.answer,!0),this.removeAssessmentItem(e.newAnswerData)},async deleteAnswer(e){this.loading=!0;let t=await this["profile/deleteAnswer"]({answerId:e.answer.id,data:{account:this.work.addedby.account,accountId:this.work.addedby.accountId,item:"question",itemId:e.answer.question.id}});if(this.loading=!1,!t.status){this.issueDangerAlertForResponse(t);return}this.spliceAnswer(e.answer),this.removeAssessmentItem(e.newAnswerData)},addMark(e){let t=this.marks.findIndex(s=>s.answerId==e.answerId);if(t>-1){this.marks.splice(t,1,this.cloned(e));return}this.marks.push(this.cloned(e))},sendMark(e){this.answeringOrMarkingType!=="all"&&this.markAssessment({mark:e,done:!1,dontCheck:!1})},cloned(e){return Ft.clone(e)},sendAnswer(e){this.answeringOrMarkingType!=="all"&&this.answerAssessment({answer:e,done:!1,dontCheck:!1})},mappedItem(e,t="answer"){var o;let s={};return t=="answer"&&(s.questionId=e.questionId,e.answer&&(s.answer=e.answer),(o=e.possibleAnswerIds)!=null&&o.length&&(s.possibleAnswerIds=e.possibleAnswerIds)),t=="mark"&&(s.answerId=e.answerId,s.score=e.score,s.remark=e.remark),s},async answerAssessment({answer:e,done:t,dontCheck:s}){this.loading=!0;let o,i=new FormData;if(i.append("type",this.answeringOrMarkingType),i.append("account",this.computedParticipant.account),i.append("accountId",this.computedParticipant.accountId),this.answeringOrMarkingType=="all"&&!t){if(this.computedNumberOfQuestionsToAnswer>this.answers.length&&!s){this.issueDangerAlert({message:"you have not finished answering your questions"}),this.loading=!1;return}i.append("answers",JSON.stringify(this.computedAnswersWithoutFiles)),this.answers.forEach(n=>{n.file&&i.append(`answerFile${n.questionId}`,n.file)})}if(this.answeringOrMarkingType!="all"&&e&&!t&&(i.append("answer",JSON.stringify(this.mappedItem(e))),e.file&&i.append(`answerFile${e.questionId}`,e.file)),o=await this["dashboard/answerAssessment"]({assessmentId:this.assessment.id,userId:this.getUser.id,formData:i,done:t||!1,addUserId:t||this.answeringOrMarkingType==="all"}),this.loading=!1,!o.status){this.issueDangerAlertForResponse(o);return}if(this.updateAnswerOrMarkToSent(e),this.alertSuccess=!0,this.answeringOrMarkingType!=="all"){this.alertMessage="answer sent",this.updateWork(o.answer);return}t&&(this.alertMessage="yaay... you are done answering this assessment "),t||(this.alertMessage="you have successfully sent your answers for this assessment"),this.work=o.work,this.goToStep(0,!1),this.clearItems()},updateWork(e){if(!this.work)return;let t=this.work.answers.findIndex(s=>e.id===s.id);t!==-1&&this.work.answers.splice(t,1,e)},async markAssessment({mark:e,done:t,dontCheck:s}){this.loading=!0;let o,i=new FormData;if(i.append("type",this.answeringOrMarkingType),i.append("account",this.computedAccount.account),i.append("accountId",this.computedAccount.accountId),i.append("workId",this.work.id),this.answeringOrMarkingType=="all"&&!t){if(i.append("userId",this.work.addedby.userId),this.computedWorkAnswersWithoutMark.length>this.marks.length&&!s){this.issueDangerAlert({message:"you have not finished marking your answers"}),this.loading=!1;return}i.append("marks",JSON.stringify(this.marks.map(n=>this.mappedItem(n,"mark"))))}if(this.answeringOrMarkingType!="all"&&e&&!t&&i.append("mark",JSON.stringify(this.mappedItem(e,"mark"))),o=await this["dashboard/markAssessment"]({assessmentId:this.assessment.id,formData:i,done:t}),this.loading=!1,!o.status){this.issueDangerAlertForResponse(o);return}if(this.alertSuccess=!0,t){this.alertMessage="yaay... you are done marking this work ",this.clearItems("marks");return}if(this.updateAnswerOrMarkToSent(e,"mark"),this.answeringOrMarkingType!=="all"){this.alertMessage="mark sent";return}this.alertMessage="you have successfully sent the marks for this work",this.work=o.work,this.clearItems("marks")},clearItems(e="answers"){this[e]&&(this[e]=[],this.deletePartOfStorageData(e))},goToStep(e,t=!0){this.steps=e,t&&this.addStepToViewHistory()},updateAnswerOrMarkToSent(e,t="answer"){if(!e)return;let s=t==="answer"?"questionId":"answerId";this[`${t}s`].forEach(o=>{e[s]==o[s]&&(o.isSent=!0)})},closeItemRequestSection(){this.showRequest=!1,this.joinOrInvitationType=""},clickedButton(e){if(!this.loading){if(typeof e!="string"&&e.text==="mark work"){this.markWork(e.account);return}if(e==="take it"){this.takeAssessment();return}if(e==="start"){this.checkPopup();return}if(e==="continue"){this.startAssessment(!0);return}if(e==="mark"){this.startMarkingAssessment();return}if(e==="invite marker"){this.requestMarker();return}if(e==="view work"){this.viewWork();return}if(e==="invite participant"){this.requestParticipant();return}if(e==="submit answers"){this.answerAssessment({done:!1});return}if(e==="submit marks"){this.markAssessment({done:!1});return}e==="join markers"&&(this.showProfilesText="mark assessment as",this.showOnlyProfiles=!0),e==="want to take"&&(this.showProfilesText="take assessment as",this.showOnlyProfiles=!0),this.showProfilesAction=e,this.showProfiles=!0}},markWork(e){if(this.isAddedbyForWork(e)){this.goToStep(4);return}this.getWork(e)},viewWork(){this.getWork(this.computedAccount,!0)},isAddedbyForWork(e){var t;return(t=this.work)!=null&&t.userId?e.userId==this.work.addedby.userId:!1},setWork(e){this.work=e,this.goToStep(4)},async getWork(e,t=!1){this.loading=!0;let s,o={account:e.account,accountId:e.accountId,userId:e.userId};if(t&&(o.marks=JSON.stringify(t)),s=await this["dashboard/getWork"]({data:o,assessmentId:this.assessment.id}),this.loading=!1,s.status){this.setWork(s.work);return}this.issueDangerAlertForResponse(s,"oops! something happened "),this.goToStep(0)},removeAssessmentItem(e,t="answers"){if(!e)return;let s=-1;t==="answers"&&(s=this.answers.findIndex(o=>o.questionId===e.questionId)),t==="marks"&&(s=this.marks.findIndex(o=>o.answerId===e.answerId)),s!=-1&&this[t].splice(s,1)},requestParticipant(){this.displayRequestSection("participant")},requestMarker(){this.displayRequestSection("marker")},displayRequestSection(e){this.showRequest=!0,this.joinOrInvitationType=e},startMarkingAssessment(){this.goToStep(3)},takeAssessment(){this.goToStep(1)},async startAssessment(e=!1){e&&await this.getWork(this.computedAccount),this.startTimer(),this.goToStep(2)},clickedPopupResponse(e){e==="continue"&&this.startAssessment(),this.showPopUp=!1},checkPopup(){if(this.assessment.timer){this.startAssessment();return}if(this.assessment.duration){this.showPopUp=!0;return}this.startAssessment()},clickedMedia(){},clickedShowPostComments(){this.$emit("clickedShowPostComments",{item:this.post,type:"assessment"})},askLoginRegister(e){this.$emit("askLoginRegister",e)},postAddComplete(e){if(e==="successful"){this.showAddComment=!1,this.alertSuccess=!0,this.alertMessage="comment created successfully ";return}this.alertDanger=!0,this.alertMessage="comment creation failed "},clickedAddComment(){if(!this.computedBanned){if(!this.getUser){this.$emit("askLoginRegister","discussionsingle");return}if(!this.getProfiles||!this.getProfiles.length){this.issueSmallModalInfoMessage({message:"you must have an account (eg. learner, parent, etc) before you can comment."});return}this.showAddComment=!0}},clickedProfile(e){if(this.showProfiles=!1,this.showProfilesAction==="want to take"){this.join(e);return}if(this.showProfilesAction==="join markers"){this.joinOrInvitationType="marker",this.join(e);return}if(this.showProfilesAction==="like"){this.like(e);return}if(this.showProfilesAction==="save"){this.save(e);return}if(this.showProfilesAction==="flag"){this.issueCustomMessage({message:"are you sure you want to flag this?",data:e,type:"delete"});return}this.showProfilesAction==="attach"&&this.attach(e)},clickedSmallModalButton(e){if(e!=="ok"){if(e==="no"){this.otherUserAccountLoading=!1,this.clearSmallModal();return}if(this.showProfilesAction==="delete"){this.deleteDiscussion();return}if(this.showProfilesAction==="delete answer"){this.deleteAnswer(this.smallModalData);return}if(this.showProfilesAction==="delete mark"){this.deleteAnswerMark(this.smallModalData);return}if(this.showProfilesAction==="participant"){this.deleteDiscussionParticipant(this.smallModalData);return}this.showProfilesAction==="flag"&&this.flag(this.smallModalData)}}}},rz={key:0,class:"assessment-single-wrapper min-w-1/2 min-h-90vh relative"},lz={slot:"buttons"},cz={key:0,class:"p-3 flex flex-col h-90vh overflow-x-hidden overflow-y-auto justify-around"},uz={class:"flex items-center text-gray-500 text-sm w-full mb-5"},dz=h("div",{class:""}," created by ",-1),hz={slot:"image"},fz=["src"],mz={class:"font-semibold text-center"},pz={class:"w-full bg-gray-50 p-2 mb-10"},gz={class:"mx-1 text-lg font-bold"},vz={class:"mx-3 text-sm text-gray-500"},yz={class:"w-full bg-gray-50 text-gray-500 p-2 text-sm mb-3"},wz={key:0},_z={key:1},bz={key:2},kz={class:"relative px-1 py-5 h-content max-h-1/3 flex w-full flex-nowrap mb-2 overflow-x-auto bg-gray-50 p-2"},Az=h("span",{class:"absolute text-gray-500 text-sm top-0"},"assessment sections",-1),Cz={class:"flex justify-end"},Sz=h("div",{class:"mr-1"},"Time remaining:",-1),Iz={key:1,class:"p-2 rounded-sm text-gray-500 font-semibold text-sm"},Tz={key:2,class:"p-2 rounded-sm text-gray-500 font-semibold text-sm bg-yellow-400"},Dz={key:2,class:"w-full h-full min-h-90vh"},xz={key:3,class:"w-full h-full flex flex-col justify-center items-center min-h-90vh"},Pz={key:2,class:""},Mz={slot:"actions"};function Ez(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("auto-alert"),m=_("pulse-loader"),v=_("special-button"),g=_("item-view-cover"),A=_("profile-picture"),D=_("assessment-section-mini-badge"),E=_("assessment-section-answering-form"),T=_("assessment-details"),N=_("assessment-section-marking-form"),F=_("reaction-component"),R=_("item-request-section"),j=_("post-button"),W=_("small-modal"),Q=_("fade-up"),le=_("flag-cover"),me=_("pop-up");return s.assessment?(a(),d("div",rz,[i.steps?(a(),d("div",{key:0,class:"text-base p-2 cursor-pointer text-gray-500 absolute z-30 top-1 right-1",onClick:t[0]||(t[0]=(...k)=>n.goBack&&n.goBack(...k))},[b(r,{icon:["fa","long-arrow-alt-left"]})])):c("",!0),h("template",null,[b(f,{class:"absolute w-full text-center top-1/2",message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),b(m,{class:"absolute w-full text-center top-1/2 z-30",loading:i.loading,size:"12px"},null,8,["loading"])]),i.steps===0?(a(),S(g,{key:1,class:"min-h-90vh",data:n.computedCoverData,additionalText:"still open"},{default:z(()=>[h("template",lz,[n.computedParticipant?(a(),S(v,{key:0,buttonText:"take it",class:"p-1 ml-5",onClick:t[1]||(t[1]=k=>n.clickedButton("take it"))})):c("",!0),n.computedMarker?(a(),S(v,{key:1,buttonText:"mark",class:"p-1 ml-5",onClick:t[2]||(t[2]=k=>n.clickedButton("mark"))})):c("",!0),n.computedCanJoin?(a(),S(v,{key:2,buttonText:"want to take",class:"p-1 ml-5",onClick:t[3]||(t[3]=k=>n.clickedButton("want to take"))})):c("",!0),n.computedMarkables.length?(a(),S(v,{key:3,buttonText:"join markers",class:"p-1 ml-5",onClick:t[4]||(t[4]=k=>n.clickedButton("join markers"))})):c("",!0),n.computedIsOwner?(a(),S(v,{key:4,buttonText:"invite participant",class:"p-1 ml-5",onClick:t[5]||(t[5]=k=>n.clickedButton("invite participant"))})):c("",!0),n.computedIsOwner?(a(),S(v,{key:5,buttonText:"invite marker",class:"p-1 ml-5",onClick:t[6]||(t[6]=k=>n.clickedButton("invite marker"))})):c("",!0),n.computedHasAnswered?(a(),S(v,{key:6,buttonText:"view work",class:"p-1 ml-5",onClick:t[7]||(t[7]=k=>n.clickedButton("view work"))})):c("",!0)])]),_:1},8,["data"])):c("",!0),i.steps||e.showProfiles?(a(),d("div",{key:2,class:we([e.showProfiles?"":"border-2 rounded-lg flex flex-col h-full"])},[i.steps===1?(a(),d("div",cz,[h("div",uz,[dz,b(A,{class:"flex-shrink-0 my-1 mx-1",classes:"h-7 w-7"},{default:z(()=>[h("template",hz,[h("img",{src:s.assessment.addedby.url},null,8,fz)])]),_:1}),h("div",mz,V(s.assessment.addedby.name),1)]),h("div",pz,[h("div",gz,V(s.assessment.name),1),h("div",vz,V(s.assessment.description),1)]),h("div",yz,[s.assessment.duration?(a(),d("div",wz,V(`duration of ${s.assessment.duration} mins`),1)):c("",!0),h("div",null,V(`total mark of ${s.assessment.totalMark}`),1),s.assessment.dueAt?(a(),d("div",_z,V(`due ${s.assessment.dueAt}`),1)):c("",!0),h("div",null,V(`${s.assessment.assessmentSections.length} assessment sections`),1),h("div",null,V(`${n.computedNumberOfQuestions} total questions`),1),s.assessment.worksCount?(a(),d("div",bz,V(`${s.assessment.worksCount} persons have taken the assessment`),1)):c("",!0)]),h("div",kz,[Az,(a(!0),d(Z,null,pe(s.assessment.assessmentSections,(k,Ce)=>(a(),S(D,{class:"min-w-full mx-1 flex-grow-0",key:Ce,assessmentSection:k},null,8,["assessmentSection"]))),128))]),h("div",Cz,[s.assessment.timer||n.computedHasAnswered?(a(),S(v,{key:0,buttonText:"continue",class:"p-1 ml-5",onClick:t[8]||(t[8]=k=>n.clickedButton("continue"))})):(a(),S(v,{key:1,buttonText:"start",class:"p-1 ml-5",onClick:t[9]||(t[9]=k=>n.clickedButton("start"))}))])])):c("",!0),i.steps===2?(a(),d("div",{key:1,class:we(["p-2 h-90vh w-full flex flex-col",{"justify-center items-center":!e.computedTimingShow}])},[e.computedTimingShow?(a(),d(Z,{key:0},[e.timingItemTimeLeft?(a(),d("div",{key:0,class:we(["flex text-gray-500 text-sm p-0.5 w-content mt-5",[e.timingItemHasFewTimeLeft?"bg-red-700 text-gray-200":"text-gray-500"]])},[Sz,h("div",null,V(e.timingItemTimeLeft),1)],2)):c("",!0),b(E,{class:"h-full mt-4",assessment:s.assessment,work:i.work,answers:i.answers,numberOfQuestions:n.computedNumberOfQuestions,onInitiated:n.initiatedAssessmentSection,computedAccount:n.computedAccount,onGoToStep:n.handleGoToStep,onAnswered:n.answered},null,8,["assessment","work","answers","numberOfQuestions","onInitiated","computedAccount","onGoToStep","onAnswered"]),i.answers.length?(a(),S(v,{key:1,buttonText:"submit answers",class:"p-1 left-0 top-0 ml-0.5 mt-0.5 absolute",onClick:t[10]||(t[10]=k=>n.clickedButton("submit answers"))})):c("",!0)],64)):c("",!0),e.timingItemLocked?(a(),d("div",Iz," sorry , you have either finished this assessment, its due, or there is no more time for answering ")):c("",!0),e.timingItemWait?(a(),d("div",Tz,"  wait for a while... ")):c("",!0)],2)):c("",!0),i.steps===3?(a(),d("div",Dz,[b(T,{assessment:s.assessment,class:"mt-4",onClickedButton:n.clickedButton},null,8,["assessment","onClickedButton"])])):c("",!0),i.steps===4?(a(),d("div",xz,[n.computedShowSubmitMarks?(a(),S(v,{key:0,buttonText:"submit marks",class:"p-1 left-0 top-0 ml-0.5 mt-0.5 absolute",onClick:t[11]||(t[11]=k=>n.clickedButton("submit marks"))})):c("",!0),i.work?(a(),S(N,{key:1,class:"mt-5",work:i.work,assessment:s.assessment,marks:i.marks,onMarked:n.marked,onGoToStep:n.handleGoToStep},null,8,["work","assessment","marks","onMarked","onGoToStep"])):(a(),d("div",Pz,"getting the work..."))])):c("",!0),i.steps<2?(a(),S(F,{key:4,class:"flex-grow-0 flex-shrink-0 px-2",comments:e.computedComments,item:n.computedItem,isOwner:n.computedIsOwner,full:i.assessmentFull,showAddComment:e.showAddComment,showFlagReason:e.showFlagReason,flagData:e.flagData,likeData:e.likeData,showProfilesText:e.showProfilesText,classes:e.showOnlyProfiles?"absolute bottom-8":"",showOnlyProfiles:e.showOnlyProfiles,showProfiles:e.showProfiles,profiles:e.computedProfiles,onHideAddComment:t[12]||(t[12]=k=>e.showAddComment=!1),onPostAddComplete:n.postAddComplete,onAskLoginRegister:n.askLoginRegister,onClickedMedia:n.clickedMedia,onClickedProfile:n.clickedProfile,onClickedLike:e.clickedLike,onClickedAddComment:n.clickedAddComment,onCancelFlagProcess:e.cancelFlagProcess,onReasonGiven:e.reasonGiven,onClickedFlag:e.clickedFlag,onContinueFlagProcess:e.continueFlagProcess,onClickedShowPostComments:n.clickedShowPostComments},null,8,["comments","item","isOwner","full","showAddComment","showFlagReason","flagData","likeData","showProfilesText","classes","showOnlyProfiles","showProfiles","profiles","onPostAddComplete","onAskLoginRegister","onClickedMedia","onClickedProfile","onClickedLike","onClickedAddComment","onCancelFlagProcess","onReasonGiven","onClickedFlag","onContinueFlagProcess","onClickedShowPostComments"])):c("",!0)],2)):c("",!0),b(R,{show:i.showRequest,computedItem:n.computedItem,hasAllowed:!1,loading:i.loading,for:e.joinOrInvitationType,removedParticipant:e.removedParticipant,onDoneRemovingParticipant:e.doneRemovingParticipant,onClickedCloseRequest:n.closeItemRequestSection,onClickedParticpantAction:e.clickedParticpantAction},null,8,["show","computedItem","loading","for","removedParticipant","onDoneRemovingParticipant","onClickedCloseRequest","onClickedParticpantAction"]),b(Q,null,{default:z(()=>[e.showSmallModal?(a(),S(W,{key:0,title:e.smallModalMessage,show:e.showSmallModal,message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,loading:i.loading,alerting:e.smallModalAlerting,onDisappear:e.clearSmallModal},{default:z(()=>[h("template",Mz,[e.smallModalInfo?(a(),S(j,{key:0,buttonText:"ok",onClick:n.clickedSmallModalButton},null,8,["onClick"])):c("",!0),e.smallModalDelete?(a(),S(j,{key:1,buttonText:"yes",onClick:n.clickedSmallModalButton,buttonStyle:"danger"},null,8,["onClick"])):c("",!0),e.smallModalDelete?(a(),S(j,{key:2,buttonText:"no",onClick:n.clickedSmallModalButton,buttonStyle:"success"},null,8,["onClick"])):c("",!0)])]),_:1},8,["title","show","message","success","danger","loading","alerting","onDisappear"])):c("",!0)]),_:1}),e.flagData.myFlag?(a(),S(le,{key:3,item:n.computedItem.item},null,8,["item"])):c("",!0),b(me,{show:e.showPopUp,responses:["continue","cancel"],default:"continue",message:"this assessment has a duration. once you click continue, a timer will start and you will have to finish before the timer completes",onClickedResponse:n.clickedPopupResponse,onClosePopUp:e.closePopUp},null,8,["show","onClickedResponse","onClosePopUp"])])):c("",!0)}const Oz=Ae(az,[["render",Ez]]),Rz={components:{CreateAssessment:uA,CreateDiscussion:kc,PostButton:xs,PostCreate:iA,PostCreateAlt:Q5,AssessmentSingle:Oz,DiscussionSingle:yA,PostSingle:wv},props:{loading:{type:Boolean,default:!1},posts:{type:Array,default(){return[]}}},data(){return{showLoginRegister:!1,showCreateItem:"",otherLoading:!1,alertDanger:!1,alertSuccess:!1,alertMessage:""}},computed:{...os(["getProfiles"]),computedPostCreate(){return!!(this.getProfiles&&this.getProfiles.length)}},methods:{...ss(["profile/createDiscussion","profile/createAssessment","dashboard/createAssessment"]),clickedPostButton(e){this.showCreateItem=e},clickedCloseCreateItem(){this.showCreateItem=""},clearAlert(){setTimeout(()=>{this.alertDanger=!1,this.alertSuccess=!1,this.alertMessage=""},3e3)},async clickedCreateDiscussion(e){let t,s=new FormData;this.otherLoading=!0,s.append("account",e.account),s.append("accountId",e.accountId),s.append("title",e.title),s.append("type",e.type),s.append("allowed",e.allowed),s.append("restricted",JSON.stringify(e.restricted)),s.append("preamble",e.preamble),e.files.forEach(o=>{s.append("file[]",o)}),e.postAttachments.length&&s.append("attachments",JSON.stringify(e.postAttachments.map(o=>({attachable:o.type.slice(0,o.type.length-1),attachableId:o.data.id})))),t=await this["profile/createDiscussion"](s),this.otherLoading=!1,this.handleResponse(t,"discussion")},handleResponse(e,t){e.status?(this.alertSuccess=!0,this.alertMessage=`${t} created successfully`):(console.log("response :>> ",e),this.alertDanger=!0,this.alertMessage=`${t} creation failed`),this.clearAlert()},async clickedCreateAssessment(e){this.otherLoading=!0;let t=await this["dashboard/createAssessment"](e);this.otherLoading=!1,this.handleResponse(t,"assessment")},clickedShowPostComments(e){this.$emit("clickedShowPostComments",e)},clickedShowPostPreview(e){this.$emit("clickedShowPostPreview",e)},askLoginRegister(){this.$emit("askLoginRegister","HomeMain")},clickedMedia(e){this.$emit("clickedMedia",e)}}},Nz={class:"home-main-wrapper"},Lz={class:"extras-section"},Fz={key:0,class:"loading"},Uz={key:4,class:"loading"},Bz={key:5,class:"w-[90%] mx-auto md:max-w-xl space-y-12 mt-20"};function jz(e,t,s,o,i,n){const r=_("post-button"),f=_("pulse-loader"),m=_("post-create"),v=_("post-single"),g=_("discussion-single"),A=_("assessment-single"),D=_("create-discussion"),E=_("create-assessment");return a(),d("div",Nz,[h("div",Lz,[b(r,{buttonText:"discussion",onClick:t[0]||(t[0]=T=>n.clickedPostButton("discussion")),titleText:"have something to discuss?"}),b(r,{buttonText:"assessment",onClick:t[1]||(t[1]=T=>n.clickedPostButton("assessment")),titleText:"want to create an assessment?"})]),i.otherLoading?(a(),d("div",Fz,[b(f,{loading:i.otherLoading,size:"10px"},null,8,["loading"])])):c("",!0),i.alertMessage.length?(a(),d("div",{key:1,class:we(["alert",{success:i.alertSuccess,danger:i.alertDanger}])},V(i.alertMessage),3)):c("",!0),n.computedPostCreate?(a(),S(m,{key:2})):!s.loading&&!n.computedPostCreate?(a(),d("div",{key:3,"on:askLoginRegister":t[2]||(t[2]=(...T)=>n.askLoginRegister&&n.askLoginRegister(...T))},null,32)):c("",!0),s.loading?(a(),d("div",Uz,[b(f,{loading:s.loading},null,8,["loading"])])):c("",!0),s.posts?(a(),d("div",Bz,[(a(!0),d(Z,null,pe(s.posts,T=>(a(),d(Z,null,[T.isPost?(a(),S(v,{key:`post.${T.id}`,post:T,onAskLoginRegister:n.askLoginRegister,onClickedMedia:n.clickedMedia,onClickedShowPostComments:n.clickedShowPostComments,onClickedShowPostPreview:n.clickedShowPostPreview},null,8,["post","onAskLoginRegister","onClickedMedia","onClickedShowPostComments","onClickedShowPostPreview"])):c("",!0),T.isDiscussion?(a(),S(g,{key:`discussion.${T.id}`,discussion:T,onAskLoginRegister:n.askLoginRegister},null,8,["discussion","onAskLoginRegister"])):c("",!0),T.isAssessment?(a(),S(A,{key:`assessment.${T.id}`,assessment:T,onAskLoginRegister:n.askLoginRegister},null,8,["assessment","onAskLoginRegister"])):c("",!0)],64))),256))])):c("",!0),i.showCreateItem==="discussion"?(a(),S(D,{key:6,show:i.showCreateItem==="discussion",onCreateDiscussionDisappear:n.clickedCloseCreateItem,onClickedCreate:n.clickedCreateDiscussion},null,8,["show","onCreateDiscussionDisappear","onClickedCreate"])):c("",!0),b(E,{show:i.showCreateItem==="assessment",onCloseCreateAssessment:n.clickedCloseCreateItem,onClickedCreate:n.clickedCreateAssessment},null,8,["show","onCloseCreateAssessment","onClickedCreate"])])}const Vz=Ae(Rz,[["render",jz],["__scopeId","data-v-08faf509"]]),qz={props:{sideValue:{type:String,default:""},items:{type:Array,default(){return["posts","discussions","assessments","reads","books","questions","poems","riddles","activities"]}}},data(){return{value:""}},watch:{sideValue:{immediate:!0,handler(e){this.items.includes(e)&&(this.value=e)}}},methods:{clickedItem(e){this.value=e,this.$emit("clickedItem",e)}}},Hz={class:"home-side-wrapper",ref:"checkinputwrapper"},Wz=["onClick"];function zz(e,t,s,o,i,n){return a(),d("div",Hz,[(a(!0),d(Z,null,pe(s.items,(r,f)=>(a(),d("div",{key:f,class:we(["home-side-item",{active:i.value===r}]),onClick:m=>n.clickedItem(r)},V(r),11,Wz))),128))],512)}const Gz=Ae(qz,[["render",zz],["__scopeId","data-v-cbee6f53"]]),Yz={props:{show:{type:Boolean,default:!0,required:!1},loading:{type:Boolean,default:!1},alerting:{type:Boolean,default:!1},success:{type:Boolean,default:!1},danger:{type:Boolean,default:!1},title:{type:String,default:""},message:{type:String,default:""},main:{type:Boolean,default:!1}},components:{AutoAlert:Mi},computed:{computedAlert(){return this.message}},methods:{disappear(){this.$emit("disappear")},hideAlert(){this.$emit("disappear")}}},Qz={class:"main-modal"},Kz={key:0,class:"loading"},Jz={key:1,class:"alerting"},Xz={key:2,class:"main-section"},$z={class:"title"},Zz={class:"buttons"},eG={class:"other"},tG={key:3,class:"main"},sG={class:"title"},nG={class:"other"};function iG(e,t,s,o,i,n){const r=_("sync-loader"),f=_("auto-alert"),m=_("font-awesome-icon");return s.show?(a(),d("div",{key:0,class:"modal-wrapper",onClick:t[1]||(t[1]=Vt((...v)=>n.disappear&&n.disappear(...v),["self"]))},[h("div",Qz,[s.loading?(a(),d("div",Kz,[b(r,{loading:s.loading},null,8,["loading"])])):c("",!0),s.alerting?(a(),d("div",Jz,[b(f,{message:n.computedAlert,success:s.success,danger:s.danger,onHideAlert:n.hideAlert},null,8,["message","success","danger","onHideAlert"])])):c("",!0),h("div",{class:"close",onClick:t[0]||(t[0]=(...v)=>n.disappear&&n.disappear(...v))},[b(m,{icon:["fas","times"]})]),!s.main&&!s.loading&&!s.alerting?(a(),d("div",Xz,[h("div",$z,V(s.title),1),h("div",Zz,[Jt(e.$slots,"actions",{},void 0,!0)]),h("div",eG,[Jt(e.$slots,"other",{},void 0,!0)])])):c("",!0),s.main?(a(),d("div",tG,[h("div",sG,V(s.title),1),h("div",nG,[Jt(e.$slots,"other",{},void 0,!0)])])):c("",!0)])])):c("",!0)}const IA=Ae(Yz,[["render",iG],["__scopeId","data-v-13804bb1"]]),oG={props:{account:{type:Object,default(){return null}},request:{type:Boolean,default:!1},dashboard:{type:Boolean,default:!1},what:{type:String,default:""},alert:{type:Boolean,default:!1},flag:{type:Boolean,default:!1},action:{type:Boolean,default:!0}},components:{ActionButton:mr,ProfileBar:oi,ProfilePicture:Ys},data(){return{loading:!1,myFollow:[],followButtonText:"follow",showProfiles:!1,profileAction:"",flagLoading:!1,declineLoading:!1,acceptLoading:!1,greenActionTitle:"accept request",redActionTitle:"decline request"}},watch:{request:{immediate:!0,handler(e){e?this.profileAction="accept":this.profileAction="follow"}}},computed:{...os(["getProfiles","getUser"]),computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedFollowing(){let e=-1;return this.account&&this.account.follows&&(e=this.account.follows.findIndex(t=>this.getUser.id===t.user_id)),e>-1?(this.myFollow=this.account.follows[e],this.followButtonText="unfollow","unfollow"):(this.followButtonText="follow","follow")},computedAction(){return this.alert?this.account.action==="followed"?`following ${this.account.myName}(${this.account.myAccount})`:`followed ${this.account.myName}(${this.account.myAccount}) back`:""},computedOwner(){return this.getUser&&this.account?this.getUser.id===this.account.user_id:!1},computedAccountType(){return this.account.account?this.account.account:""},computedAccountId(){return this.account.accountId?this.account.accountId:""},computedActionFollow(){return this.dashboard||this.alert?!1:!!(this.computedProfiles.length&&!this.computedOwner&&!this.flag&&!this.request&&this.action)},computedActionAccept(){return this.alert?!1:!!(this.computedProfiles.length&&this.request&&this.action)},computedActionFlag(){return this.alert?!1:!!(this.computedProfiles.length&&this.flag&&this.action)}},methods:{...ss(["profile/follow","profile/unfollow"]),clickedFlag(){this.flagLoading=!0,this.$emit("clickedAction",{account:this.computedAccountType,accountId:this.account.id,flag:this.account.flags.filter(e=>e.user_id===this.getUser.id)[0]})},profilesAppear(){this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},clickedFollow(){this.followButtonText==="follow"?this.profilesAppear():this.clickedUnfollow()},clickedDecline(){if(!this.acceptLoading){if(this.declineLoading=!0,this.profileAction==="accept"){this.$emit("clickedAction",{account:this.account,action:"decline"});return}this.$emit("clickedAction",{account:this.account.account,accountId:this.account.accountId,requestId:this.account.id,action:"decline"})}},clickedAccept(){if(this.profileAction==="accept"){if(this.declineLoading)return;this.acceptLoading=!0;let e={action:"accept",account:this.account};this.$emit("clickedAction",e);return}this.profilesAppear()},async clickedProfile(e){this.showProfiles=!1;let t=null,s={};this.profileAction==="follow"&&(this.loading=!0,s={account:e.account,accountId:e.accountId,follow:this.account.account,followId:this.account.accountId},t=await this["profile/follow"](s),t.status&&(this.followButtonText="unfollow",this.$emit("addMyfollow",{follow:t.follow,account:this.account.account,accountId:this.account.accountId})),this.loading=!1)},async clickedUnfollow(){this.loading=!0;let e={followId:this.myFollow.id};await this["profile/unfollow"](e)==="successful"&&(this.followButtonText="follow",this.$emit("removeMyfollow",{follow:this.myFollow,account:this.account.account,accountId:this.account.accountId})),this.loading=!1},goToProfile(e){this.request||(this.$emit("clearData"),useRouter().push({name:"profile",params:{account:this.computedAccountType,accountId:this.computedAccountId}}))}}},aG={class:"top"},rG={class:"right-section"},lG={slot:"image"},cG=["src"],uG={class:"name"},dG={class:"account-type"},hG={key:0,class:"my-account"},fG={key:1,class:"my-account"},mG={key:0,class:"profiles"},pG={key:0,class:"dashboard"},gG={key:1,class:"bottom"},vG={key:1,class:"action-button-special"};function yG(e,t,s,o,i,n){const r=_("profile-picture"),f=_("pulse-loader"),m=_("profile-bar"),v=_("action-button");return a(),d("div",null,[s.account?(a(),d("div",{key:0,class:we(["account-badge-wrapper",{alert:s.alert}]),onClick:t[3]||(t[3]=Vt(g=>n.goToProfile(s.account),["self"]))},[h("div",aG,[h("div",rG,[h("div",{class:"profile-picture",onClick:t[0]||(t[0]=g=>n.goToProfile(s.account))},[b(r,null,{default:z(()=>[h("template",lG,[h("img",{src:s.account.url},null,8,cG)])]),_:1})]),n.computedActionFollow?(a(),d("div",{key:0,class:"action-button",onClick:t[1]||(t[1]=(...g)=>n.clickedFollow&&n.clickedFollow(...g))},[Mt(V(i.loading?"":n.computedFollowing)+" ",1),b(f,{loading:i.loading,size:"6px"},null,8,["loading"])])):c("",!0)]),h("div",{class:"other-section",onClick:t[2]||(t[2]=g=>n.goToProfile(s.account))},[h("div",uG,V(s.account.name),1),h("div",dG,V(n.computedAccountType),1),s.request?(a(),d("div",hG,V(`following ${s.account.myName}(${s.account.myAccount})`),1)):c("",!0),s.alert?(a(),d("div",fG,V(n.computedAction),1)):c("",!0)]),i.showProfiles&&!s.alert?(a(),d("div",mG,[h("span",null,V(`${i.profileAction} as`),1),(a(!0),d(Z,null,pe(n.computedProfiles,(g,A)=>(a(),d("div",{key:A},[b(m,{smallType:!0,profile:g,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)]),s.dashboard?(a(),d("div",pG,V(`added this ${s.what}`),1)):c("",!0),!s.dashboard&&n.computedActionAccept?(a(),d("div",gG,[n.computedActionAccept?(a(),S(v,{key:0,onClick:n.clickedAccept,green:!0,title:i.greenActionTitle,loading:i.acceptLoading,text:"accept"},null,8,["onClick","title","loading"])):c("",!0),n.computedActionAccept?(a(),S(v,{key:1,onClick:n.clickedDecline,red:!0,title:i.redActionTitle,loading:i.declineLoading,text:"decline"},null,8,["onClick","title","loading"])):c("",!0)])):c("",!0)],2)):c("",!0),!s.dashboard&&n.computedActionFlag?(a(),d("div",vG,[n.computedActionFlag?(a(),S(v,{key:0,onClick:n.clickedFlag,text:"unflag",loading:i.flagLoading,background:!0,class:"action-button"},null,8,["onClick","loading"])):c("",!0)])):c("",!0)])}const vu=Ae(oG,[["render",yG],["__scopeId","data-v-6325e2af"]]),wG={components:{AccountBadge:vu,ProfilePicture:Ys,JustFade:uo},props:{show:{type:Boolean,default:!1},loadMore:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},propSearchType:{type:String,default:""},nextPage:{type:Number,default:1},searchData:{type:Array,default(){return[]}}},data(){return{searchType:"all"}},watch:{propSearchType:{immediate:!0,handler(e){e!==this.searchType&&(this.searchType=e)}}},computed:{computedData(){return this.searchData}},methods:{clickedButton(e){this.searchType=e,this.$emit("clickedButton",e)},clickedViewPost(e){this.searchType=e,this.$emit("clickedViewPost",e)},clickedLoadMore(){this.$emit("clickedLoadMore")},shortenText(e){return ns.trim(e,200)},removeMyfollow(e){this.$emit("removeMyfollow",e)},addMyfollow(e){this.$emit("addMyfollow",e)},clearData(){this.$emit("clearData")}}},_G={key:0},bG={class:"search-output-wrapper"},kG={class:"what"},AG={class:"output-section"},CG=["onClick"],SG={class:"top"},IG={class:"name"},TG={class:"account-type"},DG={class:"lower"},xG={class:"profile-picture"},PG={slot:"image"},MG=["src"],EG={class:"text"},OG={key:1,class:"no-more"};function RG(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("account-badge"),m=_("profile-picture"),v=_("just-fade");return a(),S(v,null,{default:z(()=>[s.show?(a(),d("div",_G,[h("div",{class:"search-outer-wrapper",onClick:t[0]||(t[0]=Vt((...g)=>n.clearData&&n.clearData(...g),["self"]))}),h("div",bG,[h("div",{class:"close",onClick:t[1]||(t[1]=(...g)=>n.clearData&&n.clearData(...g))},[b(r,{icon:["fa","times"]})]),h("div",kG,[h("div",{class:we(["search-output-button",{active:i.searchType==="all"}]),onClick:t[2]||(t[2]=g=>n.clickedButton("all"))},"all",2),h("div",{class:we(["search-output-button",{active:i.searchType==="learners"}]),onClick:t[3]||(t[3]=g=>n.clickedButton("learners"))},"learners",2),h("div",{class:we(["search-output-button",{active:i.searchType==="parents"}]),onClick:t[4]||(t[4]=g=>n.clickedButton("parents"))},"parents",2),h("div",{class:we(["search-output-button",{active:i.searchType==="professionals"}]),onClick:t[5]||(t[5]=g=>n.clickedButton("professionals"))},"professionals",2),h("div",{class:we(["search-output-button",{active:i.searchType==="schools"}]),onClick:t[6]||(t[6]=g=>n.clickedButton("schools"))},"schools",2),h("div",{class:we(["search-output-button",{active:i.searchType==="posts"}]),onClick:t[7]||(t[7]=g=>n.clickedButton("posts"))},"posts",2),h("div",{class:we(["search-output-button",{active:i.searchType==="discussions"}]),onClick:t[8]||(t[8]=g=>n.clickedButton("discussions"))},"discussions",2),h("div",{class:we(["search-output-button",{active:i.searchType==="reads"}]),onClick:t[9]||(t[9]=g=>n.clickedButton("reads"))},"reads",2),h("div",{class:we(["search-output-button",{active:i.searchType==="facilitators"}]),onClick:t[10]||(t[10]=g=>n.clickedButton("facilitators"))},"facilitators",2)]),h("div",AG,[n.computedData.length?(a(!0),d(Z,{key:0},pe(n.computedData,g=>(a(),d("div",{class:we(["data-section",{account:g.hasOwnProperty("account_id"),post:g.hasOwnProperty("addedby_id")}]),key:g.id},[g.hasOwnProperty("account_id")?(a(),S(f,{key:0,account:g,onAddMyfollow:n.addMyfollow,onRemoveMyfollow:n.removeMyfollow},null,8,["account","onAddMyfollow","onRemoveMyfollow"])):c("",!0),g.hasOwnProperty("addedby_id")?(a(),d("div",{key:1,class:"item",onClick:A=>n.clickedViewPost(g)},[h("div",SG,[h("div",IG,V(g.name),1),h("div",TG,V(g.addedby_type),1)]),h("div",DG,[h("div",xG,[b(m,null,{default:z(()=>[h("template",PG,[h("img",{src:g.url},null,8,MG)])]),_:2},1024)]),h("div",EG,V(g.content.length?n.shortenText(g.content):""),1)])],8,CG)):c("",!0)],2))),128)):c("",!0)]),!s.loading&&s.loadMore?(a(),d("div",{key:0,class:"load-more",onClick:t[11]||(t[11]=(...g)=>n.clickedLoadMore&&n.clickedLoadMore(...g))},[b(r,{icon:["fa","ellipsis-h"]})])):c("",!0),!s.loading&&!s.loadMore?(a(),d("div",OG," nothing more ... ")):c("",!0)])])):c("",!0)]),_:1})}const NG=Ae(wG,[["render",RG],["__scopeId","data-v-acc0a9af"]]),LG={key:0,class:"text-sm md:text-base"},FG={__name:"HomeMenuItem",props:{item:{type:String,default:""},showItem:{type:Boolean,default:!1},active:{type:Boolean,default:!1}},setup(e){return(t,s)=>e.item.length?(a(),d("div",{key:0,class:we(["p-1 flex justify-center items-center w-content cursor-pointer min-w-12 border-t-2 transition-all duration-75 border-transparent hover:border-gray-600",[e.active?"text-mainbrown shadow-sm bg-white rounded font-semibold":"text-gray-500 hover:text-mainbrown hover:bg-white"]]),onClick:s[0]||(s[0]=o=>t.$emit("clickedItem",e.item))},[e.showItem?(a(),d("div",LG,V(e.item),1)):c("",!0),Jt(t.$slots,"icon")],2)):c("",!0)}},UG={class:"w-full flex flex-col sm:flex-row md:flex-col items-start justify-center gap-2 overflow-x-auto z-10 border-b border-mainbrown p-2"},BG={__name:"HomeMenuBar",props:{activeItem:{type:String,default:""}},emits:["clickedMenuItem"],setup(e,{emit:t}){const s=t,o=at([{show:!0,icon:!1,text:"all"},{show:!0,icon:!1,text:"mine"},{show:!0,icon:!1,text:"followers"},{show:!0,icon:!1,text:"followings"},{show:!0,icon:!1,text:"attachments"}]);function i(n){s("clickedMenuItem",n)}return(n,r)=>(a(),d("div",UG,[(a(!0),d(Z,null,pe(o.value,(f,m)=>(a(),S(FG,{class:"",key:m,item:f.text,showItem:f.show,active:f.text===e.activeItem,onClickedItem:i},null,8,["item","showItem","active"]))),128))]))}},TA=e=>(gs("data-v-6f0143be"),e=e(),vs(),e),jG={class:"home-wrapper bg-whitesmoke min-h-screen pb-4 overflow-y-auto"},VG={class:""},qG={class:"w-fit mx-auto relative"},HG=TA(()=>h("div",{class:"bg-gradient-to-r from-youredubrown to-youredugreen w-full h-1"},null,-1)),WG={class:"grid grid-cols-4 md:grid-cols-5 gap-2 mt-8"},zG={class:"col-start-1 col-span-2 md:col-span-1"},GG={class:"row-start-2 col-span-4 md:row-start-1 md:col-start-2 md:col-span-3","infinite-wrapper":""},YG={class:"col-start-3 row-start-1 col-span-2 md:col-span-1 md:col-start-5"},QG={class:"mx-auto w-fit mt-6"},KG=TA(()=>h("div",{class:"text-lg font-bold bg-gradient-to-r from-youredubrown to-youredugreen w-fit mx-auto bg-clip-text text-transparent"},"no more posts!",-1)),JG={__name:"Home",setup(e){const t=_i(),s=at(!1);at(!1);const o=at({discussions:{all:1,mine:1,followers:1,followings:1,attachments:1},posts:{all:1,mine:1,followers:1,followings:1,attachments:1},questions:{all:1,mine:1,followers:1,followings:1,attachments:1},poems:{all:1,mine:1,followers:1,followings:1,attachments:1},riddles:{all:1,mine:1,followers:1,followings:1,attachments:1},books:{all:1,mine:1,followers:1,followings:1,attachments:1},activities:{all:1,mine:1,followers:1,followings:1,attachments:1},reads:{all:1,mine:1,followers:1,followings:1,attachments:1},assessments:{all:1,mine:1,followers:1,followings:1,attachments:1}});at(1);const i=at(!1),n=at(!1),r=at(!1),f=at({all:!0}),m=at(""),v=at(!0),g=at(!1),A=at(!0),D=at(!1),E=at(null),T=at(""),N=at(!1),F=at("all"),R=at("posts"),j=at(null),W=at({discussions:null,posts:null,questions:null,poems:null,riddles:null,books:null,activities:null,reads:null,assessments:null}),Q=at("all"),le=at(""),me=at(""),k=at(!1),Ce=at([]),he=at(1),Ke=at(!1),Te=at(!1),Ve=at([]);Ol(()=>{tt()}),xf(()=>{var $e;!f.value||!R.value||!F.value||n.value||($e=t.getters[`home/getHome${Ft.capitalize(`${R.value}${Ft.capitalize(F.value==="all"?"":F.value)}`)}`])!=null&&$e.length||(n.value=!0,Et())}),Us(()=>R.value,()=>{Pe()}),Us(()=>F.value,$e=>{if(!t.getters.getUser){F.value="all",s.value=!0;return}f.value={user:t.getters.getUser.id},$e==="all"&&(f.value.all=!0),$e==="followers"&&(f.value.followers=!0),$e==="followings"&&(f.value.followings=!0),$e==="mine"&&(f.value.mine=!0),Pe()}),Us(()=>j.value,$e=>{$e&&(f.value={},f.value.user=t.getters.getUser.id,f.value.attachments=!0,f.value.attach=$e.type,f.value.id=$e.data.id,Pe())}),Us(()=>le.value,$e=>{he.value=1,$e.length?(k.value=!0,xe()):(k.value=!1,Ce.value=[])}),Us(()=>Q.value,()=>{he.value=1,le.value.length&&xe()}),Us(()=>he.value,$e=>{$e&&$e>1?Te.value=!0:Te.value=!1});const ut=Wt(()=>[...new Set(t.getters[`home/getHome${Ft.capitalize(de.value)}`])]);Wt(()=>t.getters.getUser),Wt(()=>getProfiles.value??[]);const de=Wt(()=>`${R.value}${Ft.capitalize(F.value==="all"?"":F.value)}`),We=Wt(()=>!R.value||!F.value?0:o.value[R.value][F.value]),Qt=Wt(()=>!Lt.value),Lt=Wt(()=>["posts","discussions","reads","assessments"].includes(R.value));function wt($e){return["posts","discussions","reads","assessments"].includes(R.value)?($e.postType="posts",$e):($e.postType=R.value,$e)}function Je($e){return!["posts","discussions","reads","assessments"].includes(R.value)||R.value==="posts"?($e.type="posts",$e):($e.type=R.value,$e)}function Xe($e){Q.value=$e}function tt(){i.value||(i.value=!0,Echo.channel("youredu.home").listen(".newPost",$e=>{this["home/newPost"]($e)}).listen(".newDiscussion",$e=>{this["home/newDiscussion"]($e)}).listen(".newAssessment",$e=>{this["home/newAssessment"]($e)}))}async function At($e){D.value=!0,N.value=!0;let _t=await t.dispatch("profile/getPost",$e.id);_t!=="unsuccessful"?(T.value="post",E.value=_t):D.value=!1,N.value=!1}function Ct($e){Ce.value.forEach(_t=>{if(_t.accountId===$e.accountId&&_t.account===$e.account){let bs=_t.follows.findIndex(Zs=>Zs.id===$e.follow.id);bs>-1&&_t.follows.splice(bs,1)}})}function ls($e){Ce.value.forEach(_t=>{_t.accountId===$e.accountId&&_t.account===$e.account&&_t.follows.push($e.follow)})}function Ut(){le.value="",me.value="",Q.value="all",Ce.value=[]}function qt(){xe()}function ce($e){le.value=$e}const xe=Ft.debounce(function(){this.search()},200);function it($e){R.value=$e}function vt($e){E.value=$e.data,T.value="posttype",D.value=!0}function Gt($e){E.value=$e.post,T.value="post",D.value=!0}function jt(){g.value=!1,m.value="",A.value=""}function ne($e){m.value=$e.url,A.value=$e.mediaType,g.value=!0}function re(){s.value=!0,setTimeout(()=>{s.value=!1},4e3)}function Pe(){if(Qt.value=="Posts"){Et();return}Ne()}function Qe(){!o.value[R.value]||!o.value[R.value][F.value]||(o.value[R.value][F.value]+=1)}function Be(){console.log(R.value,F.value,!o.value[R.value]||!o.value[R.value][F.value],o.value[R.value][F.value]),!(!o.value[R.value]||!o.value[R.value][F.value])&&(o.value[R.value][F.value]=0)}function Ze(){return!!(o.value[R.value][F.value]!==1&&t.getters[`home/getHome${Ft.capitalize(We.value)}`])}function ht(){f.value.attachments&&(W.value[R.value]=j.value)}function rt(){let $e=wt(es(f));return $e=Je($e),$e}function ot(){return Ve.value.includes(`${R.value}${Ft.capitalize(F.value==="all"?"":F.value)}`)}function qe(){var $e;return(($e=t.getters[`home/getHome${Ft.capitalize(`${R.value}${Ft.capitalize(F.value==="all"?"":F.value)}`)}`])==null?void 0:$e.length)>=10}function mt(){var _t;let $e=`${R.value}${Ft.capitalize(F.value==="all"?"":F.value)}`;(_t=t.getters[`home/getHome${Ft.capitalize($e)}`])!=null&&_t.length&&(ot()||Ve.value.push($e))}async function Et($e=null){if(Ze()||ot()&&qe())return;r.value=!0;let _t=o.value[R.value][F.value],bs=await t.dispatch(`home/get${t.getters.getUser?"User":""}Posts`,{nextPage:_t,params:rt()});Pt(bs,$e),r.value=!1,mt()}async function Ne($e=null){if(Ze()||ot())return;r.value=!0;let _t=await t.dispatch(`home/get${t.getters.getUser?"User":""}PostTypes`,{nextPage:We.value,params:rt()});Pt(_t,$e),r.value=!1}function Pt($e,_t=null){console.log($e,"set next"),$e&&(Qe(),_t==null||_t.loaded()),$e||(Be(),_t==null||_t.complete()),ht()}async function Zt($e){if(console.log($e,"infinite"),We.value===1){console.log(1);return}if(!We.value){console.log(2),$e.complete();return}let _t=null;Lt.value&&(_t=await t.dispatch("home/getUserPosts",{nextPage:We.value,params:f.value})),Qt.value&&(_t=await t.dispatch("home/getUserPostTypes",{nextPage:We.value,params:f.value})),Pt(_t,$e)}return($e,_t)=>{const bs=_("app-nav"),Zs=_("router-link"),qs=_("media-modal"),sn=_("just-fade"),nn=_("post-modal"),Is=_("infinite-loading");return a(),d("div",jG,[b(bs,{class:"mb-4"}),h("div",VG,[h("div",qG,[b(hr,{placeholder:"searching for?",paClass:"gray",value:le.value,homeSearch:!0,background:!1,onSearch:ce},null,8,["value"]),HG])]),h("div",WG,[h("div",zG,[b(BG,{activeItem:F.value,onClickedMenuItem:it},null,8,["activeItem"])]),h("div",GG,[b(Vz,{onAskLoginRegister:re,onClickedMedia:ne,loading:r.value,posts:ut.value,onClickedShowPostComments:Gt,onClickedShowPostPreview:vt},null,8,["loading","posts"])]),h("div",YG,[b(Gz,{onClickedItem:it,sideValue:R.value},null,8,["sideValue"])])]),b(bi,null,Oa({_:2},[s.value?{name:"transition",fn:z(()=>[b(IA,{onDisappear:_t[0]||(_t[0]=Hs=>s.value=!1),showForm:s.value,title:"welcome to this new community."},{other:z(()=>[b(Zs,{to:"/login"},{default:z(()=>[Mt("login")]),_:1}),Mt(" or "),b(Zs,{to:"/register"},{default:z(()=>[Mt("register")]),_:1}),Mt(" to interact and grow in a positve way. ")]),_:1},8,["showForm"])]),key:"0"}:void 0]),1024),b(sn,null,Oa({_:2},[g.value?{name:"transition",fn:z(()=>[b(qs,{onMainModalDisappear:jt,url:m.value,urlType:A.value,justUrl:v.value},null,8,["url","urlType","justUrl"])]),key:"0"}:void 0]),1024),b(sn,null,Oa({_:2},[D.value?{name:"transition",fn:z(()=>[b(nn,{onMainModalDisappear:_t[1]||(_t[1]=Hs=>D.value=!1),data:E.value,postLoading:N.value,type:T.value},null,8,["data","postLoading","type"])]),key:"0"}:void 0]),1024),b(NG,{type:T.value,propSearchType:Q.value,onClickedButton:Xe,onClickedViewPost:At,show:k.value,searchData:Ce.value,loadMore:Te.value,loading:Ke.value,onClickedLoadMore:qt,onClearData:Ut,onAddMyfollow:ls,onRemoveMyfollow:Ct},null,8,["type","propSearchType","show","searchData","loadMore","loading"]),h("div",QG,[ut.value.length?(a(),S(Is,{key:0,class:"mx-auto",onInfinite:Zt,"force-use-infinite-wrapper":""},{complete:z(()=>[KG]),_:1})):c("",!0)])])}}},XG=Ae(JG,[["__scopeId","data-v-6f0143be"]]),$G={components:{ProfileBar:oi},props:{minWidth:{type:Boolean,default:!1}},data(){return{icons:["fas","bars"],barSmall:!0,iconTitle:"click to expand"}},watch:{barSmall(e){this.$emit("barSmall",e)},minWidth(e){e&&this.switchIcon()}},computed:{...os(["getUser","getProfiles","isLearner","isFacilitator","isParent","professionalsCount","schoolsCount"]),computedUserName(){return this.getUser?this.getUser.username:""},computedLearner(){return this.getProfiles?this.getProfiles.filter(e=>e.account==="learner")[0]:null},computedParent(){return this.getProfiles?this.getProfiles.filter(e=>e.account==="parent")[0]:null},computedFacilitator(){return this.getProfiles?this.getProfiles.filter(e=>e.account==="facilitator")[0]:null},computedProfessionals(){return this.getProfiles?this.getProfiles.filter(e=>e.account==="professional"):null},computedSchools(){return this.getProfiles?this.getProfiles.filter(e=>e.account==="school"):null},computedAdmin(){return this.getUser&&this.getUser.admin?this.getUser.admin:null}},methods:{switchIcon(){this.icons[1]==="bars"?(this.icons=["fas","times"],this.barSmall=!1,this.iconTitle="click to collapse"):this.icons[1]==="times"&&(this.icons=["fas","bars"],this.iconTitle="click to expand",this.barSmall=!0)},clickedProfile(e){document.getElementsByClassName("active").length&&document.getElementsByClassName("active")[0].classList.remove("active"),this.$emit("sidebarSelection",{type:"account",account:e})},clickedUsername(e){e.target.classList.contains("active")||e.target.classList.add("active"),this.$emit("sidebarSelection",{type:"user"})},clickedCreate(e){this.$emit("clickedCreate",e)}}},Ei=e=>(gs("data-v-dbd1f8bb"),e=e(),vs(),e),ZG=["title"],eY={class:"main-item"},tY=Ei(()=>h("div",{class:"main-text"},"Profile",-1)),sY={class:"main-icon"},nY={class:"main"},iY={class:"item"},oY=Ei(()=>h("div",{class:"item-text"}," learner ",-1)),aY=Ei(()=>h("div",{class:"item-icon"}," (L) ",-1)),rY={class:"item-sub"},lY={key:0,class:"no-item"},cY=Ei(()=>h("div",{class:"info"},"no learner account",-1)),uY={class:"item"},dY=Ei(()=>h("div",{class:"item-text"}," facilitator ",-1)),hY=Ei(()=>h("div",{class:"item-icon"}," (F) ",-1)),fY={class:"item-sub"},mY={key:0,class:"no-item"},pY=Ei(()=>h("div",{class:"info"},"no facilitator account",-1)),gY={class:"item"},vY=Ei(()=>h("div",{class:"item-text"}," Parent ",-1)),yY=Ei(()=>h("div",{class:"item-icon"}," (P) ",-1)),wY={class:"item-sub"},_Y={key:0,class:"no-item"},bY=Ei(()=>h("div",{class:"info"},"no parent account",-1)),kY={class:"item"},AY=Ei(()=>h("div",{class:"item-text"}," Professionals ",-1)),CY=Ei(()=>h("div",{class:"item-icon"}," (Pros) ",-1)),SY={class:"item-sub"},IY={key:0,class:"no-item"},TY={class:"info"},DY={class:"item"},xY=Ei(()=>h("div",{class:"item-text"}," Schools ",-1)),PY=Ei(()=>h("div",{class:"item-icon"}," (S) ",-1)),MY={class:"item-sub"},EY={key:0,class:"no-item"},OY={class:"info"},RY={key:0,class:"item"},NY=Ei(()=>h("div",{class:"item-text"}," Admins ",-1)),LY=Ei(()=>h("div",{class:"item-icon"}," (A) ",-1)),FY={class:"item-sub"};function UY(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("profile-bar");return a(),d("div",{class:we(["side-bar-wrapper",{"bar-small":i.barSmall}])},[h("div",{class:"icon",onClick:t[0]||(t[0]=(...m)=>n.switchIcon&&n.switchIcon(...m)),title:i.iconTitle},[b(r,{icon:i.icons},null,8,["icon"])],8,ZG),n.computedUserName.length?(a(),d("div",{key:0,class:"username",onClick:t[1]||(t[1]=m=>n.clickedUsername(m))},V(`@${n.computedUserName}`),1)):c("",!0),h("div",eY,[tY,h("div",sY,[b(r,{icon:["fas","users"]})])]),h("div",nY,[h("div",iY,[oY,aY,h("div",rY,[e.isLearner?(a(),S(f,{key:1,smallType:!0,justName:!0,profile:n.computedLearner.params,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])):(a(),d("div",lY,[cY,h("div",{class:"button",onClick:t[2]||(t[2]=m=>n.clickedCreate("learner"))},"create")]))])]),h("div",uY,[dY,hY,h("div",fY,[e.isFacilitator?(a(),S(f,{key:1,smallType:!0,justName:!0,profile:n.computedFacilitator,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])):(a(),d("div",mY,[pY,h("div",{class:"button",onClick:t[3]||(t[3]=m=>n.clickedCreate("facilitator"))},"create")]))])]),h("div",gY,[vY,yY,h("div",wY,[e.isParent?(a(),S(f,{key:1,smallType:!0,justName:!0,profile:n.computedParent,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])):(a(),d("div",_Y,[bY,h("div",{class:"button",onClick:t[4]||(t[4]=m=>n.clickedCreate("parent"))},"create")]))])]),h("div",kY,[AY,CY,h("div",SY,[n.computedProfessionals.length<3?(a(),d("div",IY,[h("div",TY,V(n.computedProfessionals.length?"own another professional account":"no professional accounts"),1),h("div",{class:"button",onClick:t[5]||(t[5]=m=>n.clickedCreate("professional"))},"create")])):c("",!0),n.computedProfessionals.length?(a(!0),d(Z,{key:1},pe(n.computedProfessionals,m=>(a(),S(f,{key:m.accountId,smallType:!0,justName:!0,profile:m,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"]))),128)):c("",!0)])]),h("div",DY,[xY,PY,h("div",MY,[n.computedSchools.length<3?(a(),d("div",EY,[h("div",OY,V(n.computedSchools.length?"own another school":"no owned schools"),1),h("div",{class:"button",onClick:t[6]||(t[6]=m=>n.clickedCreate("school"))},"create")])):c("",!0),n.computedSchools.length?(a(!0),d(Z,{key:1},pe(n.computedSchools,m=>(a(),S(f,{key:m.accountId,smallType:!0,justName:!0,profile:m,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"]))),128)):c("",!0)])]),n.computedAdmin?(a(),d("div",RY,[NY,LY,h("div",FY,[b(f,{name:n.computedAdmin.name,type:"admin",smallType:!0,justName:!0,routeParams:{account:"admin",accountId:n.computedAdmin.id},navigate:!1,onClickedProfile:n.clickedProfile},null,8,["name","routeParams","onClickedProfile"])])])):c("",!0)])],2)}const BY=Ae($G,[["render",UY],["__scopeId","data-v-dbd1f8bb"]]),jY={props:{itemList:{type:Array,default(){return[{name:"example 1"},{name:"example 2",title:"this is for example 2"}]}},ownerType:{type:String,default:""},ownerId:{type:Number,default:null},itemId:{type:Number,default:null},select:{type:String,default:""},selectedItem:{type:String,default:""},loading:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},buttonText:{type:String,default:""},multiple:{type:Boolean,default:!1},selectable:{type:Boolean,default:!0}},components:{},data(){return{active:!1,items:[],item:"",showListButton:!1}},methods:{clickedListButton(){if(!this.item.hasOwnProperty("id")&&!this.item.hasOwnProperty("option"))return;let e={};this.edit&&(e.account=this.ownerType,e.accountId=this.ownerId,e.itemId=this.itemId),this.$emit("clickedListButton",e)},makeActive(e){return e===this.selectedItem||e.name===this.selectedItem||e.option===this.selectedItem},clicked(e,t){this.showListButton=!1,this.active=!this.active;let s=this.$refs.list;if(this.multiple)e.target.classList.contains("active")?(e.target.classList.remove("active"),this.items.pop(t)):(e.target.classList.add("active"),this.items.push(t)),this.$emit("listItemSelected",this.items);else{for(let o=0;o<s.children.length;o++)s.children[o]!==e.target&&s.children[o].classList.remove("active");e.target.classList.contains("active")?(e.target.classList.remove("active"),this.item=""):(e.target.classList.add("active"),this.item=t),this.showListButton=!!this.buttonText.length,this.$emit("listItemSelected",this.item)}}}},VY={class:"list-wrapper"},qY={key:0,class:"loading"},HY={key:1},WY={key:0,class:"select"},zY={key:1,ref:"list"},GY=["onClick","title"];function YY(e,t,s,o,i,n){const r=_("pulse-loader");return a(),d("div",VY,[s.loading?(a(),d("div",qY,[b(r,{loading:s.loading},null,8,["loading"])])):(a(),d("div",HY,[s.selectable?(a(),d("div",WY,V(s.select?s.select:"select from list"),1)):c("",!0),s.selectable?(a(),d("div",zY,[(a(!0),d(Z,null,pe(s.itemList,(f,m)=>(a(),d("div",{class:we(["list-item",{active:n.makeActive(f)}]),onClick:v=>n.clicked(v,f,m),key:m,title:f.title?f.title:f.option?`select ${f.option}`:""},V(f.name?f.name:f.option?f.option:f),11,GY))),128))],512)):(a(!0),d(Z,{key:2},pe(s.itemList,(f,m)=>(a(),d("div",{class:"list-item",key:m},V(f.name?f.name:f.option?f.option:f),1))),128)),i.showListButton?(a(),d("div",{key:3,class:"list-button",onClick:t[0]||(t[0]=(...f)=>n.clickedListButton&&n.clickedListButton(...f))},V(s.buttonText),1)):c("",!0)]))])}const Cc=Ae(jY,[["render",YY],["__scopeId","data-v-e842f2a2"]]),QY={props:{showForm:{type:Boolean,default:!1},fireAction:{type:Boolean,default:!1}},data(){return{inputEmail:null,inputFirstName:null,inputLastName:null,inputGender:null,inputOtherNames:null,inputAnswer:null,inputDob:null,mainLoading:!1,showAnswerList:!1,showAnswerText:!1,secretQuestionId:null,possibleAnswers:[],modalAlertMessage:"",modalAlertError:!1,modalAlertSuccess:!1}},components:{TextInput:js,MainList:Cc,PostButton:xs,DatePicker:wc},computed:{computedShowSecret(){return this.getUser.secret_answer?!1:!!(this.getUser.hasOwnProperty("secret_answer")&&!this.getUser.secret_answer&&this["miscellaneous/getSecretQuestions"].length>0)},secretQuestions(){return this["miscellaneous/getSecretQuestions"]},computedLoading(){return this["miscellaneous/getLoadingContent"]?this["miscellaneous/getLoadingContent"]:this.mainLoading},computedDob(){return this.getUser&&_s.toDate(new Date(this.getUser.created_at))!==_s.toDate(new Date(this.getUser.dob))?_s.dateReadable(this.getUser.dob).slice(4):"your date of birth"},loading(){return this["miscellaneous/getLoadingContent"]},...os(["miscellaneous/getLoadingContent","miscellaneous/getSecretQuestions","miscellaneous/getSecretQuestionAnswers","getUser"])},watch:{fireAction(e){e&&this.getSecretQuestions()},showForm(e){this.inputFirstName=this.inputFirstName?this.inputFirstName:this.getUser.first_name,this.inputLastName=this.inputLastName?this.inputLastName:this.getUser.last_name,this.inputOtherNames=this.inputOtherNames?this.inputOtherNames:this.getUser.other_names,this.inputGender=this.inputGender?this.inputGender:this.getUser.gender,this.inputEmail=this.inputEmail?this.inputEmail:this.getUser.email}},methods:{clearModalAlert(){this.modalAlertMessage="",this.modalAlertError=!1,this.modalAlertSuccess=!1},dobPicked(e){this.inputDob=e},closeModal(){this.$emit("mainModalDisappear")},getSecretQuestions(){this["miscellaneous/getSecret"]()},async clickedCreate(){this.mainLoading=!0;let e=this.inputFirstName===null?this.inputFirstName:this.inputFirstName.trim(),t=this.inputLastName===null?this.inputLastName:this.inputLastName.trim(),s=this.inputOtherNames===null?this.inputOtherNames:this.inputOtherNames.trim(),o=this.inputemail===null?this.inputemail:this.inputEmail.trim(),i=null,n={};this.inputGender&&(i=this.inputGender==="male"?"MALE":"FEMALE"),!this.getUser.secret_answer&&this.inputDob&&(n.question_id=this.inputDob.trim(),this.inputAnswer&&this.inputAnswer.length&&this.inputAnswer.trim()===""?n.answer=this.inputAnswer.trim():this.modalAlertMessage="please answer the question you selected");{n={first_name:e,last_name:t,other_names:s,email:o,gender:i},this.inputDob&&this.inputDob!==this.computedDob&&(n.dob=this.inputDob.trim());let r=await this.editUser({user_id:this.getUser.id,data:n});this.mainLoading=!1,r==="successful"?(this.modalAlertSuccess=!0,this.modalAlertError=!1,this.modalAlertMessage="update was successful"):(this.modalAlertSuccess=!1,this.modalAlertError=!0,this.modalAlertMessage="update was unsuccessful")}},selectAnswer(e){this.inputAnswer=e},selectGender(e){this.inputGender=e},selectSecret(e){this.inputAnswer="";let t=this["miscellaneous/getSecretQuestionAnswers"],s=[];s=t.filter(function(o){return o.question===e}),console.log(s[0].possibleAnswers),s[0].possibleAnswers.length>0?(this.showAnswerList=!0,this.showAnswerText=!1,this.secretQuestionId=s[0].id,this.possibleAnswers=s[0].possibleAnswers):(this.showAnswerText=!0,this.showAnswerList=!1)},...ss(["miscellaneous/getSecret","editUser"])}},KY={slot:"loading"},JY={slot:"main"},XY={slot:"input"},$Y={class:"form-edit"},ZY={class:"form-edit"},eQ={class:"form-edit"},tQ={class:"form-edit"},sQ={class:"form-edit"},nQ={key:1,class:"form-edit"},iQ={slot:"buttons"};function oQ(e,t,s,o,i,n){const r=_("sync-loader"),f=_("text-input"),m=_("date-picker"),v=_("main-list"),g=_("post-button"),A=_("welcome-form"),D=_("main-modal"),E=_("just-fade");return a(),S(E,null,{default:z(()=>[s.showForm?(a(),S(D,{key:0,show:s.showForm,onMainModalDisappear:n.closeModal,onClearAlert:n.clearModalAlert,loading:n.computedLoading,heading:"edit user information",alertMessage:i.modalAlertMessage,requests:!1,mainOther:!1,alertError:i.modalAlertError,alertSuccess:i.modalAlertSuccess},{default:z(()=>[h("template",KY,[b(r,{loading:n.computedLoading},null,8,["loading"])]),h("template",JY,[b(A,null,{default:z(()=>[h("template",XY,[h("div",$Y,[b(f,{type:"text",placeholder:"first name",bottomBorder:!0,modelValue:i.inputFirstName,"onUpdate:modelValue":t[0]||(t[0]=T=>i.inputFirstName=T)},null,8,["modelValue"])]),h("div",ZY,[b(f,{type:"text",placeholder:"last name",bottomBorder:!0,modelValue:i.inputLastName,"onUpdate:modelValue":t[1]||(t[1]=T=>i.inputLastName=T)},null,8,["modelValue"])]),h("div",eQ,[b(f,{type:"text",placeholder:"other names",bottomBorder:!0,modelValue:i.inputOtherNames,"onUpdate:modelValue":t[2]||(t[2]=T=>i.inputOtherNames=T)},null,8,["modelValue"])]),h("div",tQ,[b(f,{type:"text",placeholder:"email",bottomBorder:!0,modelValue:i.inputEmail,"onUpdate:modelValue":t[3]||(t[3]=T=>i.inputEmail=T)},null,8,["modelValue"])]),h("div",sQ,[b(m,{flatPickrConfig:{maxDate:"today",dateFormat:"F j, Y",altFormat:"F j, Y"},placeholder:n.computedDob,onDatePicked:n.dobPicked,bottomBorder:!0},null,8,["placeholder","onDatePicked"])]),b(v,{onListItemSelected:n.selectGender,multiple:!1,value:i.inputGender,select:"choose your gender",itemList:["male","female"]},null,8,["onListItemSelected","value"]),n.computedShowSecret?(a(),S(v,{key:0,onListItemSelected:n.selectSecret,multiple:!1,loading:n.loading,select:"choose a secret question to answer",itemList:n.secretQuestions},null,8,["onListItemSelected","loading","itemList"])):c("",!0),i.showAnswerText?(a(),d("div",nQ,[b(f,{type:"text",placeholder:"your answer",bottomBorder:!0,modelValue:i.inputAnswer,"onUpdate:modelValue":t[4]||(t[4]=T=>i.inputAnswer=T)},null,8,["modelValue"])])):c("",!0),i.showAnswerList?(a(),S(v,{key:2,onListItemSelected:n.selectAnswer,multiple:!1,select:"choose your answer",itemList:i.possibleAnswers},null,8,["onListItemSelected","itemList"])):c("",!0)]),h("template",iQ,[b(g,{buttonText:"save",buttonStyle:"success",onClick:n.clickedCreate},null,8,["onClick"])])]),_:1})])]),_:1},8,["show","onMainModalDisappear","onClearAlert","loading","alertMessage","alertError","alertSuccess"])):c("",!0)]),_:1})}const DA=Ae(QY,[["render",oQ]]),aQ={components:{RadioInput:Ll,NumberInput:fa,FilePreview:Lo,PostButton:xs,ProfilePicture:Ys,MainCheckbox:Vi,AttachmentBadge:vo,MainSelect:pa,SearchInput:hr,DatePicker:wc,TextInput:js,MainList:Cc,AutoAlert:Mi},props:{show:{type:Boolean,default:!1},type:{type:String,default:""},creator:{type:Object,default(){return{account:"user"}}}},data(){return{inputName:"",inputRole:"",inputName:"",title:"",localType:"",classStructure:"",roleInfo:"",multiple:!1,list:!1,itemList:[],other:!1,inputDescription:"",alertMessage:"",alertSuccess:!1,alertDanger:!1,modalLoading:!1,description:!1,showButtonOk:!1,showInputSection:!1,actionDescription:"",creating:"",account:"",userType:"",userData:{username:"",email:"",password:"",passwordConfirmation:"",gender:"",firstName:"",lastName:"",otherNames:"",dob:"",accountName:""},userDataTwo:{username:"",email:"",password:"",passwordConfirmation:"",gender:"",firstName:"",parentRole:"",lastName:"",otherNames:"",dob:"",accountName:""},username:"",email:"",password:"",passwordConfirmation:"",gender:"",firstName:"",lastName:"",otherNames:"",dob:"",createUser:"",creation:[],steps:0,passwordTitle:"show password",passwordConfirmationTitle:"show password",passwordType:"password",passwordConfirmationType:"password",passwordIcon:["fa","eye"],accountActionText:"",createdAccountsData:[],admin:{title:"",level:"",files:[],hasSalary:!1,salary:"",currency:"",salaryPeriod:"month"},showPreview:!1,previewFile:null,showFileNote:!1}},watch:{show:{immediate:!0,handler(e){e?this.type.length&&this.createFormDetails(this.type):this.cleanUp()}},creator:{immediate:!0,handler(e){e.account==="school"?this.creation=["create an administrating member account","create a facilitator account","create a parent account","create a learner account","create a learner and parent account"]:e.account==="facilitator"&&(this.creation=["create a learner account","create a parent account","create a learner and parent account"])}},inputName(e){this.steps===2?this.userData.accountName=e:this.steps===5&&(this.userDataTwo.accountName=e)},creating(e){e==="learner and parent"?this.createUser="create learner's account":this.createUser=`create ${this.creating}'s user`},steps(e,t){this.steps===0?(this.accountActionText="",this.actionDescription="",this.createUser=this.creating!=="learner and parent"?`create ${this.creating}'s user`:"create learner's account"):e===1?(this.userDataHasContent(this.userData)&&this.fillUserInput(this.userData),this.userType="create a new user",this.showInputSection=!1,this.account="",this.actionDescription="a"):e===2?(this.userData.accountName.length?this.inputName=this.userData.accountName:this.inputName="",this.username.length&&t===1&&(this.inputName=`${this.lastName.trim()} ${this.firstName.trim()} ${this.otherNames.trim()}`,this.takeUserInput(),this.clearUserInput()),this.account=this.creating!=="learner and parent"?this.creating:"learner",this.creating!=="learner and parent"?this.accountActionText="create":this.accountActionText="next"):e===3?(this.createUser="create parent's user",this.showInputSection=!1,this.account="",this.accountActionText="",this.actionDescription="a",this.localType="user",this.userType="",this.clearUserInput()):e===4?(this.userDataHasContent(this.userDataTwo)&&this.fillUserInput(this.userDataTwo),this.userType="create a new user",this.showInputSection=!1,this.account="",this.actionDescription="a",this.accountActionText="next"):e===5?(this.userDataTwo.accountName.length?this.inputName=this.userDataTwo.accountName:this.inputName="",this.username.length&&t===4&&(this.inputName=`${this.lastName.trim()} ${this.firstName.trim()} ${this.otherNames.trim()}`,this.takeUserInput(),this.clearUserInput()),this.accountActionText="create",this.account="parent"):e===6&&(this.account="",this.actionDescription="",this.localType="",this.userType="",this.showInputSection=!1,this.accountActionText="another"),this.account.length?(this.showInputSection=!0,this.title=`create ${this.account} account`):(this.title="",this.showInputSection=!1)},inputRole(e){e==="traditional"?this.roleInfo="you will have tools to help you run both physical and virtual school":e==="virtual"?this.roleInfo="you will have tools to help you run a virtual school":e==="nanny"?this.roleInfo="you will have tools to help you improve your babysitting skils":e==="trainer"?this.roleInfo="":e==="counselor"?this.roleInfo="you will have tools to help you sell and improve your selfmore":e==="other"&&(this.roleInfo="")},showFileNote(e){e&&setTimeout(()=>{this.showFileNote=!1},4e3)}},computed:{computedSelectList(){return this.type.length?`select role of ${this.type}`:this.steps===5?"select role of parent":""},computedGender(){return this.steps===1?this.userData.gender:this.steps===4?this.userDataTwo.gender:""}},methods:{...ss(["createAccount","findUser"]),getSearchData(e){this.userSearchData=e},clickedUpload(){this.admin.files.length===3?this.showFileNote=!0:this.$refs.inputfile.click()},fileChange(){this.admin.files.push(this.$refs.inputfile.files[0]),this.$refs.inputfile.value=""},removeFile(e){this.showPreview=!1,this.previewFile=null},removeShownFile(e){this.showPreview=!1;let t=e.data?e.data:e,s=this.admin.files.findIndex(o=>t.name===o.name&&t.size===o.size);s>-1&&this.admin.files.splice(s,1)},preview(e){this.previewFile=e,this.showPreview=!0},levelSelection(e){this.admin.level=e},periodSelection(e){this.admin.salaryPeriod=e},cleanUp(){this.type.length?(this.inputName="",this.inputDescription="",this.inputRole=""):(this.steps=0,this.actionDescription="",this.localType="",this.account="",this.inputName="",this.title="",this.userType="",this.createdAccountsData=[],this.accountActionText="",this.admin.files=[],this.admin.title="",this.admin.level="",this.admin.hasSalary=!1,this.admin.salary="",this.admin.salaryPeriod="month",this.admin.currency="",this.clearUserInput(),this.dumpUserData()),this.alertMessage.length&&this.clearAlert()},hideAlert(){this.clearAlert()},parentRoleSelection(e){this.userDataTwo.parentRole=e},genderSelection(e){this.gender=e},clickedIconBack(){if((this.accountActionText==="next"||this.accountActionText==="create")&&(this.steps=this.steps>1?this.steps-1:0),this.steps==1?this.userData.username!==""&&this.fillUserInput():this.steps===3&&this.steps--,this.userType.length)if(this.steps===0){this.userType="",this.accountActionText="";return}else this.title=`create ${this.account} account`;this.localType.length&&(this.actionDescription="",this.localType="")},clearUserInput(){this.username="",this.firstName="",this.lastName="",this.otherNames="",this.dob="",this.passwordConfirmation="",this.password="",this.gender="",this.email=""},dumpUserData(){this.userData.username="",this.userData.firstName="",this.userData.lastName="",this.userData.otherNames="",this.userData.dob="",this.userData.passwordConfirmation="",this.userData.password="",this.userData.gender="",this.userData.email="",this.userData.accountName="",this.userDataTwo.username="",this.userDataTwo.firstName="",this.userDataTwo.lastName="",this.userDataTwo.otherNames="",this.userDataTwo.dob="",this.userDataTwo.passwordConfirmation="",this.userDataTwo.password="",this.userDataTwo.gender="",this.userDataTwo.email="",this.userDataTwo.accountName=""},fillUserInput(e){this.username=e.username,this.firstName=e.firstName,this.lastName=e.lastName,this.otherNames=e.otherNames,this.dob=e.dob,this.passwordConfirmation=e.passwordConfirmation,this.password=e.password,this.gender=e.gender,this.email=e.email},userDataHasContent(e){return!!(e.username.length||e.password.length||e.passwordConfirmation.length||e.email.length||e.dob.length||e.otherNames.length||e.firstName.length||e.lastName.length||e.gender.length)},takeUserInput(e){this.steps===5?(this.userDataTwo.username=this.username,this.userDataTwo.firstName=this.firstName,this.userDataTwo.lastName=this.lastName,this.userDataTwo.otherNames=this.otherNames,this.userDataTwo.dob=this.dob,this.userDataTwo.passwordConfirmation=this.passwordConfirmation,this.userDataTwo.password=this.password,this.userDataTwo.gender=this.gender,this.userDataTwo.email=this.email):this.steps===2&&(this.userData.username=this.username,this.userData.firstName=this.firstName,this.userData.lastName=this.lastName,this.userData.otherNames=this.otherNames,this.userData.dob=this.dob,this.userData.passwordConfirmation=this.passwordConfirmation,this.userData.password=this.password,this.userData.gender=this.gender,this.userData.email=this.email)},clickedAccountIconBack(){this.steps--},clickedAccountAction(e){this.userType==="create a new user"&&(this.steps===1||this.steps===4)?this.validateUserData():this.steps===2&&this.creating==="learner and parent"?this.clickedCreate(!0):this.steps===4?this.steps++:this.steps===2||this.steps===5?this.clickedCreate():this.steps===6&&this.cleanUp()},validateUserData(){let e="";this.username.length?this.password.length?this.password.length<8?e="please enter at least 8 characters for your password":this.password!==this.passwordConfirmation?e="please the confirmation password must match your password":this.firstName.length?this.lastName.length||(e="please your the last name for this user"):e="please your the first name for this user":e="please enter password":e="please enter username",(this.creating==="admin"||this.creating==="parent"||this.creating==="facilitator"||this.steps===4)&&(this.dob.length?_s.age(this.dob)<18&&(e="user must be at least 18 years in order to own a parent account."):e="date of birth is required for users that want to own parent accounts."),e.length?(this.alertDanger=!0,this.alertMessage=e):this.steps++},modalDisappear(){this.cleanUp(),this.inputName="",this.inputOther="",this.inputRole="",this.actionDescription="",this.other=!1,this.inputDescription="",this.showInputSection=!1,this.title="",this.$emit("closeCreateAccount")},actionSelection(e){if(this.steps===0&&this.userType===e){this.localType="",this.userType="";return}e==="create an administrating member account"?(this.showButtonOk=!0,this.creating="admin",this.actionDescription="with this, you will be creating a user and send a request to the same user to become part of this school's administrating team"):e==="create a learner account"?(this.showButtonOk=!0,this.creating="learner",this.actionDescription="with this, you will be creating a user and a learner account for that same user"):e==="create a facilitator account"?(this.showButtonOk=!0,this.creating="facilitator",this.actionDescription="with this, you will be creating a user and a facilitator account for that same user. A request will be sent to this user to join your school."):e==="create a parent account"?(this.showButtonOk=!0,this.creating="parent",this.actionDescription="with this, you will be creating a user and a parent account for that same user"):e==="create a learner and parent account"?(this.showButtonOk=!0,this.creating="learner and parent",this.actionDescription="with this, you will be creating two users, one having a learner account and the other a parent account."):(this.steps++,this.userType="create a new user",this.accountActionText="next")},clickedOk(){this.localType="user",this.showButtonOk=!1},dobPicked(e){this.dob=e},passwordIconChange(){this.passwordIcon[1]==="eye"?(this.passwordIcon[1]="eye-slash",this.passwordType="text",this.passwordConfirmationType="text",this.passwordTitle="hide password",this.passwordConfirmationTitle="hide password"):(this.passwordIcon[1]="eye",this.passwordConfirmationType="password",this.passwordType="password",this.passwordConfirmationTitle="show password",this.passwordTitle="show password")},createFormDetails(e){e==="learner"||e==="parent"||e==="facilitator"||(e==="professional"?(this.list=!0,this.itemList=[{name:"nanny",title:""},{name:"trainer",title:""},{name:"counselor",title:""},{name:"other",title:""}],this.description=!0):e==="school"&&(this.itemList=[{name:"traditional",title:"physical school plus virtual"},{name:"virtual",title:"a virtual only school"}],this.list=!0)),this.title=`create a ${e} account`,this.showInputSection=!0},selection(e){this.type==="professional"&&e.name==="other"?this.other=!0:this.inputRole=e.name},clearAlert(e){this.alertMessage="",this.alertSuccess=!1,this.alertDanger=!1},clickedMainCreate(){this.clickedCreate()},async clickedCreate(e=!1){if(this.modalLoading)return;let t=new FormData,s="";if(t.append("creator",this.creator.account),t.append("creatorId",this.creator.accountId),t.append("create",this.type.length?this.type:this.creating==="learner and parent"?"learner":this.creating),t.append("parent",this.creating==="learner and parent"?JSON.stringify(!0):JSON.stringify(!1)),this.type==="learner"||this.account==="learner")!this.inputName||this.inputName.trim()===""?s="Please enter name of learner":t.append("name",this.inputName);else if(this.type==="facilitator")!this.inputName||this.inputName.trim()===""?s="Please enter name of facilitator":t.append("name",this.inputName);else if(this.type==="parent"||this.account==="parent")(!this.inputName||this.inputName.trim()==="")&&(s="Please enter name of parent"),this.steps===5&&this.userDataTwo.parentRole===""?s="please select role of parent in the life of learner.":t.append("name",this.inputName);else if(this.type==="professional")!this.inputName||this.inputName.trim()===""?s="Please enter name of professional":this.inputRole===""?s="Please select role of professional":(t.append("name",this.inputName),t.append("role",this.inputRole?this.inputRole.trim():""),this.other&&t.append("other_name",this.inputOther?this.inputOther.trim():""),t.append("description",this.inputDescription?this.inputDescription.trim():""));else if(this.type==="school")!this.inputName||this.inputName.trim()===""?s="Please enter name of school":this.inputRole.trim()===""?s="Please select role of school":this.classStructure.trim()===""?s="Please select a class structure for your school":(t.append("name",this.inputName),t.append("classStructure",this.classStructure),t.append("role",this.inputRole?this.inputRole.trim():""));else if(this.creating==="admin")if(!this.inputName||this.inputName.trim()==="")s="Please enter name of admin";else if(this.admin.hasSalary&&this.admin.salary.trim()==="")s="Please enter salary of admin";else{if(t.append("title",this.admin.title),this.admin.files.length)for(let o=0;o<this.admin.files.length;o++)t.append("files[]",this.admin.files[o]);this.admin.hasSalary&&(t.append("salary",this.admin.salary),t.append("salaryPeriod",this.admin.salaryPeriod),t.append("currency",this.admin.currency)),t.append("level",this.admin.level),t.append("description",this.inputDescription.trim())}else if(this.creating==="facilitator"){if(!this.inputName||this.inputName.trim()==="")s="Please enter name of facilitator";else if(this.admin.hasSalary&&this.admin.salary.trim()==="")s="Please enter salary of facilitator";else if(this.admin.hasSalary&&(t.append("salary",this.admin.salary),t.append("salaryPeriod",this.admin.salaryPeriod),t.append("currency",this.admin.currency)),this.admin.files.length)for(let o=0;o<this.admin.files.length;o++)t.append("files[]",this.admin.files[o])}if(!s.length&&!e){this.type.length||(t.append("new_username",this.userData.username),t.append("new_first_name",this.userData.firstName),t.append("new_last_name",this.userData.lastName),t.append("new_other_names ",this.userData.otherNames),t.append("new_email",this.userData.email),t.append("new_dob",this.userData.dob),t.append("new_password",this.userData.password),t.append("new_password_confirmation",this.userData.passwordConfirmation),t.append("new_gender",this.userData.gender),t.append("name",this.userData.accountName),this.steps===5&&(t.append("parent_username",this.userDataTwo.username),t.append("parent_first_name",this.userDataTwo.firstName),t.append("parent_last_name",this.userDataTwo.lastName),t.append("parent_other_names ",this.userDataTwo.otherNames),t.append("parent_email",this.userDataTwo.email),t.append("parent_dob",this.userDataTwo.dob),t.append("parent_password",this.userDataTwo.password),t.append("parent_password_confirmation",this.userDataTwo.passwordConfirmation),t.append("parent_gender",this.userDataTwo.gender),t.append("parent_name",this.userDataTwo.accountName),t.append("parent_role",this.userDataTwo.parentRole))),this.modalLoading=!0;let o=await this.createAccount(t);if(this.modalLoading=!1,o.status){let i;this.type.length?i=`successfully created ${this.type}`:(i="successful",this.createdAccountsData.push({account:o.accountOne,user:o.userOne}),o.accountTwo&&o.userTwo&&this.createdAccountsData.push({account:o.accountTwo,user:o.userTwo}),this.steps=6),this.alertSuccess=!0,this.alertMessage=i,this.cleanUp()}else{console.log("response :>> ",o);let i;o.response.data.errors?o.response.data.errors?i=Object.values(o.response.data.errors).toString():i="unsuccessful":i=`${this.type} creation was unsuccessful.`,this.alertDanger=!0,this.alertMessage=i}}else!s.length&&!this.type.length&&this.steps++;s.length&&(this.alertDanger=!0,this.alertMessage=s)}}},xA=e=>(gs("data-v-feba55e7"),e=e(),vs(),e),rQ={slot:"main"},lQ={slot:"input"},cQ={class:"loading"},uQ={key:1,class:"class-structure"},dQ=xA(()=>h("div",{class:"message"}," How do you want your class structured? ",-1)),hQ={class:"main"},fQ=["placeholder"],mQ={key:5,class:"salary-section"},pQ=xA(()=>h("div",{class:"per"},"per",-1)),gQ={key:6,class:"upload-section"},vQ={key:0,class:"note"},yQ={class:"files"},wQ={key:1,class:"note-red"},_Q={key:0,class:"icon"},bQ={class:"text"},kQ={key:10,class:"role-info"},AQ={class:"section"},CQ={key:1,class:"description"},SQ={key:3,class:"actions"},IQ={key:1},TQ={class:"username"},DQ={key:0,class:"body"},xQ={slot:"image"},PQ=["src"],MQ={class:"account"},EQ={class:"name"},OQ={class:"tyoe"},RQ={key:1,class:"info"},NQ={key:2,class:"info"},LQ={key:2,class:"actions"};function FQ(e,t,s,o,i,n){const r=_("auto-alert"),f=_("sync-loader"),m=_("font-awesome-icon"),v=_("radio-input"),g=_("main-select"),A=_("main-checkbox"),D=_("number-input"),E=_("attachment-badge"),T=_("file-preview"),N=_("main-list"),F=_("post-button"),R=_("text-input"),j=_("date-picker"),W=_("profile-picture"),Q=_("welcome-form"),le=_("main-modal"),me=_("just-fade");return a(),S(me,null,{default:z(()=>[s.show?(a(),S(le,{key:0,show:s.show,onMainModalDisappear:n.modalDisappear,requests:!1,mainOther:!1},{default:z(()=>[h("template",rQ,[b(Q,{title:i.title,class:"welcome-form"},{default:z(()=>[h("template",lQ,[b(r,{message:i.alertMessage,success:i.alertSuccess,danger:i.alertDanger,sticky:!0,onHideAlert:n.hideAlert},null,8,["message","success","danger","onHideAlert"]),h("div",cQ,[b(f,{loading:i.modalLoading},null,8,["loading"])]),i.showInputSection?(a(),d(Z,{key:0},[i.account.length?(a(),d("div",{key:0,class:"back-icon account",onClick:t[0]||(t[0]=(...k)=>n.clickedAccountIconBack&&n.clickedAccountIconBack(...k))},[b(m,{icon:["fa","long-arrow-alt-left"]})])):c("",!0),s.type.length||i.steps===2||i.steps===5?(a(),d(Z,{key:1},[cn(h("input",{type:"text",class:"form-control form-input",placeholder:"name*","onUpdate:modelValue":t[1]||(t[1]=k=>i.inputName=k)},null,512),[[yi,i.inputName]]),i.steps===2&&i.creating==="admin"?cn((a(),d("input",{key:0,placeholder:"title","onUpdate:modelValue":t[2]||(t[2]=k=>i.admin.title=k),class:"form-control form-input"},null,512)),[[yi,i.admin.title]]):c("",!0),i.account==="school"?(a(),d("div",uQ,[dQ,h("div",hQ,[b(v,{name:"classStructure",label:"school only has subjects",radioValue:"subjects",modelValue:i.classStructure,"onUpdate:modelValue":t[3]||(t[3]=k=>i.classStructure=k),class:"radio-button"},null,8,["modelValue"]),b(v,{name:"classStructure",label:"school only has courses",radioValue:"courses",modelValue:i.classStructure,"onUpdate:modelValue":t[4]||(t[4]=k=>i.classStructure=k),class:"radio-button"},null,8,["modelValue"]),b(v,{name:"classStructure",label:"school has programs with subjects",radioValue:"programs and subjects",modelValue:i.classStructure,"onUpdate:modelValue":t[5]||(t[5]=k=>i.classStructure=k),class:"radio-button"},null,8,["modelValue"]),b(v,{name:"classStructure",label:"school has programs with course",radioValue:"programs and course",modelValue:i.classStructure,"onUpdate:modelValue":t[6]||(t[6]=k=>i.classStructure=k),class:"radio-button"},null,8,["modelValue"])])])):c("",!0),i.description||i.creating==="admin"?cn((a(),d("textarea",{key:2,class:"form-control form-input",placeholder:i.creating==="admin"?"job description":"description","onUpdate:modelValue":t[7]||(t[7]=k=>i.inputDescription=k)},null,8,fQ)),[[yi,i.inputDescription]]):c("",!0),i.creating==="admin"?(a(),S(g,{key:3,items:["9","8","7","6","5","4","3","2","1"],value:i.admin.level,backgroundColor:"white",onSelection:n.levelSelection,class:"main-select"},null,8,["value","onSelection"])):c("",!0),i.creating==="admin"||i.creating==="facilitator"?(a(),S(A,{key:4,label:"has salary?",class:"text-input",modelValue:i.admin.hasSalary,"onUpdate:modelValue":t[8]||(t[8]=k=>i.admin.hasSalary=k)},null,8,["modelValue"])):c("",!0),i.admin.hasSalary?(a(),d("div",mQ,[b(D,{placeholder:"salary",modelValue:i.admin.salary,"onUpdate:modelValue":t[9]||(t[9]=k=>i.admin.salary=k),class:"text-input",noBorder:!0,hasMax:!1},null,8,["modelValue"]),pQ,b(g,{items:["day","week","month","quarter","year"],value:i.admin.salaryPeriod,backgroundColor:"white",onSelection:n.periodSelection,class:"main-select",select:"select period"},null,8,["value","onSelection"])])):c("",!0),i.creating==="admin"||i.creating==="facilitator"?(a(),d("div",gQ,[i.admin.files.length?(a(),d("div",vQ,"these are the files to be sent with request")):c("",!0),h("div",yQ,[(a(!0),d(Z,null,pe(i.admin.files,(k,Ce)=>(a(),S(E,{key:Ce,hasClose:!0,file:k,onRemoveAttachment:n.removeShownFile,onClick:he=>n.preview(k)},null,8,["file","onRemoveAttachment","onClick"]))),128))]),i.showFileNote?(a(),d("div",wQ,"you can only have a maximum of three files")):c("",!0),h("div",{class:"upload",onClick:t[10]||(t[10]=(...k)=>n.clickedUpload&&n.clickedUpload(...k))},[i.admin.files.length<3?(a(),d("div",_Q,[b(m,{icon:["fa","plus"]})])):c("",!0),h("div",bQ,V(i.admin.files.length===3?"you have reached the maximum of 3 files":`add a file to send to ${i.creating}`),1)]),i.admin.files.length?(a(),S(T,{key:2,show:i.showPreview,middle:!0,showRemove:!0,file:i.previewFile,onRemoveFile:n.removeFile,class:"file-preview-wrapper"},null,8,["show","file","onRemoveFile"])):c("",!0)])):c("",!0),i.list?(a(),S(N,{key:7,onListItemSelected:n.selection,multiple:i.multiple,itemList:i.itemList,select:n.computedSelectList},null,8,["onListItemSelected","multiple","itemList","select"])):c("",!0),i.steps===5?(a(),S(N,{key:8,onListItemSelected:n.parentRoleSelection,multiple:!1,itemList:["father","mother","guardian"],value:i.userDataTwo.parentRole,select:n.computedSelectList},null,8,["onListItemSelected","value","select"])):c("",!0),i.other?cn((a(),d("input",{key:9,type:"text",class:"form-control form-input",placeholder:"other","onUpdate:modelValue":t[11]||(t[11]=k=>e.inputOther=k)},null,512)),[[yi,e.inputOther]]):c("",!0),i.roleInfo.length?(a(),d("div",kQ,V(i.roleInfo),1)):c("",!0)],64)):c("",!0)],64)):(a(),d(Z,{key:1},[h("div",AQ,[i.actionDescription.length&&!i.showButtonOk?(a(),d("div",{key:0,class:"back-icon",onClick:t[12]||(t[12]=(...k)=>n.clickedIconBack&&n.clickedIconBack(...k))},[b(m,{icon:["fa","long-arrow-alt-left"]})])):c("",!0),!i.localType.length&&i.steps<1?(a(),d("div",CQ,V(i.actionDescription),1)):c("",!0),!s.type.length&&!i.localType.length&&i.steps<1?(a(),S(N,{key:2,onListItemSelected:n.actionSelection,multiple:!1,itemList:i.creation,select:"which action do you want to perform?"},null,8,["onListItemSelected","itemList"])):c("",!0),i.showButtonOk?(a(),d("div",SQ,[b(F,{buttonText:"ok",onClick:n.clickedOk},null,8,["onClick"])])):c("",!0)]),!i.userType.length&&i.localType==="user"?(a(),S(N,{key:0,onListItemSelected:n.actionSelection,multiple:!1,itemList:[i.createUser],select:"action to perform"},null,8,["onListItemSelected","itemList"])):c("",!0),i.userType==="create a new user"&&(i.steps===1||i.steps===4)?(a(),d("div",IQ,[b(R,{placeholder:"username*",modelValue:i.username,"onUpdate:modelValue":t[13]||(t[13]=k=>i.username=k),class:"text-input",noBorder:!0},null,8,["modelValue"]),b(R,{placeholder:"email",modelValue:i.email,"onUpdate:modelValue":t[14]||(t[14]=k=>i.email=k),class:"text-input",noBorder:!0},null,8,["modelValue"]),b(R,{placeholder:"password*",inputType:i.passwordType,modelValue:i.password,"onUpdate:modelValue":t[15]||(t[15]=k=>i.password=k),onIconChange:n.passwordIconChange,title:i.passwordTitle,icon:i.passwordIcon,prepend:!0,class:"text-input",noBorder:!0},null,8,["inputType","modelValue","onIconChange","title","icon"]),b(R,{placeholder:"password confirmation*",inputType:i.passwordConfirmationType,modelValue:i.passwordConfirmation,"onUpdate:modelValue":t[16]||(t[16]=k=>i.passwordConfirmation=k),onIconChange:n.passwordIconChange,title:i.passwordConfirmationTitle,icon:i.passwordIcon,prepend:!0,noBorder:!0,class:"text-input"},null,8,["inputType","modelValue","onIconChange","title","icon"]),cn(h("input",{type:"text",class:"form-control form-input",placeholder:"first name*","onUpdate:modelValue":t[17]||(t[17]=k=>i.firstName=k)},null,512),[[yi,i.firstName]]),cn(h("input",{type:"text",class:"form-control form-input",placeholder:"last name*","onUpdate:modelValue":t[18]||(t[18]=k=>i.lastName=k)},null,512),[[yi,i.lastName]]),cn(h("input",{type:"text",class:"form-control form-input",placeholder:"other names","onUpdate:modelValue":t[19]||(t[19]=k=>i.otherNames=k)},null,512),[[yi,i.otherNames]]),i.steps===1||i.steps===4?(a(),S(g,{key:0,items:["male","female"],value:n.computedGender,backgroundColor:"white",onSelection:n.genderSelection,class:"main-select"},null,8,["value","onSelection"])):c("",!0),b(j,{placeholder:"date of birth",onDatePicked:n.dobPicked,bottomBorder:!0,class:"date-picker"},null,8,["onDatePicked"])])):c("",!0),i.steps===6?(a(!0),d(Z,{key:2},pe(i.createdAccountsData,k=>(a(),d("div",{class:"user-section",key:k.user.username},[h("div",TQ,V(`@${k.user.username}`),1),i.creating!=="admin"?(a(),d("div",DQ,[b(W,{class:"profile-picture"},{default:z(()=>[h("template",xQ,[h("img",{src:k.account.url},null,8,PQ)])]),_:2},1024),h("div",MQ,[h("div",EQ,V(k.account.name),1),h("div",OQ,V(k.account.account),1)])])):(a(),d("div",RQ,V(`admin request has been sent to ${k.user.username}`),1)),i.creating==="facilitator"?(a(),d("div",NQ,V("facilitating request has been sent as well"))):c("",!0)]))),128)):c("",!0)],64)),i.accountActionText.length&&!i.modalLoading?(a(),d("div",LQ,[h("div",{class:"action",onClick:t[20]||(t[20]=(...k)=>n.clickedAccountAction&&n.clickedAccountAction(...k))},V(i.accountActionText),1)])):c("",!0),i.creating==="admin"||i.creating==="facilitator"?(a(),d("input",{key:3,type:"file",class:"hidden",onChange:t[21]||(t[21]=(...k)=>n.fileChange&&n.fileChange(...k)),ref:"inputfile"},null,544)):c("",!0)]),i.showInputSection&&s.type.length?(a(),S(F,{key:0,buttonText:"create",buttonStyle:"success",onClick:n.clickedMainCreate},null,8,["onClick"])):c("",!0)]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const PA=Ae(aQ,[["render",FQ],["__scopeId","data-v-feba55e7"]]),UQ={props:{section:{type:Object,default(){return{}}},hasClose:{type:Boolean,default:!0}},computed:{computedStartDate(){return this.hasClose?this.section.startDate:_s.dateReadable(this.section.startDate)},computedEndDate(){return this.hasClose?this.section.endDate:_s.dateReadable(this.section.endDate)}},methods:{clickedRemoveSection(){this.$emit("clickedRemoveSection",this.section)},clickedSection(){this.$emit("clickedSection",this.section)}}},BQ={class:"name"},jQ={key:0,class:"dates"},VQ={key:2,class:"promotion"};function qQ(e,t,s,o,i,n){const r=_("font-awesome-icon");return s.section.name?(a(),d("div",{key:0,class:"academic-year-section-wrapper",onClick:t[1]||(t[1]=(...f)=>n.clickedSection&&n.clickedSection(...f))},[h("div",BQ,V(s.section.name),1),n.computedStartDate.length&&n.computedEndDate.length?(a(),d("div",jQ," from "+V(n.computedStartDate)+" to "+V(n.computedEndDate),1)):c("",!0),s.hasClose?(a(),d("div",{key:1,class:"close",onClick:t[0]||(t[0]=(...f)=>n.clickedRemoveSection&&n.clickedRemoveSection(...f))},[b(r,{icon:["fa","times"]})])):c("",!0),s.section.promotion?(a(),d("div",VQ," promotional ")):c("",!0)])):c("",!0)}const HQ=Ae(UQ,[["render",qQ],["__scopeId","data-v-857e59a0"]]),WQ={components:{AcademicYearSectionBadge:HQ,TextTextarea:kn,TextInput:js,ActionButton:mr,AutoAlert:Mi,MainCheckbox:Vi,DatePicker:wc},props:{show:{type:Boolean,default:!1},school:{type:Object,default(){return{}}}},data(){return{academicYearData:{name:"",startDate:"",endDate:""},section:{name:"",startDate:"",endDate:"",promotion:!1},sections:[],title:"create academic year",alertMessage:"",alertDanger:!1,alertSuccess:!1,creating:!1,sectionStartDateMax:"",sectionEndDateMin:"",academicYearStartDateMax:"",academicYearEndDateMin:""}},watch:{academicYearData:{deep:!0,handler(e){e.startDate.length&&(this.academicYearEndDateMin=e.startDate,this.sectionEndDateMin=e.startDate),e.endDate.length&&(this.sectionStartDateMax=e.endDate,this.academicYearStartDateMax=e.endDate)}},section:{deep:!0,handler(e){e.startDate.length&&(this.sectionEndDateMin=e.startDate),e.endDate.length&&(this.sectionStartDateMax=e.endDate)}}},computed:{...os(["dashboard/getCurrentAccount","getUser"]),computedStartDate(){return this.academicYearData.startDate.length?this.academicYearData.startDate:"start date*"},computedEndDate(){return this.academicYearData.endDate.length?this.academicYearData.endDate:"end date"},computedSectionStartDate(){return this.section.startDate.length?this.section.startDate:"start date*"},computedSectionEndDate(){return this.section.endDate.length?this.section.endDate:"end date"},computedAdmin(){let e=this.school.admins.findIndex(t=>t.userId===this.getUser.id);return e>-1?this.school.admins[e]:null}},methods:{...ss(["dashboard/createAcademicYear"]),modalDisappear(){this.cleanUp(),this.$emit("closeCreateAcademicYear")},hideAlert(){this.alertMessage="",this.alertSuccess=!1,this.alertDanger=!1},clickedRemoveSection(e){if(e){let t=this.sections.findIndex(s=>s.name===e.name&&s.startDate===e.startDate&&s.endDate===e.endDate);t>-1&&this.sections.splice(t,1)}else this.clearSection()},clickedSection(e){e&&(this.section.name=e.name,this.section.startDate=e.startDate,this.section.endDate=e.endDate,this.section.promotion=e.promotion,this.clickedRemoveSection(e))},getStartDate(e){this.academicYearData.startDate=e},getEndDate(e){this.academicYearData.endDate=e},getSectionStartDate(e){this.section.startDate=e},getSectionEndDate(e){this.section.endDate=e},fallsWithinOtherSection(){let e=_s.toDate(new Date(this.section.startDate)),t=_s.toDate(new Date(this.section.endDate)),s=this.sections.findIndex(o=>_s.toDate(new Date(o.startDate))<e&&e<_s.toDate(new Date(o.endDate))||_s.toDate(new Date(o.startDate))<t&&t<_s.toDate(new Date(o.endDate)));return s>-1?{status:!0,name:this.sections[s].name}:{status:!1}},validateSection(){let e="";!this.section.name.length||!this.section.name.trim().length?e="Please enter a name for this section of the academic year.":this.section.startDate.length?this.academicYearData.startDate.length&&_s.toDate(new Date(this.academicYearData.startDate))>_s.toDate(new Date(this.section.startDate))?e="The start date of a section must be within the academic year":this.section.endDate.length?this.academicYearData.endDate.length&&_s.toDate(new Date(this.academicYearData.endDate))<_s.toDate(new Date(this.section.endDate))?e="The end date of a section must be within the academic year":_s.toDate(new Date(this.section.startDate))>=_s.toDate(new Date(this.section.endDate))?e="The end date of a section must come after its start date":this.sections.findIndex(s=>s.name===this.section.name)>-1?e="A section cannot have the same name as another section in the same":this.section.promotion&&this.sections.findIndex(s=>s.promotion)>-1&&(e="Only one section can be promotional. Click end edit the other promotional if you want to make this section promotional."):e="A section must have an end date":e="A section must have a start date";let t=this.fallsWithinOtherSection();return t.status&&(e=`the start or end date falls within section with name ${t.name}`),e.length?(this.alertDanger=!0,this.alertMessage=e,!1):!0},validateAcademicYear(){let e="";return!this.academicYearData.name.length||!this.academicYearData.name.trim().length?e="Please enter a name for this academic year.":this.academicYearData.startDate.length?!this.academicYearData.endDate.length&&_s.toDate(new Date(this.section.startDate))>=_s.toDate(new Date(this.section.endDate))&&(e="The end date of an academic year must come after its start date, and not on or before it."):e="An academic year must have a start date",e.length?(this.alertDanger=!0,this.alertMessage=e,!1):!0},clearSection(){this.section.name="",this.section.startDate="",this.section.endDate="",this.section.promotion=!1,this.sectionStartDateMax=this.academicYearStartDateMax,this.sectionEndDateMin=this.academicYearEndDateMin},addSection(){this.validateSection()&&(this.sections.push({name:this.section.name,startDate:this.section.startDate,endDate:this.section.endDate,promotion:this.section.promotion}),this.clearSection())},async createAcademicYear(){let e=[];if(this.validateAcademicYear())if(this.validateSection())e.push(this.section);else return;else return;e.push(...this.sections);let t,s={sections:JSON.stringify(e),name:this.academicYearData.name,description:this.academicYearData.description,startDate:this.academicYearData.startDate,endDate:this.academicYearData.endDate,account:this.computedAdmin?"admin":null,accountId:this.computedAdmin?this.computedAdmin.accountId:null,schoolId:this.school.accountId};this.creating=!0,t=await this["dashboard/createAcademicYear"](s),this.creating=!1,t.status?(this.alertSuccess=!0,this.alertMessage=`${this.academicYearData.name} academic year was successfully created`,this.cleanUp()):(this.alertDanger=!0,t.response.data?this.alertMessage=`${t.response.data.message}`:this.alertMessage=`creating ${this.academicYearData.name} academic year failed`,console.log("response :>> ",t))},clickedAction(e){e==="add another section"?this.addSection():this.createAcademicYear()},cleanUp(){this.academicYearData={name:"",description:"",startDate:"",endDate:""},this.academicYearStartDateMax="",this.academicYearEndDateMax="",this.clearSection(),this.sections=[]}}},zQ={slot:"main"},GQ={slot:"input"},YQ={key:0,class:"loading"},QQ={key:1,class:"note"},KQ={key:2,class:"sections-preview"},JQ={key:1,class:"section-preview"},XQ={class:"name"},$Q={key:0,class:"dates"},ZQ={key:1,class:"promotion"},eK={key:3,class:"section"};function tK(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("date-picker"),g=_("text-textarea"),A=_("academic-year-section-badge"),D=_("font-awesome-icon"),E=_("main-checkbox"),T=_("action-button"),N=_("welcome-form"),F=_("main-modal"),R=_("just-fade");return a(),S(R,null,{default:z(()=>[s.show?(a(),S(F,{key:0,show:s.show,onMainModalDisappear:n.modalDisappear,alertError:!0,requests:!1,mainOther:!1},{default:z(()=>[h("template",zQ,[b(N,{title:i.title,class:"welcome-form"},{default:z(()=>[h("template",GQ,[b(r,{message:i.alertMessage,success:i.alertSuccess,danger:i.alertDanger,sticky:!0,onHideAlert:n.hideAlert},null,8,["message","success","danger","onHideAlert"]),i.creating?(a(),d("div",YQ,[b(f,{loading:i.creating},null,8,["loading"])])):c("",!0),b(m,{placeholder:"name of academic year*",modelValue:i.academicYearData.name,"onUpdate:modelValue":t[0]||(t[0]=j=>i.academicYearData.name=j),class:"text-input",noBorder:!0},null,8,["modelValue"]),b(v,{placeholder:n.computedStartDate,onDatePicked:n.getStartDate,bottomBorder:!0,class:"date-picker",flatPickrConfig:{maxDate:i.academicYearStartDateMax,minDate:"",dateFormat:"F j, Y",altFormat:"F j, Y"}},null,8,["placeholder","onDatePicked","flatPickrConfig"]),b(v,{placeholder:n.computedEndDate,onDatePicked:n.getEndDate,bottomBorder:!0,class:"date-picker",flatPickrConfig:{maxDate:"",minDate:i.academicYearEndDateMin,dateFormat:"F j, Y",altFormat:"F j, Y"}},null,8,["placeholder","onDatePicked","flatPickrConfig"]),b(g,{placeholder:"description of this academic year",modelValue:i.academicYearData.description,"onUpdate:modelValue":t[1]||(t[1]=j=>i.academicYearData.description=j),class:"text-input",noBorder:!0},null,8,["modelValue"]),i.academicYearData.name?(a(),d("div",QQ," You can create many sections for this academic year. But the sections must be within the start and end dates of the academic year. If you are unsure about the end date of the academic year, you can leave it out and end the academic year later, when it is time. ")):c("",!0),i.academicYearData.name?(a(),d("div",KQ,[i.sections.length?(a(!0),d(Z,{key:0},pe(i.sections,(j,W)=>(a(),S(A,{key:W,section:j,onClickedSection:n.clickedSection,onClickedRemoveSection:n.clickedRemoveSection},null,8,["section","onClickedSection","onClickedRemoveSection"]))),128)):c("",!0),i.section.name?(a(),d("div",JQ,[h("div",XQ,V(i.section.name),1),i.section.startDate.length&&i.section.endDate.length?(a(),d("div",$Q," from "+V(i.section.startDate)+" to "+V(i.section.endDate),1)):c("",!0),h("div",{class:"close",onClick:t[2]||(t[2]=j=>n.clickedRemoveSection(null))},[b(D,{icon:["fa","times"]})]),i.section.promotion?(a(),d("div",ZQ," promotional ")):c("",!0)])):c("",!0)])):c("",!0),i.academicYearData.name?(a(),d("div",eK,[b(m,{placeholder:"name of section*",modelValue:i.section.name,"onUpdate:modelValue":t[3]||(t[3]=j=>i.section.name=j),class:"text-input",noBorder:!0},null,8,["modelValue"]),b(v,{placeholder:n.computedSectionStartDate,onDatePicked:n.getSectionStartDate,bottomBorder:!0,class:"date-picker",flatPickrConfig:{maxDate:i.sectionStartDateMax,minDate:"",dateFormat:"F j, Y",altFormat:"F j, Y"}},null,8,["placeholder","onDatePicked","flatPickrConfig"]),b(v,{placeholder:n.computedSectionEndDate,onDatePicked:n.getSectionEndDate,bottomBorder:!0,class:"date-picker",flatPickrConfig:{maxDate:"",minDate:i.sectionEndDateMin,dateFormat:"F j, Y",altFormat:"F j, Y"}},null,8,["placeholder","onDatePicked","flatPickrConfig"]),b(E,{modelValue:i.section.promotion,"onUpdate:modelValue":t[4]||(t[4]=j=>i.section.promotion=j),label:"check this if section is a promotional one",class:"class-input"},null,8,["modelValue"]),i.creating?c("",!0):(a(),S(T,{key:0,text:"add another section",onClick:n.clickedAction,class:"action-button"},null,8,["onClick"]))])):c("",!0),i.creating?c("",!0):(a(),S(T,{key:4,text:"create academic year",onClick:n.clickedAction,class:"action-button"},null,8,["onClick"]))])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const sK=Ae(WQ,[["render",tK],["__scopeId","data-v-c81f698a"]]),nK={components:{CreateDiscussion:kc,ItemBadge:fr,PaymentTypes:gu,AutoAlert:Mi,PostAttachment:go,SubscriptionBadge:pu,FeeBadge:Id,PriceBadge:Ac,RadioInput:Ll,TextInput:js,AttachmentBadge:vo,PostButton:xs,TextTextarea:kn,MainSelect:pa,MainCheckbox:Vi,NumberInput:fa},props:{},data(){return{hasMaxLearners:!1,selectedAcademicYears:[],mainAcademicYears:[],removedAcademicYears:[],specificItemDetailsStructure:[],specificItemLoadingStructure:!1,specificItemDetailsStructureNextPage:0,learners:0}},watch:{"data.owner":{handler(e){e&&e.account==="school"&&this.computedCreator.account!=="school"&&(this.specificItemDetails=[],this.specificItemDetailsNextPage=0,this.getSpecificAccountItem()),e.account&&this.computedShowStructure&&(this.specificItemDetailsStructureNextPage!==0&&(this.data.items=[]),this.debouncedSearchItems())}},"data.structure":{handler(e,t){t&&t.length&&(this.data.removedItems=[],this.data.removedItems.push(...this.data.items),this.specificItemDetailsStructureNextPage!==0&&(this.data.items=[])),e&&e!=="null"&&this.data.owner.account&&this.debouncedSearchItems()}}},created(){this.title="create a class",this.paymentType="",this.emitter.on("editClass",e=>{this.setData(e)}),this.emitter.on("classOwnership",()=>{this.hasOwnership=!0,this.data.owner=this.computedCreator})},mixins:[Dd],computed:{...os(["dashboard/getAccountDetails","dashboard/getCurrentAccount","getUser"]),computedMessage(){return(this.data.owner.account==="school"||this.computedAccount.account==="school")&&this.computedAcademicYears.length&&this.computedAcademicYears.length,""},computedSpecificItemStructure(){return this.specificItemDetailsStructure},computedAcademicYearSections(){let e=[];return this.selectedAcademicYears.forEach(t=>{e.push(...t.sections)}),e},computedShowGetMore(){return this.specificItemDetailsStructureNextPage&&this.specificItemDetailsStructureNextPage>1&&!this.specificItemLoadingStructure},computedAcademicYears(){let e=[],t=_s.toDate(new Date);return this.computedAccount.account!=="school"?e=this.specificItemDetails:e=this["dashboard/getAccountDetails"].academicYears,e.filter(s=>_s.toDate(new Date(s.startDate))<t)},computedPayment(){return this.computedAccount.account==="school"||this.data.owner.account==="school"?(this.paymentType="fee and one-time",!0):this.computedAccount.account==="facilitator"||this.data.owner.account==="facilitator"?(this.paymentType="subscription and one-time",!0):!1},computedShowStructure(){return!0},computedHasStructure(){return this.data.structure&&this.data.structure.length&&this.data.structure!=="null"},computedShowGrades(){return!(this.edit&&this.learners>0)},computedHasSchoolAccount(){return this.computedAccount.account==="school"||this.data.owner.account==="school"}},methods:{...ss(["dashboard/createClass","dashboard/editClass","dashboard/getAccountSpecificItems"]),closeModal(){this.data.owner={name:""},this.data.structure="",this.clearData(),this.clearExtraData(),this.$emit("closeCreateClass")},initiateGetItems(){this.specificItemDetailsStructure=[],this.specificItemDetailsStructureNextPage=0,this.getSpecificAccountItemStructure()},clearExtraData(){this.mainAcademicYears=[],this.removedAcademicYears=[],this.specificItemLoadingStructure=!1,this.learners=0,this.data.owner.account&&(this.selectedAcademicYears=[],this.specificItemDetailsStructure=[],this.specificItemDetailsStructureNextPage=0)},setData(e){var t;this.data.name=e.name,this.data.classId=e.id,this.data.grades=e.grades,this.data.state=(t=e.state)==null?void 0:t.toLowerCase(),this.data.description=e.description,this.data.structure=e.structure,e.maxLearners&&(this.data.maximum=`${e.maxLearners}`),this.hasMaxLearners=!0,this.data.items=[],this.data.mainItems=[],this.data.items.push(...e.items),this.data.mainItems.push(...e.items),this.selectedAcademicYears=[],this.mainAcademicYears=[],this.selectedAcademicYears.push(...e.academicYears),this.mainAcademicYears.push(...e.academicYears),this.data.mainPaymentData=[],e.subscriptions&&this.data.mainPaymentData.push(...e.subscriptions),e.prices&&this.data.mainPaymentData.push(...e.prices),e.fees&&this.data.mainPaymentData.push(...e.fees),this.data.facilitate=e.facilitators.findIndex(s=>s.userId===this.getUser.id)>-1,this.mainGrade=this.data.grade=e.grades.length?e.grades[0]:{},this.data.grades=e.grades,this.buttonText="edit",this.data.owner={name:e.ownedby.name,account:e.ownedby.account,accountId:e.ownedby.accountId},this.learners=e.learners,this.checkDiscussion(e)},inYearSelection(e){return this.findYearIndex(e)>-1},yearSelected(e){this.findYearIndex(e)===-1&&this.selectedAcademicYears.push(e)},findYearIndex(e){return this.selectedAcademicYears.findIndex(t=>t.id===e.id&&t.type===e.type)},removeYear(e){let t=this.findYearIndex(e);t>-1&&this.selectedAcademicYears.splice(t,1)},removedYearsUpdate(e){this.removedAcademicYears.findIndex(s=>e.type===s.type&&e.id===s.id)===-1&&this.data.removedAcademicYears.push(e)},inItemSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.data.items.push(e)},findItemIndex(e){return this.data.items.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.data.items.splice(t,1)},removedItemsUpdate(e){this.data.removedItems.findIndex(s=>e.type===s.type&&e.id===s.id)===-1&&this.data.removedItems.push(e)},async getSpecificAccountItem(){if(this.specificItemDetailsNextPage===null||this.specificItemLoading)return;let e,t={account:this.data.owner.account,accountId:this.data.owner.accountId,items:["academicYears"],search:this.searchItemsText,for:"class"};this.specificItemLoading=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemDetailsNextPage}),this.specificItemLoading=!1,e.status?(this.specificItemDetailsNextPage?this.specificItemDetails.push(...e.items):this.specificItemDetails=e.items,e.next?this.specificItemDetailsNextPage+=1:this.specificItemDetailsNextPage=null):console.log("response :>> ",e)},async getSpecificAccountItemStructure(){if(this.specificItemDetailsStructureNextPage===null||!this.data.structure)return;let e,t={account:this.data.owner.account,accountId:this.data.owner.accountId,items:[this.data.structure],search:this.searchItemsText,for:"class"};this.specificItemLoadingStructure=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemDetailsStructureNextPage}),this.specificItemLoadingStructure=!1,e.status?(this.specificItemDetailsStructure.push(...e.items),e.next?this.specificItemDetailsStructureNextPage+=1:this.specificItemDetailsStructureNextPage=null):console.log("response :>> ",e)},async clickedCreate(){if(this.loading)return;let e="";if(this.data.name.length?this.data.grade.id?this.edit?this.data.state.length||(e="class requires a state"):this.computedCreator.account==="facilitator"&&this.computedPossibleOwners.length>1&&!this.data.owner.account?e="Please select the owner of this class you are creating.":this.data.paymentType!=="free"&&this.data.paymentData===null?e="Please enter the required data for the payment.":this.data.paymentType==="fee"&&!this.selectedAcademicYears.length?e="You need an academic year to use the fee payment type.":(!this.data.structure||!this.data.structure.length)&&(this.computedCreator.account==="facilitator"||!this["dashboard/getAccountDetails"].classStructure)&&(e="Please choose how you would want to structure your class."):e="class requires a grade":e="class requires a name",e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;if(s.append("name",this.data.name),s.append("structure",this.data.structure&&this.data.structure.length?this.data.structure:this["dashboard/getAccountDetails"].classStructure),s.append("description",this.data.description),s.append("paymentType",this.data.paymentType),s.append("paymentData",JSON.stringify(this.data.paymentData)),s.append("maxLearners",this.hasMaxLearners||this.data.maximum.length&&this.data.maximum!=="null"?this.data.maximum:JSON.stringify(null)),s.append("gradeId",this.data.grade.id),(this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional")&&s.append("facilitate",JSON.stringify(this.data.facilitate)),(this.data.owner.account==="school"||this.computedAccount.account==="school")&&s.append("academicYears",JSON.stringify(this.selectedAcademicYears.map(o=>({id:o.id,type:"academicYear"})))),s.append("items",JSON.stringify(this.data.items.map(o=>({id:o.id,type:o.type})))),this.schoolAdmin?(s.append("account","admin"),s.append("accountId",this.schoolAdmin.id)):(s.append("account",this.computedAccount.account),s.append("accountId",this.computedAccount.accountId)),this.edit?(s.append("classId",this.data.classId),s.append("state",this.data.state),s.append("main",JSON.stringify(this.computedCheckMain)),this.data.grades.length&&this.data.grade.id!==this.data.grades[0].id&&s.append("gradeId",this.data.grade.id),s.append("removedPaymentData",JSON.stringify(this.data.removedPaymentData.map(o=>({type:o.type,id:o.id})))),this.data.grades.length&&this.data.grade.id!==this.data.grades[0].id&&s.append("removedGradeId",this.data.grades[0].id),this.data.mainItems.forEach(o=>{this.data.items.findIndex(n=>n.type===o.type&&n.id===o.id)===-1&&this.removedItemsUpdate(o),console.table(this.data.removedItems)}),s.append("removedItems",JSON.stringify(this.data.removedItems.map(o=>({type:o.type,id:o.id})))),this.computedCreator.account==="school"&&(this.mainAcademicYears.forEach(o=>{this.selectedAcademicYears.findIndex(n=>n.type===o.type&&n.id===o.id)===-1&&this.removedYearsUpdate(o)}),s.append("removedAcademicYears",JSON.stringify(this.removedAcademicYears.map(o=>({type:"academicYear",id:o.id}))))),t=await this["dashboard/editClass"](s)):(this.data.discussionData.title.length&&(s.append("discussionData",JSON.stringify(this.data.discussionData)),this.discussionFiles.forEach(o=>{s.append("discussionFile[]",o)})),this.computedAccount.account==="facilitator"?(s.append("owner",this.data.owner.account?this.data.owner.account:this.computedAccount.account),s.append("ownerId",this.data.owner.account?this.data.owner.accountId:this.computedAccount.accountId)):this.computedAccount.account==="school"&&(s.append("owner",this.computedAccount.account),s.append("ownerId",this.computedAccount.accountId)),t=await this["dashboard/createClass"](s)),this.loading=!1,t.status){let o=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.name} was successfully ${o}`,this.edit?this.computedCheckMain&&this.$emit("classSuccessfullyEdited",t.classResource):this.clearData(),this.emitter.emit("updateClass",t.class)}else this.issueDangerAlertForResponse(t.response),console.log("response :>> ",t)},gradeSelected(e){this.data.grade=e.data},removeGrade(e){this.data.grade={}}}},Tv=e=>(gs("data-v-d3774938"),e=e(),vs(),e),iK={slot:"main"},oK={slot:"input"},aK={key:0,class:"loading"},rK=Tv(()=>h("div",{class:"section"},"Class Info",-1)),lK={key:1,class:"class-structure"},cK=Tv(()=>h("div",{class:"message"}," How do you want the class structured? ",-1)),uK={class:"main"},dK={key:2,class:"attachments"},hK={key:8,class:"section"},fK={key:10,class:"section"},mK={key:11,class:"attachment-heading"},pK={key:13,class:"class-payment course-classes-section"},gK={key:0,class:"class-wrapper"},vK={key:1,class:"no-data"},yK={key:14,class:"class-payment"},wK={class:"message"},_K={class:"academic-years"},bK=Tv(()=>h("div",{class:"section"},"Payments",-1)),kK={key:15,class:"attachments"},AK={key:16,class:"attachment-heading"},CK={key:17,class:"attachments danger"},SK={key:18,class:"attachment-heading"},IK={key:20,class:"section"},TK={key:22,class:"discussion-preview"},DK={slot:"buttons"};function xK(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("radio-input"),A=_("attachment-badge"),D=_("post-attachment"),E=_("main-select"),T=_("main-checkbox"),N=_("number-input"),F=_("search-input"),R=_("item-badge"),j=_("price-badge"),W=_("subscription-badge"),Q=_("fee-badge"),le=_("payment-types"),me=_("post-button"),k=_("welcome-form"),Ce=_("main-modal"),he=_("just-fade"),Ke=_("create-discussion");return a(),d("div",null,[b(he,null,{default:z(()=>[e.show?(a(),S(Ce,{key:0,show:e.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"modal-wrapper"},{default:z(()=>[h("template",iK,[b(k,{title:e.title,class:"create-class-wrapper"},{default:z(()=>[h("template",oK,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,lengthy:e.alertLengthy,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","lengthy","onHideAlert"]),e.loading?(a(),d("div",aK,[b(f,{loading:e.loading},null,8,["loading"])])):c("",!0),rK,b(m,{bottomBorder:!0,placeholder:"class name*",modelValue:e.data.name,"onUpdate:modelValue":t[0]||(t[0]=Te=>e.data.name=Te),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,placeholder:"description of the class",modelValue:e.data.description,"onUpdate:modelValue":t[1]||(t[1]=Te=>e.data.description=Te),class:"class-input"},null,8,["modelValue"]),n.computedShowStructure?(a(),d("div",lK,[cK,h("div",uK,[b(g,{name:"classStructure",label:"class only has subjects",radioValue:"subjects",modelValue:e.data.structure,"onUpdate:modelValue":t[2]||(t[2]=Te=>e.data.structure=Te),class:"radio-button"},null,8,["modelValue"]),b(g,{name:"classStructure",label:"class only has courses",radioValue:"courses",modelValue:e.data.structure,"onUpdate:modelValue":t[3]||(t[3]=Te=>e.data.structure=Te),class:"radio-button"},null,8,["modelValue"])])])):c("",!0),e.data.grade.id&&n.computedShowGrades?(a(),d("div",dK,[b(A,{attachment:e.data.grade,hasClose:!0,onRemoveAttachment:n.removeGrade},null,8,["attachment","onRemoveAttachment"])])):c("",!0),n.computedShowGrades?(a(),S(D,{key:3,show:!0,hasSelect:!0,mainSearchItem:"grades",hasClose:!1,onClickedAttachmentSelection:n.gradeSelected,class:"class-input"},null,8,["onClickedAttachmentSelection"])):c("",!0),e.edit?(a(),S(E,{key:4,items:["pending","accepted","declined","suspended"],value:e.data.state,backgroundColor:"white",onSelection:e.stateSelection,class:"other-input",placeholder:"change state of class"},null,8,["value","onSelection"])):c("",!0),e.computedCreator.account==="facilitator"?(a(),S(T,{key:5,modelValue:e.data.facilitate,"onUpdate:modelValue":t[4]||(t[4]=Te=>e.data.facilitate=Te),label:"will you be a faciliatator in this class?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.edit?c("",!0):(a(),S(T,{key:6,modelValue:i.hasMaxLearners,"onUpdate:modelValue":t[5]||(t[5]=Te=>i.hasMaxLearners=Te),label:"check this if class has a maximum number of possible learner entries?",class:"class-input"},null,8,["modelValue"])),i.hasMaxLearners?(a(),S(N,{key:7,bottomBorder:!0,placeholder:"maximum learner participants",hasMax:!1,modelValue:e.data.maximum,"onUpdate:modelValue":t[6]||(t[6]=Te=>e.data.maximum=Te),class:"other-input"},null,8,["modelValue"])):c("",!0),e.computedShowOwnership?(a(),d("div",hK,"Class Ownership")):c("",!0),e.computedShowOwnership?(a(),S(E,{key:9,class:"other-input",placeholder:"select owner of this class",backgroundColor:"white",objects:e.computedPossibleOwners,value:e.data.owner.name,onSelection:e.ownerSelection},null,8,["objects","value","onSelection"])):c("",!0),n.computedHasSchoolAccount||n.computedHasStructure?(a(),d("div",fK,"Class Attachments")):c("",!0),n.computedHasStructure?(a(),d("div",mK,V(e.data.structure),1)):c("",!0),n.computedHasStructure?(a(),S(F,{key:12,class:"search-input",placeholder:`search for ${e.data.structure}`,onSearch:e.getSearchItemsText},null,8,["placeholder","onSearch"])):c("",!0),n.computedHasStructure?(a(),d("div",pK,[n.computedSpecificItemStructure.length?(a(),d("div",gK,[(a(!0),d(Z,null,pe(n.computedSpecificItemStructure,(Te,Ve)=>(a(),S(R,{key:Ve,item:Te,type:Te.type,hasRemove:n.inItemSelection(Te),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","type","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),!i.specificItemLoadingStructure&&!n.computedSpecificItemStructure.length?(a(),d("div",vK,V(`no ${e.data.structure} for this ${e.data.owner.account}`),1)):c("",!0),b(f,{loading:i.specificItemLoadingStructure,size:"12px",class:"loading"},null,8,["loading"]),n.computedShowGetMore?(a(),d("div",{key:2,class:"get-more",onClick:t[7]||(t[7]=(...Te)=>n.getSpecificAccountItemStructure&&n.getSpecificAccountItemStructure(...Te))}," get more ")):c("",!0)])):c("",!0),n.computedHasSchoolAccount?(a(),d("div",yK,[b(f,{loading:e.specificItemLoading,size:"10px"},null,8,["loading"]),h("div",wK,V(n.computedMessage),1),h("div",_K,[(a(!0),d(Z,null,pe(n.computedAcademicYears,(Te,Ve)=>(a(),S(R,{key:Ve,item:Te,type:"year",hasRemove:n.inYearSelection(Te),class:"class-badge",onClickedItem:n.yearSelected,onClickedRemoveItem:n.removeYear},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])])):c("",!0),bK,e.data.mainPaymentData.length?(a(),d("div",kK,[(a(!0),d(Z,null,pe(e.data.mainPaymentData,(Te,Ve)=>(a(),d("div",{key:Ve},[Te.type==="price"?(a(),S(j,{key:0,data:Te,onClickedRemoveData:ut=>e.clickedRemovePayment(Te,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Te.type==="subscription"?(a(),S(W,{key:1,data:Te,onClickedRemoveData:ut=>e.clickedRemovePayment(Te,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Te.type==="fee"?(a(),S(Q,{key:2,data:Te,onClickedRemoveData:ut=>e.clickedRemovePayment(Te,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.data.removedPaymentData.length?(a(),d("div",AK," payment types to be removed ")):c("",!0),e.data.removedPaymentData.length?(a(),d("div",CK,[(a(!0),d(Z,null,pe(e.data.removedPaymentData,(Te,Ve)=>(a(),d("div",{key:Ve},[Te.type==="price"?(a(),S(j,{key:0,data:Te,onClickedRemoveData:ut=>e.clickedRemovePayment(Te,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Te.type==="subscription"?(a(),S(W,{key:1,data:Te,onClickedRemoveData:ut=>e.clickedRemovePayment(Te,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Te.type==="fee"?(a(),S(Q,{key:2,data:Te,onClickedRemoveData:ut=>e.clickedRemovePayment(Te,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.edit&&e.data.paymentData?(a(),d("div",SK," new payment types ")):c("",!0),e.computedShowPayment?(a(),S(le,{key:19,onPaymentType:e.getPaymentType,type:e.paymentType,radioValue:e.data.paymentType,class:"payment-types",academicYears:i.selectedAcademicYears,onPaymentTypeError:e.error},null,8,["onPaymentType","type","radioValue","academicYears","onPaymentTypeError"])):c("",!0),e.edit?c("",!0):(a(),d("div",IK,"Discussion")),!e.edit&&!e.data.discussionData.title.length?(a(),S(T,{key:21,modelValue:e.data.discussion,"onUpdate:modelValue":t[8]||(t[8]=Te=>e.data.discussion=Te),label:"automatically add a discussion?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.data.discussionData.title.length?(a(),d("div",TK,[b(R,{type:"discussion",item:e.data.discussionData,hasRemove:!0,onClickedRemoveItem:e.clearDiscussionData},null,8,["item","onClickedRemoveItem"])])):c("",!0)]),h("template",DK,[b(me,{buttonText:e.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1}),e.data.discussion?(a(),S(Ke,{key:0,show:e.data.discussion,edit:e.edit,auto:!0,onClickedCreate:e.getDiscussionData,onCreateDiscussionDisappear:e.closeDiscussionModal},null,8,["show","edit","onClickedCreate","onCreateDiscussionDisappear"])):c("",!0)])}const MA=Ae(nK,[["render",xK],["__scopeId","data-v-d3774938"]]),PK={components:{ItemBadge:fr,TextInput:js,TextTextarea:kn},props:{hasRemove:{type:Boolean,default:!0},editable:{type:Object,default(){return null}}},data(){return{section:{id:"",description:"",name:""},sections:[],buttonText:""}},watch:{sections(e){this.$emit("sectionAdded",e)},editable:{immediate:!0,handler(e){e?(this.section.name=e.name,this.section.description=e.description,this.buttonText="edit section"):this.buttonText="add section"}}},methods:{clickedAddSection(){this.section.name.length?(this.buttonText.includes("add")?this.sections.push({id:Math.floor(Math.random()*100),description:this.section.description,name:this.section.name}):this.$emit("editedSection",{id:this.editable.id,description:this.section.description,name:this.section.name}),this.clearData()):this.$emit("error",{message:"please, a course section requires a name."})},clickedRemoveSection(e){let t=this.sections.findIndex(s=>s.id===e.id);t>-1&&this.sections.splice(t,1)},clearData(){this.section.id="",this.section.description="",this.section.name=""}}},MK={class:"add-section-wrapper"},EK={class:"sections-preview"},OK={class:"add-section"};function RK(e,t,s,o,i,n){const r=_("item-badge"),f=_("text-input"),m=_("text-textarea");return a(),d("div",MK,[h("div",EK,[(a(!0),d(Z,null,pe(i.sections,(v,g)=>(a(),S(r,{key:g,item:v,type:"courseSection",hasRemove:!0,class:"item-badge",onClickedRemoveItem:n.clickedRemoveSection},null,8,["item","onClickedRemoveItem"]))),128))]),h("div",OK,[b(f,{bottomBorder:!0,placeholder:"section name",modelValue:i.section.name,"onUpdate:modelValue":t[0]||(t[0]=v=>i.section.name=v),class:"class-input"},null,8,["modelValue"]),b(m,{bottomBorder:!0,placeholder:"section description",modelValue:i.section.description,"onUpdate:modelValue":t[1]||(t[1]=v=>i.section.description=v),class:"class-input"},null,8,["modelValue"]),h("div",{class:"add",onClick:t[2]||(t[2]=(...v)=>n.clickedAddSection&&n.clickedAddSection(...v))},V(i.buttonText),1)])])}const NK=Ae(PK,[["render",RK],["__scopeId","data-v-87597240"]]),LK={components:{ItemBadge:fr,SubscriptionBadge:pu,PriceBadge:Ac,PaymentTypes:gu,AutoAlert:Mi,AddSection:NK,CreateDiscussion:kc,PostAttachment:go,TextInput:js,AttachmentBadge:vo,PostButton:xs,TextTextarea:kn,MainSelect:pa,MainCheckbox:Vi},props:{},data(){return{hasSections:!1,sections:[],mainSections:[],removedSections:[],editedSections:[],selectedSection:null,standAlone:!1}},watch:{computedOwner:{deep:!0,handler(e){e&&e.account&&this.debouncedSearchItems()}},hasSections(e){!e&&this.edit&&this.mainSections.length&&(this.removedSections.push(...this.mainSections),this.mainSections.forEach(t=>{this.editedSectionsUpdate(t,!0)}),this.mainSections=[])},mainSections(e){e.length&&this.edit&&this.hasSections==!1&&(this.hasSections=!0)},standAlone(e){}},created(){this.title="create a course",this.emitter.on("editCourse",e=>{this.setData(e)}),this.emitter.on("courseOwnership",()=>{this.hasOwnership=!0,this.data.owner=this.computedCreator})},mixins:[Dd],computed:{...os(["dashboard/getAccountDetails","dashboard/getCurrentAccount","getUser"]),computedOwner(){return this.data.owner},computedSpecificItemType(){return this.data.owner.account!=="professional"?"classes and programs":"programs"},computedShowSections(){return!0}},methods:{...ss(["dashboard/createCourse","dashboard/editCourse","dashboard/getAccountSpecificItems"]),getSections(e){this.sections=e},closeModal(){this.data.owner={name:""},this.clearData(),this.sections=[],this.mainSections=[],this.removedSections=[],this.editedSections=[],this.hasSections=!1,this.standAlone=!1,this.$emit("closeCreateCourse")},setData(e){this.data.name=e.name,this.data.courseId=e.id,this.data.state=e.state.toLowerCase(),this.data.description=e.description,this.standAlone=e.standAlone,e.standAlone||(this.data.items=[],this.data.mainItems=[],this.data.items.push(...e.items),this.data.mainItems.push(...e.items)),this.data.mainAttachments=[],this.data.mainAttachments.push(...e.courses),this.data.mainAttachments.push(...e.programs),this.data.mainAttachments.push(...e.grades),this.mainSections=[],this.mainSections.push(...e.sections),e.sections.length&&(this.hasSections=!0),this.data.mainPaymentData=[],e.subscriptions&&this.data.mainPaymentData.push(...e.subscriptions),e.prices&&this.data.mainPaymentData.push(...e.prices),this.data.facilitate=e.facilitators.findIndex(t=>t.userId===this.getUser.id)>-1,this.data.facilitate||(this.data.facilitate=e.professionals.findIndex(t=>t.userId===this.getUser.id)>-1),this.buttonText="edit",this.data.owner={name:e.ownedby.name,account:e.ownedby.account,accountId:e.ownedby.accountId},this.checkDiscussion(e)},inItemsSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.data.items.push(e)},findItemIndex(e){return this.data.items.findIndex(t=>t.id===e.id)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.data.items.splice(t,1)},removedItemsUpdate(e){this.data.removedItems.findIndex(s=>e.type===s.type&&e.id===s.id)===-1&&this.data.removedItems.push(e)},editedSection(e){let t=this.mainSections.findIndex(s=>s.id===e.id);t>-1&&(e.edited=!0,this.mainSections[t]=e,this.editedSectionsUpdate(e)),this.selectedSection=null},selectedSections(e){this.selectedSection=e},findSectionIndex(e,t){return(t==="main"?this.mainSections:t==="removed"?this.removedSections:this.sections).findIndex(o=>o.id===e.id)},removeSection(e,t){let s=this.findSectionIndex(e,t);s>-1&&(t==="main"?(this.mainSections.splice(s,1),this.removedSections.push(e),this.editedSectionsUpdate(e,!0)):t==="removed"&&(this.removedSections.splice(s,1),this.mainSections.push(e),e.edited&&this.editedSectionsUpdate(e)))},editedSectionsUpdate(e,t=!1){let s=this.editedSections.findIndex(o=>e.id===o.id);!t&&s===-1?this.editedSections.push(e):!t&&s>-1?(this.editedSections[s].name=e.name,this.editedSections[s].description=e.description):t&&s>-1&&this.editedSections.splice(s,1)},attachmentSelection(e){this.data.attachmentType=e},async getSpecificAccountItem(){if(this.specificItemDetailsNextPage===null)return;let e,t={account:this.data.owner.account,accountId:this.data.owner.accountId,items:["classes","programs"],search:this.searchItemsText,for:"course"};this.specificItemLoading=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemDetailsNextPage}),this.specificItemLoading=!1,e.status?(this.specificItemDetailsNextPage?this.specificItemDetails.push(...e.items):this.specificItemDetails=e.items,e.next?this.specificItemDetailsNextPage+=1:this.specificItemDetailsNextPage=null):console.log("response :>> ",e)},async clickedCreate(){if(this.loading)return;let e="";if(this.data.name.length?this.edit?this.data.state.length||(e="course requires a state"):(this.computedCreator.account==="facilitator"||this.computedCreator.account==="professional")&&this.computedPossibleOwners.length>1&&!this.data.owner.account?e="Please select the owner of this course you are creating.":this.data.paymentType!=="free"&&this.data.paymentData===null&&(e="Please enter the required data for the payment."):e="course requires a name",e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;if(s.append("name",this.data.name),s.append("description",this.data.description),s.append("attachments",JSON.stringify(this.data.attachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("standAlone",JSON.stringify(this.standAlone)),s.append("paymentData",JSON.stringify(this.data.paymentData)),s.append("sections",JSON.stringify(this.sections)),s.append("paymentType",this.data.paymentType),s.append("items",JSON.stringify(this.data.items.map(o=>({id:o.id,type:o.type})))),(this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional")&&s.append("facilitate",JSON.stringify(this.data.facilitate)),this.schoolAdmin&&s.append("adminId",this.schoolAdmin.id),s.append("account",this.computedAccount.account),s.append("accountId",this.computedAccount.accountId),this.edit?(s.append("main",JSON.stringify(this.computedCheckMain)),s.append("state",this.data.state),s.append("courseId",this.data.courseId),s.append("removedAttachments",JSON.stringify(this.data.removedAttachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("removedPaymentData",JSON.stringify(this.data.removedPaymentData.map(o=>({type:o.type,id:o.id})))),this.data.mainItems.forEach(o=>{this.data.items.findIndex(n=>n.type===o.type&&n.id===o.id)===-1&&this.removedItemsUpdate(o)}),s.append("removedItems",JSON.stringify(this.data.removedItems.map(o=>({type:o.type,id:o.id})))),s.append("removedSections",JSON.stringify(this.removedSections.map(o=>({id:o.id})))),s.append("editedSections",JSON.stringify(this.editedSections)),t=await this["dashboard/editCourse"](s)):(this.data.discussionData.title.length&&(s.append("discussionData",JSON.stringify(this.data.discussionData)),this.discussionFiles.forEach(o=>{s.append("discussionFile[]",o)})),this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional"?(s.append("owner",this.data.owner.account?this.data.owner.account:this.computedAccount.account),s.append("ownerId",this.data.owner.account?this.data.owner.accountId:this.computedAccount.accountId)):this.computedAccount.account==="school"&&(s.append("owner",this.computedAccount.account),s.append("ownerId",this.computedAccount.accountId)),t=await this["dashboard/createCourse"](s)),this.loading=!1,t.status){let o=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.name} was successfully ${o}`,this.edit?this.computedCheckMain&&this.$emit("courseSuccessfullyEdited",t.courseResource):this.clearData(),this.emitter.emit("updateCourse",t.course)}else this.issueDangerAlertForResponse(t.response),console.log("response :>> ",t)}},issueDangerAlertForResponse(e){var t,s;this.alertDanger=!0,(t=e==null?void 0:e.data)!=null&&t.message?this.alertMessage=(s=e==null?void 0:e.data)==null?void 0:s.message:this.alertMessage=`course ${this.edit?"editing":"creation"} was unsuccessful`}},Qf=e=>(gs("data-v-fb35feae"),e=e(),vs(),e),FK={slot:"main"},UK={slot:"input"},BK={class:"loading"},jK=Qf(()=>h("div",{class:"section"},"Course Info",-1)),VK=Qf(()=>h("div",{class:"attachment-heading"}," Note: stand alone means this course cannot be added to programs or classes from the time it is so set. ",-1)),qK={key:0,class:"attachment-heading"},HK={key:1,class:"attachments"},WK={key:2,class:"attachment-heading"},zK={key:3,class:"attachments danger"},GK={key:4,class:"attachment-heading"},YK={key:6,class:"section"},QK=Qf(()=>h("div",{class:"section"},"Course Attachments",-1)),KK={key:0,class:"attachment-heading"},JK={key:1,class:"attachments"},XK={key:2,class:"attachment-heading"},$K={key:3,class:"attachments danger"},ZK={key:10,class:"attachment-heading"},eJ={key:11,class:"attachments"},tJ={key:13,class:"attachment-heading p-1"},sJ={key:15,class:"class-payment course-classes-section"},nJ={key:0,class:"class-wrapper"},iJ={key:1,class:"no-data"},oJ=Qf(()=>h("div",{class:"section"},"Payments",-1)),aJ={key:16,class:"attachment-heading"},rJ={key:17,class:"attachments"},lJ={key:18,class:"attachment-heading"},cJ={key:19,class:"attachments danger"},uJ={key:20,class:"attachment-heading"},dJ={key:22,class:"section"},hJ={key:24,class:"discussion-preview"},fJ={slot:"buttons"};function mJ(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("main-select"),A=_("main-checkbox"),D=_("item-badge"),E=_("add-section"),T=_("attachment-badge"),N=_("post-attachment"),F=_("search-input"),R=_("price-badge"),j=_("subscription-badge"),W=_("payment-types"),Q=_("post-button"),le=_("welcome-form"),me=_("main-modal"),k=_("just-fade"),Ce=_("create-discussion");return a(),d("div",null,[b(k,null,{default:z(()=>[e.show?(a(),S(me,{key:0,show:e.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"modal-wrapper"},{default:z(()=>[h("template",FK,[b(le,{title:e.title,class:"create-course-wrapper"},{default:z(()=>[h("template",UK,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),h("div",BK,[b(f,{loading:e.loading},null,8,["loading"])]),jK,b(m,{bottomBorder:!0,placeholder:"course name*",modelValue:e.data.name,"onUpdate:modelValue":t[0]||(t[0]=he=>e.data.name=he),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,placeholder:"description of the course",modelValue:e.data.description,"onUpdate:modelValue":t[1]||(t[1]=he=>e.data.description=he),class:"class-input"},null,8,["modelValue"]),e.edit?(a(),S(g,{key:0,items:["pending","accepted","declined","suspended"],value:e.data.state,backgroundColor:"white",onSelection:e.stateSelection,class:"other-input",placeholder:"change state of class"},null,8,["value","onSelection"])):c("",!0),e.computedCreator.account!=="school"?(a(),S(A,{key:1,modelValue:e.data.facilitate,"onUpdate:modelValue":t[2]||(t[2]=he=>e.data.facilitate=he),label:"will you be a faciliatator in this course?",class:"class-input"},null,8,["modelValue"])):c("",!0),n.computedShowSections?(a(),S(A,{key:2,modelValue:i.hasSections,"onUpdate:modelValue":t[3]||(t[3]=he=>i.hasSections=he),label:"does course have sections?",class:"class-input"},null,8,["modelValue"])):c("",!0),b(A,{modelValue:i.standAlone,"onUpdate:modelValue":t[4]||(t[4]=he=>i.standAlone=he),label:"should be a stand alone course",class:"class-input"},null,8,["modelValue"]),VK,e.edit?(a(),d(Z,{key:3},[i.mainSections.length?(a(),d("div",qK," current sections ")):c("",!0),i.mainSections.length?(a(),d("div",HK,[(a(!0),d(Z,null,pe(i.mainSections,(he,Ke)=>(a(),S(D,{key:Ke,item:he,hasRemove:!0,type:"courseSection",class:"class-badge",onClickedItem:n.selectedSections,onClickedRemoveItem:Te=>n.removeSection(he,"main")},null,8,["item","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),i.removedSections.length?(a(),d("div",WK," sections to be removed ")):c("",!0),i.removedSections.length?(a(),d("div",zK,[(a(!0),d(Z,null,pe(i.removedSections,(he,Ke)=>(a(),S(D,{key:Ke,item:he,hasRemove:!0,type:"courseSection",class:"class-badge",onClickedRemoveItem:Te=>n.removeSection(he,"removed")},null,8,["item","onClickedRemoveItem"]))),128))])):c("",!0)],64)):c("",!0),e.edit&&i.sections.length?(a(),d("div",GK," new sections ")):c("",!0),i.hasSections?(a(),S(E,{key:5,editable:i.selectedSection,onError:e.error,onSectionAdded:n.getSections,onEditedSection:n.editedSection,class:"add-section"},null,8,["editable","onError","onSectionAdded","onEditedSection"])):c("",!0),e.computedShowOwnership?(a(),d("div",YK,"Course Ownership")):c("",!0),e.computedShowOwnership?(a(),S(g,{key:7,class:"other-input",placeholder:"select owner of this course",backgroundColor:"white",objects:e.computedPossibleOwners,value:e.data.owner.name,onSelection:e.ownerSelection},null,8,["objects","value","onSelection"])):c("",!0),QK,e.computedAttachment.length>1?(a(),S(g,{key:8,class:"other-input",placeholder:"please attach some of these",backgroundColor:"white",items:e.computedAttachment,value:e.data.attachmentType,onSelection:n.attachmentSelection},null,8,["items","value","onSelection"])):c("",!0),e.edit?(a(),d(Z,{key:9},[e.data.mainAttachments.length?(a(),d("div",KK," already attached ")):c("",!0),e.data.mainAttachments.length?(a(),d("div",JK,[(a(!0),d(Z,null,pe(e.data.mainAttachments,(he,Ke)=>(a(),S(T,{key:Ke,attachment:he.data,hasClose:!0,onRemoveAttachment:Te=>e.removeAttachment(he,"main")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.removedAttachments.length?(a(),d("div",XK," to be removed/unattached ")):c("",!0),e.data.removedAttachments.length?(a(),d("div",$K,[(a(!0),d(Z,null,pe(e.data.removedAttachments,(he,Ke)=>(a(),S(T,{key:Ke,attachment:he.data,hasClose:!0,onRemoveAttachment:Te=>e.removeAttachment(he,"removed")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0)],64)):c("",!0),e.edit&&e.data.attachments.length?(a(),d("div",ZK," new attachments ")):c("",!0),e.data.attachments.length?(a(),d("div",eJ,[(a(!0),d(Z,null,pe(e.data.attachments,(he,Ke)=>(a(),S(T,{key:Ke,attachment:he.data,hasClose:!0,onRemoveAttachment:e.removeAttachment},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.attachmentType.length?(a(),S(N,{key:12,show:!0,hasSelect:!0,mainSearchItem:e.data.attachmentType,hasClose:!1,onClickedAttachmentSelection:e.attachmentSelected,class:"class-input"},null,8,["mainSearchItem","onClickedAttachmentSelection"])):c("",!0),!i.standAlone&&e.data.owner.account?(a(),d("div",tJ,V(n.computedSpecificItemType),1)):c("",!0),!i.standAlone&&e.data.owner.account?(a(),S(F,{key:14,class:"search-input",placeholder:"search for classes and programs",onSearch:e.getSearchItemsText},null,8,["onSearch"])):c("",!0),!i.standAlone&&e.data.owner.account?(a(),d("div",sJ,[e.computedSpecificItems.length?(a(),d("div",nJ,[(a(!0),d(Z,null,pe(e.computedSpecificItems,(he,Ke)=>(a(),S(D,{key:Ke,item:he,type:"class",hasRemove:n.inItemsSelection(he),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),!e.specificItemLoading&&!e.computedSpecificItems.length?(a(),d("div",iJ,V(`no ${n.computedSpecificItemType} for this ${e.data.owner.account}`),1)):c("",!0),b(f,{loading:e.specificItemLoading,size:"12px",class:"loading"},null,8,["loading"]),e.computedShowGetMore?(a(),d("div",{key:2,class:"get-more",onClick:t[5]||(t[5]=(...he)=>n.getSpecificAccountItem&&n.getSpecificAccountItem(...he))}," get more ")):c("",!0)])):c("",!0),oJ,e.data.mainPaymentData.length?(a(),d("div",aJ," current payment types ")):c("",!0),e.data.mainPaymentData.length?(a(),d("div",rJ,[(a(!0),d(Z,null,pe(e.data.mainPaymentData,(he,Ke)=>(a(),d("div",{key:Ke},[he.type==="price"?(a(),S(R,{key:0,data:he,onClickedRemoveData:Te=>e.clickedRemovePayment(he,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),he.type==="subscription"?(a(),S(j,{key:1,data:he,onClickedRemoveData:Te=>e.clickedRemovePayment(he,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.data.removedPaymentData.length?(a(),d("div",lJ," payment types to be removed ")):c("",!0),e.data.removedPaymentData.length?(a(),d("div",cJ,[(a(!0),d(Z,null,pe(e.data.removedPaymentData,(he,Ke)=>(a(),d("div",{key:Ke},[he.type==="price"?(a(),S(R,{key:0,data:he,onClickedRemoveData:Te=>e.clickedRemovePayment(he,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),he.type==="subscription"?(a(),S(j,{key:1,data:he,onClickedRemoveData:Te=>e.clickedRemovePayment(he,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.edit&&e.data.paymentData?(a(),d("div",uJ," new payment types ")):c("",!0),e.computedShowPayment?(a(),S(W,{key:21,onPaymentType:e.getPaymentType,type:e.paymentType,radioValue:e.data.paymentType,class:"other-input",onPaymentTypeError:e.error},null,8,["onPaymentType","type","radioValue","onPaymentTypeError"])):c("",!0),e.edit?c("",!0):(a(),d("div",dJ,"Discussion")),!e.edit&&!e.data.discussionData.title.length?(a(),S(A,{key:23,modelValue:e.data.discussion,"onUpdate:modelValue":t[6]||(t[6]=he=>e.data.discussion=he),label:"automatically add a discussion?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.data.discussionData.title.length?(a(),d("div",hJ,[b(D,{type:"discussion",item:e.data.discussionData,hasRemove:!0,onClickedRemoveItem:e.clearDiscussionData},null,8,["item","onClickedRemoveItem"])])):c("",!0)]),h("template",fJ,[b(Q,{buttonText:e.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1}),e.data.discussion?(a(),S(Ce,{key:0,show:e.data.discussion,edit:e.edit,auto:!0,onClickedCreate:e.getDiscussionData,onCreateDiscussionDisappear:e.closeDiscussionModal},null,8,["show","edit","onClickedCreate","onCreateDiscussionDisappear"])):c("",!0)])}const EA=Ae(LK,[["render",mJ],["__scopeId","data-v-fb35feae"]]),pJ={components:{ProfilePicture:Ys},props:{name:{type:String,default:""},url:{type:String,default:""},type:{type:String,default:""},id:{type:Number,default:null}},methods:{clickedAccount(){this.$emit("click"),this.$emit("clickedAccount",{name:this.name,id:this.id,type:this.type})}}},gJ={slot:"image"},vJ=["src"],yJ={class:"name"},wJ={class:"type"};function _J(e,t,s,o,i,n){const r=_("profile-picture");return a(),d("div",{class:"account-info-wrapper",onClick:t[0]||(t[0]=(...f)=>n.clickedAccount&&n.clickedAccount(...f))},[s.url.length?(a(),S(r,{key:0,class:"profile-picture"},{default:z(()=>[h("template",gJ,[h("img",{src:s.url},null,8,vJ)])]),_:1})):c("",!0),h("div",yJ,V(s.name),1),h("div",wJ,V(s.type),1)])}const bJ=Ae(pJ,[["render",_J],["__scopeId","data-v-6ef52027"]]),kJ={components:{SearchInput:hr},props:{hasItems:{type:Boolean,default:!1},hasSearch:{type:Boolean,default:!1},active:{type:Boolean,default:!1},items:{type:Array,default(){return[]}},info:{type:Array,default(){return[]}},heading:{type:String,default:""},specialInfo:{type:String,default:""},name:{type:String,default:""}},data(){return{showOther:!1,searchText:""}},computed:{computedItems(){return this.hasSearch?this.items.filter(e=>e.sectionOne&&e.sectionOne.toLowerCase().includes(this.searchText.toLowerCase())||e.sectionTwo&&e.sectionTwo.toLowerCase().includes(this.searchText.toLowerCase())||e.sectionThree&&e.sectionThree.toLowerCase().includes(this.searchText.toLowerCase())):this.items},computedplaceholder(){return this.heading.length?`search through ${this.heading}`:"search for item"}},methods:{clickedMain(){this.showOther=!this.showOther},clickedItem(e){this.$emit("clickedItem",{data:e,heading:this.heading})},getSearchText(e){this.searchText=e}}},AJ=e=>(gs("data-v-c1026cbd"),e=e(),vs(),e),CJ={class:"heading"},SJ={key:0,class:"top"},IJ=AJ(()=>h("div",{class:"label"},"name",-1)),TJ={class:"value"},DJ={class:"middle"},xJ={class:"bottom"},PJ={key:0,class:"other"},MJ=["onClick"],EJ={key:0,class:"section1"},OJ={key:1,class:"section2"},RJ={key:2,class:"section3"},NJ={key:2,class:"no-items"};function LJ(e,t,s,o,i,n){const r=_("search-input");return a(),d("div",{class:we(["dashboard-item-wrapper",{"dashboard-item":i.showOther,active:s.active}]),onClick:t[1]||(t[1]=Vt((...f)=>n.clickedMain&&n.clickedMain(...f),["self"]))},[h("div",{class:"main",onClick:t[0]||(t[0]=(...f)=>n.clickedMain&&n.clickedMain(...f))},[h("div",CJ,V(s.heading),1),s.name.length&&s.hasItems?(a(),d("div",SJ,[IJ,h("div",TJ,V(s.name),1)])):c("",!0),h("div",DJ,[(a(!0),d(Z,null,pe(s.info,(f,m)=>(a(),d("div",{class:"info",key:m},V(f),1))),128))]),h("div",xJ,V(s.specialInfo),1)]),s.hasItems&&i.showOther?(a(),d("div",PJ,[s.hasSearch&&s.items.length>5?(a(),S(r,{key:0,onSearch:n.getSearchText,placeholder:n.computedplaceholder,class:"search-input"},null,8,["onSearch","placeholder"])):c("",!0),s.items.length?(a(!0),d(Z,{key:1},pe(n.computedItems,(f,m)=>(a(),d("div",{class:"item",key:m,onClick:v=>n.clickedItem(f)},[f.sectionOne?(a(),d("div",EJ,V(f.sectionOne),1)):c("",!0),f.sectionTwo?(a(),d("div",OJ,V(f.sectionTwo),1)):c("",!0),f.sectionThree?(a(),d("div",RJ,V(f.sectionThree),1)):c("",!0)],8,MJ))),128)):(a(),d("div",NJ,V(`no ${s.heading} data`),1))])):c("",!0)],2)}const FJ=Ae(kJ,[["render",LJ],["__scopeId","data-v-c1026cbd"]]),UJ={props:{showForm:{type:Boolean,default:!1}},watch:{showForm:{immediate:!0,handler(e){e&&(this.inputName=this.inputName?this.inputName:this["profile/getProfile"].name!=""||this["profile/getProfile"].name!=null?this["profile/getProfile"].name:this["profile/getProfile"].owner_name!=""||this["profile/getProfile"].owner_name!=null?this["profile/getProfile"].owner_name:this["profile/getProfile"].user_full_name,this.inputCompany=this.inputCompany?this.inputCompany:this["profile/getProfile"].company,this.inputAbout=this.inputAbout?this.inputAbout:this["profile/getProfile"].about,this.inputInterests=this.inputInterests?this.inputInterests:this["profile/getProfile"].interests,this.inputEmail=this.inputEmail?this.inputEmail:this["profile/getProfile"].email,this.inputOccupation=this.inputOccupation?this.inputOccupation:this["profile/getProfile"].occupation,this.inputAddress=this.inputAddress?this.inputAddress:this["profile/getProfile"].address,this.inputLocation=this.inputLocation?this.inputLocation:this["profile/getProfile"].location,this["profile/clearMsg"]())}}},data(){return{inputName:null,inputAbout:null,inputInterests:null,inputCompany:null,inputOccupation:null,inputLocation:null,inputAddress:null,mainLoading:!1,showAlert:!1,alertMsg:""}},components:{TextTextarea:kn,TextInput:js,MainList:Cc,PostButton:xs,AutoAlert:Mi},computed:{...os(["profile/getProfile","profile/getMsg"]),computedLoading(){return this.mainLoading},computedMsg(){return this["profile/getMsg"]?this["profile/getMsg"]:""},successMsg(){return this["profile/getMsg"]?!this["profile/getMsg"].includes("unsuccess"):!1},dangerMsg(){return this["profile/getMsg"]?!!this["profile/getMsg"].includes("unsuccess"):!1}},methods:{clearMsg(){this["profile/clearMsg"]()},alertDisappear(){this.showAlert=!1,this.alertMsg="",this["profile/clearMsg"]()},...ss(["profile/updateProfile","profile/clearMsg"]),closeModal(){this.$emit("closeModal")},clickedCreate(){this.mainLoading=!0;let e=this.inputName===null?this.inputName:this.inputName.trim(),t=this.inputAbout===null?this.inputAbout:this.inputAbout.trim(),s=this.inputInterests===null?this.inputInterests:this.inputInterests.trim(),o=this.inputCompany===null?this.inputCompany:this.inputCompany.trim(),i=this.inputOccupation===null?this.inputOccupation:this.inputCompany.trim(),n=this.inputLocation===null?this.inputLocation:this.inputLocation.trim(),r=this.inputAddress,f={};f={name:e,about:t,interests:s,company:o,occupation:i,location:n,address:r,account:Ns().params.account},this["profile/updateProfile"]({profile_id:this["profile/getProfile"].id,data:f}),this.mainLoading=!1,this.showForm=!0,this.alertMsg=this["profile/getMsg"]}}},BJ=e=>(gs("data-v-3bd9d202"),e=e(),vs(),e),jJ=BJ(()=>h("template",{slot:"loading"},[Mt(" loading... ")],-1)),VJ={slot:"main"},qJ={slot:"input"},HJ={class:"form-edit"},WJ={class:"form-edit"},zJ={class:"form-edit"},GJ={class:"form-edit"},YJ={class:"form-edit"},QJ={class:"form-edit"},KJ={class:"form-edit"},JJ={slot:"buttons"};function XJ(e,t,s,o,i,n){const r=_("auto-alert"),f=_("text-input"),m=_("text-textarea"),v=_("post-button"),g=_("welcome-form"),A=_("main-modal");return s.showForm?(a(),S(A,{key:0,onMainModalDisappear:n.closeModal,loading:n.computedLoading,alertMessage:n.computedMsg,alertError:n.computedMsg&&n.computedMsg.includes("unsuccessful"),alertSuccess:n.computedMsg&&!n.computedMsg.includes("unsuccessful"),onClearAlert:n.clearMsg},{default:z(()=>[jJ,h("template",VJ,[i.showAlert?(a(),S(r,{key:0,message:i.alertMsg,success:n.successMsg,danger:n.dangerMsg,onHideAlert:n.alertDisappear},null,8,["message","success","danger","onHideAlert"])):c("",!0),b(g,null,{default:z(()=>[h("template",qJ,[h("div",HJ,[b(f,{type:"text",placeholder:"name",bottomBorder:!0,modelValue:i.inputName,"onUpdate:modelValue":t[0]||(t[0]=D=>i.inputName=D)},null,8,["modelValue"])]),h("div",WJ,[b(m,{placeholder:"about your profile",bottomBorder:!0,modelValue:i.inputAbout,"onUpdate:modelValue":t[1]||(t[1]=D=>i.inputAbout=D)},null,8,["modelValue"])]),h("div",zJ,[b(m,{placeholder:"interests",bottomBorder:!0,modelValue:i.inputInterests,"onUpdate:modelValue":t[2]||(t[2]=D=>i.inputInterests=D)},null,8,["modelValue"])]),h("div",GJ,[b(f,{type:"text",placeholder:"company",bottomBorder:!0,modelValue:i.inputCompany,"onUpdate:modelValue":t[3]||(t[3]=D=>i.inputCompany=D)},null,8,["modelValue"])]),h("div",YJ,[b(f,{type:"text",placeholder:"occupation",bottomBorder:!0,modelValue:i.inputOccupation,"onUpdate:modelValue":t[4]||(t[4]=D=>i.inputOccupation=D)},null,8,["modelValue"])]),h("div",QJ,[b(f,{type:"text",placeholder:"location",bottomBorder:!0,modelValue:i.inputLocation,"onUpdate:modelValue":t[5]||(t[5]=D=>i.inputLocation=D)},null,8,["modelValue"])]),h("div",KJ,[b(f,{type:"text",placeholder:"address",bottomBorder:!0,modelValue:i.inputAddress,"onUpdate:modelValue":t[6]||(t[6]=D=>i.inputAddress=D)},null,8,["modelValue"])])]),h("template",JJ,[b(v,{buttonText:"save",buttonStyle:"success",onClick:n.clickedCreate},null,8,["onClick"])])]),_:1})])]),_:1},8,["onMainModalDisappear","loading","alertMessage","alertError","alertSuccess","onClearAlert"])):c("",!0)}const OA=Ae(UJ,[["render",XJ],["__scopeId","data-v-3bd9d202"]]),$J={components:{PaymentTypes:gu,SubscriptionBadge:pu,PriceBadge:Ac,ItemBadge:fr,AutoAlert:Mi,PostAttachment:go,TextInput:js,AttachmentBadge:vo,PostButton:xs,TextTextarea:kn,MainSelect:pa,MainCheckbox:Vi,CreateDiscussion:kc},data(){return{}},watch:{"data.owner":{handler(e){e&&e.account&&this.debouncedSearchItems()}}},created(){this.title="create an program",this.emitter.on("editProgram",e=>{this.setData(e)}),this.emitter.on("programOwnership",()=>{this.hasOwnership=!0,this.data.owner=this.computedCreator})},mixins:[Dd],computed:{...os(["dashboard/getAccountDetails","dashboard/getCurrentAccount","getUser"])},methods:{...ss(["dashboard/createProgram","dashboard/editProgram","dashboard/getAccountSpecificItems"]),closeModal(){this.data.owner={name:""},this.clearData(),this.$emit("closeCreateProgram")},setData(e){var t;if(this.data.name=e.name,this.data.programId=e.id,this.data.state=(t=e.state)==null?void 0:t.toLowerCase(),this.data.description=e.description,this.data.items=[],this.data.mainItems=[],e.items)this.data.items.push(...e.items),this.data.mainItems.push(...e.items);else{let s=[];s.push(...e.courses),s.push(...e.extracurriculums),this.data.items.push(...s),this.data.mainItems.push(...s)}this.data.mainAttachments=[],e.attachments?this.data.mainAttachments.push(...e.attachments):(this.data.mainAttachments.push(...e.courses),this.data.mainAttachments.push(...e.programs),this.data.mainAttachments.push(...e.grades)),this.data.mainPaymentData=[],this.data.mainPaymentData.push(...e.subscriptions),this.data.mainPaymentData.push(...e.prices),this.data.facilitate=e.facilitators.findIndex(s=>s.userId===this.getUser.id)>-1,this.data.facilitate||(this.data.facilitate=e.professionals.findIndex(s=>s.userId===this.getUser.id)>-1),this.buttonText="edit",this.data.owner={name:e.ownedby.name,account:e.ownedby.account,accountId:e.ownedby.accountId},this.checkDiscussion(e)},inItemSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.data.items.push(e)},findItemIndex(e){return this.data.items.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.data.items.splice(t,1)},removedItemsUpdate(e){this.data.removedItems.findIndex(s=>e.type===s.type&&e.id===s.id)===-1&&this.data.removedItems.push(e)},attachmentSelection(e){this.data.attachmentType=e},async getSpecificAccountItem(){if(this.specificItemDetailsNextPage===null)return;let e,t={account:this.data.owner.account,accountId:this.data.owner.accountId,items:["courses","extracurriculums"],search:this.searchItemsText,for:"program"};this.specificItemLoading=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemDetailsNextPage}),this.specificItemLoading=!1,e.status?(this.specificItemDetailsNextPage?this.specificItemDetails.push(...e.items):this.specificItemDetails=e.items,e.next?this.specificItemDetailsNextPage+=1:this.specificItemDetailsNextPage=null):console.log("response :>> ",e)},async clickedCreate(){if(this.loading)return;let e="";if(this.data.name.length?this.edit?this.data.state.length||(e="program requires a state"):(this.computedCreator.account==="facilitator"||this.computedCreator.account==="professional")&&this.computedPossibleOwners.length>1&&!this.data.owner.account?e="Please select the owner of this program you are creating.":this.data.paymentType!=="free"&&this.data.paymentData===null&&(e="Please enter the required data for the payment."):e="program requires a name",e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;if(s.append("name",this.data.name),s.append("description",this.data.description),s.append("attachments",JSON.stringify(this.data.attachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("paymentType",this.data.paymentType),s.append("paymentData",JSON.stringify(this.data.paymentData)),s.append("items",JSON.stringify(this.data.items.map(o=>({id:o.id,type:o.type})))),(this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional")&&s.append("facilitate",JSON.stringify(this.data.facilitate)),this.schoolAdmin?(s.append("account","admin"),s.append("accountId",this.schoolAdmin.id)):(s.append("account",this.computedAccount.account),s.append("accountId",this.computedAccount.accountId)),this.data.discussionData.title.length&&(s.append("discussionData",JSON.stringify(this.data.discussionData)),this.discussionFiles.forEach(o=>{s.append("discussionFile[]",o)})),this.edit?(s.append("state",this.data.state),s.append("main",JSON.stringify(this.computedCheckMain)),s.append("programId",this.data.programId),s.append("removedAttachments",JSON.stringify(this.data.removedAttachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("removedPaymentData",JSON.stringify(this.data.removedPaymentData.map(o=>({type:o.type,id:o.id})))),this.data.mainItems.forEach(o=>{this.data.items.findIndex(n=>n.type===o.type&&n.id===o.id)===-1&&this.removedItemsUpdate(o)}),s.append("removedItems",JSON.stringify(this.data.removedItems.map(o=>({type:o.type,id:o.id})))),t=await this["dashboard/editProgram"](s)):(this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional"?(s.append("owner",this.data.owner.account?this.data.owner.account:this.computedAccount.account),s.append("ownerId",this.data.owner.account?this.data.owner.accountId:this.computedAccount.accountId)):this.computedAccount.account==="school"&&(s.append("owner",this.computedAccount.account),s.append("ownerId",this.computedAccount.accountId)),t=await this["dashboard/createProgram"](s)),this.loading=!1,t.status){let o=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.name} was successfully ${o}`,this.edit?this.computedCheckMain&&this.$emit("programSuccessfullyEdited",t.programResource):this.clearData(),this.emitter.emit("updateProgram",t.program)}else this.issueDangerAlertForResponse(t.response),console.log("response :>> ",t)}}},Dv=e=>(gs("data-v-e09c5a48"),e=e(),vs(),e),ZJ={slot:"main"},eX={slot:"input"},tX={key:0,class:"loading"},sX=Dv(()=>h("div",{class:"section"},"Program Info",-1)),nX={key:3,class:"section"},iX=Dv(()=>h("div",{class:"section"},"Program Attachments",-1)),oX={key:0,class:"attachment-heading"},aX={key:1,class:"attachments"},rX={key:2,class:"attachment-heading"},lX={key:3,class:"attachments danger"},cX={key:7,class:"attachment-heading"},uX={key:8,class:"attachments"},dX={key:10,class:"attachment-heading"},hX={class:"class-payment course-classes-section"},fX={key:0,class:"class-wrapper"},mX={key:1,class:"no-data"},pX=Dv(()=>h("div",{class:"section"},"Payments",-1)),gX={key:11,class:"attachment-heading"},vX={key:12,class:"attachments"},yX={key:13,class:"attachment-heading"},wX={key:14,class:"attachments danger"},_X={key:15,class:"attachment-heading"},bX={key:17,class:"section"},kX={key:19,class:"discussion-preview"},AX={slot:"buttons"};function CX(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("main-select"),A=_("main-checkbox"),D=_("attachment-badge"),E=_("post-attachment"),T=_("search-input"),N=_("item-badge"),F=_("price-badge"),R=_("subscription-badge"),j=_("payment-types"),W=_("post-button"),Q=_("welcome-form"),le=_("main-modal"),me=_("just-fade"),k=_("create-discussion");return a(),d("div",null,[b(me,null,{default:z(()=>[e.show?(a(),S(le,{key:0,show:e.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"modal-wrapper"},{default:z(()=>[h("template",ZJ,[b(Q,{title:e.title,class:"create-program-wrapper"},{default:z(()=>[h("template",eX,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),e.loading?(a(),d("div",tX,[b(f,{loading:e.loading},null,8,["loading"])])):c("",!0),sX,b(m,{bottomBorder:!0,placeholder:"program name*",modelValue:e.data.name,"onUpdate:modelValue":t[0]||(t[0]=Ce=>e.data.name=Ce),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,placeholder:"description of the program",modelValue:e.data.description,"onUpdate:modelValue":t[1]||(t[1]=Ce=>e.data.description=Ce),class:"class-input"},null,8,["modelValue"]),e.edit?(a(),S(g,{key:1,items:["pending","accepted","declined","suspended"],value:e.data.state,backgroundColor:"white",onSelection:e.stateSelection,class:"other-input",placeholder:"change state of class"},null,8,["value","onSelection"])):c("",!0),e.computedCreator.account!=="school"?(a(),S(A,{key:2,modelValue:e.data.facilitate,"onUpdate:modelValue":t[2]||(t[2]=Ce=>e.data.facilitate=Ce),label:"will you be a faciliatator in this program?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.computedShowOwnership?(a(),d("div",nX,"Program Ownership")):c("",!0),e.computedShowOwnership?(a(),S(g,{key:4,class:"other-input",placeholder:"select owner of this program",backgroundColor:"white",objects:e.computedPossibleOwners,value:e.data.owner.name,onSelection:e.ownerSelection},null,8,["objects","value","onSelection"])):c("",!0),iX,e.computedAttachment.length>1?(a(),S(g,{key:5,class:"other-input",placeholder:"please attach some of these",backgroundColor:"white",items:e.computedAttachment,value:e.data.attachmentType,onSelection:n.attachmentSelection},null,8,["items","value","onSelection"])):c("",!0),e.edit?(a(),d(Z,{key:6},[e.data.mainAttachments.length?(a(),d("div",oX," already attached ")):c("",!0),e.data.mainAttachments.length?(a(),d("div",aX,[(a(!0),d(Z,null,pe(e.data.mainAttachments,(Ce,he)=>(a(),S(D,{key:he,attachment:Ce.data,hasClose:!0,onRemoveAttachment:Ke=>e.removeAttachment(Ce,"main")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.removedAttachments.length?(a(),d("div",rX," to be removed/unattached ")):c("",!0),e.data.removedAttachments.length?(a(),d("div",lX,[(a(!0),d(Z,null,pe(e.data.removedAttachments,(Ce,he)=>(a(),S(D,{key:he,attachment:Ce.data,hasClose:!0,onRemoveAttachment:Ke=>e.removeAttachment(Ce,"removed")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0)],64)):c("",!0),e.edit&&e.data.attachments.length?(a(),d("div",cX," new attachments ")):c("",!0),e.data.attachments.length?(a(),d("div",uX,[(a(!0),d(Z,null,pe(e.data.attachments,(Ce,he)=>(a(),S(D,{key:he,attachment:Ce.data,hasClose:!0,onRemoveAttachment:e.removeAttachment},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.attachmentType.length?(a(),S(E,{key:9,show:!0,hasSelect:!0,mainSearchItem:e.data.attachmentType,hasClose:!1,onClickedAttachmentSelection:e.attachmentSelected,class:"class-input"},null,8,["mainSearchItem","onClickedAttachmentSelection"])):c("",!0),e.data.owner.account?(a(),d("div",dX," courses ")):c("",!0),b(T,{class:"search-input",placeholder:"search for courses and extracurriculums",onSearch:e.getSearchItemsText},null,8,["onSearch"]),h("div",hX,[e.computedSpecificItems.length?(a(),d("div",fX,[(a(!0),d(Z,null,pe(e.computedSpecificItems,(Ce,he)=>(a(),S(N,{key:he,item:Ce,type:"course",hasRemove:n.inItemSelection(Ce),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),!e.specificItemLoading&&!e.computedSpecificItems.length&&e.data.owner.account?(a(),d("div",mX,V(`no courses for this ${e.data.owner.account}`),1)):c("",!0),b(f,{loading:e.specificItemLoading,size:"12px",class:"loading"},null,8,["loading"]),e.computedShowGetMore?(a(),d("div",{key:2,class:"get-more",onClick:t[3]||(t[3]=(...Ce)=>n.getSpecificAccountItem&&n.getSpecificAccountItem(...Ce))}," get more ")):c("",!0)]),pX,e.data.mainPaymentData.length?(a(),d("div",gX," current payment types ")):c("",!0),e.data.mainPaymentData.length?(a(),d("div",vX,[(a(!0),d(Z,null,pe(e.data.mainPaymentData,(Ce,he)=>(a(),d("div",{key:he},[Ce.type==="price"?(a(),S(F,{key:0,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Ce.type==="subscription"?(a(),S(R,{key:1,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.data.removedPaymentData.length?(a(),d("div",yX," payment types to be removed ")):c("",!0),e.data.removedPaymentData.length?(a(),d("div",wX,[(a(!0),d(Z,null,pe(e.data.removedPaymentData,(Ce,he)=>(a(),d("div",{key:he},[Ce.type==="price"?(a(),S(F,{key:0,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Ce.type==="subscription"?(a(),S(R,{key:1,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.edit&&e.data.paymentData?(a(),d("div",_X," new payment types ")):c("",!0),e.computedShowPayment?(a(),S(j,{key:16,onPaymentType:e.getPaymentType,type:e.paymentType,radioValue:e.data.paymentType,class:"other-input",onPaymentTypeError:e.error},null,8,["onPaymentType","type","radioValue","onPaymentTypeError"])):c("",!0),e.edit?c("",!0):(a(),d("div",bX,"Discussion")),!e.edit&&!e.data.discussionData.title.length?(a(),S(A,{key:18,modelValue:e.data.discussion,"onUpdate:modelValue":t[4]||(t[4]=Ce=>e.data.discussion=Ce),label:"automatically add a discussion?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.data.discussionData.title.length?(a(),d("div",kX,[b(N,{type:"discussion",item:e.data.discussionData,hasRemove:!0,onClickedRemoveItem:e.clearDiscussionData},null,8,["item","onClickedRemoveItem"])])):c("",!0)]),h("template",AX,[b(W,{buttonText:e.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1}),e.data.discussion?(a(),S(k,{key:0,show:e.data.discussion,edit:e.edit,auto:!0,onClickedCreate:e.getDiscussionData,onCreateDiscussionDisappear:e.closeDiscussionModal},null,8,["show","edit","onClickedCreate","onCreateDiscussionDisappear"])):c("",!0)])}const SX=Ae($J,[["render",CX],["__scopeId","data-v-e09c5a48"]]),IX={components:{},props:{hasLoading:{type:Boolean,default:!1},text:{type:String,default:""},icon:{type:String,default:""},title:{type:String,default:""},data:{type:Object,default(){return null}}},data(){return{loading:!1}},methods:{clickedDashboardAction(){this.hasLoading&&(this.loading=!0),this.$emit("click",{data:this.data,text:this.text,icon:this.icon})}}},TX=["title"],DX={key:0,class:"icon"},xX={key:1,class:"text"};function PX(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("pulse-loader");return s.text.length||s.icon.length?(a(),d("div",{key:0,class:"dashboard-action-wrapper",title:s.title,onClick:t[0]||(t[0]=(...m)=>n.clickedDashboardAction&&n.clickedDashboardAction(...m))},[!i.loading&&s.icon.length?(a(),d("div",DX,[b(r,{icon:["fa",s.icon]},null,8,["icon"])])):c("",!0),i.loading?c("",!0):(a(),d("div",xX,V(s.text),1)),i.loading?(a(),S(f,{key:2,loading:i.loading,size:"8px"},null,8,["loading"])):c("",!0)],8,TX)):c("",!0)}const yu=Ae(IX,[["render",PX],["__scopeId","data-v-26c2ca81"]]),MX={components:{ProfilePicture:Ys,DashboardActionButton:yu},props:{account:{type:Object,default(){return null}},actions:{type:Array,default(){return[]}},detailKeys:{type:Array,default(){return[]}}},computed:{computedDetails(){let e="";return this.detailKeys.forEach(t=>{e+=this.getDetailFromKey(t)}),e}},methods:{clickedAccount(){this.$emit("clickedAccount",this.account)},clickedDashboardAction(e){this.$emit("clickedDashboardAction",{account:this.account,action:e.text})},getDetailFromKey(e){return e.length&&this.account.hasOwnProperty(e)?`${e}: ${this.account[e]}
`:""}}},EX={slot:"image"},OX=["src"],RX={class:"account-type"},NX={key:1,class:"actions"};function LX(e,t,s,o,i,n){const r=_("profile-picture"),f=_("dashboard-action-button");return s.account?(a(),d("div",{key:0,class:"simple-account-wrapper",onClick:t[3]||(t[3]=Vt((...m)=>n.clickedAccount&&n.clickedAccount(...m),["self"]))},[h("div",{class:"top",onClick:t[0]||(t[0]=(...m)=>n.clickedAccount&&n.clickedAccount(...m))},[b(r,{class:"profile-picture"},{default:z(()=>[h("template",EX,[h("img",{src:s.account.url},null,8,OX)])]),_:1}),h("div",RX,V(s.account.account),1)]),h("div",{class:"name",onClick:t[1]||(t[1]=(...m)=>n.clickedAccount&&n.clickedAccount(...m))},V(s.account.name),1),n.computedDetails.length?(a(),d("div",{key:0,class:"details",onClick:t[2]||(t[2]=(...m)=>n.clickedAccount&&n.clickedAccount(...m))},V(n.computedDetails),1)):c("",!0),s.actions.length?(a(),d("div",NX,[(a(!0),d(Z,null,pe(s.actions,(m,v)=>(a(),S(f,{key:v,text:m,onClick:n.clickedDashboardAction},null,8,["text","onClick"]))),128))])):c("",!0)])):c("",!0)}const RA=Ae(MX,[["render",LX],["__scopeId","data-v-03cde343"]]),FX={components:{SimpleAccountBadge:RA,RadioInput:Ll,PostButton:xs,GreyButton:Nl,TextInput:js,TextTextarea:kn,NumberInput:fa,MainCheckbox:Vi,SearchInput:hr},props:{show:{type:Boolean,default:!1},edit:{type:Boolean,default:!1},editable:{type:Object,default(){return null}},schoolAdmin:{type:Object,default(){return null}}},data(){return{loading:!1,title:"create collaboration",data:{name:"",description:"",type:"",collaborate:!1,accountShare:"",collaboratorShare:""},accounts:[],collaborators:[],removedCollaborators:[],editedCollaborators:[],mainCollaborators:[],selectedAccount:null,searchText:"",searchType:"all",searchNextPage:1,searchLoading:!1,buttonText:"create",viewCollaborators:!1,maxAllowableShare:100}},watch:{"data.collaborate"(e){e?this.addCollaborationAccount(this.computedAccount):this.removeCollaborationAccount(this.computedAccount)},"data.accountShare"(e){this.data.collaborate&&this.updateCollaboratorShare(this.computedAccount,e)},"data.collaboratorShare"(e){this.selectedAccount&&this.updateCollaboratorShare(this.selectedAccount,e)},searchText(e,t){this.getCollaborators()},searchType(e,t){this.getCollaborators()},selectedAccount(e,t){e&&this.addCollaborationAccount(e)},show:{immediate:!0,handler(e){e&&this.getCollaborators()}}},created(){this.emitter.on("editCollaboration",e=>{this.setData(e),setTimeout((function(){this.computedAccountCollaboratorIndex>-1&&(this.data.collaborate=!0)}).bind(this),200)})},mixins:[ga],computed:{...os(["dashboard/getAccountDetails"]),computedAccount(){return this["dashboard/getAccountDetails"]?this["dashboard/getAccountDetails"]:null},computedSearching(){return this.accounts.length?!1:this.searchLoading},computedShowNoData(){return!this.searchLoading&&this.searchNextPage!==1&&!this.accounts.length},computedShowInfiniteLoader(){return!this.searchLoading&&this.searchNextPage&&this.searchNextPage>1},computedAccountCollaboratorIndex(){return this.collaborators.findIndex(e=>e.accountId===this.computedAccount.accountId&&e.account===this.computedAccount.account)},computedShowCollaborate(){return this.computedAccount&&this.isValidCollaborator(this.computedAccount)},computedTypeNote(){return this.data.type==="free"?"this means collaborators will not be receiving any commissions":this.data.type==="paid"?"this means collaborators will be receiving commissions based on their respective percentage share":""},computedTotalCollaboratorsShares(){return this.collaborators.reduce(function(e,t){return e+t.share},0)},computedMaxAllowableShare(){return 100-this.computedTotalCollaboratorsShares}},methods:{...ss(["profile/getProfileAccounts","dashboard/createCollaboration","dashboard/editCollaboration"]),stateSelection(e){this.data.state=e},clickedSearchType(e){this.searchType=e},getSelectedAccount(e){this.selectedAccount=e},clickedCollaborator(e){this.isComputedAccount(e)?this.data.accountShare=`${e.share}`:(this.selectedAccount=e,this.data.collaboratorShare=`${e.share}`)},setMaxAllowableShare(){this.maxAllowableShare=this.computedMaxAllowableShare},isValidCollaborator(e){return!!(e.account&&(e.account==="facilitator"||e.account==="professional"))},isComputedAccount(e){return e.account===this.computedAccount.account&&e.accountId===this.computedAccount.accountId},isSelectedAccount(e){return this.selectedAccount&&e.account===this.selectedAccount.account&&e.accountId===this.selectedAccount.accountId},clickedViewCollaborators(){this.viewCollaborators=!this.viewCollaborators},async getCollaborators(){this.searchNextPage=1;let e=await this.search();this.accounts=e.accounts,e.next?this.searchNextPage+=1:this.searchNextPage=null},async search(){let e={account:this.computedAccount.account,accountId:this.computedAccount.accountId,search:this.searchText,searchType:this.searchType,for:"collaboration"},t;return this.searchLoading=!0,t=await this["profile/getProfileAccounts"]({data:e,nextPage:this.searchNextPage}),this.searchLoading=!1,t.status?{accounts:t.accounts,next:t.next}:{accounts:[],next:null}},async infiniteHandler(e){if(!this.searchNextPage){e.complete();return}let t=await this.search();this.accounts.push(...t.accounts),t.next?(this.searchNextPage+=1,e.loaded()):(this.searchNextPage=null,$stae.complete())},closeModal(){this.clearData(),this.$emit("closeCreateCollaboration")},setData(e){this.buttonText="edit",this.title="edit collaboration",this.data.name=e.name,this.data.collaborationId=e.id,this.data.description=e.description,this.data.type=e.type.toLowerCase(),this.collaborators=[],this.mainCollaborators=[],this.collaborators.push(...e.collaborators),this.mainCollaborators.push(...Ft.cloneDeep(e.collaborators)),e.collaborators.forEach(t=>{this.isComputedAccount(t)&&(this.data.accountShare=`${t.share}`)})},clearData(){this.data.name="",this.data.description="",this.data.type="",this.data.collaborate=!1,this.collaborators=[],this.mainCollaborators=[],this.data.accountShare="",this.data.collaboratorShare="",this.selectedAccount=null,this.searchText="",this.searchType="all",this.searchNextPage=1,this.searchLoading=!1,this.title="create collaboration",this.buttonText="create",this.viewCollaborators=!1,this.clearAlert()},clearExtraData(){this.removedCollaborators=[],this.editedCollaborators=[]},getSearchText(e){this.searchText=e},clickedDashboardAction(e){e.action==="remove"&&(this.removeCollaborationAccount(e.account),this.isComputedAccount(e.account)&&(this.data.collaborate=!1),this.isSelectedAccount(e.account)&&(this.selectedAccount=null))},addCollaborationAccount(e){this.findCollaborationAccountIndex(e)===-1&&(this.collaborators.unshift({name:e.name,url:e.url,account:e.account,accountId:e.accountId,share:0}),this.isComputedAccount(e)||(this.data.collaboratorShare=""))},updateCollaboratorShare(e,t){let s=this.findCollaborationAccountIndex(e);s>-1&&(this.collaborators[s].share=t.length?Number.parseFloat(t):0,this.setMaxAllowableShare())},removeCollaborationAccount(e){let t=this.findCollaborationAccountIndex(e);t>-1&&(this.collaborators.splice(t,1),this.isComputedAccount(e)&&(this.data.accountShare=""),this.setMaxAllowableShare())},findCollaborationAccountIndex(e){return this.collaborators.findIndex(t=>t.account===e.account&&t.accountId===e.accountId)},removedCollaboratorsUpdate(e){this.removedCollaborators.push(e)},editedCollaboratorsUpdate(e){this.editedCollaborators.push(e)},hasExceededShareAllowance(){return this.computedTotalCollaboratorsShares>100},async clickedCreate(){if(this.loading)return;let e="";if(this.data.name.length?this.data.type.length?this.hasExceededShareAllowance()&&(e="please make sure shares do not exceed 100"):e="collaboration requires a type (free/paid)":e="collaboration requires a name",e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;if(s.append("name",this.data.name),s.append("description",this.data.description),s.append("type",this.data.type),s.append("account",this.computedAccount.account),s.append("accountId",this.computedAccount.accountId),this.schoolAdmin&&s.append("adminId",this.schoolAdmin.id),this.edit){s.append("collaborationId",this.data.collaborationId);let o=Ft.cloneDeep(this.collaborators);this.mainCollaborators.forEach(i=>{let n=this.findCollaborationAccountIndex(i);n===-1?this.removedCollaboratorsUpdate(i):o.splice(n,1),n=this.collaborators.findIndex(r=>r.accountId===i.accountId&&r.account===i.account&&r.share!=i.share),n>-1&&this.editedCollaboratorsUpdate(this.collaborators[n])}),s.append("removedCollaborators",JSON.stringify(this.removedCollaborators.map(i=>({account:i.account,accountId:i.accountId})))),s.append("editedCollaborators",JSON.stringify(this.editedCollaborators.map(i=>({account:i.account,accountId:i.accountId,share:i.share})))),s.append("collaborators",JSON.stringify(o.map(i=>({account:i.account,accountId:i.accountId,share:i.share})))),t=await this["dashboard/editCollaboration"](s)}else s.append("collaborators",JSON.stringify(this.collaborators.map(o=>({account:o.account,accountId:o.accountId,share:o.share})))),t=await this["dashboard/createCollaboration"](s);if(this.loading=!1,t.status){let o=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.name} was successfully ${o}`,this.edit||this.clearData()}else this.issueDangerAlertForResponse(t.response),console.log("response :>> ",t);this.clearExtraData()}}},NA=e=>(gs("data-v-0349259c"),e=e(),vs(),e),UX={slot:"main"},BX={slot:"input"},jX=NA(()=>h("div",{class:"section"},"Collaboration Info",-1)),VX={class:"type"},qX={key:0,class:"note"},HX=NA(()=>h("div",{class:"section"},"Adding Other Collaborators",-1)),WX={class:"search-types"},zX={key:3,class:"accounts"},GX={key:3,class:"no-data"},YX={key:6,class:"accounts"},QX={slot:"buttons"};function KX(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("radio-input"),A=_("main-checkbox"),D=_("number-input"),E=_("search-input"),T=_("grey-button"),N=_("simple-account-badge"),F=_("infinite-loading"),R=_("post-button"),j=_("welcome-form"),W=_("main-modal"),Q=_("just-fade");return a(),S(Q,null,{default:z(()=>[s.show?(a(),S(W,{key:0,show:s.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"create-collaboration-modal-wrapper"},{default:z(()=>[h("template",UX,[b(j,{title:i.title,class:"welcome-form"},{default:z(()=>[h("template",BX,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),b(f,{class:"loading",loading:i.loading},null,8,["loading"]),jX,b(m,{bottomBorder:!0,placeholder:"collaboration name*",modelValue:i.data.name,"onUpdate:modelValue":t[0]||(t[0]=le=>i.data.name=le),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,placeholder:"description of the collaboration",modelValue:i.data.description,"onUpdate:modelValue":t[1]||(t[1]=le=>i.data.description=le),class:"class-input"},null,8,["modelValue"]),h("div",VX,[b(g,{label:"free",radioValue:"free",modelValue:i.data.type,"onUpdate:modelValue":t[2]||(t[2]=le=>i.data.type=le)},null,8,["modelValue"]),b(g,{label:"paid",radioValue:"paid",modelValue:i.data.type,"onUpdate:modelValue":t[3]||(t[3]=le=>i.data.type=le)},null,8,["modelValue"])]),n.computedTypeNote.length?(a(),d("div",qX,V(n.computedTypeNote),1)):c("",!0),n.computedShowCollaborate?(a(),S(A,{key:1,modelValue:i.data.collaborate,"onUpdate:modelValue":t[4]||(t[4]=le=>i.data.collaborate=le),label:`this ${n.computedAccount.account} account of yours a collaborator?`,class:"class-input"},null,8,["modelValue","label"])):c("",!0),i.data.collaborate?(a(),S(D,{key:2,bottomBorder:!0,placeholder:`${n.computedAccount.name}'s share`,modelValue:i.data.accountShare,"onUpdate:modelValue":t[5]||(t[5]=le=>i.data.accountShare=le),inputMax:i.maxAllowableShare,inputMin:0,class:"number-input",label:"percent share",prepend:"%"},null,8,["placeholder","modelValue","inputMax"])):c("",!0),HX,b(E,{class:"search-input",placeholder:"search accounts",onSearch:n.getSearchText},null,8,["onSearch"]),h("div",WX,[b(T,{class:"grey-button",text:"all",onClickedAction:n.clickedSearchType,active:i.searchType==="all"},null,8,["onClickedAction","active"]),b(T,{class:"grey-button",text:"facilitators",onClickedAction:n.clickedSearchType,active:i.searchType==="facilitators"},null,8,["onClickedAction","active"]),b(T,{class:"grey-button",text:"professionals",onClickedAction:n.clickedSearchType,active:i.searchType==="professionals"},null,8,["onClickedAction","active"])]),i.accounts?(a(),d("div",zX,[i.searchNextPage===1?(a(),S(f,{key:0,loading:i.searchLoading},null,8,["loading"])):c("",!0),i.searchLoading?c("",!0):(a(!0),d(Z,{key:1},pe(i.accounts,(le,me)=>(a(),S(N,{key:me,account:le,class:"mr-3",onClickedAccount:n.getSelectedAccount},null,8,["account","onClickedAccount"]))),128)),n.computedShowInfiniteLoader?(a(),S(F,{key:2,onInfinte:n.infiniteHandler},null,8,["onInfinte"])):c("",!0),n.computedShowNoData?(a(),d("div",GX," no accounts for this search ")):c("",!0)])):c("",!0),i.selectedAccount?(a(),S(D,{key:4,bottomBorder:!0,placeholder:`${i.selectedAccount.name}'s share`,modelValue:i.data.collaboratorShare,"onUpdate:modelValue":t[6]||(t[6]=le=>i.data.collaboratorShare=le),inputMax:i.maxAllowableShare,inputMin:0,class:"number-input",label:"percent share",prepend:"%"},null,8,["placeholder","modelValue","inputMax"])):c("",!0),i.collaborators.length?(a(),S(T,{key:5,text:"view collaborators",onClickedAction:n.clickedViewCollaborators,active:i.viewCollaborators},null,8,["onClickedAction","active"])):c("",!0),i.viewCollaborators?(a(),d("div",YX,[(a(!0),d(Z,null,pe(i.collaborators,(le,me)=>(a(),S(N,{key:me,account:le,detailKeys:["share"],class:"mr-3",actions:["remove"],onClickedAccount:n.clickedCollaborator,onClickedDashboardAction:n.clickedDashboardAction},null,8,["account","onClickedAccount","onClickedDashboardAction"]))),128))])):c("",!0)]),h("template",QX,[b(R,{buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const JX=Ae(FX,[["render",KX],["__scopeId","data-v-0349259c"]]),XX={components:{PaymentTypes:gu,SubscriptionBadge:pu,FeeBadge:Id,PriceBadge:Ac,ItemBadge:fr,AutoAlert:Mi,PostAttachment:go,TextInput:js,AttachmentBadge:vo,PostButton:xs,TextTextarea:kn,MainSelect:pa,MainCheckbox:Vi,CreateDiscussion:kc},props:{},data(){return{}},watch:{computedOwner:{deep:!0,handler(e){e.account&&this.debouncedSearchItems()}}},created(){this.title="create an extracurriculum",this.emitter.on("editExtracurriculum",e=>{this.setData(e)}),this.emitter.on("extracurriculumOwnership",()=>{this.hasOwnership=!0,this.data.owner=this.computedCreator})},mixins:[Dd],computed:{...os(["dashboard/getAccountDetails","dashboard/getCurrentAccount","getUser"]),computedAttachment(){return this.data.owner.account==="school"?["programs","grades","courses"]:["programs","grades","courses"]},computedOwner(){return this.data.owner},computedSpecificItemType(){return this.data.owner.account!=="professional"?"classes and programs":"programs"}},methods:{...ss(["dashboard/createExtracurriculum","dashboard/editExtracurriculum","dashboard/getAccountSpecificItems"]),closeModal(){this.data.owner={name:""},this.clearData(),this.$emit("closeCreateExtracurriculum")},setData(e){var t;this.data.name=e.name,this.data.extracurriculumId=e.id,this.data.state=(t=e.state)==null?void 0:t.toLowerCase(),this.data.description=e.description,this.data.items=[],this.data.mainItems=[],this.data.items.push(...e.items),this.data.mainItems.push(...e.items),this.data.mainAttachments=[],e.attachments?this.data.mainAttachments.push(...e.attachments):(this.data.mainAttachments.push(...e.courses),this.data.mainAttachments.push(...e.programs),this.data.mainAttachments.push(...e.grades)),this.data.mainPaymentData=[],this.data.mainPaymentData.push(...e.subscriptions),this.data.mainPaymentData.push(...e.prices),this.data.facilitate=e.facilitators.findIndex(s=>s.userId===this.getUser.id)>-1,this.data.facilitate||(this.data.facilitate=e.professionals.findIndex(s=>s.userId===this.getUser.id)>-1),this.buttonText="edit",this.data.owner={name:e.ownedby.name,account:e.ownedby.account,accountId:e.ownedby.accountId},this.checkDiscussion(e)},inItemsSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.data.items.push(e)},findItemIndex(e){return this.data.items.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.data.items.splice(t,1)},removedItemsUpdate(e){this.data.removedItems.findIndex(s=>e.type===s.type&&e.id===s.id)===-1&&this.data.removedItems.push(e)},attachmentSelection(e){this.data.attachmentType=e},async getSpecificAccountItem(){if(this.specificItemDetailsNextPage===null)return;let e,t={account:this.data.owner.account,accountId:this.data.owner.accountId,items:["classes","programs"],search:this.searchItemsText,for:"extracurriculum"};this.specificItemLoading=!0,e=await this["dashboard/getAccountSpecificItems"]({data:t,nextPage:this.specificItemDetailsNextPage}),this.specificItemLoading=!1,e.status?(this.specificItemDetailsNextPage?this.specificItemDetails.push(...e.items):this.specificItemDetails=e.items,e.next?this.specificItemDetailsNextPage+=1:this.specificItemDetailsNextPage=null):console.log("response :>> ",e)},async clickedCreate(){if(this.loading)return;let e="";if(this.data.name.length?this.edit?this.data.state.length||(e="extracurriculum requires a state"):(this.computedCreator.account==="facilitator"||this.computedCreator.account==="professional")&&this.computedPossibleOwners.length>1&&!this.data.owner.account?e="Please select the owner of this extracurriculum you are creating.":this.data.paymentType!=="free"&&this.data.paymentData===null&&(e="Please enter the required data for the payment."):e="extracurriculum requires a name",e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;if(s.append("name",this.data.name),s.append("description",this.data.description),s.append("attachments",JSON.stringify(this.data.attachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("paymentType",this.data.paymentType),s.append("paymentData",JSON.stringify(this.data.paymentData)),s.append("items",JSON.stringify(this.data.items.map(o=>({id:o.id,type:o.type})))),(this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional")&&s.append("facilitate",JSON.stringify(this.data.facilitate)),this.schoolAdmin?(s.append("account","admin"),s.append("accountId",this.schoolAdmin.id)):(s.append("account",this.computedAccount.account),s.append("accountId",this.computedAccount.accountId)),this.edit?(s.append("state",this.data.state),s.append("main",JSON.stringify(this.computedCheckMain)),s.append("extracurriculumId",this.data.extracurriculumId),s.append("removedAttachments",JSON.stringify(this.data.removedAttachments.map(o=>({type:o.type.slice(0,o.type.length-1),id:o.data.id})))),s.append("removedPaymentData",JSON.stringify(this.data.removedPaymentData.map(o=>({type:o.type,id:o.id})))),this.data.mainItems.forEach(o=>{this.data.items.findIndex(n=>n.type===o.type&&n.id===o.id)===-1&&this.removedItemsUpdate(o),console.table(this.data.removedItems)}),s.append("removedItems",JSON.stringify(this.data.removedItems.map(o=>({type:o.type,id:o.id})))),t=await this["dashboard/editExtracurriculum"](s)):(this.data.discussionData.title.length&&(s.append("discussionData",JSON.stringify(this.data.discussionData)),this.discussionFiles.forEach(o=>{s.append("discussionFile[]",o)})),this.computedAccount.account==="facilitator"||this.computedAccount.account==="professional"?(s.append("owner",this.data.owner.account?this.data.owner.account:this.computedAccount.account),s.append("ownerId",this.data.owner.account?this.data.owner.accountId:this.computedAccount.accountId)):this.computedAccount.account==="school"&&(s.append("owner",this.computedAccount.account),s.append("ownerId",this.computedAccount.accountId)),t=await this["dashboard/createExtracurriculum"](s)),this.loading=!1,t.status){let o=this.edit?"edited":"created";this.alertSuccess=!0,this.alertMessage=`${this.data.name} was successfully ${o}`,this.edit?this.computedCheckMain&&this.$emit("extracurriculumSuccessfullyEdited",t.extracurriculumResource):this.clearData(),this.emitter.emit("updateExtracurriculum",t.extracurriculum)}else this.issueDangerAlertForResponse(t.response),console.log("response :>> ",t)}}},xv=e=>(gs("data-v-abbb2719"),e=e(),vs(),e),$X={slot:"main"},ZX={slot:"input"},e$={key:0,class:"loading"},t$=xv(()=>h("div",{class:"section"},"Extracurriculum Info",-1)),s$={key:3,class:"section"},n$=xv(()=>h("div",{class:"section"},"Extracurriculum Attachments",-1)),i$={key:0,class:"attachment-heading"},o$={key:1,class:"attachments"},a$={key:2,class:"attachment-heading"},r$={key:3,class:"attachments danger"},l$={key:7,class:"attachment-heading"},c$={key:8,class:"attachments"},u$={class:"attachment-heading"},d$={class:"class-payment course-classes-section"},h$={key:0,class:"class-wrapper"},f$={key:1,class:"no-data"},m$=xv(()=>h("div",{class:"section"},"Payments",-1)),p$={key:11,class:"attachment-heading"},g$={key:12,class:"attachments"},v$={key:13,class:"attachment-heading"},y$={key:14,class:"attachments danger"},w$={key:15,class:"attachment-heading"},_$={key:17,class:"section"},b$={key:19,class:"discussion-preview"},k$={slot:"buttons"};function A$(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("text-input"),v=_("text-textarea"),g=_("main-select"),A=_("main-checkbox"),D=_("attachment-badge"),E=_("post-attachment"),T=_("search-input"),N=_("item-badge"),F=_("price-badge"),R=_("subscription-badge"),j=_("payment-types"),W=_("post-button"),Q=_("welcome-form"),le=_("main-modal"),me=_("just-fade"),k=_("create-discussion");return a(),d("div",null,[b(me,null,{default:z(()=>[e.show?(a(),S(le,{key:0,show:e.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"modal-wrapper"},{default:z(()=>[h("template",$X,[b(Q,{title:e.title,class:"create-extracurriculum-wrapper"},{default:z(()=>[h("template",ZX,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),e.loading?(a(),d("div",e$,[b(f,{loading:e.loading},null,8,["loading"])])):c("",!0),t$,b(m,{bottomBorder:!0,placeholder:"extracurriculum name*",modelValue:e.data.name,"onUpdate:modelValue":t[0]||(t[0]=Ce=>e.data.name=Ce),class:"other-input"},null,8,["modelValue"]),b(v,{bottomBorder:!0,placeholder:"description of the extracurriculum",modelValue:e.data.description,"onUpdate:modelValue":t[1]||(t[1]=Ce=>e.data.description=Ce),class:"class-input"},null,8,["modelValue"]),e.edit?(a(),S(g,{key:1,items:["pending","accepted","declined","suspended"],value:e.data.state,backgroundColor:"white",onSelection:e.stateSelection,class:"other-input",placeholder:"change state of class"},null,8,["value","onSelection"])):c("",!0),e.computedCreator.account!=="school"?(a(),S(A,{key:2,modelValue:e.data.facilitate,"onUpdate:modelValue":t[2]||(t[2]=Ce=>e.data.facilitate=Ce),label:"will you be a faciliatator in this extracurriculum?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.computedShowOwnership?(a(),d("div",s$,"Extracurriculum Ownership")):c("",!0),e.computedShowOwnership?(a(),S(g,{key:4,class:"other-input",placeholder:"select owner of this extracurriculum",backgroundColor:"white",objects:e.computedPossibleOwners,value:e.data.owner.name,onSelection:e.ownerSelection},null,8,["objects","value","onSelection"])):c("",!0),n$,n.computedAttachment.length>1?(a(),S(g,{key:5,class:"other-input",placeholder:"please attach some of these",backgroundColor:"white",items:n.computedAttachment,value:e.data.attachmentType,onSelection:n.attachmentSelection},null,8,["items","value","onSelection"])):c("",!0),e.edit?(a(),d(Z,{key:6},[e.data.mainAttachments.length?(a(),d("div",i$," already attached ")):c("",!0),e.data.mainAttachments.length?(a(),d("div",o$,[(a(!0),d(Z,null,pe(e.data.mainAttachments,(Ce,he)=>(a(),S(D,{key:he,attachment:Ce.data,hasClose:!0,onRemoveAttachment:Ke=>e.removeAttachment(Ce,"main")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.removedAttachments.length?(a(),d("div",a$," to be removed/unattached ")):c("",!0),e.data.removedAttachments.length?(a(),d("div",r$,[(a(!0),d(Z,null,pe(e.data.removedAttachments,(Ce,he)=>(a(),S(D,{key:he,attachment:Ce.data,hasClose:!0,onRemoveAttachment:Ke=>e.removeAttachment(Ce,"removed")},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0)],64)):c("",!0),e.edit&&e.data.attachments.length?(a(),d("div",l$," new attachments ")):c("",!0),e.data.attachments.length?(a(),d("div",c$,[(a(!0),d(Z,null,pe(e.data.attachments,(Ce,he)=>(a(),S(D,{key:he,attachment:Ce.data,hasClose:!0,onRemoveAttachment:e.removeAttachment},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),e.data.attachmentType.length?(a(),S(E,{key:9,show:!0,hasSelect:!0,mainSearchItem:e.data.attachmentType,hasClose:!1,onClickedAttachmentSelection:e.attachmentSelected,class:"class-input"},null,8,["mainSearchItem","onClickedAttachmentSelection"])):c("",!0),h("div",u$,V(n.computedSpecificItemType),1),e.data.owner.account?(a(),S(T,{key:10,class:"search-input",placeholder:"search for classes and programs",onSearch:e.getSearchItemsText},null,8,["onSearch"])):c("",!0),h("div",d$,[e.computedSpecificItems.length?(a(),d("div",h$,[(a(!0),d(Z,null,pe(e.computedSpecificItems,(Ce,he)=>(a(),S(N,{key:he,item:Ce,type:"class",hasRemove:n.inItemsSelection(Ce),class:"class-badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))])):c("",!0),!e.specificItemLoading&&!e.computedSpecificItems.length?(a(),d("div",f$,V(`no ${n.computedSpecificItemType} for this ${e.data.owner.account}`),1)):c("",!0),b(f,{loading:e.specificItemLoading,size:"12px",class:"loading"},null,8,["loading"]),e.computedShowGetMore?(a(),d("div",{key:2,class:"get-more",onClick:t[3]||(t[3]=(...Ce)=>n.getSpecificAccountItem&&n.getSpecificAccountItem(...Ce))}," get more ")):c("",!0)]),m$,e.data.mainPaymentData.length?(a(),d("div",p$," current payment types ")):c("",!0),e.data.mainPaymentData.length?(a(),d("div",g$,[(a(!0),d(Z,null,pe(e.data.mainPaymentData,(Ce,he)=>(a(),d("div",{key:he},[Ce.type==="price"?(a(),S(F,{key:0,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Ce.type==="subscription"?(a(),S(R,{key:1,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"main"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.data.removedPaymentData.length?(a(),d("div",v$," payment types to be removed ")):c("",!0),e.data.removedPaymentData.length?(a(),d("div",y$,[(a(!0),d(Z,null,pe(e.data.removedPaymentData,(Ce,he)=>(a(),d("div",{key:he},[Ce.type==="price"?(a(),S(F,{key:0,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0),Ce.type==="subscription"?(a(),S(R,{key:1,data:Ce,onClickedRemoveData:Ke=>e.clickedRemovePayment(Ce,"removed"),class:"payment-badge"},null,8,["data","onClickedRemoveData"])):c("",!0)]))),128))])):c("",!0),e.edit&&e.data.paymentData?(a(),d("div",w$," new payment types ")):c("",!0),e.computedShowPayment?(a(),S(j,{key:16,onPaymentType:e.getPaymentType,type:e.paymentType,radioValue:e.data.paymentType,class:"other-input",onPaymentTypeError:e.error},null,8,["onPaymentType","type","radioValue","onPaymentTypeError"])):c("",!0),e.computedShowDiscussion?(a(),d("div",_$,"Discussion")):c("",!0),e.computedShowDiscussion&&!e.data.discussionData.title.length?(a(),S(A,{key:18,modelValue:e.data.discussion,"onUpdate:modelValue":t[4]||(t[4]=Ce=>e.data.discussion=Ce),label:"automatically add a discussion?",class:"class-input"},null,8,["modelValue"])):c("",!0),e.data.discussionData.title.length?(a(),d("div",b$,[b(N,{type:"discussion",item:e.data.discussionData,hasRemove:!0,onClickedRemoveItem:e.clearDiscussionData},null,8,["item","onClickedRemoveItem"])])):c("",!0)]),h("template",k$,[b(W,{buttonText:e.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1}),e.data.discussion?(a(),S(k,{key:0,show:e.data.discussion,edit:e.edit,auto:!0,onClickedCreate:e.getDiscussionData,onCreateDiscussionDisappear:e.closeDiscussionModal},null,8,["show","edit","onClickedCreate","onCreateDiscussionDisappear"])):c("",!0)])}const LA=Ae(XX,[["render",A$],["__scopeId","data-v-abbb2719"]]),C$={};function S$(e,t,s,o,i,n){return a(),d("div",null,[Jt(e.$slots,"default",{},void 0,!0)])}const Pv=Ae(C$,[["render",S$],["__scopeId","data-v-2c67a214"]]),I$={};function T$(e,t,s,o,i,n){return a(),S(No,{name:"fade-left-fast"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const Kf=Ae(I$,[["render",T$],["__scopeId","data-v-8cc873d1"]]),D$={components:{FadeLeftFast:Kf,JustFade:uo,AutoAlert:Mi,FilePreview:Lo,ProfilePicture:Ys,PostButton:xs,MainTextarea:dr},props:{what:{type:Object,default(){return{}}},edit:{type:Boolean,default:!1},onPostModal:{type:Boolean,default:!1},editableData:{type:Object,default(){return{}}},account:{type:Object,default(){return{}}},schoolAdmin:{type:Object,default(){return null}},id:{type:Number,default:0},showAddComment:{type:Boolean,default:!1}},mixins:[Yf],data(){return{commentText:"",error:"",showPreview:!1,clickedButton:"",imageType:"image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp",videoType:"video/webm,video/mp4,video/ogg",audioType:"audio/mpeg,audio/ogg,audio/wav",file:null,alertMessage:"",alertSuccess:!1,alertDanger:!1,buttonText:"add"}},watch:{showAddComment:{immediate:!0,handler(e){e||(this.commentText="")}},editableData:{immediate:!0,handler(e,t){},deep:!0},edit:{immediate:!0,handler(e){e?(this.commentText=this.editableData.body,this.buttonText="save"):(this.commentText="",this.buttonText="add")}}},computed:{...os(["getActiveProfile","profile/getCommentingStatus","profile/getActiveProfile","profile/getMsg"]),computedCommenting(){return!!(this["profile/getCommentingStatus"]&&this.commentText&&this.commentText.length)},computedProfileUrl(){return this.account&&this.account.url?this.account.url:this["profile/getActiveProfile"]?this["profile/getActiveProfile"].url:this.getActiveProfile?this.getActiveProfile.url:""},computedShowIcons(){return!!(this.commentText&&this.commentText.length&&!this.file)},computedPost(){return!!((this.file||this.commentText&&this.commentText.length)&&!this.computedCommenting)}},methods:{hideAutoAlert(){this.hideAddComment()},hideAddComment(){this.$emit("hideAddComment")},removeFile(){this.file=null,this.clickedButton="",this.showPreview=!1},clickFile(e){this.clickedButton=e,this.showPreview=!1,e==="image"?this.$refs.file.setAttribute("accept",this.imageType):e==="video"?this.$refs.file.setAttribute("accept",this.videoType):e==="audio"&&this.$refs.file.setAttribute("accept",this.audioType),this.$refs.file.click()},fileChange(e){let t=e.target.files[0];this.error="",this.showValidation=!1,this.showPreview=!0,this.clickedButton==="image"?this.imageType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`):this.clickedButton==="video"?this.videoType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`):this.clickedButton==="audio"&&(this.audioType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`)),e.target.value=""},addComment(){var e;if(this.edit){let t={};t.account=this.editableData.commentedby.account,t.accountId=this.editableData.commentedby.accountId,t.account==="school"&&(t.admin=this.schoolAdmin),this.clickedProfile(t);return}if(this.commentText.length){if((e=this.account)!=null&&e.account){this.clickedProfile(this.account);return}this.showProfiles=!0}},async clickedProfile(e){this.showProfiles=!1;let t=new FormData,s={};this.file&&t.append("file",this.file),this.commentText.length&&t.append("body",this.commentText.trim()),t.append("account",e.account),t.append("accountId",e.accountId),(this.schoolAdmin||e.admin)&&t.append("adminId",this.schoolAdmin?this.schoolAdmin.id:e.admin.id);const o=useRoute();let i=null;this.edit?(s={commmentId:this.editableData.id,where:o.name,item:ns.getAccount(this.editableData.commentable_type),itemId:this.editableData.commentable_id},i=await this["profile/updateComment"]({data:s,formData:t})):(s={onPostModal:this.onPostModal,where:o.name},t.append("item",this.what.item),t.append("itemId",this.what.itemId),i=await this["profile/createComment"]({data:s,formData:t})),i!=="unsuccessful"?(this.file=null,this.alertSuccess=!0,this.alertDanger=!1,this.commentText="",s.where==="dashboard"?this.$emit("dashboardCommentCreated",i.comment):this.edit?this.$emit("postModalCommentEdited",i.comment):(this.$emit("postAddComplete","successful"),this.onPostModal&&this.$emit("postModalCommentCreated",i.comment))):(this.alertSuccess=!1,this.alertDanger=!0,this.edit||this.$emit("postAddComplete","unsuccessful"))},...ss(["profile/createComment","profile/updateComment"])}},x$=e=>(gs("data-v-6c417fce"),e=e(),vs(),e),P$={key:0,class:"add-comment-wrapper"},M$={slot:"image"},E$=["src"],O$={class:"add-comment"},R$={key:2,class:"profiles"},N$=x$(()=>h("span",null," comment as ",-1)),L$={class:"lower"};function F$(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("auto-alert"),m=_("profile-picture"),v=_("dot-loader"),g=_("main-textarea"),A=_("post-button"),D=_("profile-bar"),E=_("file-preview"),T=_("just-fade"),N=_("fade-left-fast");return a(),S(N,null,{default:z(()=>[s.showAddComment?(a(),d("div",P$,[h("div",{class:"hide",onClick:t[0]||(t[0]=(...F)=>n.hideAddComment&&n.hideAddComment(...F))},"..."),s.edit?c("",!0):(a(),d("div",{key:0,class:"top",onClick:t[4]||(t[4]=F=>e.showProfiles=!1)},[h("div",{class:"icons",onClick:t[1]||(t[1]=Vt(F=>n.clickFile("image"),["prevent"]))},[b(r,{icon:["fa","file-image"]})]),h("div",{class:"icons",onClick:t[2]||(t[2]=Vt(F=>n.clickFile("video"),["prevent"]))},[b(r,{icon:["fa","file-video"]})]),h("div",{class:"icons",onClick:t[3]||(t[3]=Vt(F=>n.clickFile("audio"),["prevent"]))},[b(r,{icon:["fa","file-audio"]})])])),h("div",{class:"middle",onClick:t[8]||(t[8]=Vt(F=>e.showProfiles=!1,["self"]))},[b(f,{message:i.alertMessage,success:i.alertSuccess,danger:i.alertDanger,onHideAlert:n.hideAutoAlert},null,8,["message","success","danger","onHideAlert"]),n.computedProfileUrl.length?(a(),d("div",{key:0,class:"add-comment-profile",onClick:t[5]||(t[5]=F=>e.showProfiles=!1)},[b(m,null,{default:z(()=>[h("template",M$,[h("img",{src:n.computedProfileUrl},null,8,E$)])]),_:1})])):c("",!0),h("div",O$,[b(v,{loading:n.computedCommenting},null,8,["loading"]),n.computedCommenting?c("",!0):(a(),S(g,{key:0,onClick:t[6]||(t[6]=F=>e.showProfiles=!1),textPlaceholder:"have a comment?",modelValue:i.commentText,"onUpdate:modelValue":t[7]||(t[7]=F=>i.commentText=F)},null,8,["modelValue"])),n.computedPost?(a(),S(A,{key:1,buttonText:i.buttonText,onClick:n.addComment},null,8,["buttonText","onClick"])):c("",!0),e.showProfiles?(a(),d("div",R$,[N$,(a(!0),d(Z,null,pe(e.computedProfiles,(F,R)=>(a(),d("div",{key:R},[b(D,{smallType:!0,profile:F,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)])]),h("div",L$,[b(T,null,{default:z(()=>[i.showPreview?(a(),S(E,{key:0,show:i.showPreview,file:i.file,onRemoveFile:n.removeFile},null,8,["show","file","onRemoveFile"])):c("",!0)]),_:1})]),h("input",{type:"file",ref:"file",onChange:t[9]||(t[9]=(...F)=>n.fileChange&&n.fileChange(...F)),class:"hidden"},null,544)])):c("",!0)]),_:1})}const Od=Ae(D$,[["render",F$],["__scopeId","data-v-6c417fce"]]),U$=e=>(gs("data-v-1ebf491a"),e=e(),vs(),e),B$={class:"reason-top"},j$=U$(()=>h("span",null,"any reason?",-1)),V$={class:"reason-bottom"},q$={__name:"FlagReason",props:{show:{type:Boolean,default:!0},hasBackground:{type:Boolean,default:!1}},emits:["cancelFlagProcess","reasonGiven","continueFlagProcess"],setup(e,{emit:t}){const s=t,o=e,i=at("cancel"),n=at(""),r=at(!1),f=at(!1),m=at(!1),v=at(!1),g=at(!1);Us(()=>o.show,()=>{o.show||(n.value="",i.value="cancel",r.value=!1,f.value=!1,m.value=!1,v.value=!1,g.value=!1)}),Us(()=>n.value,E=>{var T;(T=n.value)!=null&&T.length?i.value="give":i.value="cancel"});function A(E){v.value=!0,g.value=!1,E==="cancel"?s("cancelFlagProcess"):E==="give"&&s("reasonGiven",n.value)}function D(E){f.value=!1,m.value=!1,E==="yes"?(f.value=!0,r.value=!0,g.value=!0):E==="no"&&(m.value=!0,s("continueFlagProcess"))}return(E,T)=>(a(),S(ma,null,{transition:z(()=>[e.show?(a(),d("div",{key:0,class:we(["flag-reason-wrapper",{hasBackground:e.hasBackground}])},[h("div",B$,[j$,h("div",{class:we(["reason-yes",{reasonYes:f.value}]),onClick:T[0]||(T[0]=N=>D("yes"))},"yes",2),h("div",{class:we(["reason-no",{reasonNo:m.value}]),onClick:T[1]||(T[1]=N=>D("no"))},"no",2),h("div",{class:we(["action",{reasonReady:g.value,reasonActive:v.value}]),onClick:T[2]||(T[2]=N=>A(i.value))},V(i.value),3)]),h("div",V$,[b(Kf,null,Oa({_:2},[r.value?{name:"transition",fn:z(()=>[b(dr,{placeholder:"your reason",modelValue:n.value,"onUpdate:modelValue":T[3]||(T[3]=N=>n.value=N)},null,8,["modelValue"])]),key:"0"}:void 0]),1024)])],2)):c("",!0)]),_:1}))}},Jf=Ae(q$,[["__scopeId","data-v-1ebf491a"]]),H$={name:"SingleComment",components:{FadeUp:bi,JustFade:uo,OptionalActions:Wr,AutoAlert:Mi,ProfileBar:oi,AddComment:Od,WelcomeForm:_c,NumberOf:Pv,ProfilePicture:Ys,PostButton:xs,FlagReason:Jf},props:{comment:{type:Object,default(){return{}}},account:{type:Object,default(){return null}},schoolAdmin:{type:Object,default(){return null}},showCommentNumber:{typpe:Boolean,default:!0},onPostModal:{typpe:Boolean,default:!1},disabled:{typpe:Boolean,default:!1},simple:{typpe:Boolean,default:!1},dashboard:{typpe:Boolean,default:!1}},mixins:[bv,kv,Av,ga,Cv,Sv,Yf],data(){return{id:null,profile:null,showOptions:null,inputComment:"",showEdit:!1,showAlert:!1,editComment:!1,commentCount:0,commentTitle:"",showViewComments:!1,commentSuccess:!1,commentFail:!1,showCommentSingle:!0,loading:!1}},watch:{showOptions(e,t){e&&setTimeout(()=>{this.showOptions=!1},3e3)},comment:{immediate:!0,required:!0,handler(e,t){e&&(this.commentCount=e.comments?e.comments:0,this.commentTitle=this.commentCount?"click to view comments":"")},deep:!0},showEdit(e){e?(this.editComment=!0,this.showAddComment=!0):this.editComment=!1},"comment.likes":{immediate:!0,handler(e){e&&(this.likeData.likes=e.length)}},"comment.saves":{immediate:!0,handler(e){e&&(this.saveData.saves=e.length)}}},mounted(){this.setMyFlag(),this.setMyLike(),this.setMySave(),this.listen(),this.listenForComments(),this.listenForLikes(),this.listenForFlags(),this.listenForSaves()},computed:{...os(["getUser","getProfiles","profile/getMsg"]),computedCommentOwnerAccount(){return this.post?{account:this.comment.commentedby.account,accountId:`${this.comment.commentedby.accountId}`}:null},computedClasses(){let e="";return(this.showProfilesAction==="save"||this.showProfilesAction==="attach")&&(e+="absolute top-5 left-2/3 -ml-1/4 top-10 max-w-content"),this.steps===0&&(e+=" bottom-8"),e},computedItem(){return{item:"comment",itemId:this.comment.id}},computedItemable(){return this.comment},computedIsOwner(){var e;return this.comment.commentedby.userId===((e=this.getUser)==null?void 0:e.id)},computedProfileUrl(){var e;return(e=this.comment)!=null&&e.commentedby.url?this.comment.commentedby.url:""},computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedName(){return this.comment.commentedby.name},computedCreatedAt(){return this.comment.createdAt},computedImageUrl(){return this.comment.images&&this.comment.images.length?this.comment.images[0].url:""},computedAudioUrl(){return this.comment.audios&&this.comment.audios.length?this.comment.audios[0].url:""},computedVideoUrl(){return this.comment.videos&&this.comment.videos.length?this.comment.videos[0].url:""},computedBody(){return this.comment.hasOwnProperty("body")?ns.trim(this.comment.body,200):null},computedCommentNumber(){return!!(this.showCommentNumber&&this.commentCount>-1)},computedOwner(){let e=this.getProfiles,t=null;return e&&(t=e.findIndex(s=>this.comment.commentedby.accountId===s.accountId&&this.comment.commentedby.account===s.account),t>-1)?(this.profile=this.getProfiles[t],!0):!1}},methods:{...ss(["profile/deleteComment","home/removePost","home/replacePost","profile/removePost","profile/replacePost","dashboard/removePost","dashboard/replacePost"]),clickedMedia(e,t){this.$emit("clickedMedia",{url:e,mediaType:t})},commentUnlikeSuccessfulMain(e){this.$emit("commentUnlikeSuccessfulMain",e)},commentLikeSuccessfulMain(e){this.$emit("commentLikeSuccessfulMain",e)},commentUnsaveSuccessfulMain(e){this.$emit("commentUnsaveSuccessfulMain",e)},commentSaveSuccessfulMain(e){this.$emit("commentSaveSuccessfulMain",e)},commentViewParentDeleteSuccess(e){this.$emit("commentViewParentDeleteSuccess",e)},viewModalCommentEditedMain(e){this.$emit("viewModalCommentEditedMain",e)},listen(){const e=Ns();Echo.channel(`youredu.comment.${this.comment.id}`).listen(".updateComment",t=>{this[`${e.name}/replaceComment`](t.comment)}).listen(".deleteComment",t=>{this[`${e.name}/removeComment`](t)})},clickedProfilePicture(){const e=mo(),t=Ns();t.name!=="profile"&&this.computedCommentOwnerAccount&&e.push({name:"profile",params:{account:this.computedCommentOwnerAccount.account,accountId:this.computedCommentOwnerAccount.accountId}}),this.computedCommentOwnerAccount&&t.params.account!==this.computedCommentOwnerAccount.account&&t.params.accountId!==this.computedCommentOwnerAccount.accountId&&e.push({name:"profile",params:{account:this.computedCommentOwnerAccount.account,accountId:this.computedCommentOwnerAccount.accountId}})},clickedInfoOk(){this.clearSmallModal()},postModalCommentCreated(e){this.$emit("postModalCommentCreated",e)},postModalCommentEdited(e){this.$emit("postModalCommentEdited",e)},postAddComplete(e){e==="successful"?(this.showAddComment=!1,this.commentCount+=1,this.commentSuccess=!0,setTimeout(()=>{this.commentSuccess=!1},2e3)):e==="unsuccessful"&&(this.commentFail=!0,setTimeout(()=>{this.commentFail=!1},2e3))},clickedViewComments(){this.commentCount?this.showViewComments=!0:this.simple&&this.$emit("clickedShowPostComments")},async clickedProfile(e){if(this.showProfilesAction==="like"){this.like(e);return}if(this.showProfilesAction==="save"){this.save(e);return}this.showProfilesAction==="flag"&&(this.issueCustomMessage({message:"are you sure you want to flag this?",type:"delete",data:e}),this.clearSmallModal(!1))},viewModalDisappear(){this.showViewComments=!1},clickedShowOptions(){this.disabled||(this.showAddComment=!1,this.showOptions=!this.showOptions)},askLoginRegister(){this.$emit("askLoginRegister","comment")},clickedAddComment(){if(!this.disabled){if(this.getUser||this.askLoginRegister(),!this.getProfiles.length){this.issueCustomMessage({message:"you must have an account (eg. learner, parent, etc) before you can comment.",type:"info"}),this.clearSmallModal(!1);return}this.editComment=!1,this.showAddComment=!0}},clickedYes(){if(this.showProfilesAction==="flag"){this.flag(this.smallModalData);return}this.deleteComment()},async deleteComment(){const e=Ns();this.loading=!0;let t={commentId:this.comment.id,item:ns.getAccount(this.comment.commentable_type),itemId:this.comment.commentable_id,account:this.profile.account,accountId:this.profile.accountId,where:e.name};this.schoolAdmin&&(t.adminId=this.schoolAdmin.id);let s=await this["profile/deleteComment"](t);this.loading=!1,s!=="unsuccessful"?(this.$emit("commentDeleteSuccess",{commentId:t.commentId}),this.showCommentSingle=!1):(this.alertDanger=!0,this.alertMessage="comment deletion unsuccessful")},clickedNo(){this.clearSmallModal()},clickedOption(e){if(this.showOptions=!1,e==="edit"){this.showEdit=!0;return}if(e==="save"){if(this.saveData.isSaved){this.save(null);return}this.clickedSave();return}e==="delete"&&(this.issueSmallModalDeletionMessage(),this.clearSmallModal(!1))}}},W$={key:0,class:"loading"},z$={class:"alert"},G$={key:2,class:"options"},Y$={key:3,class:"top"},Q$={key:0,class:"created"},K$={class:"middle"},J$={slot:"image"},X$=["src"],$$=["src"],Z$=["src"],eZ=["src"],tZ={slot:"actions"};function sZ(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("auto-alert"),m=_("font-awesome-icon"),v=_("optional-actions"),g=_("profile-picture"),A=_("reaction-component"),D=_("post-button"),E=_("small-modal"),T=_("fade-up"),N=_("view-comments");return i.showCommentSingle?(a(),d("div",{key:0,class:we(["comment-wrapper",{simple:s.simple||s.dashboard}]),onDblclick:t[11]||(t[11]=Vt((...F)=>n.clickedViewComments&&n.clickedViewComments(...F),["self"]))},[i.loading?(a(),d("div",W$,[b(r,{loading:i.loading,size:"10px"},null,8,["loading"])])):c("",!0),h("div",z$,[b(f,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"])]),n.computedProfiles.length?(a(),d("div",{key:1,class:"edit absolute right-2",onClick:t[0]||(t[0]=(...F)=>n.clickedShowOptions&&n.clickedShowOptions(...F))},[b(m,{icon:["fa","chevron-down"]})])):c("",!0),i.showOptions?(a(),d("div",G$,[b(v,{show:i.showOptions,hasSave:!s.simple,hasEdit:n.computedOwner&&!s.simple,hasDelete:n.computedOwner,hasAttachment:!s.simple,onClickedOption:n.clickedOption},null,8,["show","hasSave","hasEdit","hasDelete","hasAttachment","onClickedOption"])])):c("",!0),s.simple?c("",!0):(a(),d("div",Y$,[h("div",{class:"name",onClick:t[1]||(t[1]=(...F)=>n.clickedProfilePicture&&n.clickedProfilePicture(...F))},V(n.computedName),1),n.computedCreatedAt?(a(),d("div",Q$,V(n.computedCreatedAt),1)):c("",!0)])),h("div",K$,[h("div",{class:"profile-picture",onClick:t[2]||(t[2]=(...F)=>n.clickedProfilePicture&&n.clickedProfilePicture(...F))},[b(g,{onClick:n.clickedProfilePicture},{default:z(()=>[h("template",J$,[h("img",{src:n.computedProfileUrl},null,8,X$)])]),_:1},8,["onClick"])]),h("div",{class:"comment-body",onDblclick:t[7]||(t[7]=Vt((...F)=>n.clickedViewComments&&n.clickedViewComments(...F),["self"]))},[n.computedBody?(a(),d("div",{key:0,class:"text",onDblclick:t[3]||(t[3]=Vt((...F)=>n.clickedViewComments&&n.clickedViewComments(...F),["self"]))},V(n.computedBody),33)):c("",!0),n.computedImageUrl.length?(a(),d("div",{key:1,class:we(["media",{commentMediaFull:!s.showCommentNumber}]),onClick:t[4]||(t[4]=F=>n.clickedMedia(n.computedImageUrl,"image"))},[h("img",{src:n.computedImageUrl},null,8,$$)],2)):c("",!0),n.computedAudioUrl.length?(a(),d("div",{key:2,class:we(["media",{commentMediaFull:!s.showCommentNumber}]),onClick:t[5]||(t[5]=F=>n.clickedMedia(n.computedAudioUrl,"audio"))},[h("audio",{src:n.computedAudioUrl,controls:"",controlslist:"nodownload"},null,8,Z$)],2)):c("",!0),n.computedVideoUrl.length?(a(),d("div",{key:3,class:we(["media",{commentMediaFull:!s.showCommentNumber}]),onClick:t[6]||(t[6]=F=>n.clickedMedia(n.computedVideoUrl,"video"))},[h("video",{src:n.computedVideoUrl,controls:"",controlslist:"nodownload"},null,8,eZ)],2)):c("",!0)],32)]),s.simple?c("",!0):(a(),S(A,{key:4,schoolAdmin:s.schoolAdmin,editableComment:s.comment,commentingAccount:s.account,editComment:i.editComment,comments:e.computedComments,commentCountData:{count:i.commentCount,title:i.commentTitle},item:n.computedItem,isOwner:n.computedIsOwner,full:!s.showCommentNumber,showAddComment:e.showAddComment,showFlagReason:e.showFlagReason,flagData:e.flagData,likeData:e.likeData,classes:n.computedClasses,showProfilesText:e.showProfilesText,showOnlyProfiles:!!n.computedClasses.length,showProfiles:e.showProfiles,profiles:n.computedProfiles,onHideAddComment:t[8]||(t[8]=F=>e.showAddComment=!1),onPostAddComplete:n.postAddComplete,onAskLoginRegister:n.askLoginRegister,onClickedMedia:n.clickedMedia,onClickedProfile:n.clickedProfile,onClickedLike:e.clickedLike,onClickedAddComment:n.clickedAddComment,onCancelFlagProcess:e.cancelFlagProcess,onReasonGiven:e.reasonGiven,onClickedFlag:e.clickedFlag,onContinueFlagProcess:e.continueFlagProcess,onClickedShowPostComments:n.clickedViewComments,onPostModalCommentCreated:n.postModalCommentCreated,onPostModalCommentEdited:n.postModalCommentEdited},null,8,["schoolAdmin","editableComment","commentingAccount","editComment","comments","commentCountData","item","isOwner","full","showAddComment","showFlagReason","flagData","likeData","classes","showProfilesText","showOnlyProfiles","showProfiles","profiles","onPostAddComplete","onAskLoginRegister","onClickedMedia","onClickedProfile","onClickedLike","onClickedAddComment","onCancelFlagProcess","onReasonGiven","onClickedFlag","onContinueFlagProcess","onClickedShowPostComments","onPostModalCommentCreated","onPostModalCommentEdited"])),b(T,null,{default:z(()=>[e.showSmallModal?(a(),S(E,{key:0,title:e.smallModalMessage,show:e.showSmallModal,message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,loading:i.loading,alerting:e.smallModalAlerting,onDisappear:t[9]||(t[9]=F=>e.showSmallModal=!1)},{default:z(()=>[h("template",tZ,[e.smallModalInfo?(a(),S(D,{key:0,buttonText:"ok",onClick:n.clickedInfoOk},null,8,["onClick"])):c("",!0),e.smallModalDelete?(a(),S(D,{key:1,buttonText:"yes",onClick:n.clickedYes},null,8,["onClick"])):c("",!0),e.smallModalDelete?(a(),S(D,{key:2,buttonText:"no",onClick:n.clickedNo},null,8,["onClick"])):c("",!0)])]),_:1},8,["title","show","message","success","danger","loading","alerting"])):c("",!0)]),_:1}),b(N,{show:i.showViewComments,comment:s.comment,onViewModalDisappear:t[10]||(t[10]=F=>i.showViewComments=!1),onPostModalCommentEditedMain:n.viewModalCommentEditedMain,onCommentViewParentDeleteSuccess:n.commentViewParentDeleteSuccess,onCommentUnlikeSuccessfulMain:n.commentUnlikeSuccessfulMain,onCommentLikeSuccessfulMain:n.commentLikeSuccessfulMain,onCommentUnsaveSuccessfulMain:n.commentUnsaveSuccessfulMain,onCommentSaveSuccessfulMain:n.commentSaveSuccessfulMain},null,8,["show","comment","onPostModalCommentEditedMain","onCommentViewParentDeleteSuccess","onCommentUnlikeSuccessfulMain","onCommentLikeSuccessfulMain","onCommentUnsaveSuccessfulMain","onCommentSaveSuccessfulMain"])],34)):c("",!0)}const Mv=Ae(H$,[["render",sZ],["__scopeId","data-v-3a4b0175"]]),nZ={props:{show:{type:Boolean,default:!1}},data(){return{loading:!1}},mixins:[ga],methods:{closeModal(){}}},iZ={slot:"main"},oZ={slot:"input"};function aZ(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("welcome-form"),v=_("main-modal"),g=_("just-fade");return a(),S(g,null,{default:z(()=>[s.show?(a(),S(v,{key:0,show:s.show,mainOther:!1,requests:!1,long:!0,onMainModalDisappear:n.closeModal,class:"create-asessment-modal-wrapper"},{default:z(()=>[h("template",iZ,[b(m,{title:e.title,class:"welcome-form"},{default:z(()=>[h("template",oZ,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),b(f,{class:"loading",loading:i.loading},null,8,["loading"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const rZ=Ae(nZ,[["render",aZ]]),lZ={components:{ActionButton:mr,ProfilePicture:Ys,CreateResponse:rZ},props:{request:{type:Object,default(){return null}},dashboard:{type:Boolean,default:!1}},data(){return{loading:!1,showCreateModal:!1,newMessagesCounter:0}},watch:{request:{immediate:!0,handler(e){e&&this.listenToRequestChannels()}}},computed:{computedHasPending(){return this.request.state==="pending"},computedExtraMessage(){let e="to";return this.request.isFrom&&(e="from"),`${this.request.action} request sent ${e} ${this.request.myAccount.name}`},computedIsTo(){return this.dashboard?this.isTo:!0}},methods:{...ss([]),listenToRequestChannels(){Echo.channel(`youredu.request.${this.request.id}`).listen(".newMessage",this.newRequestMessage)},newRequestMessage(e){this.newMessagesCounter++,this.$emit("newMessage",e)},deleteRequestMessage(e){this.$emit("deleteMessage",e)},clickedAction(e){if(e==="messages"){this.$emit("showMessages",this.request);return}this.$emit("showDetails",this.request)},async clickedSendResponse(e){this.loading=!0,this.request.response=e,this.$emit("clickedAction",this.request)}}},cZ={key:0,class:"request-badge-wrapper"},uZ={class:"section"},dZ={class:"name"},hZ={class:"created-at"},fZ={class:"section"},mZ={slot:"image"},pZ=["src"],gZ={class:"message"},vZ={class:"section-buttons"},yZ={class:"messages-button"},wZ={key:0,class:"counter"},_Z={key:0,class:"small-msg"};function bZ(e,t,s,o,i,n){const r=_("profile-picture"),f=_("pulse-loader"),m=_("action-button"),v=_("create-response");return s.request?(a(),d("div",cZ,[h("div",uZ,[h("div",dZ,V(s.request.account.name),1),h("div",hZ,V(s.request.createdAt),1)]),h("div",fZ,[s.request.account.url?(a(),S(r,{key:0,class:"profile-picture"},{default:z(()=>[h("template",mZ,[h("img",{src:s.request.account.url},null,8,pZ)])]),_:1})):c("",!0),h("div",gZ,V(s.request.message),1)]),h("div",vZ,[i.loading?(a(),S(f,{key:0,class:"loading",size:"10px",loading:i.loading},null,8,["loading"])):c("",!0),i.loading?c("",!0):(a(),d(Z,{key:1},[b(m,{onClick:n.clickedAction,text:"details",class:"action-button"},null,8,["onClick"]),h("div",yZ,[b(m,{onClick:n.clickedAction,text:"messages",class:"action-button"},null,8,["onClick"]),i.newMessagesCounter?(a(),d("div",wZ,V(i.newMessagesCounter),1)):c("",!0)]),n.computedIsTo?(a(),d(Z,{key:0},[n.computedHasPending?(a(),S(m,{key:0,onClick:n.clickedSendResponse,text:"accept",class:"action-button"},null,8,["onClick"])):c("",!0),n.computedHasPending?(a(),S(m,{key:1,onClick:n.clickedSendResponse,text:"decline",class:"action-button"},null,8,["onClick"])):c("",!0)],64)):c("",!0)],64))]),s.dashboard?(a(),d("div",_Z,V(n.computedExtraMessage),1)):c("",!0),b(v,{show:i.showCreateModal,onClickedSendResponse:n.clickedSendResponse},null,8,["show","onClickedSendResponse"])])):c("",!0)}const FA=Ae(lZ,[["render",bZ],["__scopeId","data-v-b556973b"]]),kZ={components:{DiscussionTextarea:fA,DiscussionBadge:zf,ProfilePicture:Ys},props:{show:{type:Boolean,default:!1},request:{type:Object,default(){return null}},newMessage:{type:Object,default(){return null}}},mixins:[ga],data(){return{messageText:"",messages:[],messagesNextPage:1,messageLoading:!1,messagesLoading:!1,afterInitial:!1}},watch:{request:{immediate:!0,async handler(e){e&&this.show&&(await this.getInitialMessages(),this.moveToFirstMessage())}},newMessage(e){this.show&&this.addMessage(e)}},computed:{computedNoMessages(){return!this.messages.length&&this.messagesNextPage!==1&&!this.messagesLoading},computedInfiniteLoader(){return this.messages.length&&!this.messagesLoading&&this.afterInitial}},methods:{...ss(["dashboard/getRequestMessages","dashboard/sendRequestMessage","dashboard/deleteRequestMessage"]),addMessage(e){this.messages.push(e)},closeModal(){this.clearData(),this.$emit("closeMessageModal")},clearData(){this.messages=[],this.messageText=""},inputMessage(e){this.messageText=e},moveToFirstMessage(){if(this.$refs.mainmessages){this.$refs.mainmessages.scrollTo(0,window.innerHeight);return}setTimeout(this.moveToFirstMessage(),200)},async getInitialMessages(){this.afterInitial=!1,this.messagesNextPage=1,this.messages=await this.getMessages(),this.afterInitial=!0},async getMessages(){let e,t=this.messagesNextPage;return this.messagesLoading=!0,e=await this["dashboard/getRequestMessages"]({requestId:this.request.id,nextPage:t}),this.messagesLoading=!1,e.status?(e.next?this.messagesNextPage+=1:this.messagesNextPage=null,e.messages):(console.log("response :>> ",e),this.alertDanger=!0,this.alertMessage="oops! something happened ",[])},async infiniteHandler(e){if(this.messagesNextPage!==1){if(this.messagesNextPage===null){e.complete();return}if(this.messages.push(...await this.getMessages()),this.messagesNextPage===null){e.complete();return}e.loaded()}},async sendMessage(){let e,t=new FormData;if(this.messageLoading=!0,t.append("message",this.messageText),t.append("account",this.request.myAccount.account),t.append("accountId",this.request.myAccount.accountId),e=await this["dashboard/sendRequestMessage"]({formData:t,requestId:this.request.id}),this.messageLoading=!1,e.status){this.addMessage(e.message),this.moveToFirstMessage();return}console.log("response :>> ",e),this.alertDanger=!0,this.alertMessage="oops! message was't sent "},async deleteMessage(e){let t,s={messageId:e.message.id,requestId:this.request.id};this.messageLoading=!0,t=await this["dashboard/deleteRequestMessage"](s),this.messageLoading=!1,t.status?this.removeMessage(s):console.log("response :>> ",t)},removeMessage(e){console.log("data :>> ",e);let t=this.messages.findIndex(s=>s.id==e.messageId);t!==-1&&this.messages.splice(t,1)}}},AZ={slot:"main"},CZ={slot:"input"},SZ={class:"messages-section"},IZ={class:"messages","infinte-wrapper":""},TZ={class:"account"},DZ={slot:"image"},xZ=["src"],PZ={class:"name"},MZ={key:0,class:"no-data"},EZ={class:"main-messages",ref:"mainmessages"},OZ={class:"message"},RZ={key:0,class:"loading"};function NZ(e,t,s,o,i,n){const r=_("auto-alert"),f=_("profile-picture"),m=_("pulse-loader"),v=_("infinite-loading"),g=_("discussion-badge"),A=_("discussion-textarea"),D=_("welcome-form"),E=_("main-modal"),T=_("just-fade");return a(),S(T,null,{default:z(()=>[s.show?(a(),S(E,{key:0,show:s.show,mainOther:!1,requests:!1,long:!0,onMainModalDisappear:n.closeModal,class:"messages-modal-wrapper"},{default:z(()=>[h("template",AZ,[b(D,{class:"welcome-form"},{default:z(()=>[h("template",CZ,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),h("div",SZ,[h("div",IZ,[h("div",TZ,[s.request.account.url?(a(),S(f,{key:0,class:"profile-picture"},{default:z(()=>[h("template",DZ,[h("img",{src:s.request.account.url},null,8,xZ)])]),_:1})):c("",!0),h("div",PZ,V(s.request.account.name),1)]),n.computedNoMessages?(a(),d("div",MZ," no messages for this request")):c("",!0),h("div",EZ,[i.messagesLoading?(a(),S(m,{key:0,class:"loading",loading:i.messagesLoading},null,8,["loading"])):c("",!0),n.computedInfiniteLoader?(a(),S(v,{key:1,onInfinite:n.infiniteHandler,"force-use-infinite-wrapper":"",direction:"top"},null,8,["onInfinite"])):c("",!0),(a(!0),d(Z,null,pe(i.messages,N=>(a(),S(g,{key:N.id,message:N,simple:!0,onClickedOption:n.deleteMessage,onDeleteMessage:n.removeMessage},null,8,["message","onClickedOption","onDeleteMessage"]))),128))],512),i.messagesNextPage&&i.messagesNextPage!==1?(a(),d("div",{key:1,class:"more-data",onClick:t[0]||(t[0]=(...N)=>n.infiniteHandler&&n.infiniteHandler(...N))})):c("",!0)]),h("div",OZ,[i.messageLoading?(a(),d("div",RZ,[b(m,{laoding:i.messageLoading,size:"10px"},null,8,["laoding"])])):c("",!0),b(A,{request:!0,onInput:n.inputMessage,onSendMessage:n.sendMessage},null,8,["onInput","onSendMessage"])])])])]),_:1})])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const UA=Ae(kZ,[["render",NZ],["__scopeId","data-v-37816103"]]),LZ={components:{SalaryBadge:sA,CommissionBadge:tA,FeeBadge:Id,DiscountBadge:nA},props:{details:{type:Object,default(){return null}},show:{type:Boolean,default:!1}},computed:{computedNoDetails(){return!!this.details}},methods:{closeModal(){this.$emit("closeDetailsModal")}}},FZ={slot:"main"},UZ={slot:"input"},BZ={key:0,class:"small-msg no-data"},jZ={key:0,class:"small-msg"},VZ={key:1,class:"section"},qZ={key:2,class:"small-msg"},HZ={key:3,class:"section"},WZ={key:4,class:"small-msg"},zZ={key:5,class:"section"},GZ={key:6,class:"small-msg"},YZ={key:7,class:"section"},QZ={key:8,class:"small-msg"},KZ={key:9,class:"section"},JZ=["src"],XZ={key:10,class:"small-msg"},$Z={key:11,class:"section"},ZZ=["src"],eee={key:12,class:"small-msg"},tee={key:13,class:"section"},see=["src"],nee={key:14,class:"small-msg"},iee={key:15,class:"section"},oee=["href","download"];function aee(e,t,s,o,i,n){const r=_("salary-badge"),f=_("commission-badge"),m=_("discount-badge"),v=_("fee-badge"),g=_("welcome-form"),A=_("main-modal"),D=_("just-fade");return a(),S(D,null,{default:z(()=>[s.show?(a(),S(A,{key:0,show:s.show,mainOther:!1,requests:!1,long:!0,onMainModalDisappear:n.closeModal,class:"request-details-modal"},{default:z(()=>[h("template",FZ,[b(g,{class:"welcome-form"},{default:z(()=>[h("template",UZ,[n.computedNoDetails?(a(),d("div",BZ," no details here... ")):c("",!0),n.computedNoDetails?c("",!0):(a(),d(Z,{key:1},[s.details.salaries?(a(),d("div",jZ," salaries attached to this request ")):c("",!0),s.details.salaries?(a(),d("div",VZ,[(a(!0),d(Z,null,pe(s.details.salaries,(E,T)=>(a(),S(r,{key:T,data:E},null,8,["data"]))),128))])):c("",!0),s.details.commissions?(a(),d("div",qZ," commissions attached to this request ")):c("",!0),s.details.commissions?(a(),d("div",HZ,[(a(!0),d(Z,null,pe(s.details.commissions,(E,T)=>(a(),S(f,{key:T,data:E},null,8,["data"]))),128))])):c("",!0),s.details.discounts?(a(),d("div",WZ," discounts attached to this request ")):c("",!0),s.details.discounts?(a(),d("div",zZ,[(a(!0),d(Z,null,pe(s.details.discounts,(E,T)=>(a(),S(m,{key:T,data:E},null,8,["data"]))),128))])):c("",!0),s.details.fees?(a(),d("div",GZ," fees attached to this request ")):c("",!0),s.details.fees?(a(),d("div",YZ,[(a(!0),d(Z,null,pe(s.details.fees,(E,T)=>(a(),S(v,{key:T,data:E},null,8,["data"]))),128))])):c("",!0),s.details.videos?(a(),d("div",QZ," videos attached to this request ")):c("",!0),s.details.videos?(a(),d("div",KZ,[(a(!0),d(Z,null,pe(s.details.videos,(E,T)=>(a(),d("video",{key:T,src:E.url,controls:""},null,8,JZ))),128))])):c("",!0),s.details.audios?(a(),d("div",XZ," audios attached to this request ")):c("",!0),s.details.audios?(a(),d("div",$Z,[(a(!0),d(Z,null,pe(s.details.audios,(E,T)=>(a(),d("audio",{key:T,src:E.url,controls:""},null,8,ZZ))),128))])):c("",!0),s.details.images?(a(),d("div",eee," images attached to this request ")):c("",!0),s.details.images?(a(),d("div",tee,[(a(!0),d(Z,null,pe(s.details.images,(E,T)=>(a(),d("img",{key:T,src:E.url},null,8,see))),128))])):c("",!0),s.details.files?(a(),d("div",nee," files attached to this request ")):c("",!0),s.details.files?(a(),d("div",iee,[(a(!0),d(Z,null,pe(s.details.files,(E,T)=>(a(),d("div",{key:T},[h("a",{href:E.url,download:E.name?E.name:""},null,8,oee)]))),128))])):c("",!0)],64))])]),_:1})])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const BA=Ae(LZ,[["render",aee],["__scopeId","data-v-46821866"]]),ree={components:{RequestBadge:FA,DetailsModal:BA,MessagesModal:UA},props:{show:{type:Boolean,default:!1},action:{type:String,default:""},account:{type:Object,default(){return{}}}},mixins:[ga],data(){return{showMessageModal:!1,showDetailsModal:!1,requestLoading:!1,requests:[],requestsNextPage:1,actionType:"view",steps:0,accountType:"",modalRequest:null,newMessage:null}},watch:{action:{immediate:!0,handler(e){e.length&&(this.actionType=e),this.actionType==="view"&&this.getRequests()}},steps(e){}},computed:{computedRequests(){return!!this.requests.length}},methods:{...ss(["dashboard/getAccountRequests","schoolRequestResponse","dashboard/sendResponse"]),newRequestMessage(e){this.newMessage=e.message},closeMessageModal(e){this.showMessageModal=!1,this.modalRequest=null},clickedShowMessages(e){this.showMessageModal=!0,this.modalRequest=e},clickedShowDetails(e){this.showDetailsModal=!0,this.modalRequest=e},closeDetailsModal(){this.showDetailsModal=!1,this.modalRequest=null},async getRequests(){let e,t={account:this.account.account,accountId:this.account.accountId};this.requestLoading=!0,e=await this["dashboard/getAccountRequests"]({data:t,nextPage:this.requestsNextPage}),this.requestLoading=!1,e.status?(this.requests.push(...e.requests),e.next?this.requestsNextPage+=1:this.requestsNextPage=null):console.log("response :>> ",e)},async infiniteHandler(e){this.requestsNextPage===1||this.requestsNextPage===null||await this.getRequests()},requestsModalDisappear(){this.$emit("requestsModalDisappear")},clickedRequestAction(e){this.acceptOrDeclineRequest(e)},async acceptOrDeclineRequest(e){let t=new FormData,s;if(t.append("requestId",e.id),t.append("response",e.response!=="decline"?"accepted":"declined"),s=await this["dashboard/sendResponse"](t),s.status){this.updateRequest({requestId:e.id,state:t.get("response")}),this.alertSuccess=!0,this.alertMessage="response was successfully sent ";return}console.log("response :>> ",s),this.alertDanger=!0,this.alertMessage="oops! it failed . please try again later."},async acceptOrDeclineSchoolRequest(e){let t,s={requestId:e.schoolRequest.id,action:e.action,other:e.schoolRequest.account?e.schoolRequest.account.account:"admin",mine:"school"};t=await this.schoolRequestResponse(s),t.status?this.removeRequest(s.requestId):console.log("response :>> ",t)},updateRequest(e){let t=this.requests.findIndex(s=>s.id==e.requestId);t>-1&&(this.requests[t].state=e.state)}}},lee={slot:"requests"},cee={key:1,class:"view-requests"},uee={key:0,class:"no-requests"},dee={key:1,class:"has-requests"};function hee(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("request-badge"),v=_("font-awesome-icon"),g=_("messages-modal"),A=_("details-modal"),D=_("main-modal"),E=_("just-fade");return a(),S(E,null,{default:z(()=>[s.show?(a(),S(D,{key:0,show:s.show,onMainModalDisappear:n.requestsModalDisappear,onClickedMain:t[2]||(t[2]=T=>e.showFollowProfiles=!1),main:!1,mainOther:!1,class:"dashboard-request-wrapper"},{default:z(()=>[h("template",lee,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),i.requestLoading?(a(),S(f,{key:0,class:"loading",loading:i.requestLoading},null,8,["loading"])):c("",!0),i.actionType==="view"?(a(),d("div",cee,[!n.computedRequests&&!i.requestLoading?(a(),d("div",uee,V("there are no requests"))):c("",!0),n.computedRequests&&!i.requestLoading?(a(),d("div",dee,V("these are your sent requests"))):c("",!0),(a(!0),d(Z,null,pe(i.requests,T=>(a(),S(m,{key:T.id,request:T,dashboard:!0,onClickedAction:n.clickedRequestAction,onShowDetails:n.clickedShowDetails,onShowMessages:n.clickedShowMessages,onNewMessage:n.newRequestMessage},null,8,["request","onClickedAction","onShowDetails","onShowMessages","onNewMessage"]))),128))])):c("",!0),i.requestsNextPage&&i.requestsNextPage!==1?(a(),d("div",{key:2,class:"more-data",onClick:t[0]||(t[0]=(...T)=>n.infiniteHandler&&n.infiniteHandler(...T))},[b(v,{icon:["fa","ellipsis-h"]})])):c("",!0),!i.requestsNextPage&&i.requests.length&&i.requestsNextPage!==1?(a(),d("div",{key:3,class:"no-data",onClick:t[1]||(t[1]=(...T)=>n.infiniteHandler&&n.infiniteHandler(...T))}," no more requests")):c("",!0),b(g,{show:i.showMessageModal,newMessage:i.newMessage,onCloseMessageModal:n.closeMessageModal,request:i.modalRequest},null,8,["show","newMessage","onCloseMessageModal","request"]),b(A,{show:i.showDetailsModal,onCloseDetailsModal:n.closeDetailsModal,details:i.modalRequest},null,8,["show","onCloseDetailsModal","details"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const fee=Ae(ree,[["render",hee],["__scopeId","data-v-2acdd0a9"]]),mee={components:{DashboardActionButton:yu},props:{activity:{type:Object,default(){return null}}},computed:{computedMessage(){return this.activity.activity==="like"?`liked a ${this.activity.item}`:this.activity.activity==="comment"?`commented: ${this.activity.comment}`:this.activity.activity==="activity"?"posted an activity":this.activity.activity==="question"?"posted a question":this.activity.activity==="answer"?`answered a ${this.activity.item}`:this.activity.activity==="poem"?`posted a ${this.activity.item}`:this.activity.activity==="riddle"?`posted a ${this.activity.item}`:this.activity.activity==="post"?`posted a ${this.activity.content}`:this.activity.activity==="lesson"?`posted a ${this.activity.item}`:this.activity.activity==="discussion"?`raised a discussion with title: ${this.activity.title}`:""},computedResource(){return this.activity.images&&this.activity.images.length?{url:this.activity.images[0].url,type:"image"}:this.activity.videos&&this.activity.videos.length?{url:this.activity.videos[0].url,type:"video"}:this.activity.audios&&this.activity.audios.length?{url:this.activity.audios[0].url,type:"audio"}:null}},methods:{clickedDashboardActionButton(e){console.log(e),this.$emit("viewItem",e.data)},getDateReadable(e){return _s.dateReadable(e)}}},pee={key:0,class:"activity-badge-wrapper"},gee={class:"created"},vee={class:"main"},yee={key:0,class:"resource"},wee=["src"],_ee=["src"],bee=["src"],kee={class:"message"},Aee={class:"actions"},Cee={class:"bottom"},See={class:"item"};function Iee(e,t,s,o,i,n){const r=_("dashboard-action-button");return s.activity?(a(),d("div",pee,[h("div",gee,V(n.getDateReadable(s.activity.createdAt)),1),h("div",vee,[n.computedResource?(a(),d("div",yee,[n.computedResource.type==="image"?(a(),d("img",{key:0,src:n.computedResource.url},null,8,wee)):c("",!0),n.computedResource.type==="video"?(a(),d("video",{key:1,controls:"",src:n.computedResource.url},null,8,_ee)):c("",!0),n.computedResource.type==="audio"?(a(),d("audio",{key:2,controls:"",src:n.computedResource.url},null,8,bee)):c("",!0)])):c("",!0),h("div",kee,V(n.computedMessage),1)]),h("div",Aee,[s.activity.activity!=="like"?(a(),S(r,{key:0,title:`view this ${s.activity.activity}`,text:`view ${s.activity.activity}`,icon:"",data:{item:s.activity.activity,itemId:s.activity.activityId},onClick:n.clickedDashboardActionButton},null,8,["title","text","data","onClick"])):c("",!0),s.activity.item?(a(),S(r,{key:1,title:`view this ${s.activity.item}`,text:`view ${s.activity.item}`,icon:"",data:{item:s.activity.item,itemId:s.activity.itemId},onClick:n.clickedDashboardActionButton},null,8,["title","text","data","onClick"])):c("",!0)]),h("div",Cee,[h("div",See,V(`${s.activity.activity} activity`),1)])])):c("",!0)}const Tee=Ae(mee,[["render",Iee],["__scopeId","data-v-a06a5743"]]),Dee={props:{show:{type:Boolean,default:!1},main:{type:Boolean,default:!0},normal:{type:Boolean,default:!1}},computed:{computedHeading(){},computedMain(){}},methods:{disappear(){this.$emit("closeDashboardModal")}}},xee={key:0,class:"main"},Pee={key:1,class:"normal"};function Mee(e,t,s,o,i,n){const r=_("font-awesome-icon");return s.show?(a(),d("div",{key:0,class:"dashboard-modal-wrapper",onClick:t[2]||(t[2]=Vt((...f)=>n.disappear&&n.disappear(...f),["self"]))},[h("div",{class:"main-modal",onClick:t[1]||(t[1]=Vt((...f)=>n.disappear&&n.disappear(...f),["self"]))},[h("div",{class:"close",onClick:t[0]||(t[0]=(...f)=>n.disappear&&n.disappear(...f))},[b(r,{icon:["fas","times"]})]),s.main?(a(),d("div",xee,[Jt(e.$slots,"main",{},void 0,!0)])):c("",!0),s.normal?(a(),d("div",Pee,[Jt(e.$slots,"normal",{},void 0,!0)])):c("",!0)])])):c("",!0)}const Ev=Ae(Dee,[["render",Mee],["__scopeId","data-v-337c1e34"]]),Eee={components:{DashboardModal:Ev,FadeRight:ma,ProfilePicture:Ys,ActivityBadge:Tee},props:{account:{type:Object,default(){return{}}},admin:{type:Object,default(){return null}},show:{type:Boolean,default:!1}},data(){return{activitiesNextPage:1,activitiesLoading:!1,dataText:"",mainAccount:null}},watch:{mainAccount(e,t){e&&e!==t&&(this.activitiesNextPage=1,this.dataText="getting activities",this["dashboard/clearAccountActivities"](),this.getActivitiesForAdmin())},activitiesNextPage(e){(!e||e!==1)&&(this.dataText="")}},computed:{...os(["dashboard/getActivities"]),computedActivities(){return this["dashboard/getActivities"]},computedAccounts(){return this.account.username&&!this.account.hasOwnProperty("level")?this.account.profiles.map(e=>({name:e.name?e.name:"no name",url:e.url?e.url:"",profile:e.profile?e.profile:"",account:e.account,accountId:e.accountId})):null}},methods:{...ss(["dashboard/fetchAccountActivities","dashboard/clearAccountActivities"]),closeDashboardModal(){this["dashboard/clearAccountActivities"](),this.$emit("activityModalDisappear")},viewItem(e){this.$emit("viewItem",e)},clickedAccount(e){this.activitiesLoading||(this.mainAccount=e)},async getActivitiesForAdmin(){let e=await this.getActivities();e.hasOwnProperty("next")&&!e.next?this.activitiesNextPage=null:e.hasOwnProperty("next")&&(this.activitiesNextPage+=1)},async getActivities(){let e,t={account:this.account.username?this.mainAccount.account:this.account.account,accountId:this.account.username?this.mainAccount.accountId:this.account.accountId,adminId:this.admin.accountId,nextPage:this.activitiesNextPage};if(this.activitiesLoading=!0,e=await this["dashboard/fetchAccountActivities"](t),this.activitiesLoading=!1,e.status)return{next:e.next};console.log("response :>> ",e)},async activitiesInfiniteLoader(e){if(this.activitiesNextPage===null){e.complete();return}let t=await this.getActivities();t.hasOwnProperty("next")&&!t.next?this.activitiesNextPage=null:t.hasOwnProperty("next")&&(this.activitiesNextPage+=1)}}},Oee={slot:"normal"},Ree={class:"top"},Nee=["onClick","title"],Lee={class:"account-type"},Fee={class:"seperator"},Uee={class:"account-name"},Bee={key:0,class:"active-section"},jee=["title"],Vee={class:"account-type"},qee={class:"seperator"},Hee={class:"account-name"},Wee={key:0,class:"active-section"},zee={class:"bottom"},Gee={slot:"image"},Yee=["src"],Qee={class:"details"},Kee={class:"name"},Jee={class:"account-type"},Xee={key:1,class:"activities","infinite-wrapper":""},$ee={key:1,class:"no-data"};function Zee(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("fade-right"),m=_("profile-picture"),v=_("activity-badge"),g=_("infinite-loading"),A=_("dashboard-modal");return a(),S(A,{show:s.show,main:!1,normal:!0,onCloseDashboardModal:n.closeDashboardModal,class:"dashboard-modal"},{default:z(()=>[h("template",Oee,[h("div",Ree,[n.computedAccounts?(a(!0),d(Z,{key:0},pe(n.computedAccounts,(D,E)=>(a(),d("div",{class:we(["account",{active:i.mainAccount===D}]),key:E,onClick:T=>n.clickedAccount(D),title:D.name},[h("div",Lee,V(D.account),1),h("div",Fee,[b(r,{icon:["fa","circle"]})]),h("div",Uee,V(D.name),1),b(f,null,{default:z(()=>[i.mainAccount===s.account?(a(),d("div",Bee)):c("",!0)]),_:1})],10,Nee))),128)):(a(),d("div",{key:1,class:we(["account",{active:i.mainAccount===s.account}]),onClick:t[0]||(t[0]=D=>n.clickedAccount(s.account)),title:s.account.name},[h("div",Vee,V(s.account.account),1),h("div",qee,[b(r,{icon:["fa","circle"]})]),h("div",Hee,V(s.account.name),1),b(f,null,{default:z(()=>[i.mainAccount===s.account?(a(),d("div",Wee)):c("",!0)]),_:1})],10,jee))]),h("div",zee,[n.computedActivities.length&&i.mainAccount?(a(),d(Z,{key:0},[i.mainAccount?(a(),S(m,{key:0,class:"profile-picture"},{default:z(()=>[h("template",Gee,[h("img",{src:i.mainAccount.url},null,8,Yee)])]),_:1})):c("",!0),h("div",Qee,[h("div",Kee,V(i.mainAccount.name),1),h("div",Jee,V(i.mainAccount.account),1)]),i.dataText.length?c("",!0):(a(),d("div",Xee,[(a(!0),d(Z,null,pe(n.computedActivities,(D,E)=>(a(),S(v,{key:E,activity:D,class:"activity-badge",onViewItem:n.viewItem},null,8,["activity","onViewItem"]))),128)),i.activitiesNextPage!==1?(a(),S(g,{key:0,onInfinite:n.activitiesInfiniteLoader,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)]))],64)):c("",!0),i.activitiesNextPage===1||i.dataText.length?(a(),d("div",$ee,V(i.dataText.length?i.dataText:"click on the account to get activities"),1)):c("",!0)])])]),_:1},8,["show","onCloseDashboardModal"])}const ete=Ae(Eee,[["render",Zee],["__scopeId","data-v-a0cadf5a"]]),tte={components:{ActionButton:mr,ItemBadge:fr,GreyButton:Nl,PaymentTypes:gu,PostAttachment:go,OtherUserAccount:_v,MainList:Cc,MainSelect:pa,TextInput:js,TextTextarea:kn,AttachmentBadge:vo,RadioInput:Ll,MainCheckbox:Vi,NumberInput:fa,FilePreview:Lo,SearchInput:hr},mixins:[ga],props:{show:{type:Boolean,default:!1},type:{type:String,default:""},account:{type:Object,default(){return{}}},admin:{type:Object,default(){return null}},wards:{type:Array,default(){return[]}}},data(){return{loading:!1,steps:0,actionsList:[],accounts:[],actionDescription:"",action:"",actionButttonText:"",accountsNextPage:1,accountsLoading:!1,wardId:null,wardsNextPage:1,wardsLoading:!1,wardsSearchText:"",administrationData:{title:"",name:"",level:"",description:""},schoolType:null,gradeId:null,selectedAccounts:[],attachments:[],files:[],selectedItems:[],selectableItemsLoading:!1,selectableItemsNextPage:1,selectableItemsSearchText:"",selectableItemsSearchType:"",itemTypes:[],receiverTypes:[],receiversSearchText:"",receiverSearchType:"",detailTypes:[],showPreview:!1,showFileNote:!1,previewFile:null,paymentType:"",paymentData:null}},watch:{steps(e,t){e===0?(this.actionDescription="",this.action="",this.actionButttonText=""):e===1?(this.actionButttonText="next",this.receiversSearchText=""):e===2?this.actionButttonText="send request":e===3&&(this.actionButttonText="send another request"),e===1&&t===0&&this.initiateReceiverSearch()},action(e){},account:{immediate:!0,handler(e){this.actionsList=Number(this.getUser.age)>=18&&e.account==!1?this.computedAccountPossibleRequestTypes[e.account].push("school administration request"):this.computedAccountPossibleRequestTypes[e.account]}},type:{immediate:!0,handler(e){e.length&&e==="add admin"&&(this.setAdministrationRequestForm(),this.steps=1)}},wardsSearchText(e){this.initiateWardsSearch()},receiversSearchText(e){this.initiateReceiverSearch()},selectableItemsSearchText(e){this.initiateItemSearch()},receiverSearchType(e){this.initiateReceiverSearch()},selectableItemsSearchType(e){this.initiateItemSearch()}},computed:{...os(["dashboard/getAccountDetails","getUser"]),computedAccounts(){return this.accounts},computedPostAttachment(){return this.detailTypes.includes("attachments")},computedPostAttachmentButtons(){let e=[];return this.computedPostAttachment?(this.detailTypes.includes("attachment grades")&&e.push("grades"),this.detailTypes.includes("attachment subjects")&&e.push("subjects"),this.detailTypes.includes("attachment courses")&&e.push("courses"),this.detailTypes.includes("attachment programs")&&e.push("programs"),e):[]},computedSalary(){return this.detailTypes.includes("salary")},computedCommission(){return this.detailTypes.includes("commission")},computedHasWards(){var e;return((e=this.account)==null?void 0:e.account)==="parent"},computedWards(){return this.wards.filter(e=>e.name.includes(this.wardsSearchText))},computedFiles(){return this.detailTypes.includes("files")},computedClasses(){if(!(this.account.account==="facilitator"||this.account.account==="school"))return[];let e=[];return this["dashboard/getAccountDetails"].classes&&e.push(...this["dashboard/getAccountDetails"].classes),this["dashboard/getAccountDetails"].ownedClasses&&e.push(...this["dashboard/getAccountDetails"].ownedClasses),e},computedExtracurriculums(){if(!this.computedItemOwningAccountType)return[];let e=[];return this["dashboard/getAccountDetails"].extracurriculums&&e.push(...this["dashboard/getAccountDetails"].extracurriculums),this["dashboard/getAccountDetails"].ownedExtracurriculums&&e.push(...this["dashboard/getAccountDetails"].ownedExtracurriculums),e},computedCourses(){if(!this.computedItemOwningAccountType)return[];let e=[];return this["dashboard/getAccountDetails"].courses&&e.push(...this["dashboard/getAccountDetails"].courses),this["dashboard/getAccountDetails"].ownedCourses&&e.push(...this["dashboard/getAccountDetails"].ownedCourses),e},computedCollaborations(){if(!this.computedItemOwningAccountType)return[];let e=[];return this["dashboard/getAccountDetails"].collaborations&&e.push(...this["dashboard/getAccountDetails"].collaborations),e},computedPrograms(){if(!this.computedItemOwningAccountType)return[];let e=[];return this["dashboard/getAccountDetails"].programs&&e.push(...this["dashboard/getAccountDetails"].programs),this["dashboard/getAccountDetails"].ownedPrograms&&e.push(...this["dashboard/getAccountDetails"].ownedPrograms),e},computedItemOwningAccountType(){return this.account.account==="facilitator"||this.account.account==="professional"||this.account.account==="school"},computedHasItemSelection(){return this.itemTypes.length},computedItemSelectionText(){return this.computedHasItemSelection&&this.computedItemSelectionArray.length?"make a selection from these":this.computedHasItemSelection&&!this.computedItemSelectionArray.length?`sorry, no ${this.itemTypes.toString()} to select from. try another search.`:""},computedItemSelectionArray(){let e=[];return this.selectableItemsLoading?[]:(this.computedSearchItem&&this.selectedItems.length&&e.push(...this.selectedItems),this.itemTypes.includes("collaborations")&&e.push(...this.mappedWithType(this.computedCollaborations,"collaboration")),this.itemTypes.includes("classes")&&this.selectableItemsSearchType==="classes"&&e.push(...this.mappedWithType(this.computedClasses,"class")),this.itemTypes.includes("extracurriculums")&&this.selectableItemsSearchType==="extracurriculums"&&e.push(...this.mappedWithType(this.computedExtracurriculums,"extracurriculum")),this.itemTypes.includes("programs")&&this.selectableItemsSearchType==="programs"&&e.push(...this.mappedWithType(this.computedPrograms,"program")),this.itemTypes.includes("courses")&&this.selectableItemsSearchType==="courses"&&e.push(...this.mappedWithType(this.computedCourses,"course")),e)},computedSearchItem(){return this.detailTypes.includes("search items")},computedPayment(){return this.detailTypes.includes("payment")},computedAccountPossibleRequestTypes(){return{school:["learning request","admission request","facilitation request","collaboration request","administration request"],facilitator:["facilitation request","collaboration request","school administration request"],professional:["facilitation request","collaboration request","school administration request"],learner:["learning request","admission request"],parent:["learning request","admission request"]}},computedPaymentType(){return this.detailTypes.includes("commission")?"commission":this.detailTypes.includes("salary")?"salary":this.detailTypes.includes("discount")?"discount":""},computedShowReceiversSection(){return this.receiverTypes.length||this.wards.length},computedAdministration(){return this.action.includes("administration")},computedAdmission(){return this.action.includes("admission")},computedSchoolType(){return!this.detailTypes.includes("school type")||this.account.account!=="school"?!1:this.account.role==="virtual"?(this.schoolType="virtual",!1):!0}},methods:{...ss(["dashboard/searchAccounts","dashboard/searchItems","dashboard/sendRequest"]),mappedWithType(e,t){return e.map(s=>(s.type=t,s))},error(e){this.alertDanger=!0,this.alertLengthy=e.lengthy,this.alertMessage=e.message},initiateReceiverSearch(){this.debouncedSearchAccounts()},initiateWardsSearch(){this.debouncedSearchWards()},initiateItemSearch(){this.debouncedSearchSelectableItems()},invitationModalDisappear(){this.$emit("invitationDisappear")},clickedReceiverType(e){if(!e.length){this.receiverSearchType=this.receiverTypes[0];return}this.receiverSearchType=e},clickedItemType(e){if(!e.length){this.selectableItemsSearchType=this.itemTypes[0];return}this.selectableItemsSearchType=e},getPaymentType(e){this.paymentType=e.type,this.paymentData=e.data},getWardSearchText(e){this.wardsSearchText=e},levelSelection(e){this.administrationData.level=e},schoolTypeSelection(e){this.schoolType=e},periodSelection(e){this.data.salaryPeriod=e},otherSelection(e){this.data.selection=e},clearRequestFormData(){this.receiverTypes=[],this.detailTypes=[],this.itemTypes=[],this.selectedItems=[],this.selectedAccounts=[],this.actionDescription="",this.action="",this.actionButttonText=""},actionSelection(e){this.clearRequestFormData(),e.length&&(e==="learning request"&&this.setLearningRequestForm(),e==="facilitation request"&&this.setFacilitationRequestForm(),e==="collaboration request"&&this.setCollaborationRequestForm(),e==="admission request"&&this.setAdmissionRequestForm(),(e==="administration request"||e==="school administration request")&&this.setAdministrationRequestForm(),this.actionButttonText="next")},setLearningRequestForm(){this.action="learning",this.itemTypes=["classes","courses","programs","extracurriculums"],this.account.account==="learner"&&(this.actionDescription="sending a request to the owner of a class, course, etc in order to have access to it. You can use this avenue if you want a discount.",this.detailTypes.push("search items")),this.account.account==="parent"&&(this.actionDescription="sending a request to the owner of a class, course, etc in order for some of your wards have access to it. You can use this avenue if you want a discount.",this.detailTypes.push("search items")),this.actionDescription.length||(this.receiverTypes=["learners"],this.actionDescription="sending a request to learners (and indirectly to parents of learners) for them to notice/buy/access your classes, courses, etc. You can use this avenue if you want to give a discount."),this.detailTypes.push("discount","files")},setFacilitationRequestForm(){this.action="facilitation",this.itemTypes=["classes","courses","programs","extracurriculums"],this.detailTypes.push("search items"),this.account.account==="school"&&(this.actionDescription="sending a request to a facilitator so he/she can facilitate your class, course, school, etc You can use this avenue to specify salary/commission.",this.receiverTypes=["facilitators"]),this.account.account==="facilitator"&&(this.actionDescription="sending a request to the owner of a class, course, etc in order to become a facilitator for it. You can use this avenue to ask for a salary/commission."),this.detailTypes.push("payment","salary","commission","files")},setCollaborationRequestForm(){this.action="collaboration",this.itemTypes=["collaborations"],this.receiverTypes=["facilitators","professionals"],this.actionDescription="sending a request to facilitators or professionals in order for them to collaborate with you by joining your collaboration. You can use this avenue to specify commissions as well.",this.detailTypes=["payment","commission","search items","search"]},setAdmissionRequestForm(){this.action="admission",this.detailTypes=["attachments","attachment grades","attachment single","school type"],this.account.account==="school"&&(this.actionDescription="sending a request to a learner (and indirectly to parents) so they can be enrolled in the school (virtually/traditionally).",this.receiverTypes=["learners"],this.itemTypes=["assessments"],this.detailTypes.push("search","search items")),this.account.account==="learner"&&(this.actionDescription="sending a request to the administrators of a school so you can be enrolled (virtually/traditionally).",this.receiverTypes=["schools"],this.detailTypes.push("search")),this.account.account==="parent"&&(this.actionDescription="sending a request to the administrators of a school so you can be enrolled (virtually/traditionally).",this.receiverTypes=["schools"],this.detailTypes.push(["search","search items"])),this.detailTypes.push("payment","price","files")},setAdministrationRequestForm(){this.action="administration",this.account.account==="school"&&(this.receiverTypes=["users"],this.actionDescription="send a request to a user to become an administrator of your school. You can use this avenue to specify salary/commission"),this.account.account!=="school"&&(this.receiverTypes=["schools"],this.actionDescription="send a request to schools in order to become an administrator of the school. You can use this avenue to specify salary/commission"),this.detailTypes=["payment","salary","commission","search"]},clickedAction(e){if(!this.loading){if(this.actionButttonText==="send request"){this.sendRequest();return}else if(this.actionButttonText==="send another request"){this.clearData();return}if(this.steps===1){let t=this.validateStepOne();if(t.length){this.issueDangerAlert({message:t});return}}this.steps+=1}},validateStepOne(){return this.receiverTypes.length&&!this.selectedAccounts.length?`please you need to select ${this.receiverTypes.toString()}`:this.computedHasWards&&!this.wardId?"please you need to select one of your wards":this.itemTypes.toString()==="assessments"?"":this.itemTypes.length&&!this.selectedItems.length?`please you need to select ${this.itemTypes.toString()}`:""},clearData(){this.actionButttonText="",this.steps=0,this.adminstrationData={title:"",name:"",level:"",description:""},this.paymentType="",this.paymentData=null,this.schoolType=null,this.gradeId=null,this.accounts=[],this.attachments=[],this.files=[],this.showPreview=!1,this.showFileNote=!1,this.previewFile=null,this.clearRequestFormData()},attachmentSelected(e){if(!(this.findAttachmentIndex(e)>-1)){if(this.detailTypes.includes("attachment grades")&&(this.gradeId=e.data.id),this.detailTypes.includes("attachment single")){this.attachments=[e];return}this.attachments.push(e)}},findAttachmentIndex(e){return this.attachments.findIndex(t=>t.data.name===e.data.name&&t.data.description===e.data.description&&t.data.id===e.data.id)},removeAttachment(e){let t=this.findAttachmentIndex(e);if(t!==-1){if(!this.detailTypes.includes("attachment single")){this.attachments.splice(t,1);return}this.detailTypes.includes("attachment grades")&&(this.gradeId=null),this.attachments=[]}},removeFile(e){this.showPreview=!1,this.previewFile=null},removeShownFile(e){this.showPreview=!1;let t=e.data?e.data:e,s=this.files.findIndex(o=>t.name===o.name&&t.size===o.size);s>-1&&this.files.splice(s,1)},clickedAccount(e){this.accountSelected(e)},inWardsSelection(e){return this.findWardIndex(e)},clickedWard(e){if(this.findWardIndex(e)){this.wardId=null;return}this.wardId=e.accountId},findWardIndex(e){return this.wardId===e.accountId},clickedUpload(){this.files.length===3?this.showFileNote=!0:this.$refs.inputfile.click()},fileChange(){this.files.push(this.$refs.inputfile.files[0]),this.$refs.inputfile.value=""},sliceAttachmentType(e){return e.slice(0,e.length-1)},getFailedValidationMessage(){return this.computedPayment&&this.paymentData===null?"Please enter the required data for the payment.":""},async sendRequest(){let e=this.getFailedValidationMessage();if(e.length){this.alertDanger=!0,this.alertMessage=e;return}this.loading=!0;let t,s=new FormData;s.append("action",this.action),s.append("level",this.data.level),s.append("description",this.data.description.trim());for(let o=0;o<this.files.length;o++)s.append("files[]",this.files[o]);s.append("account",this.account.account),s.append("accountId",this.account.accountId),this.account.account==="school"&&this.admin&&s.append("adminId",this.admin.id),s.append("receivers",JSON.stringify(this.selectedAccounts.map(o=>({account:o.account,accountId:o.accountId})))),this.computedAdmission&&s.append("admissionData",JSON.stringify({type:this.schoolType,gradeId:this.gradeId})),this.computedAdministration&&s.append("administrationData",JSON.stringify(this.administrationData)),s.append("wardId",this.wardId),s.append("paymentData",JSON.stringify(this.paymentData)),s.append("paymentType",JSON.stringify(this.paymentType)),s.append("items",JSON.stringify(this.selectedItems.map(o=>({item:o.type,itemId:o.id})))),this.attachments.length&&s.append("attachments",JSON.stringify(this.attachments.map(o=>({item:this.sliceAttachmentType(o.type),itemId:o.data.id})))),t=await this["dashboard/sendRequest"](s),this.loading=!1,t.status?(this.alertSuccess=!0,this.alertMessage="request has been sent successfully "):(console.log("response :>> ",t),this.alertDanger=!0,this.alertMessage="oops! it failed . please try again later.")},afterAlertSuccess(){this.steps=0,this.clearData()},clickedIconBack(){if(this.type.length){this.invitationModalDisappear();return}this.steps===1&&this.clearRequestFormData(),this.steps-=1},getReceiverSearchText(e){this.receiversSearchText=e},getSelectableItemsSearchText(e){this.selectableItemsSearchText=e},debouncedSearchAccounts:Ft.debounce(function(){this.accounts=[],this.accountsNextPage=1,this.getAccounts()},300),async getAccounts(){this.accounts=await this.searchAccounts()},async searchAccounts(){if(!this.accountsNextPage||!this.receiverTypes.length)return;let e,t={nextPage:this.accountsNextPage,data:{type:this.receiverSearchType.length?this.receiverSearchType:this.receiverTypes[0],search:this.receiversSearchText,others:JSON.stringify(!0)}};return this.accountsLoading=!0,e=await this["dashboard/searchAccounts"](t),this.accountsLoading=!1,e.status?(e.next?this.accountsNextPage+=1:this.accountsNextPage=null,e.accounts):(console.log("response :>> ",e),[])},async infiniteHandler(e){this.accounts.push(...await this.searchAccounts()),this.accountsNextPage?e.loaded():e.complete()},debouncedSearchWards:Ft.debounce(function(){this.wards=[],this.wardsNextPage=1,this.getWards()},300),async getWards(){this.wards=await this.searchWards()},async searchWards(){if(!this.wardsNextPage)return;let e,t={nextPage:this.wardsNextPage,data:{accountId:this.account.accountId,search:this.wardsSearchText}};return this.wardsLoading=!0,e=await this["dashboard/searchWards"](t),this.wardsLoading=!1,e.status?(e.next?this.wardsNextPage+=1:this.wardsNextPage=null,e.wards):(console.log("response :>> ",e),[])},async wardsInfiniteHandler(e){this.wards.push(...await this.searchWards()),this.wardsNextPage?e.loaded():e.complete()},debouncedSearchSelectableItems:Ft.debounce(function(){this.selectedItems=[],this.selectableItemsNextPage=1,this.getSelectableItems()},300),async getSelectableItems(){this.selectedItems=await this.searchSelectableItems()},async searchSelectableItems(){if(!this.selectableItemsNextPage)return;let e,t={nextPage:this.selectableItemsNextPage,data:{type:this.selectableItemsSearchType.length?this.selectableItemsSearchType:this.itemTypes[0],search:this.selectableItemsSearchText,others:JSON.stringify(!0)}};return this.selectableItemsLoading=!0,e=await this["dashboard/searchItems"](t),this.selectableItemsLoading=!1,e.status?(e.next?this.selectableItemsNextPage+=1:this.selectableItemsNextPage=null,e.items):(console.log("response :>> ",e),[])},async itemsInfiniteHandler(e){this.selectedItems.push(...await this.searchSelectableItems()),this.selectableItemsNextPage?e.loaded():e.complete()},inItemsSelection(e){return this.findItemIndex(e)>-1},itemSelected(e){this.findItemIndex(e)===-1&&this.selectedItems.push(e)},findItemIndex(e){return this.selectedItems.findIndex(t=>t.id===e.id&&t.type===e.type)},removeItem(e){let t=this.findItemIndex(e);t>-1&&this.selectedItems.splice(t,1)},inAccountsSelection(e){return this.findAccountIndex(e)>-1},accountSelected(e){let t=this.findAccountIndex(e);t===-1?this.selectedAccounts.push(e):this.selectedAccounts.splice(t,1)},findAccountIndex(e){return this.selectedAccounts.findIndex(t=>t.account===e.account&&t.accountId===e.accountId)},removeAccount(e){let t=this.findAccountIndex(e);t>-1&&this.selectedAccounts.splice(t,1)}}},jA=e=>(gs("data-v-63741e67"),e=e(),vs(),e),ste={slot:"requests"},nte={key:2,class:"section"},ite={class:"description"},ote={key:3,class:"send-request search-section","infinite-wrapper":""},ate={key:1,class:"buttons"},rte={key:2,class:"no-data"},lte={key:3,class:"output-section"},cte={key:6},ute=jA(()=>h("div",{class:"small-msg"}," select one of your wards for whom you are sending this request ",-1)),dte={class:"output-section"},hte={key:4,class:"form-section"},fte={class:"small-msg text-left"},mte={key:3,class:"other-selections search-section","infinite-wrapper":""},pte={key:0,class:"buttons"},gte={key:2,class:"description small-msg"},vte={class:"items-wrapper"},yte={key:4,class:"attachments"},wte={key:6,class:"upload-section"},_te={key:0,class:"note"},bte={class:"files"},kte={key:1,class:"note-red"},Ate={key:0,class:"icon"},Cte={class:"text"},Ste={key:5,class:"preview-section"},Ite={key:0,class:"small-msg"},Tte={key:1,class:""},Dte={key:2,class:"small-msg"},xte={key:3,class:"output-section"},Pte=jA(()=>h("div",{class:"small-msg"}," nothing more to do here . if you are ready, send the request... ",-1));function Mte(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("font-awesome-icon"),v=_("main-list"),g=_("search-input"),A=_("grey-button"),D=_("other-user-account"),E=_("infinite-loading"),T=_("text-input"),N=_("text-textarea"),F=_("main-select"),R=_("payment-types"),j=_("item-badge"),W=_("attachment-badge"),Q=_("post-attachment"),le=_("file-preview"),me=_("action-button"),k=_("main-modal"),Ce=_("just-fade");return a(),S(Ce,null,{default:z(()=>[s.show?(a(),S(k,{key:0,show:s.show,onMainModalDisappear:n.invitationModalDisappear,main:!1,mainOther:!1,requestsAlone:!0,class:"invitation-modal-wrapper"},{default:z(()=>[h("template",ste,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert,onDoneShowingSuccessMessage:n.afterAlertSuccess},null,8,["message","success","danger","onHideAlert","onDoneShowingSuccessMessage"]),i.loading?(a(),S(f,{key:0,class:"loading",loading:i.loading},null,8,["loading"])):c("",!0),i.steps>0?(a(),d("div",{key:1,class:"back-icon",onClick:t[0]||(t[0]=(...he)=>n.clickedIconBack&&n.clickedIconBack(...he))},[b(m,{icon:["fa","long-arrow-alt-left"]})])):c("",!0),i.steps===0?(a(),d("div",nte,[h("div",ite,V(i.actionDescription),1),b(v,{onListItemSelected:n.actionSelection,multiple:!1,itemList:i.actionsList,select:"actions you can perform"},null,8,["onListItemSelected","itemList"])])):c("",!0),i.steps===1&&n.computedShowReceiversSection?(a(),d("div",ote,[i.receiverTypes.length?(a(),S(g,{key:0,class:"search-input",onSearch:n.getReceiverSearchText,placeholder:`search for ${i.receiverTypes.toString()}`},null,8,["onSearch","placeholder"])):c("",!0),i.receiverTypes.length>1?(a(),d("div",ate,[(a(!0),d(Z,null,pe(i.receiverTypes,(he,Ke)=>(a(),S(A,{class:"grey-button",key:Ke,text:he,active:he===i.receiverSearchType,onClickedAction:n.clickedReceiverType},null,8,["text","active","onClickedAction"]))),128))])):c("",!0),!i.accountsLoading&&!i.accountsNextPage&&!n.computedAccounts.length?(a(),d("div",rte," you got no one...try a different search ")):c("",!0),n.computedAccounts.length?(a(),d("div",lte,[(a(!0),d(Z,null,pe(n.computedAccounts,(he,Ke)=>(a(),S(D,{class:"account",key:Ke,account:he,active:n.inAccountsSelection(he),chat:!1,onClickedOtherUserAccount:n.clickedAccount},null,8,["account","active","onClickedOtherUserAccount"]))),128))])):c("",!0),i.accountsLoading?(a(),S(f,{key:4,class:"loading",loading:i.accountsLoading,size:"10px"},null,8,["loading"])):c("",!0),!i.accountsLoading&&i.accountsNextPage&&i.accountsNextPage>1?(a(),S(E,{key:5,onInfinite:n.infiniteHandler,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0),n.computedWards.length?(a(),d("div",cte,[s.account.account==="parent"?(a(),S(g,{key:0,class:"search-input",onSearch:n.getWardSearchText,placeholder:"search for wards"},null,8,["onSearch"])):c("",!0),ute,h("div",dte,[(a(!0),d(Z,null,pe(n.computedWards,(he,Ke)=>(a(),S(D,{class:"account",key:Ke,account:he,active:n.inWardsSelection(he),chat:!1,onClickedOtherUserAccount:n.clickedWard},null,8,["account","active","onClickedOtherUserAccount"]))),128))])])):c("",!0)])):c("",!0),i.steps===1?(a(),d("div",hte,[n.computedAdministration?(a(),d(Z,{key:0},[b(T,{bottomBorder:!0,placeholder:"administrator name*",modelValue:i.administrationData.name,"onUpdate:modelValue":t[1]||(t[1]=he=>i.administrationData.name=he),class:"other-input"},null,8,["modelValue"]),b(T,{bottomBorder:!0,placeholder:"administrator title",modelValue:i.administrationData.title,"onUpdate:modelValue":t[2]||(t[2]=he=>i.administrationData.title=he),class:"other-input"},null,8,["modelValue"]),b(N,{placeholder:"job description",modelValue:i.administrationData.description,"onUpdate:modelValue":t[3]||(t[3]=he=>i.administrationData.description=he),bottomBorder:!0,class:"input"},null,8,["modelValue"]),b(F,{items:["9","8","7","6","5","4","3","2","1"],value:i.administrationData.level,backgroundColor:"white",onSelection:n.levelSelection,class:"main-select"},null,8,["value","onSelection"])],64)):c("",!0),n.computedSchoolType?(a(),S(F,{key:1,items:["traditional","virtual"],value:i.schoolType,backgroundColor:"white",onSelection:n.schoolTypeSelection,class:"main-select"},null,8,["value","onSelection"])):c("",!0),h("div",fte,V(n.computedPaymentType)+": ",1),n.computedPaymentType.length?(a(),S(R,{key:2,class:"payment-types",type:i.paymentType,showRadios:!1,onPaymentType:n.getPaymentType,onPaymentTypeError:e.issueDangerAlert,radioValue:n.computedPaymentType},null,8,["type","onPaymentType","onPaymentTypeError","radioValue"])):c("",!0),n.computedHasItemSelection?(a(),d("div",mte,[b(g,{class:"search-input",onSearch:n.getSelectableItemsSearchText,placeholder:`search for ${i.itemTypes.toString()}`},null,8,["onSearch","placeholder"]),i.itemTypes.length?(a(),d("div",pte,[(a(!0),d(Z,null,pe(i.itemTypes,(he,Ke)=>(a(),S(A,{class:"grey-button",key:Ke,text:he,active:he===i.selectableItemsSearchType,onClickedAction:n.clickedItemType},null,8,["text","active","onClickedAction"]))),128))])):c("",!0),i.selectableItemsLoading?(a(),S(f,{key:1,class:"loading",loading:i.selectableItemsLoading,size:"10px"},null,8,["loading"])):c("",!0),n.computedItemSelectionText.length?(a(),d("div",gte,V(n.computedItemSelectionText),1)):c("",!0),h("div",vte,[(a(!0),d(Z,null,pe(n.computedItemSelectionArray,(he,Ke)=>(a(),S(j,{key:Ke,item:he,type:"class",hasRemove:n.inItemsSelection(he),class:"badge",onClickedItem:n.itemSelected,onClickedRemoveItem:n.removeItem},null,8,["item","hasRemove","onClickedItem","onClickedRemoveItem"]))),128))]),!i.selectableItemsLoading&&i.selectableItemsNextPage&&i.selectableItemsNextPage>1?(a(),S(E,{key:3,onInfinite:n.itemsInfiniteHandler,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)])):c("",!0),i.attachments.length?(a(),d("div",yte,[(a(!0),d(Z,null,pe(i.attachments,(he,Ke)=>(a(),S(W,{key:Ke,attachment:he.data,hasClose:!0,onRemoveAttachment:n.removeAttachment},null,8,["attachment","onRemoveAttachment"]))),128))])):c("",!0),n.computedPostAttachment?(a(),S(Q,{key:5,show:!0,hasSelect:!0,hasClose:!1,buttons:n.computedPostAttachmentButtons,onClickedAttachmentSelection:n.attachmentSelected,class:"input"},null,8,["buttons","onClickedAttachmentSelection"])):c("",!0),n.computedFiles?(a(),d("div",wte,[i.files.length?(a(),d("div",_te,"these are the files to be sent with request")):c("",!0),h("div",bte,[(a(!0),d(Z,null,pe(i.files,(he,Ke)=>(a(),S(W,{key:Ke,hasClose:!0,file:he,onRemoveAttachment:n.removeShownFile,onClick:Te=>e.preview(he)},null,8,["file","onRemoveAttachment","onClick"]))),128))]),i.showFileNote?(a(),d("div",kte,"you can only have a maximum of three files")):c("",!0),h("div",{class:"upload",onClick:t[4]||(t[4]=(...he)=>n.clickedUpload&&n.clickedUpload(...he))},[i.files.length<3?(a(),d("div",Ate,[b(m,{icon:["fa","plus"]})])):c("",!0),h("div",Cte,V(i.files.length===3?"you have reached the maximum of 3 files":"add a file to send with request"),1)]),i.files.length?(a(),S(le,{key:2,show:i.showPreview,middle:!0,showRemove:!0,file:i.previewFile,onRemoveFile:n.removeFile,class:"file-preview-wrapper"},null,8,["show","file","onRemoveFile"])):c("",!0)])):c("",!0)])):c("",!0),i.steps===2?(a(),d("div",Ste,[i.selectedAccounts.length?(a(),d("div",Ite," the request will be sent to the following: ")):c("",!0),i.selectedAccounts.length?(a(),d("div",Tte,[(a(!0),d(Z,null,pe(i.selectedAccounts,(he,Ke)=>(a(),S(D,{class:"account",key:Ke,account:he,chat:!1},null,8,["account"]))),128))])):c("",!0),i.selectedItems.length?(a(),d("div",Dte," the request regards the following: ")):c("",!0),i.selectedItems.length?(a(),d("div",xte,[(a(!0),d(Z,null,pe(i.selectedItems,(he,Ke)=>(a(),S(j,{class:"item",key:Ke,item:he},null,8,["item"]))),128))])):c("",!0),Pte])):c("",!0),i.actionButttonText.length?(a(),S(me,{key:6,onClick:n.clickedAction,text:i.actionButttonText,class:"action-button"},null,8,["onClick","text"])):c("",!0),n.computedFiles?(a(),d("input",{key:7,type:"file",class:"hidden",onChange:t[5]||(t[5]=(...he)=>n.fileChange&&n.fileChange(...he)),ref:"inputfile"},null,544)):c("",!0)])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const Ete=Ae(tte,[["render",Mte],["__scopeId","data-v-63741e67"]]),Ote={components:{DashboardActionButton:yu},props:{subText:{type:String,default:""},inactive:{type:Boolean,default:!1},hasViewMore:{type:Boolean,default:!0},viewLength:{type:Number,default:0},itemsLength:{type:Number,default:1}},data(){return{full:!1}},computed:{computedShowViewMore(){return this.hasViewMore&&this.full&&this.itemsLength>this.viewLength}},methods:{clickedIcon(){this.inactive||(this.full=!this.full)},clickedDashboardActionButton(e){this.$emit("clickedDashboardActionButton",{type:e.text,subText:this.subText})}}},Rte={key:0,class:"body"},Nte={key:1,class:"bottom"};function Lte(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("dashboard-action-button");return a(),d("div",{class:we(["dashboard-sub-section-wrapper",{full:i.full}])},[h("div",{class:"top",onClick:t[2]||(t[2]=Vt((...m)=>n.clickedIcon&&n.clickedIcon(...m),["self"]))},[h("div",{class:"icon",onClick:t[0]||(t[0]=(...m)=>n.clickedIcon&&n.clickedIcon(...m))},[i.full?c("",!0):(a(),S(r,{key:0,icon:["fa","plus"]})),i.full?(a(),S(r,{key:1,icon:["fa","minus"]})):c("",!0)]),h("div",{class:"text",onClick:t[1]||(t[1]=(...m)=>n.clickedIcon&&n.clickedIcon(...m))},V(s.subText),1),n.computedShowViewMore?(a(),S(f,{key:0,text:"view more",icon:"",onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["onClick"])):c("",!0)]),i.full?(a(),d("div",Rte,[Jt(e.$slots,"body",{},void 0,!0)])):c("",!0),i.full?(a(),d("div",Nte,[Jt(e.$slots,"bottom",{},void 0,!0)])):c("",!0)],2)}const Ov=Ae(Ote,[["render",Lte],["__scopeId","data-v-aefda9e0"]]),Fte={components:{SubscriptionBadge:pu,SimpleAccountBadge:RA,OptionalActions:Wr,PriceBadge:Ac,ProfilePicture:Ys,FeeBadge:Id,DashboardActionButton:yu},props:{type:{type:String,default:""},admin:{type:Boolean,default:!1},account:{type:Object,default(){return null}}},data(){return{showPaymentTypes:!1,showCollaborators:!1,showOptionalActions:!1}},watch:{showOptionalActions(e){e&&setTimeout(()=>{},5e3)}},computed:{...os(["getUser","dashboard/getAccountDetails"]),computedTitle(){return this.type!=="lesson"&&this.account.title?this.account.title:""},computedShowOptionalActions(){return this.type!=="parent"&&this.computedIsAccount&&this["dashboard/getAccountDetails"].account==="school"},computedOptionalActions(){return["class","course","extracurriculum","collaboration"]},computedPaymentTypeButtonText(){return this.showPaymentTypes?"hide payment":"show payment"},computedCollaboratorsButtonText(){return this.showCollaborators?"hide collaborators":"show collaborators"},computedName(){return this.type==="admin"?`${this.account.name}`:this.type==="user"?this.account.fullName:this.type==="subject"||this.type==="grade"||this.type==="course"||this.type==="program"?this.account.data.name:this.account.title?this.account.title:this.account.name},computedShowState(){return(this.admin||this.computedOwner)&&this.computedState.length},computedUsername(){return this.type==="admin"||this.type==="user"?` 
                    (@${this.account.username})`:""},computedProfileUrl(){return this.computedIsAccount?this.account.url:""},computedOtherDetails(){let e="";return this.type==="admin"?(this.account.level&&(e=`level: ${this.account.level} `),this.account.description&&(e+=`description: ${this.account.description} `)):this.type==="lesson"?this.account.description&&(e+=`description: ${this.account.description} `):this.type==="user"?(this.account.gender&&(e=`gender: ${this.account.gender} `),this.account.age&&(e+=`age: ${this.account.age} `),e+=`joined on: ${_s.dateReadable(this.account.created_at)} `):this.type==="subject"||this.type==="grade"||this.type==="course"||this.type==="program"?(this.account.data.age_group&&(e=`age group: ${this.account.data.age_group} `),this.account.data.description&&(e+=`description: ${ns.trim(this.account.data.description)} `),this.account.data.rationale&&(e+=`rationale: ${this.account.data.rationale} `)):this.type==="collaboration"?(this.account.type&&(e+=`type: ${this.account.type.toLowerCase()} 
`),this.account.description&&(e+=`description: ${ns.trim(this.account.description)} `),this.account.collaborators.length&&(e+=`${this.account.collaborators.length} collaborators`)):this.computedShowView&&(this.account.description&&(e+=`description: ${ns.trim(this.account.description)} `),this.account.lessons&&(e+=`lessons: ${this.account.lessons} `),this.account.dueAt&&(e+=`due on: ${_s.dueAt(this.account.dueAt)} `),this.account.publishedAt&&(e+=`published: ${_s.createdAt(this.account.publishedAt)} `),this.account.learners&&(e+=`learners: ${this.account.learners} learners`),this.account.facilitators&&(e+=`facilitators: ${this.account.facilitators.length} facilitators`),this.account.professionanls&&(e+=`professionanls: ${this.account.professionanls.length} professionals`)),ns.trim(e)},computedPaymentDetails(){return this.type==="owned course"||this.type==="owned class"||this.type==="lesson"||this.type==="owned program"||this.type==="course"||this.type==="class"||this.type==="program"||this.type==="extracurriculum"||this.type==="owned extracurriculum"?this.account.subscriptions&&this.account.subscriptions.length?{type:"subscription",data:this.account.subscriptions}:this.account.prices&&this.account.prices.length?{type:"price",data:this.account.prices}:this.account.fees&&this.account.fees.length?{type:"fee",data:this.account.fees}:null:null},computedIsAccount(){return this.type==="facilitator"||this.type==="parent"||this.type==="professional"||this.type==="learner"},computedViewProfile(){return this.computedIsAccount&&this.admin},computedShowBan(){return(this.type==="user"||this.type==="learner"||this.computedIsAccount)&&(this.getUser.is_superadmin||this.getUser.is_supervisoradmin)},computedShowUnban(){return this.type!=="admin"&&this.account.bans&&this.account.bans.length&&(this.getUser.is_superadmin||this.getUser.is_supervisoradmin)},computedShowActivities(){return this.computedShowBan||this.type==="admin"},computedShowRemoveType(){return this.type==="grade"||this.type==="subject"||this.type==="course"||this.type==="program"||this.computedViewProfile},computedShowDelete(){return this.type==="owned course"||this.type==="owned class"||this.type==="owned extracurriculum"||this.type==="owned program"||this.type==="extracurriculum"||this.type==="program"||this.type==="course"||this.type==="class"||this.type==="owned extracurriculum"||this.type==="lesson"||this.type==="collaboration"&&this.computedOwner||this.type==="assessment"&&this.computedOwner},computedState(){return this.account.state?this.account.state:""},computedShowView(){return this.type.includes("course")||this.type.includes("extracurriculum")||this.type.includes("program")||this.type.includes("lesson")||this.type.includes("assessment")&&this.computedOwner||this.type.includes("class")},computedOwner(){return this.type==="collaboration"||this.type==="assessment"?this.isOwner(this.account.addedby):this.isOwner(this.account.ownedby)}},methods:{isOwner(e){return e&&e.userId===this.getUser.id},clickedDashboardActionButton(e){e.icon==="plus"?this.showOptionalActions=!0:this.$emit("clickedDashboardActionButton",{type:this.type,buttonData:e})},clickedOption(e){console.log("data :>> ",e)}}},Ute={key:0,class:"dashboard-section-account-wrapper"},Bte={class:"top"},jte={slot:"image"},Vte=["src"],qte={class:"name"},Hte={key:0,class:"username"},Wte={class:"detail"},zte={key:0,class:"title"},Gte={class:"actions"},Yte={key:2,class:"other-details"},Qte=["textContent"],Kte={key:4,class:"payment-details"},Jte=["textContent"],Xte={key:6,class:"collaborators"};function $te(e,t,s,o,i,n){const r=_("optional-actions"),f=_("profile-picture"),m=_("dashboard-action-button"),v=_("subscription-badge"),g=_("price-badge"),A=_("fee-badge"),D=_("simple-account-badge");return s.account?(a(),d("div",Ute,[i.showOptionalActions?(a(),S(r,{key:0,class:"optional-actions",show:n.computedShowOptionalActions,hasOthers:!0,horizontal:!0,onClickedOption:n.clickedOption,others:n.computedOptionalActions},null,8,["show","onClickedOption","others"])):c("",!0),n.computedShowState?(a(),d("div",{key:1,class:we(["state",{danger:n.computedState==="DELETED"}])},V(n.computedState),3)):c("",!0),h("div",Bte,[n.computedProfileUrl.length?(a(),S(f,{key:0,class:"profile-picture"},{default:z(()=>[h("template",jte,[h("img",{src:n.computedProfileUrl},null,8,Vte)])]),_:1})):c("",!0),h("div",qte,[Mt(V(n.computedName)+" ",1),n.computedUsername?(a(),d("div",Hte,V(n.computedUsername),1)):c("",!0)])]),h("div",Wte,[n.computedTitle.length?(a(),d("div",zte,V(n.computedTitle),1)):c("",!0),h("div",Gte,[n.computedShowView?(a(),S(m,{key:0,text:"view",icon:"",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["data","onClick"])):c("",!0),n.computedShowActivities?(a(),S(m,{key:1,text:"activities",icon:"",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["data","onClick"])):c("",!0),n.computedShowRemoveType?(a(),S(m,{key:2,text:`remove ${s.type}`,icon:"",data:s.account,hasLoading:!0,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["text","data","onClick"])):c("",!0),n.computedViewProfile?(a(),S(m,{key:3,text:"profile",icon:"eye",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["data","onClick"])):c("",!0),s.type==="admin"?(a(),S(m,{key:4,title:`edit this ${s.type}'s information`,text:"edit",icon:"pencil-alt",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),s.type==="admin"?(a(),S(m,{key:5,title:`remove this ${s.type}`,text:"remove",icon:"trash",data:s.account,hasLoading:!0,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),n.computedShowBan?(a(),S(m,{key:6,title:`ban this ${s.type}`,text:"ban",icon:"ban",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),n.computedShowUnban?(a(),S(m,{key:7,title:`unban this ${s.type}`,text:"unban",icon:"ban",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),n.computedShowDelete&&n.computedState!=="DELETED"?(a(),S(m,{key:8,title:`edit this ${s.type}`,text:"edit",icon:"pencil-alt",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),n.computedShowDelete&&n.computedState!=="DELETED"?(a(),S(m,{key:9,title:`delete this ${s.type}`,text:"delete",icon:"trash",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),n.computedState==="DELETED"?(a(),S(m,{key:10,title:`undo delete this ${s.type}`,text:"undo delete",icon:"trash-restore",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0),n.computedShowOptionalActions?(a(),S(m,{key:11,title:`add this ${s.type} to something (class, course, extracurriculum)`,text:"add",icon:"plus",data:s.account,onClick:n.clickedDashboardActionButton,class:"action-button"},null,8,["title","data","onClick"])):c("",!0)])]),n.computedOtherDetails&&n.computedOtherDetails.length?(a(),d("div",Yte,V(n.computedOtherDetails),1)):c("",!0),n.computedPaymentDetails?(a(),d("div",{key:3,class:we(["payment-types",[i.showPaymentTypes?"hide":"show"]]),textContent:V(n.computedPaymentTypeButtonText),onClick:t[0]||(t[0]=E=>i.showPaymentTypes=!i.showPaymentTypes)},null,10,Qte)):c("",!0),i.showPaymentTypes?(a(),d("div",Kte,[n.computedPaymentDetails.type==="subscription"?(a(!0),d(Z,{key:0},pe(n.computedPaymentDetails.data,(E,T)=>(a(),S(v,{key:T,hasClose:!1,data:E,class:"payment-badge"},null,8,["data"]))),128)):c("",!0),n.computedPaymentDetails.type==="price"?(a(!0),d(Z,{key:1},pe(n.computedPaymentDetails.data,(E,T)=>(a(),S(g,{key:T,data:E,hasClose:!1,class:"payment-badge"},null,8,["data"]))),128)):c("",!0),n.computedPaymentDetails.type==="fee"?(a(!0),d(Z,{key:2},pe(n.computedPaymentDetails.data,(E,T)=>(a(),S(A,{key:T,data:E,hasClose:!1,class:"payment-badge"},null,8,["data"]))),128)):c("",!0)])):c("",!0),s.type==="collaboration"?(a(),d("div",{key:5,class:we(["payment-types",[i.showCollaborators?"hide":"show"]]),textContent:V(n.computedCollaboratorsButtonText),onClick:t[1]||(t[1]=E=>i.showCollaborators=!i.showCollaborators)},null,10,Jte)):c("",!0),i.showCollaborators?(a(),d("div",Xte,[(a(!0),d(Z,null,pe(s.account.collaborators,(E,T)=>(a(),S(D,{key:T,account:E,detailKeys:["share","state"],class:"mr-3"},null,8,["account"]))),128))])):c("",!0)])):c("",!0)}const Xf=Ae(Fte,[["render",$te],["__scopeId","data-v-27829369"]]),Zte={components:{FadeRight:ma},props:{state:{type:String,default:""}},computed:{computedState(){return this.state?this.state:""},computedDanger(){return this.computedState==="DELETED"||this.computedState==="DECLINED"}}};function ese(e,t,s,o,i,n){const r=_("fade-right");return a(),S(r,null,{default:z(()=>[n.computedState.length?(a(),d("div",{key:0,class:we(["state-badge",{danger:n.computedDanger}])},V(n.computedState),3)):c("",!0)]),_:1})}const VA=Ae(Zte,[["render",ese],["__scopeId","data-v-a768e8f1"]]),tse={components:{StateBadge:VA,DashboardActionButton:yu,DashboardSectionAccount:Xf,DashboardSubSection:Ov,AccountBadge:vu},props:{type:{type:String,default:""},mainSectionData:{type:Object,default(){return null}},account:{type:Object,default(){return null}},learner:{type:Object,default(){return null}},facilitator:{type:Object,default(){return null}},parent:{type:Object,default(){return null}},professional:{type:Object,default(){return null}},admin:{type:Object,default(){return null}}},computed:{computedName(){return this.type==="class"||this.type==="school"||this.type==="course"||this.type==="extracurriculum"||this.type==="program"?this.mainSectionData.name:this.mainSectionData.title?this.mainSectionData.title:""},computedDescription(){return this.mainSectionData.description?`${this.type} description: ${this.mainSectionData.description}`:this.mainSectionData.about?`about ${this.type}: ${this.mainSectionData.description}`:""},computedShowAttachments(){return this.mainSectionData&&this.mainSectionData.hasOwnProperty("attachments")},computedAuthority(){return this.admin||this.account&&this.account.owner}},methods:{clickedEditSomething(){this.$emit("clickedEditSomething",this.type)},clickedDashboardActionButton(e){this.$emit("clickedDashboardActionButton",e)},getAttachmentString(e){return e.slice(0,e.length-1)}}},Fo=e=>(gs("data-v-08b0a76e"),e=e(),vs(),e),sse={key:0,class:"dashboard-main-section-wrapper"},nse={class:"name"},ise={key:0,class:"description"},ose={class:"data"},ase={key:0,class:"state"},rse={class:"authority-actions"},lse={slot:"body"},cse=Fo(()=>h("div",{class:"actions"},null,-1)),use={class:"main"},dse={key:0,class:"no-data"},hse={slot:"body"},fse=Fo(()=>h("div",{class:"actions"},null,-1)),mse={class:"main"},pse={key:0,class:"no-data"},gse={slot:"body"},vse=Fo(()=>h("div",{class:"actions"},null,-1)),yse={class:"main"},wse={key:0,class:"no-data"},_se={slot:"body"},bse=Fo(()=>h("div",{class:"actions"},null,-1)),kse={class:"main"},Ase={key:0,class:"no-data"},Cse={slot:"body"},Sse=Fo(()=>h("div",{class:"actions"},null,-1)),Ise={class:"main"},Tse={key:0,class:"no-data"},Dse={slot:"body"},xse=Fo(()=>h("div",{class:"actions"},null,-1)),Pse={class:"main"},Mse={key:0,class:"no-data"},Ese={slot:"body"},Ose=Fo(()=>h("div",{class:"actions"},null,-1)),Rse={class:"main"},Nse={key:0,class:"no-data"},Lse={slot:"body"},Fse=Fo(()=>h("div",{class:"actions"},null,-1)),Use={class:"main"},Bse={key:0,class:"no-data"},jse={slot:"body"},Vse=Fo(()=>h("div",{class:"actions"},null,-1)),qse={class:"main"},Hse={key:0,class:"no-data"},Wse={slot:"body"},zse=Fo(()=>h("div",{class:"actions"},null,-1)),Gse={class:"main"},Yse={key:0,class:"no-data"},Qse={slot:"body"},Kse=Fo(()=>h("div",{class:"actions"},null,-1)),Jse={class:"main"},Xse={slot:"body"},$se=Fo(()=>h("div",{class:"actions"},null,-1)),Zse={class:"main"},ene={key:0,class:"no-data"},tne={slot:"body"},sne=Fo(()=>h("div",{class:"actions"},null,-1)),nne={class:"main"};function ine(e,t,s,o,i,n){const r=_("account-badge"),f=_("dashboard-action-button"),m=_("state-badge"),v=_("dashboard-section-account"),g=_("dashboard-sub-section");return s.mainSectionData?(a(),d("div",sse,[h("div",nse,V(n.computedName),1),n.computedDescription.length?(a(),d("div",ise,V(n.computedDescription),1)):c("",!0),h("div",ose,[n.computedAuthority?(a(),d(Z,{key:0},[s.mainSectionData.addedby?(a(),S(r,{key:0,account:s.mainSectionData.addedby,dashboard:!0,what:s.type,class:"account-badge"},null,8,["account","what"])):c("",!0)],64)):c("",!0),s.mainSectionData.type==="school"?(a(),d(Z,{key:1},[s.mainSectionData.role?(a(),d("div",ase,V(s.mainSectionData.role),1)):c("",!0)],64)):c("",!0)]),h("div",rse,[n.computedAuthority?(a(),S(f,{key:0,text:"edit",icon:"pencil-alt",onClick:n.clickedEditSomething,class:"edit"},null,8,["onClick"])):c("",!0),b(m,{state:s.mainSectionData.state},null,8,["state"])]),s.mainSectionData.lessons?(a(),S(g,{key:1,subText:"lessons"},{default:z(()=>[h("template",lse,[cse,h("div",use,[(a(!0),d(Z,null,pe(s.mainSectionData.lessons,(A,D)=>(a(),S(v,{class:"dashboard-section-account",key:D,type:"lesson",account:A,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),s.mainSectionData.lessons.length?c("",!0):(a(),d("div",dse," no lessons ")),s.facilitator?(a(),S(f,{key:1,class:"add-another",text:"add lesson",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])):c("",!0)])])]),_:1})):c("",!0),s.mainSectionData.classes?(a(),S(g,{key:2,subText:"classes"},{default:z(()=>[h("template",hse,[fse,h("div",mse,[Mt(V(s.mainSectionData.classes)+" ",1),s.mainSectionData.classes.length?c("",!0):(a(),d("div",pse," no classes "))])])]),_:1})):c("",!0),n.computedShowAttachments?(a(),S(g,{key:3,subText:"attachments"},{default:z(()=>[h("template",gse,[vse,h("div",yse,[(a(!0),d(Z,null,pe(s.mainSectionData.attachments,(A,D)=>(a(),S(v,{class:"dashboard-section-account",key:D,type:n.getAttachmentString(A.type),account:A,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["type","account","onClickedDashboardActionButton"]))),128)),s.mainSectionData.attachments.length?c("",!0):(a(),d("div",wse," no attachments "))])])]),_:1})):c("",!0),s.mainSectionData.courses?(a(),S(g,{key:4,subText:"courses"},{default:z(()=>[h("template",_se,[bse,h("div",kse,[(a(!0),d(Z,null,pe(s.mainSectionData.courses,(A,D)=>(a(),S(v,{class:"dashboard-section-account",key:D,type:A.data?n.getAttachmentString(A.type):s.account.owner?"owned course":"normal course",account:A,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["type","account","onClickedDashboardActionButton"]))),128)),s.mainSectionData.courses.length?c("",!0):(a(),d("div",Ase," no courses "))])])]),_:1})):c("",!0),s.mainSectionData.grades?(a(),S(g,{key:5,subText:"grades"},{default:z(()=>[h("template",Cse,[Sse,h("div",Ise,[(a(!0),d(Z,null,pe(s.mainSectionData.grades,(A,D)=>(a(),S(v,{class:"dashboard-section-account",key:D,type:A.data?n.getAttachmentString(A.type):s.account.owner?"owned grade":"normal grade",account:A,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["type","account","onClickedDashboardActionButton"]))),128)),s.mainSectionData.grades.length?c("",!0):(a(),d("div",Tse," no grades "))])])]),_:1})):c("",!0),s.mainSectionData.programs?(a(),S(g,{key:6,subText:"programs"},{default:z(()=>[h("template",Dse,[xse,h("div",Pse,[(a(!0),d(Z,null,pe(s.mainSectionData.programs,(A,D)=>(a(),S(v,{class:"dashboard-section-account",key:D,type:A.data?n.getAttachmentString(A.type):s.account.owner?"owned program":"normal program",account:A,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["type","account","onClickedDashboardActionButton"]))),128)),s.mainSectionData.programs.length?c("",!0):(a(),d("div",Mse," no programs "))])])]),_:1})):c("",!0),s.mainSectionData.collaboration?(a(),S(g,{key:7,subText:"collaboration"},{default:z(()=>[h("template",Ese,[Ose,h("div",Rse,[Mt(V(s.mainSectionData.collaborations)+" ",1),s.mainSectionData.collaborations.length?c("",!0):(a(),d("div",Nse," no collaborations "))])])]),_:1})):c("",!0),s.mainSectionData.facilitators?(a(),S(g,{key:8,subText:"facilitators"},{default:z(()=>[h("template",Lse,[Fse,h("div",Use,[Mt(V(s.mainSectionData.facilitators)+" ",1),s.mainSectionData.facilitators.length?c("",!0):(a(),d("div",Bse," no facilitators "))])])]),_:1})):c("",!0),s.mainSectionData.professionals?(a(),S(g,{key:9,subText:"professionals"},{default:z(()=>[h("template",jse,[Vse,h("div",qse,[Mt(V(s.mainSectionData.professionals)+" ",1),s.mainSectionData.professionals.length?c("",!0):(a(),d("div",Hse," no professionals "))])])]),_:1})):c("",!0),s.mainSectionData.learners?(a(),S(g,{key:10,subText:"learners"},{default:z(()=>[h("template",Wse,[zse,h("div",Gse,[Mt(V(s.mainSectionData.learners)+" ",1),s.mainSectionData.learners.length?c("",!0):(a(),d("div",Yse," no learners "))])])]),_:1})):c("",!0),s.mainSectionData.subjects?(a(),S(g,{key:11,subText:"subjects"},{default:z(()=>[h("template",Qse,[Kse,h("div",Jse,V(s.mainSectionData.subjects),1)])]),_:1})):c("",!0),s.mainSectionData.extracurriculums?(a(),S(g,{key:12,subText:"extracurriculums"},{default:z(()=>[h("template",Xse,[$se,h("div",Zse,[Mt(V(s.mainSectionData.extracurriculums)+" ",1),s.mainSectionData.extracurriculums.length?c("",!0):(a(),d("div",ene," no extracurriculums "))])])]),_:1})):c("",!0),s.mainSectionData.discussions?(a(),S(g,{key:13,subText:"discussions"},{default:z(()=>[h("template",tne,[sne,h("div",nne,V(s.mainSectionData.discussions),1)])]),_:1})):c("",!0)])):c("",!0)}const one=Ae(tse,[["render",ine],["__scopeId","data-v-08b0a76e"]]),ane={methods:{goBack(){mo().go(-1)}}};function rne(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",{class:"back",title:"go back",onClick:t[0]||(t[0]=(...f)=>n.goBack&&n.goBack(...f))},[b(r,{icon:["fas","chevron-left"]})])}const lne=Ae(ane,[["render",rne],["__scopeId","data-v-2efd9dd9"]]),cne={props:{show:{type:Boolean,default:!0},showGoBack:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},alertMessage:{type:String,default:""},alertError:{type:Boolean,default:!1},alertSuccess:{type:Boolean,default:!1}},components:{GoBack:lne,FadeRight:ma},data(){return{}},watch:{show:{immediate:!0,handler(e){e&&this.$emit("mainModalAppear")}},alertMessage:{immediate:!0,handler(e){this.alertMessage.length>0&&setTimeout(()=>{this.$emit("clearAlert")},2e3)}}},computed:{showAlert(){return this.alertMessage.length>0}},methods:{disappear(){this.$emit("mainModalDisappear")},goBack(){this.$emit("goBack")}}},une={key:0,class:"loading-errors"},dne={key:1,class:"main"};function hne(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("go-back"),m=_("fade-right");return s.show?(a(),d("div",{key:0,class:"modal-wrapper",onClick:t[2]||(t[2]=Vt((...v)=>n.disappear&&n.disappear(...v),["self"]))},[s.showGoBack?c("",!0):(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...v)=>n.disappear&&n.disappear(...v))},[b(r,{icon:["fas","times"]})])),s.showGoBack?(a(),d("div",{key:1,class:"navigation",onClick:t[1]||(t[1]=(...v)=>n.goBack&&n.goBack(...v))},[b(f)])):c("",!0),n.showAlert?c("",!0):(a(),d(Z,{key:2},[s.loading?(a(),d("div",une,[Jt(e.$slots,"loading",{},void 0,!0),Jt(e.$slots,"errors",{},void 0,!0)])):(a(),d("div",dne,[Jt(e.$slots,"main",{},void 0,!0)]))],64)),b(m,null,{default:z(()=>[n.showAlert?(a(),d("div",{key:0,class:we(["alert",{alertError:s.alertError,alertSuccess:s.alertSuccess}])},V(s.alertMessage),3)):c("",!0)]),_:1})])):c("",!0)}const fne=Ae(cne,[["render",hne],["__scopeId","data-v-cbacbeac"]]),mne={components:{},props:{answerId:{type:Number,default:0},show:{type:Boolean,default:!1}},data(){return{loading:!1,marks:[],nextPage:1}},watch:{show:{immediate:!0,handler(e){e?this.getMarks():this.marks=[]}}},computed:{computedShowMore(){return this.nextPage&&this.nextPage>1}},methods:{...ss(["profile/getAnswerMarks"]),getMarkType(e){return ns.getAccount(e)},async getMarks(){this.loading=!0;let e;e=await this["profile/getAnswerMarks"]({answerId:this.answerId,nextPage:this.nextPage}),e.status?this.marks.push(...e.data):console.log("response :>> ",e),this.loading=!1},clickedCloseRemark(){this.$emit("clickedCloseRemark")}}},pne={key:0,class:"remarks-badge-wrapper"},gne={class:"top"},vne={class:"name"},yne={class:"type"},wne={class:"bottom"},_ne={class:"remark"},bne={class:"mark"},kne={class:"loading"};function Ane(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("pulse-loader"),m=_("just-fade");return a(),S(m,null,{default:z(()=>[s.show?(a(),d("div",pne,[h("div",{class:"close",onClick:t[0]||(t[0]=(...v)=>n.clickedCloseRemark&&n.clickedCloseRemark(...v))},[b(r,{icon:["fa","times"]})]),(a(!0),d(Z,null,pe(i.marks,(v,g)=>(a(),d("div",{class:"mark-section",key:g},[h("div",gne,[h("div",vne,V(v.markedby_name),1),h("div",yne,V(n.getMarkType(v.markedby_type)),1)]),h("div",wne,[h("div",_ne,V(`remark: ${v.remark}`),1),h("div",bne,V(`${v.score}/${v.scoreOver}`),1)])]))),128)),h("div",kne,[b(f,{loading:i.loading,size:"10px"},null,8,["loading"])]),!i.loading&&n.computedShowMore?(a(),d("div",{key:0,class:"show-more",onClick:t[1]||(t[1]=(...v)=>n.getMarks&&n.getMarks(...v))},[b(r,{icon:["fa","ellipsis-h"]})])):c("",!0)])):c("",!0)]),_:1})}const Cne=Ae(mne,[["render",Ane],["__scopeId","data-v-a642a33f"]]),Sne={props:{answerFull:{type:Boolean,default:!1},chat:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},answer:{type:Object,default(){return{}}},conversationId:{type:Number,default:null},possibleAnswers:{type:Array,default(){return[]}}},components:{FadeUp:bi,AddComment:Od,FadeRight:ma,RemarksBadge:Cne,OptionalActions:Wr,FadeRightFast:Iv,MainList:Cc,FlagReason:Jf,PostButton:xs,AnswerMark:SA,MainTextarea:dr,ProfileBar:oi,ProfilePicture:Ys},data(){return{showRemarks:!1,profile:null,showAddComment:!1,alertMessage:"",alertModalMessage:"",alertDanger:!1,alertSuccess:!1,commentsNumber:0,showOptions:!1,showProfiles:!1,commentSuccess:!1,commentFail:!1,showSmallModal:!1,smallModalTitle:"",smallModalAction:"",smallModalAlerting:!1,smallModalLoading:!1,smallModalInfo:"",justRemark:!1,smallModalData:null,showProfilesText:"",showProfilesAction:"",myLike:null,likes:0,isLiked:!1,likeTitle:"",showScore:!1,score:0,state:"",remark:"",checkActive:!1,checkDoubleActive:!1,timesActive:!1,myMark:null,isMarked:!1,markTitle:"",editAnswer:!1,file:null,answerText:"",possibleAnswerId:null,loading:!1,showFlagReason:!1,flagReason:"",isFlagged:!1,myFlag:null,flagTitle:"",isSaved:!1,mySave:null,saves:0}},watch:{showOptions(e){},isLiked(e){e?this.likeTitle="unlike this answer":this.likeTitle="like this answer"},isFlagged(e){e?this.flagTitle="unflag this answer":this.flagTitle="flag this answer"},likes(e){e||(this.myLike=null,this.isLiked=!1)},saves(e){e||(this.mySave=null,this.isSaved=!1)}},computed:{...os(["getProfiles","getUser"]),computedImageUrl(){return this.answer&&this.answer.images&&this.answer.images.length?this.answer.images[0].url:""},computedFlags(){if(this.getUser&&this.answer&&this.answer.hasOwnProperty("flags")){let e=this.answer.flags,t=null;t=e.findIndex(s=>s.user_id===this.getUser.id),t>-1&&(this.myFlag=e[t],this.isFlagged=!0)}return!0},computedMarks(){if(this.getUser&&this.answer&&this.answer.hasOwnProperty("marks")){let e=this.answer.marks,t=null;t=e.findIndex(s=>s.user_id===this.getUser.id),t>-1&&(this.myMark=e[t],this.isMarked=!0)}return!0},computedSaves(){if(this.getUser&&this.answer&&this.answer.hasOwnProperty("saves")){let e=this.answer.saves;this.saves=this.answer.saves.length;let t=null;t=e.findIndex(s=>s.user_id===this.getUser.id),t>-1&&(this.mySave=e[t],this.isSaved=!0)}return!0},computedCommentNumber(){return this.commentsNumber=this.answer&&this.answer.comments_number?this.answer.comments_number:0,this.commentsNumber>0?this.commentTitle="click to view comments":this.commentTitle="",!this.answerFull},computedEdit(){return this.chat?this.computedOwner:this.computedProfiles.length},computedVideoUrl(){return this.answer&&this.answer.videos&&this.answer.videos.length?this.answer.videos[0].url:""},computedAudioUrl(){return this.answer&&this.answer.audios&&this.answer.audios.length?this.answer.audios[0].url:""},computedCreatedAt(){return _s.createdAt(this.answer.created_at)},computedName(){return this.answer&&this.answer.answeredby_name?this.answer.answeredby_name:""},computedType(){return this.answer&&this.answer.answeredby_type?ns.getAccount(this.answer.answeredby_type):""},computedAnswer(){return this.answer&&this.answer.answer?this.answer.answer:""},computedAverageScore(){return this.answer&&this.answer.avg_score?Number(this.answer.avg_score).toFixed(2):0},computedMaximumScore(){return this.answer&&this.answer.max_score?this.answer.max_score.toFixed(2):0},computedMinimumScore(){return this.answer&&this.answer.min_score?this.answer.min_score.toFixed(2):0},computedScoreOver(){return this.answer&&this.answer.scoreOver?`${this.answer.scoreOver}`:10},computedMarkings(){return this.answer&&this.answer.marks?this.answer.marks.length:0},computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedLikes(){if(this.getUser&&this.answer&&this.answer.hasOwnProperty("likes")){let e=this.answer.likes;this.likes=this.answer.likes.length;let t=null;t=e.findIndex(s=>s.user_id===this.getUser.id),t>-1&&(this.myLike=e[t],this.isLiked=!0)}return!0},computedAnswerOwnerAccount(){return this.answer?{account:ns.getAccount(this.answer.answeredby_type),accountId:`${this.answer.answeredby_id}`}:null},computedShouldMark(){return this.computedOwner?!1:!(this.chat&&this.myMark&&this.myMark.user_id)},computedOwner(){let e=this.getProfiles,t=null;return e&&(t=e.findIndex(s=>this.answer.answeredby_id===s.accountId&&this.answer.answeredby_type===s.profile),t>-1)?(this.profile=this.getProfiles[t],this.$emit("isAnswerOwner",this.profile),!0):!1}},methods:{...ss(["profile/createMark","profile/deleteLike","profile/createLike","profile/updateAnswer","profile/deleteAnswer","profile/createFlag","profile/deleteFlag","profile/deleteSave","profile/createSave"]),clickedShowRemarks(){this.answer.marks.length&&(this.showRemarks=!0)},clickedShowOptions(){this.disabled||(this.showOptions=!this.showOptions)},clickedCloseRemark(){this.showRemarks=!1},getScore(e){if(this.state==="PARTIAL"?this.score=e.score:this.state==="WRONG"?this.score=0:this.state==="CORRECT"&&(this.score=this.computedScoreOver),this.remark=e.remark,this.showScore=!1,this.chat){this.$emit("markChatAnswer",{answerId:this.answer.id,questionId:this.answer.answerable_id,score:this.score,state:this.state,remark:this.remark,scoreOver:this.computedScoreOver});return}this.profilesAppear()},clickedProfilePicture(){const e=Ns(),t=mo();e.name!=="profile"&&this.computedAnswerOwnerAccount?t.push({name:"profile",params:{account:this.computedAnswerOwnerAccount.account,accountId:this.computedAnswerOwnerAccount.accountId}}):this.computedAnswerOwnerAccount&&e.params.account!==this.computedAnswerOwnerAccount.account&&e.params.accountId!==this.computedAnswerOwnerAccount.accountId&&t.push({name:"profile",params:{account:this.computedAnswerOwnerAccount.account,accountId:this.computedAnswerOwnerAccount.accountId}})},profilesAppear(){this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},reasonGiven(e){this.showFlagReason=!1,this.flagReason=e,this.profilesAppear()},continueFlagProcess(){this.flagReason=null,this.showFlagReason=!1,this.profilesAppear()},cancelFlagProcess(){this.flagReason="",this.showFlagReason=!1},async updateAnswer(e){let t=new FormData;this.file&&t.append("file",this.file),this.answerText.length&&t.append("answer",this.answerText.trim()),this.possibleAnswerId&&t.append("possible_answer_id",this.possibleAnswerId),t.append("account",e.account),t.append("accountId",e.accountId);let s=null;s=await this["profile/updateAnswer"]({answerId:e.itemid,formData:t}),s.status?(this.file=null,this.alertSuccess=!0,this.alertDanger=!1,this.answerText="",this.editAnswer=!1,this.$emit("updateAnswerSuccessful",{answer:s.answer,main:this.answerFull})):(this.alertSuccess=!1,this.alertDanger=!0)},addAnswer(e){this.file=e.file,this.answerText=e.input,this.possibleAnswerId=null,this.updateAnswer(e.who)},clickedEditListButton(e){this.updateAnswer(e)},editListItemSelected(e){this.answerText=e.option,this.possibleAnswerId=e.id},async clickedLike(){if(!this.disabled)if(!this.getUser)this.$emit("askLoginRegister","PostSingle");else if(!this.getProfiles||!this.getProfiles.length)this.$emit("askCreateAccount");else if(this.isLiked)if(this.likes-=1,this.isLiked=!1,this.myLike&&this.myLike.hasOwnProperty("id")){let e={likeId:this.myLike.id,item:"answer",itemId:this.answer.id};e.where=Ns().name,await this["profile/deleteLike"](e)==="unsuccessful"?(this.isLiked=!0,this.likes+=1):(e.main=this.answerFull,this.$emit("answerUnlikeSuccessful",e))}else this.likes+=1,this.isLiked=!0;else console.log("its is not liked",this.isLiked),this.showProfilesText="like as",this.showProfilesAction="like",this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},clickedNo(){this.clearSmallModal()},async clickedYes(){if(this.smallModalAction==="flag"){this.flag(this.smallModalData);return}this.smallModalLoading=!0;let e={answerId:this.answer.id},t=await this["profile/deleteAnswer"](e);this.smallModalLoading=!1,this.smallModalAlerting=!0,t.status?(this.alertSuccess=!0,this.alertDanger=!1,this.alertModalMessage="deletion successful",this.$emit("deleteAnswerSuccess",{answerId:e.answerId,main:this.answerFull})):(this.alertSuccess=!1,this.alertDanger=!0,this.alertModalMessage="deletion unsuccessful"),setTimeout(()=>{this.clearSmallModal()},3e3)},clickedOption(e){if(this.showOptions=!1,!this.getUser)this.$emit("askLoginRegister","PostSingle");else if(!this.getProfiles||!this.getProfiles.length)this.$emit("askCreateAccount");else if(e==="save"){if(this.isSaved){this.save(null);return}this.showProfilesText="save as",this.showProfilesAction="save",this.profilesAppear()}else if(e==="delete"){if(this.chat){this.$emit("clickedOption",{action:"delete",type:"answer",answer:this.answer,conversationId:this.conversationId});return}this.smallModalTitle="are you sure you want to delete this?",this.showSmallModal=!0,this.smallModalAction="delete",setTimeout(()=>{this.showSmallModal=!1,this.smallModalTitle=""},4e3)}else e==="edit"&&(this.editAnswer=!0)},clickedAddComment(){this.disabled||(this.getUser?!this.getProfiles||!this.getProfiles.length?this.$emit("askCreateAccount"):this.showAddComment=!0:this.$emit("askLoginRegister","PostSingle"))},clickedFlag(){if(!this.disabled){if(this.isFlagged){this.flag(null);return}this.showProfilesText="flag as",this.showProfilesAction="flag",this.getUser?!this.getProfiles||!this.getProfiles.length?this.$emit("askCreateAccount"):this.showFlagReason=!0:this.$emit("askLoginRegister","PostSingle")}},clickedShowAnswerSingle(){this.answerFull||this.$emit("clickedShowAnswerComments",{data:{type:this.answer,typeName:"answer"},type:"answer"})},postAddComplete(e){e==="successful"?(this.showAddComment=!1,this.commentSuccess=!0,setTimeout(()=>{this.commentSuccess=!1},2e3)):(this.commentFail=!0,setTimeout(()=>{this.commentFail=!1},2e3))},postModalCommentCreated(e){this.$emit("answerCommentSuccessful",e)},clearSmallModal(){this.smallModalInfo=!1,this.smallModalTitle="",this.showSmallModal=!1,this.alertSuccess=!1,this.alertDanger=!1,this.smallModalAlerting=!1,this.smallModalAction=""},markAnswer(e){if(!this.disabled&&!this.isMarked)if(this.getUser)if(this.checkActive=!1,this.checkDoubleActive=!1,this.timesActive=!1,this.getProfiles){if(this.isMarked){this.smallModalInfo=!0,this.smallModalTitle="you have alreadey marked this with an account",this.showSmallModal=!0,setTimeout(()=>{this.clearSmallModal()},3e3);return}this.showProfilesText="mark as",this.showProfilesAction="mark",e==="correct"?(this.checkActive=!1,this.state="CORRECT",this.score=this.computedScoreOver,this.justRemark=!0):e==="partial"?(this.checkDoubleActive=!1,this.justRemark=!1,this.state="PARTIAL"):e==="wrong"&&(this.timesActive=!1,this.state="WRONG",this.justRemark=!0,this.score=0),this.showScore=!0}else this.$emit("askCreateAccount");else this.$emit("askLoginRegister")},clickedViewComments(){this.commentsNumber&&this.$emit("clickedShowAnswerComments",{data:{type:this.answer,typeName:"answer"},type:"answer"})},clickedProfile(e){this.showProfiles=!1,this.showProfilesAction==="mark"?this.mark(e):this.showProfilesAction==="save"?this.save(e):this.showProfilesAction==="flag"?(this.smallModalTitle="are you sure you want to flag this?",this.smallModalAction="flag",this.showSmallModal=!0,this.smallModalData=e,setTimeout(()=>{this.clearSmallModal()},4e3)):this.showProfilesAction==="like"&&this.like(e)},async save(e){this.showProfiles=!1,this.loading=!0;let t={item:"answer",itemId:this.answer.id,owner:this.answer.answeredby_type,ownerId:this.answer.answeredby_id},s=null,o="";t.where=Ns().name,e?(t.account=e.account,t.accountId=e.accountId,o="saving",s=await this["profile/createSave"](t)):(t.saveId=this.mySave.id,o="unsaving",s=await this["profile/deleteSave"](t)),this.loading=!1,s.status?(e?(this.saves+=1,this.$emit("answerSaveSuccessful",{itemId:this.answer.id,save:s.save,main:this.answerFull})):(this.saves-=1,this.$emit("answerUnsaveSuccessful",{itemId:this.answer.id,saveId:t.saveId,main:this.answerFull})),this.isSaved=!this.isSaved,this.alertSuccess=!0,this.alertMessage=`${o} successful`):(this.alertDanger=!0,this.alertMessage=`${o} unsuccessful`),setTimeout(()=>{this.alertSuccess=!1,this.alertDanger=!1,this.alertMessage=""},3e3)},async like(e){this.isLiked=!0,this.likes+=1;let t={item:"answer",itemId:this.answer.id,account:e.account,accountId:e.accountId};t.where=Ns().name;let s=await this["profile/createLike"](t);s==="unsuccessful"?(this.isLiked=!1,this.likes-=1):this.$emit("answerLikeSuccessful",{itemId:this.answer.id,like:s,main:this.answerFull})},async flag(e){this.loading=!0;let t={};t.where=Ns().name;let s=null;e?(t.account=e.account,t.accountId=e.accountId,t.item="answer",t.itemId=this.answer.id,t.reason=this.flagReason,s=await this["profile/createFlag"](t)):(t.flagId=this.myFlag.id,s=await this["profile/deleteFlag"](t)),this.loading=!1,s.status?(this.alertSuccess=!0,this.isFlagged?(this.isFlagged=!1,this.$emit("answerUnflaggedSuccess",{flag:s.flag,answerId:this.answer.id})):(this.alertModalMessage="successfully flagged",this.$emit("deleteAnswerSuccess",{answerId:this.answer.id,main:this.answerFull})),this.smallModalAlerting=!0):(this.alertDanger=!0,this.alertModalMessage="flagging successful"),this.flagReason="",this.smallModalData=null,setTimeout(()=>{this.clearSmallModal()},3e3)},async mark(e){let t={};this.loading=!0,t.account=e.account,t.accountId=e.accountId,t.item="answer",t.itemId=this.answer.id,t.remark=this.remark,t.state=this.state,t.score=this.score,t.scoreOver=this.computedScoreOver;let s=await this["profile/createMark"](t);this.loading=!1,s.status?this.$emit("answerMarkedSuccessful",{mark:s.data.mark,answerId:t.itemId,avg_score:s.data.avg_score,max_score:s.data.max_score,min_score:s.data.min_score,main:this.answerFull}):(this.alertDanger=!0,this.alertMessage=s.message,setTimeout(()=>{this.alertMessage="",this.alertDanger=!1},3e3))}}},Ine={class:"score"},Tne={key:1,class:"options"},Dne={class:"main-info"},xne={class:"type"},Pne={key:2,class:"loading"},Mne={class:"main-area"},Ene={class:"left-wrapper"},One={class:"top-section"},Rne={key:0,class:"profile-picture"},Nne={slot:"image"},Lne=["src"],Fne={class:"info"},Une={class:"info"},Bne={key:0,class:"info"},jne={key:1,class:"info"},Vne={class:"bottom-section"},qne={class:"textarea"},Hne={class:"media"},Wne={key:0,src:"",alt:"media"},zne={key:1,src:""},Gne={key:2,src:""},Yne={key:0,class:"lower-section"},Qne={class:"extra-info"},Kne={key:0,class:"info"},Jne=["title"],Xne={class:"reason"},$ne=["title"],Zne={class:"like-section"},eie={class:"like-number"},tie=["title"],sie={key:0,class:"add-comment"},nie={key:1,class:"edit-anser"},iie={key:0,class:"right-wrapper"},oie={key:0,class:"marking"},aie={key:0,class:"answer-single-profiles"},rie={slot:"actions"};function lie(e,t,s,o,i,n){const r=_("answer-mark"),f=_("fade-right"),m=_("font-awesome-icon"),v=_("optional-actions"),g=_("pulse-loader"),A=_("profile-picture"),D=_("remarks-badge"),E=_("main-textarea"),T=_("flag-reason"),N=_("add-comment"),F=_("fade-right-fast"),R=_("add-answer"),j=_("main-list"),W=_("profile-bar"),Q=_("post-button"),le=_("small-modal"),me=_("fade-up");return a(),d("div",{class:we(["answer-single-wrapper",{answerFull:s.answerFull}]),onDblclick:t[13]||(t[13]=Vt((...k)=>n.clickedShowAnswerSingle&&n.clickedShowAnswerSingle(...k),["self"]))},[h("div",null,[h("div",Ine,[b(f,null,{default:z(()=>[i.showScore?(a(),S(r,{key:0,show:i.showScore,onHideAnswerMark:t[0]||(t[0]=k=>i.showScore=!1),onAnswerMarkScore:n.getScore,inputMax:n.computedScoreOver,scoreOver:`${n.computedScoreOver}`,justRemark:i.justRemark},null,8,["show","onAnswerMarkScore","inputMax","scoreOver","justRemark"])):c("",!0)]),_:1})]),n.computedEdit?(a(),d("div",{key:0,class:"edit",onClick:t[1]||(t[1]=(...k)=>n.clickedShowOptions&&n.clickedShowOptions(...k))},[b(m,{icon:["fa","chevron-down"]})])):c("",!0),i.showOptions&&n.computedSaves?(a(),d("div",Tne,[b(v,{show:i.showOptions,showEdit:!s.answer.marks.length,hasSave:!s.chat&&!n.computedOwner,isSaved:i.isSaved,hasAttachment:!s.chat,hasEdit:!s.chat&&n.computedOwner,hasDelete:n.computedOwner,onClickedOption:n.clickedOption},null,8,["show","showEdit","hasSave","isSaved","hasAttachment","hasEdit","hasDelete","onClickedOption"])])):c("",!0),h("div",Dne,[h("div",{class:"name",onClick:t[2]||(t[2]=(...k)=>n.clickedProfilePicture&&n.clickedProfilePicture(...k))},V(n.computedName),1),h("div",xne,V(n.computedType),1)]),i.loading?(a(),d("div",Pne,[b(g,{loading:i.loading,size:"10px"},null,8,["loading"])])):c("",!0),i.alertMessage.length?(a(),d("div",{key:3,class:we(["alert-message",{danger:i.alertDanger,success:i.alertSuccess}])},V(i.alertMessage),3)):c("",!0),h("div",Mne,[h("div",Ene,[h("div",One,[s.chat?c("",!0):(a(),d("div",Rne,[b(A,{onClick:n.clickedProfilePicture},{default:z(()=>[h("template",Nne,[h("img",{src:s.answer.url,alt:"profile"},null,8,Lne)])]),_:1},8,["onClick"])])),h("div",{class:"other-info",onClick:t[3]||(t[3]=(...k)=>n.clickedShowRemarks&&n.clickedShowRemarks(...k))},[h("div",Fne,V(n.computedCreatedAt),1),h("div",Une,V(`${n.computedAverageScore} - average`),1),s.answerFull?(a(),d("div",Bne,V(`${n.computedMaximumScore} - maximum`),1)):c("",!0),s.answerFull?(a(),d("div",jne,V(`${n.computedMinimumScore} - minimum`),1)):c("",!0)]),i.showRemarks?(a(),S(D,{key:1,show:i.showRemarks,answerId:s.answer.id,onClickedCloseRemark:n.clickedCloseRemark},null,8,["show","answerId","onClickedCloseRemark"])):c("",!0)]),h("div",Vne,[h("div",qne,[b(E,{value:n.computedAnswer,disabled:!0,sm:!s.answerFull},null,8,["value","sm"])]),h("div",Hne,[n.computedImageUrl.length?(a(),d("img",Wne)):c("",!0),n.computedVideoUrl.length?(a(),d("video",zne," media cannot play ")):c("",!0),n.computedAudioUrl.length?(a(),d("audio",Gne)):c("",!0)])]),s.chat?c("",!0):(a(),d("div",Yne,[h("div",Qne,[n.computedMarkings?(a(),d("div",Kne,V(`${n.computedMarkings} accounts marked this answer`),1)):c("",!0),h("div",{class:we(["reaction-section",{reactionReason:i.showFlagReason}])},[n.computedFlags&&!n.computedOwner?(a(),d("div",{key:0,class:we(["flag",{flagged:i.isFlagged}]),onClick:t[4]||(t[4]=(...k)=>n.clickedFlag&&n.clickedFlag(...k)),title:i.flagTitle},[b(m,{icon:["fa","flag"]})],10,Jne)):c("",!0),h("div",Xne,[b(T,{show:i.showFlagReason,onContinueFlagProcess:n.continueFlagProcess,onReasonGiven:n.reasonGiven,onCancelFlagProcess:n.cancelFlagProcess},null,8,["show","onContinueFlagProcess","onReasonGiven","onCancelFlagProcess"])]),n.computedCommentNumber?(a(),d("div",{key:1,class:"comment-number",onClick:t[5]||(t[5]=(...k)=>n.clickedViewComments&&n.clickedViewComments(...k)),title:e.commentTitle},[Mt(V(`${i.commentsNumber}`)+" ",1),b(m,{icon:["fa","comment-alt"]})],8,$ne)):c("",!0),h("div",Zne,[h("div",eie,V(i.likes),1),n.computedLikes?(a(),d("div",{key:0,class:we(["like",{liked:i.isLiked}]),onClick:t[6]||(t[6]=(...k)=>n.clickedLike&&n.clickedLike(...k)),title:i.likeTitle},[b(m,{icon:["fa","thumbs-up"]})],10,tie)):c("",!0)]),i.showAddComment?c("",!0):(a(),d("div",{key:2,class:we(["comment",{success:i.commentSuccess,fail:i.commentFail}]),title:"add a comment",onClick:t[7]||(t[7]=(...k)=>n.clickedAddComment&&n.clickedAddComment(...k))},[b(m,{icon:["fa","comment"]})],2))],2)]),s.chat?c("",!0):(a(),d("div",sie,[b(F,null,{default:z(()=>[i.showAddComment?(a(),S(N,{key:0,what:"answer",id:s.answer.id,showAddComment:i.showAddComment,onHideAddComment:t[8]||(t[8]=k=>i.showAddComment=!1),onPostAddComplete:n.postAddComplete,onPostModalCommentCreated:n.postModalCommentCreated,onPostModal:!0},null,8,["id","showAddComment","onPostAddComplete","onPostModalCommentCreated"])):c("",!0)]),_:1})])),s.chat?c("",!0):(a(),d("div",nie,[b(F,null,{default:z(()=>[i.editAnswer?(a(),d(Z,{key:0},[s.possibleAnswers.length?(a(),S(j,{key:1,edit:i.editAnswer,itemList:s.possibleAnswers,buttonText:"save",select:"edit your answer",selectedItem:s.answer.answer.trim(),itemId:s.answer.id,ownerId:i.profile.accountId,ownerType:i.profile.account,onClickedListButton:n.clickedEditListButton,onListItemSelected:n.editListItemSelected},null,8,["edit","itemList","selectedItem","itemId","ownerId","ownerType","onClickedListButton","onListItemSelected"])):(a(),S(R,{key:0,answerEditable:s.answer,edit:i.editAnswer,onAddAnswer:n.addAnswer},null,8,["answerEditable","edit","onAddAnswer"]))],64)):c("",!0)]),_:1})]))]))]),n.computedShouldMark?(a(),d("div",iie,[n.computedMarks?(a(),d("div",oie,[h("div",{class:we(["correct",{checkActive:i.checkActive,grayed:i.isMarked}]),onClick:t[9]||(t[9]=k=>n.markAnswer("correct"))},[b(m,{icon:["fa","check"]})],2),h("div",{class:we(["partial",{checkDoubleActive:i.checkDoubleActive,grayed:i.isMarked}]),onClick:t[10]||(t[10]=k=>n.markAnswer("partial"))},[b(m,{icon:["fa","check-double"]})],2),h("div",{class:we(["wrong",{timesActive:i.timesActive,grayed:i.isMarked}]),onClick:t[11]||(t[11]=k=>n.markAnswer("wrong"))},[b(m,{icon:["fa","times"]})],2)])):c("",!0)])):c("",!0)])]),!s.chat&&i.showProfiles?(a(),d("div",aie,[h("span",null,V(i.showProfilesText),1),(a(!0),d(Z,null,pe(n.computedProfiles,(k,Ce)=>(a(),d("div",{key:Ce},[b(W,{smallType:!0,profile:k,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0),s.chat?c("",!0):(a(),S(me,{key:1},{default:z(()=>[i.showSmallModal?(a(),S(le,{key:0,title:i.smallModalTitle,show:i.showSmallModal,loading:i.smallModalLoading,message:i.alertModalMessage,success:i.alertSuccess,danger:i.alertDanger,alerting:i.smallModalAlerting,onDisappear:t[12]||(t[12]=k=>i.showSmallModal=!1)},{default:z(()=>[h("template",rie,[i.smallModalInfo?(a(),S(Q,{key:0,buttonText:"ok",onClick:e.clickedInfoOk},null,8,["onClick"])):c("",!0),i.smallModalInfo?c("",!0):(a(),S(Q,{key:1,buttonText:"yes",onClick:n.clickedYes},null,8,["onClick"])),i.smallModalInfo?c("",!0):(a(),S(Q,{key:2,buttonText:"no",onClick:n.clickedNo},null,8,["onClick"]))])]),_:1},8,["title","show","loading","message","success","danger","alerting"])):c("",!0)]),_:1}))],34)}const Rv=Ae(Sne,[["render",lie],["__scopeId","data-v-8adb98c5"]]),cie={components:{AnswerSingle:Rv,FadeUp:bi,ViewModal:fne},props:{comment:{type:Object,default(){return{}}},show:{type:Boolean,default:!0},itemData:{type:Object,default:null}},data(){return{nextPage:0,comments:[],showLoginRegister:!1,item:null,dataLoading:!1}},watch:{comment:{immediate:!0,handler(e){}},show:{immediate:!0,handler(e){this.itemData&&this.getComment()}},item:{immediate:!0,handler(e){e!==null&&(this.listen(),this.getComments())}}},beforeRouteEnter(e,t,s){s(o=>{console.log(e),(e.name==="comment"||e.name==="answer")&&o.getComment()})},computed:{...os(["profile/getStateComments","profile/getCommentNextPage","getUser"]),computedComments(){return this["profile/getStateComments"],!0},computedComment(){return this.comment?this.comment:this.item?this.item:null}},methods:{...ss(["profile/getComments","profile/clearComments","profile/getCommentsDone","profile/getComment","dashboard/fetchItem"]),listen(){},async getComment(){const e=Ns();let t,s,o;if(this.itemData?(t=this.itemData.item,s=this.itemData.itemId):(t=e.name,s=e.params.itemId),this.dataLoading=!0,!this.getUser){setTimeout(()=>{this.getComment()},1e3);return}o=await this["dashboard/fetchItem"]({item:t,itemId:s}),this.dataLoading=!1,o.status?this.item=o.item:console.log("response :>> ",o)},viewModalDisappear(){this.$emit("viewModalDisappear")},commentSaveSuccessfulMain(e){this.addSave(e.itemId,e.save)},commentUnsaveSuccessfulMain(e){this.removeSave(e.itemId,e.saveId)},commentUnsaveSuccessful(e){if(this.comment.id===e.itemId){this.$emit("commentUnsaveSuccessfulMain",e);return}this.removeLike(e.itemId,e.likeId)},commentSaveSuccessful(e){if(this.comment.id===e.itemId){this.$emit("commentSaveSuccessfulMain",e);return}this.addSave(e.itemId,e.save)},removeSave(e,t){let s=this.comments.findIndex(o=>o.id===e);if(s>-1){let o=this.comments[s].saves.findIndex(i=>i.id===t);o>-1&&this.comments[s].saves.splice(o,1)}},addSave(e,t){let s=this.comments.findIndex(o=>o.id===e);s>-1&&this.comments[s].saves.unshift(t)},commentLikeSuccessfulMain(e){this.addLike(e.itemId,e.likeId)},commentUnlikeSuccessfulMain(e){this.removeLike(e.itemId,e.likeId)},commentUnlikeSuccessful(e){if(this.comment.id===e.itemId){this.$emit("commentUnlikeSuccessfulMain",e);return}this.removeLike(e.itemId,e.likeId)},commentLikeSuccessful(e){if(this.comment.id===e.itemId){this.$emit("commentLikeSuccessfulMain",e);return}this.addLike(e.itemId,e.like)},removeLike(e,t){let s=this.comments.findIndex(o=>o.id===e);if(s>-1){let o=this.comments[s].likes.findIndex(i=>i.id===t);o>-1&&this.comments[s].likes.splice(o,1)}},addLike(e,t){let s=this.comments.findIndex(o=>o.id===e);s>-1&&this.comments[s].likes.unshift(t)},commentViewParentDeleteSuccess(e){this.removeCommentId(e.commentId)},commentViewDeleteSuccess(e){this.comment.id===e.commentId&&(this.$emit("commentViewParentDeleteSuccess"),this.viewModalDisappear()),this.removeCommentId(e.commentId)},viewModalCommentEditedMain(e){cconsole.log("in view",e),this.removeComment(e)},postModalCommentEdited(e){if(this.comment.id===e.id){this.$emit("postModalCommentEditedMain",e);return}this.removeComment(e)},removeCommentId(e){let t=this.comments.findIndex(s=>s.id===e);t>-1&&this.comments.splice(t,1)},removeComment(e){let t=this.comments.findIndex(s=>s.id===e.id);t>-1&&this.comments.splice(t,1,e)},viewModalAppear(){this.comments=[],this["profile/clearComments"](),this.comment.id&&this.getComments()},askLoginRegister(){this.showLoginRegister=!0,setTimeout(()=>{this.showLoginRegister=!1},4e3)},async getComments(){console.log("get comments"),this["profile/clearComments"]();let e={item:this.item?this.item.type:"comment",itemId:this.comment.id?this.comment.id:this.item?this.item.id:null,nextPage:this.nextPage};if(!e.itemId)return;let t=await this["profile/getComments"](e);this.comments.push(...t.data.data),t.status!==null?this.nextPage+=1:this.nextPage=null},async infiniteHandler(e){if(this.nextPage){let t={item:"comment",itemId:this.comment.id?this.comment.id:this.item?this.item.id:null,nextPage:this.nextPage};if(!t.itemId)return;let s=await this["profile/getComments"](t);s.currentPage!==1&&this.comments.push(...s.data.data),s.status?(this.nextPage+=1,e.loaded()):(this.nextPage=null,e.complete())}else e.complete()}}},uie={slot:"main"},die={key:0,class:"main-comment"},hie={key:1,class:"main-comment"},fie={class:"view-comments"},mie={key:0,class:"comment"},pie={slot:"other"};function gie(e,t,s,o,i,n){const r=_("answer-single"),f=_("comment-single"),m=_("pulse-loader"),v=_("infinite-loading"),g=_("router-link"),A=_("small-modal"),D=_("fade-up"),E=_("view-modal");return a(),S(D,null,{default:z(()=>[s.show?(a(),S(E,{key:0,onMainModalDisappear:n.viewModalDisappear,onMainModalAppear:n.viewModalAppear,class:"view-modal"},{default:z(()=>[h("template",uie,[n.computedComment&&!i.dataLoading?(a(),d("div",die,[i.item&&i.item.type==="answer"?(a(),S(r,{key:0,answer:i.item,disabled:!!i.item},null,8,["answer","disabled"])):c("",!0),b(f,{comment:n.computedComment,disabled:!!i.item,showCommentNumber:!1,onCommentDeleteSuccess:n.commentViewDeleteSuccess,onPostModalCommentEdited:n.postModalCommentEdited,onCommentUnlikeSuccessful:n.commentUnlikeSuccessful,onCommentLikeSuccessful:n.commentLikeSuccessful,onCommentUnsaveSuccessful:n.commentUnsaveSuccessful,onCommentSaveSuccessful:n.commentSaveSuccessful},null,8,["comment","disabled","onCommentDeleteSuccess","onPostModalCommentEdited","onCommentUnlikeSuccessful","onCommentLikeSuccessful","onCommentUnsaveSuccessful","onCommentSaveSuccessful"])])):(a(),d("div",hie,[b(m,{loading:i.dataLoading},null,8,["loading"])])),h("div",fie,[n.computedComments?(a(),d("div",mie,[(a(!0),d(Z,null,pe(i.comments,(T,N)=>(a(),S(f,{key:N,comment:T,disabled:!!i.item,onPostModalCommentEdited:n.postModalCommentEdited,onViewModalCommentEditedMain:n.viewModalCommentEditedMain,onCommentDeleteSuccess:n.commentViewDeleteSuccess,onCommentUnlikeSuccessful:n.commentUnlikeSuccessful,onCommentLikeSuccessful:n.commentLikeSuccessful,onCommentUnlikeSuccessfulMain:n.commentUnlikeSuccessfulMain,onCommentLikeSuccessfulMain:n.commentLikeSuccessfulMain,onCommentUnsaveSuccessful:n.commentUnsaveSuccessful,onCommentSaveSuccessful:n.commentSaveSuccessful,onCommentUnsaveSuccessfulMain:n.commentUnsaveSuccessfulMain,onCommentSaveSuccessfulMain:n.commentSaveSuccessfulMain,onCommentViewParentDeleteSuccess:n.commentViewParentDeleteSuccess},null,8,["comment","disabled","onPostModalCommentEdited","onViewModalCommentEditedMain","onCommentDeleteSuccess","onCommentUnlikeSuccessful","onCommentLikeSuccessful","onCommentUnlikeSuccessfulMain","onCommentLikeSuccessfulMain","onCommentUnsaveSuccessful","onCommentSaveSuccessful","onCommentUnsaveSuccessfulMain","onCommentSaveSuccessfulMain","onCommentViewParentDeleteSuccess"]))),128))])):c("",!0),i.nextPage===null||i.nextPage>0?(a(),S(v,{key:1,onInfinite:n.infiniteHandler,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)]),b(D,null,{default:z(()=>[i.showLoginRegister?(a(),S(A,{key:0,onDisappear:t[0]||(t[0]=T=>i.showLoginRegister=!1),showForm:i.showLoginRegister,title:"welcome to this new community."},{default:z(()=>[h("template",pie,[b(g,{to:"/login"},{default:z(()=>[Mt("login")]),_:1}),Mt(" or "),b(g,{to:"/register"},{default:z(()=>[Mt("register")]),_:1}),Mt(" to interact and grow in a positve way. ")])]),_:1},8,["showForm"])):c("",!0)]),_:1})])]),_:1},8,["onMainModalDisappear","onMainModalAppear"])):c("",!0)]),_:1})}const rf=Ae(cie,[["render",gie],["__scopeId","data-v-8d417fd2"]]),vie={components:{SearchInput:hr,DashboardSectionAccount:Xf,ProfilePicture:Ys},props:{show:{type:Boolean,default:!0},item:{type:String,default:"lessons"}},data(){return{searchText:"",nextPage:1,searchItems:[],loading:!1}},watch:{searchText(e){if(e&&e.length){if(this.searchItems.length&&this.computedItem===this.searchItems[0].type)return;this.debouncedGetItems()}},show:{immediate:!0,handler(e){e&&this.debouncedGetItems()}},computedItem(e){e&&this.listenForEvents()}},computed:{...os(["dashboard/getAccountDetails"]),computedAccount(){return this["dashboard/getAccountDetails"]},computedFirstLoad(){return this.loading&&this.nextPage===1},computedNextPage(){return this.nextPage&&this.nextPage!==1},computedNoItems(){return!this.loading&&this.searchItems.length===0&&(this.nextPage>1||!this.nextPage)},computedType(){return this.item.includes("owned")?`owned ${this.computedItem}`:this.computedItem},computedItemText(){return this.item.includes("owned")?this.item.slice(6):this.item},computedItem(){let e=1;return this.computedItemText==="classes"&&(e=2),this.computedItemText.slice(0,this.computedItemText.length-e)}},methods:{...ss(["dashboard/getAccountItems"]),mainModalDisappear(){this.$emit("closeViewAccountItems")},listenForEvents(){this.emitter.on(this.getEvent("update"),e=>{console.log(e,"from view account items"),this.updateItem(e)}),this.emitter.on(this.getEvent("delete"),e=>{this.deleteItem(e)})},getEvent(e){return`${e}${this.computedItem.charAt(0).toUpperCase()}${this.computedItem.slice(1)}`},updateItem(e){let t=this.findItemIndex(e.id);t>-1&&this.searchItems.splice(t,1,e)},deleteItem(e){let t=this.findItemIndex(e);t>-1&&this.searchItems.splice(t,1)},findItemIndex(e){return this.searchItems.findIndex(t=>t.id===e)},clearData(){this.searchText=""},getSearchText(e){this.searchText=e},debouncedGetItems:Ft.debounce(function(){this.getItems()},200),async getItems(){this.searchItems=[],this.nextPage=1,this.searchItems=await this.actualGetItems()},async infiniteHandler(e){this.searchItems.push(...await this.actualGetItems()),this.nextPage?e.loaded():e.complete()},clickedDashboardActionButton(e){if(e.buttonData.text.includes("delete")){this.$emit("clickedDashboardActionButton",e);return}if(e.buttonData.text.includes("view")){let t=e.type.includes("lesson")?"viewLesson":"viewDashboardItem";this.emitter.emit(t,{type:this.computedItem,id:e.buttonData.data.id,name:e.buttonData.data.name});return}this.emitter.emit(this.getEventName(e.buttonData.text),e.buttonData.data)},getEventName(e){return`${e}${this.computedItem.charAt(0).toUpperCase()}${this.computedItem.slice(1)}`},async actualGetItems(){if(this.loading||!this.nextPage)return;this.loading=!0;let e,t={account:this.computedAccount.account,accountId:this.computedAccount.accountId,item:this.computedItemText,search:this.searchText};return e=await this["dashboard/getAccountItems"]({data:t,nextPage:this.nextPage}),this.loading=!1,e.status?(e.next?this.nextPage+=1:this.nextPage=null,e.items):(console.log("response :>> ",e),[])}}},yie={slot:"main"},wie={key:0,class:"account"},_ie={slot:"image"},bie=["src"],kie={class:"account-details"},Aie={class:"name"},Cie={class:"account-type"},Sie={class:"item"},Iie={slot:"input"},Tie={class:"items"},Die={key:0,class:"no-items"};function xie(e,t,s,o,i,n){const r=_("profile-picture"),f=_("search-input"),m=_("pulse-loader"),v=_("dashboard-section-account"),g=_("infinite-loading"),A=_("welcome-form"),D=_("main-modal"),E=_("just-fade");return a(),S(E,null,{default:z(()=>[s.show?(a(),S(D,{key:0,show:s.show,mainOther:!1,requests:!1,onMainModalDisappear:n.mainModalDisappear,class:"view-account-items"},{default:z(()=>[h("template",yie,[n.computedAccount?(a(),d("div",wie,[b(r,{class:"profile-picture"},{default:z(()=>[h("template",_ie,[h("img",{src:n.computedAccount.url},null,8,bie)])]),_:1}),h("div",kie,[h("div",Aie,V(n.computedAccount.name),1),h("div",Cie,V(n.computedAccount.account),1)])])):c("",!0),h("div",Sie,V(s.item),1),b(A,{class:"welcome-form",title:""},{default:z(()=>[h("template",Iie,[b(f,{class:"search-input",placeholder:`search for ${s.item}`,onSearch:n.getSearchText},null,8,["placeholder","onSearch"]),h("div",Tie,[b(m,{loading:n.computedFirstLoad},null,8,["loading"]),(a(!0),d(Z,null,pe(i.searchItems,(T,N)=>(a(),S(v,{key:N,class:"dashboard-section-account",type:n.computedType,account:T,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["type","account","onClickedDashboardActionButton"]))),128)),n.computedNoItems?(a(),d("div",Die,V(`oops... no ${s.item}`),1)):c("",!0),n.computedNextPage?(a(),S(g,{key:1,onInfinite:n.infiniteHandler},null,8,["onInfinite"])):c("",!0)])])]),_:1})])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const Pie=Ae(vie,[["render",xie],["__scopeId","data-v-1cbacb32"]]),Mie={props:{show:{type:Boolean,default:!1}},data(){return{lessonId:null,lesson:null,loading:!1}},watch:{lessonId(e){e&&this.getLessonDetails()}},mounted(){var e;this.lessonId=(e=inject("viewLesson"))==null?void 0:e.id},computed:{...os(["dashboard/getAccountDetails"]),computedAccount(){return this["dashboard/getAccountDetails"]}},methods:{...ss(["dashboard/getItemDetails"]),closeModal(){this.clearData(),this.$emit("closeLessonModal")},clearData(){this.lessonId=null,this.lesson=null},async getLessonDetails(){if(!this.lessonId)return;let e;this.loading=!0,e=await this["dashboard/getItemDetails"]({type:"lesson",id:this.lessonId}),this.loading=!1,e.status?this.lesson=e.item:console.log("response :>> ",e)}}},Eie={slot:"main"};function Oie(e,t,s,o,i,n){const r=_("main-modal"),f=_("just-fade");return a(),S(f,null,{default:z(()=>[s.show?(a(),S(r,{key:0,show:s.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"modal-wrapper"},{default:z(()=>[h("template",Eie,[Mt(" lesson modal "+V(i.lesson),1)])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const qA=Ae(Mie,[["render",Oie],["__scopeId","data-v-30f9bd3f"]]),Rie={components:{DashboardSubSection:Ov,DashboardSectionAccount:Xf,StateBadge:VA,ItemBadge:fr,AddComment:Od},props:{show:{type:Boolean,default:!0},data:{type:Object,default(){return null}}},data(){return{item:null,loading:!1,dashboardItem:null,comments:null,commentsNextPage:1,commentsLoading:!1}},watch:{item(e){e&&this.getItemDetails()}},mounted(){this.emitter.on("viewDashboardItem",e=>{console.log("in dashboard item modal"),this.viewItem(e)})},computed:{...os(["getUser"]),computedHeading(){return this.dashboardItem?this.dashboardItem.name:this.item?this.item.name:""},computedAccount(){},computedMainDetail(){var e;return(e=this.dashboardItem)==null?void 0:e.description},computedOtherDetail(){},computedLearner(){var e,t;return this.getUser?(t=(e=this.dashboardItem)==null?void 0:e.learners)==null?void 0:t.find(s=>s.userId===this.getUser.id):null},computedFacilitator(){var e,t;return this.getUser?(t=(e=this.dashboardItem)==null?void 0:e.facilitators)==null?void 0:t.find(s=>s.userId===this.getUser.id):null},computedProfessional(){var e,t;return this.getUser?(t=(e=this.dashboardItem)==null?void 0:e.professionals)==null?void 0:t.find(s=>s.userId===this.getUser.id):null},computedAdmin(){var e,t;return this.getUser?(t=(e=this.dashboardItem)==null?void 0:e.admins)==null?void 0:t.find(s=>s.userId===this.getUser.id):null},computedParent(){var e,t;return this.getUser?(t=(e=this.dashboardItem)==null?void 0:e.parents)==null?void 0:t.find(s=>s.userId===this.getUser.id):null},computedPayments(){let e=[];return this.dashboardItem.fees&&e.push(this.dashboardItem.fees),this.dashboardItem.subscriptions&&e.push(this.dashboardItem.subscriptions),this.dashboardItem.prices&&e.push(this.dashboardItem.prices),e},computedCurrentSectionAccount(){},computedShowFacilitators(){return this.dashboardItem?this.dashboardItem.facilitators:null},computedShowLessons(){return this.dashboardItem?this.dashboardItem.lessons:null},computedShowCourses(){return this.dashboardItem?this.dashboardItem.courses:null},computedShowSubjects(){return this.dashboardItem?this.dashboardItem.subjects:null},computedShowProfessionals(){return this.dashboardItem?this.dashboardItem.professionals:null},computedShowDiscussions(){return this.dashboardItem?this.dashboardItem.discussions:null},computedShowAttachments(){},computedShowAcademicYears(){var e;return(e=this.dashboardItem)==null?void 0:e.academicYears},computedShowAcademicSections(){var e;return(e=this.dashboardItem)==null?void 0:e.sections}},methods:{...ss(["dashboard/getItemDetails","dashboard/getSectionItemComments"]),closeModal(){this.clearData(),this.$emit("closeDashboardItemModal")},clearData(){this.dashboardItem=null,this.item=null,this.comments=null,this.loading=!1,this.commentsLoading=!1,this.commentsNextPage=1},async getComments(){if(!this.item)return;this.commentsNextPage=1;let e=await this.getItemComments();this.comments=e.comments,this.commentsNextPage=e.next?this.commentsNextPage+1:null},async getItemComments(){let e,t={item:this.item.type,itemId:this.item.id,nextPage:this.commentsNextPage,notSection:!0};if(this.commentsLoading=!0,e=await this["dashboard/getSectionItemComments"](t),this.commentsLoading=!1,e.status)return{next:e.next,comments:e.comments};console.log("response :>> ",e)},async commentsInfiniteLoader(e){if(!this.commentsNextPage){e.complete();return}let t=await this.getItemComments();this.comments=t.comments,t.next?(this.commentsNextPage+=1,e.loaded()):(this.commentsNextPage=null,e.loaded())},async getItemDetails(){if(!this.item)return;let e;this.loading=!0,e=await this["dashboard/getItemDetails"]({type:this.item.type,id:this.item.id}),this.loading=!1,e.status?(this.dashboardItem=e.item,this.getComments()):console.log("response :>> ",e)},viewItem(e){console.log("data :>> ",e),this.item=e},clickedEditSomething(e){this.createModalEdit=e,this.showCreateModal=e},clickedDashboardActionButton(){},dashboardCommentCreated(){},clickedCommentMedia(){},commentDeleteSuccess(){},postModalCommentEdited(){}}},Sc=e=>(gs("data-v-1a202290"),e=e(),vs(),e),Nie={slot:"main"},Lie={key:0,class:"item"},Fie={class:"item-type"},Uie={class:"item-heading"},Bie={key:1,class:"details"},jie={key:0,class:"main"},Vie={key:1,class:"other"},qie={slot:"body"},Hie=Sc(()=>h("div",{class:"actions"},null,-1)),Wie={class:"main"},zie={key:0,class:"no-data"},Gie={slot:"body"},Yie=Sc(()=>h("div",{class:"actions"},null,-1)),Qie={class:"main"},Kie={key:0,class:"no-data"},Jie={slot:"body"},Xie=Sc(()=>h("div",{class:"actions"},null,-1)),$ie={class:"main"},Zie={key:0,class:"no-data"},eoe={slot:"body"},toe=Sc(()=>h("div",{class:"actions"},null,-1)),soe={class:"main"},noe={key:0,class:"no-data"},ioe={slot:"body"},ooe=Sc(()=>h("div",{class:"actions"},null,-1)),aoe={class:"main"},roe={key:0,class:"no-data"},loe={slot:"body"},coe=Sc(()=>h("div",{class:"actions"},null,-1)),uoe={class:"main"},doe={key:0,class:"no-data"},hoe={slot:"body"},foe=Sc(()=>h("div",{class:"actions"},null,-1)),moe={class:"main"},poe={key:0,class:"no-data"},goe={slot:"body"},voe={class:"actions"},yoe={key:0,class:"comments-section"},woe={key:1,class:"no-data"};function _oe(e,t,s,o,i,n){const r=_("state-badge"),f=_("rotate-loader"),m=_("item-badge"),v=_("dashboard-sub-section"),g=_("dashboard-section-account"),A=_("dashboard-action-button"),D=_("discussion-single"),E=_("add-comment"),T=_("comment-single"),N=_("infinite-loading"),F=_("main-modal"),R=_("just-fade");return a(),S(R,null,{default:z(()=>[s.show?(a(),S(F,{key:0,show:s.show,mainOther:!1,requests:!1,onMainModalDisappear:n.closeModal,class:"dashboard-item-modal-wrapper"},{default:z(()=>[h("template",Nie,[i.item?(a(),d("div",Lie,[h("div",Fie,V(i.item.type),1),h("div",Uie,V(n.computedHeading),1)])):c("",!0),i.dashboardItem?(a(),d("div",Bie,[b(r,{state:i.dashboardItem.state},null,8,["state"]),n.computedMainDetail?(a(),d("div",jie,V(n.computedMainDetail),1)):c("",!0),n.computedOtherDetail?(a(),d("div",Vie,V(n.computedOtherDetail),1)):c("",!0)])):c("",!0),b(f,{loading:i.loading},null,8,["loading"]),n.computedShowAcademicYears?(a(),S(v,{key:2,subText:"academic years"},{default:z(()=>[h("template",qie,[Hie,h("div",Wie,[(a(!0),d(Z,null,pe(i.dashboardItem.academicYears,(j,W)=>(a(),S(m,{key:W,item:j,type:"academicYear",hasRemove:!1,class:"class-badge"},null,8,["item"]))),128)),i.dashboardItem.academicYears.length?c("",!0):(a(),d("div",zie," no academic years "))])])]),_:1})):c("",!0),n.computedShowAcademicSections?(a(),S(v,{key:3,subText:"academic year sections"},{default:z(()=>[h("template",Gie,[Yie,h("div",Qie,[(a(!0),d(Z,null,pe(i.dashboardItem.sections,(j,W)=>(a(),S(m,{key:W,item:j,type:"section",hasRemove:!1,class:"class-badge"},null,8,["item"]))),128)),i.dashboardItem.sections.length?c("",!0):(a(),d("div",Kie," no academic year sections "))])])]),_:1})):c("",!0),n.computedShowFacilitators?(a(),S(v,{key:4,subText:"facilitators"},{default:z(()=>[h("template",Jie,[Xie,h("div",$ie,[(a(!0),d(Z,null,pe(i.dashboardItem.facilitators,(j,W)=>(a(),S(g,{class:"dashboard-section-account",key:W,type:"facilitator",account:j,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),i.dashboardItem.facilitators.length?c("",!0):(a(),d("div",Zie," no facilitators "))])])]),_:1})):c("",!0),n.computedShowLessons?(a(),S(v,{key:5,subText:"lessons"},{default:z(()=>[h("template",eoe,[toe,h("div",soe,[(a(!0),d(Z,null,pe(i.dashboardItem.lessons,(j,W)=>(a(),S(g,{class:"dashboard-section-account",key:W,type:"lesson",account:j,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),i.dashboardItem.lessons.length?c("",!0):(a(),d("div",noe," no lessons ")),n.computedFacilitator?(a(),S(A,{key:1,class:"add-another",text:"add lesson",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])):c("",!0)])])]),_:1})):c("",!0),n.computedShowFacilitators?(a(),S(v,{key:6,subText:"facilitators"},{default:z(()=>[h("template",ioe,[ooe,h("div",aoe,[(a(!0),d(Z,null,pe(i.dashboardItem.facilitators,(j,W)=>(a(),S(g,{class:"dashboard-section-account",key:W,type:"facilitator",account:j,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),i.dashboardItem.facilitators.length?c("",!0):(a(),d("div",roe," no facilitators "))])])]),_:1})):c("",!0),n.computedShowProfessionals?(a(),S(v,{key:7,subText:"professionals"},{default:z(()=>[h("template",loe,[coe,h("div",uoe,[(a(!0),d(Z,null,pe(i.dashboardItem.professionals,(j,W)=>(a(),S(g,{class:"dashboard-section-account",key:W,type:"professional",account:j,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),i.dashboardItem.professionals.length?c("",!0):(a(),d("div",doe," no professionals "))])])]),_:1})):c("",!0),n.computedShowDiscussions?(a(),S(v,{key:8,subText:"discussion"},{default:z(()=>[h("template",hoe,[foe,h("div",moe,[(a(!0),d(Z,null,pe(i.dashboardItem.discussions,j=>(a(),S(D,{key:j.id}))),128)),i.dashboardItem.discussions.length?c("",!0):(a(),d("div",poe," no discussions "))])])]),_:1})):c("",!0),i.dashboardItem?(a(),S(v,{key:9,subText:"comments"},{default:z(()=>[h("template",goe,[h("div",voe,[b(E,{what:i.item.type,id:i.item.id,showAddComment:!0,account:n.computedCurrentSectionAccount,schoolAdmin:n.computedAdmin,onDashboardCommentCreated:n.dashboardCommentCreated},null,8,["what","id","account","schoolAdmin","onDashboardCommentCreated"])]),i.comments?(a(),d("div",yoe,[(a(!0),d(Z,null,pe(i.comments,j=>(a(),S(T,{key:j.id,comment:j,dashboard:!0,account:n.computedCurrentSectionAccount,schoolAdmin:n.computedAdmin,onClickedMedia:n.clickedCommentMedia,onCommentDeleteSuccess:n.commentDeleteSuccess,onPostModalCommentEdited:n.postModalCommentEdited},null,8,["comment","account","schoolAdmin","onClickedMedia","onCommentDeleteSuccess","onPostModalCommentEdited"]))),128)),i.commentsNextPage!==1?(a(),S(N,{key:0,onInfinite:n.commentsInfiniteLoader},null,8,["onInfinite"])):c("",!0)])):(a(),d("div",woe," no comments yet "))])]),_:1})):c("",!0)])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const boe=Ae(Rie,[["render",_oe],["__scopeId","data-v-1a202290"]]),koe={components:{ProfileBar:oi,FadeLeftFast:Kf,JustFade:uo,AutoAlert:Mi,FilePreview:Lo,ProfilePicture:Ys,PostButton:xs,MainTextarea:dr},props:{edit:{type:Boolean,default:!1},answerEditable:{type:Object,default(){return{}}},id:{type:Number,default:0},showAddAnswer:{type:Boolean,default:!1}},data(){return{answerText:"",error:"",showProfiles:!1,showPreview:!1,clickedButton:"",imageType:"image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp",videoType:"video/webm,video/mp4,video/ogg",audioType:"audio/mpeg,audio/ogg,audio/wav",file:null,buttonText:"add"}},watch:{showAddAnswer:{immediate:!0,handler(e){e||(this.answerText="")}},answerEditable:{immediate:!0,handler(e){},deep:!0},edit:{immediate:!0,handler(e){e?(this.answerText=this.answerEditable.answer,this.buttonText="save"):(this.answerText="",this.buttonText="add")}}},computed:{...os(["getProfiles","getActiveProfile","profile/getCommentingStatus","profile/getActiveProfile","profile/getMsg"]),computedAnswering(){return!!(this["profile/getCommentingStatus"]&&this.answerText&&this.answerText.length)},computedProfileUrl(){return this["profile/getActiveProfile"]?this["profile/getActiveProfile"].url:this.getActiveProfile?this.getActiveProfile.url:""},computedShowIcons(){return!!(this.answerText&&this.answerText.length&&!this.file)},computedPost(){return!!((this.file||this.answerText&&this.answerText.length)&&!this.computedAnswering)}},methods:{hideProfiles(){this.$emit("hideProfiles")},hideAddAnswer(){this.$emit("hideAddAnswer")},removeFile(){this.file=null,this.clickedButton="",this.showPreview=!1},clickFile(e){this.clickedButton=e,this.showPreview=!1,e==="image"?this.$refs.file.setAttribute("accept",this.imageType):e==="video"?this.$refs.file.setAttribute("accept",this.videoType):e==="audio"&&this.$refs.file.setAttribute("accept",this.audioType),this.$refs.file.click()},fileChange(e){let t=e.target.files[0];this.error="",this.showValidation=!1,this.showPreview=!0,this.clickedButton==="image"?this.imageType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`):this.clickedButton==="video"?this.videoType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`):this.clickedButton==="audio"&&(this.audioType.includes(t.type)?this.file=t:(this.showValidation=!0,this.error=`this file is either not an ${this.clickedButton} or has an unsupported format`)),e.target.value=""},addAnswer(){let e={};this.edit&&(e.account=ns.getAccount(this.editableData.answeredby_type),e.accountId=this.editableData.answeredby_id,e.itemId=this.editableData.id),this.$emit("addAnswer",{file:this.file,input:this.answerText,who:e})},...ss(["profile/createComment","profile/updateComment"])}},Aoe={key:0,class:"add-comment-wrapper"},Coe={slot:"image"},Soe=["src"],Ioe={class:"add-comment"},Toe={class:"lower"};function Doe(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("profile-picture"),m=_("dot-loader"),v=_("main-textarea"),g=_("post-button"),A=_("file-preview"),D=_("just-fade"),E=_("fade-left-fast");return a(),S(E,null,{default:z(()=>[s.showAddAnswer?(a(),d("div",Aoe,[h("div",{class:"hide",onClick:t[0]||(t[0]=(...T)=>n.hideAddAnswer&&n.hideAddAnswer(...T))},"..."),s.edit?c("",!0):(a(),d("div",{key:0,class:"top",onClick:t[4]||(t[4]=(...T)=>n.hideProfiles&&n.hideProfiles(...T))},[h("div",{class:"icons",onClick:t[1]||(t[1]=Vt(T=>n.clickFile("image"),["prevent"]))},[b(r,{icon:["fa","file-image"]})]),h("div",{class:"icons",onClick:t[2]||(t[2]=Vt(T=>n.clickFile("video"),["prevent"]))},[b(r,{icon:["fa","file-video"]})]),h("div",{class:"icons",onClick:t[3]||(t[3]=Vt(T=>n.clickFile("audio"),["prevent"]))},[b(r,{icon:["fa","file-audio"]})])])),h("div",{class:"middle",onClick:t[7]||(t[7]=Vt((...T)=>n.hideProfiles&&n.hideProfiles(...T),["self"]))},[n.computedProfileUrl.length?(a(),d("div",{key:0,class:"add-comment-profile",onClick:t[5]||(t[5]=(...T)=>n.hideProfiles&&n.hideProfiles(...T))},[b(f,null,{default:z(()=>[h("template",Coe,[h("img",{src:n.computedProfileUrl},null,8,Soe)])]),_:1})])):c("",!0),h("div",Ioe,[b(m,{loading:e.computedCAnswering},null,8,["loading"]),n.computedAnswering?c("",!0):(a(),S(v,{key:0,onClick:n.hideProfiles,textPlaceholder:"have an answer?",modelValue:i.answerText,"onUpdate:modelValue":t[6]||(t[6]=T=>i.answerText=T)},null,8,["onClick","modelValue"])),n.computedPost?(a(),S(g,{key:1,buttonText:i.buttonText,onClick:n.addAnswer},null,8,["buttonText","onClick"])):c("",!0)])]),h("div",Toe,[b(D,null,{default:z(()=>[i.showPreview?(a(),S(A,{key:0,show:i.showPreview,file:i.file,onRemoveFile:n.removeFile},null,8,["show","file","onRemoveFile"])):c("",!0)]),_:1})]),h("input",{type:"file",ref:"file",onChange:t[8]||(t[8]=(...T)=>n.fileChange&&n.fileChange(...T)),class:"hidden"},null,544)])):c("",!0)]),_:1})}const xoe=Ae(koe,[["render",Doe],["__scopeId","data-v-9947e5d6"]]),Poe={props:{show:{type:Boolean,default:!0},postLoading:{type:Boolean,default:!1},type:{type:String,default:"post"},data:{type:Object,default:null},itemData:{type:Object,default:null},heading:{type:String,default:""}},components:{AnswerSingle:Rv,CommentSingle:Mv,MainList:Cc,SlideUpGroup:jf,FadeUp:bi,FadeRightFast:Iv,ProfileBar:oi,AddAnswer:xoe,PostPreview:dA,PostSingle:wv},data(){return{nextPage:1,comments:[],answers:[],loading:!1,showMoreComments:!1,noCommentAnswer:"",mediaUrl:"",mediaJustUrl:!0,showMediaModal:!1,mediaJustUrl:!0,mediaUrlType:"",showPostModal:!1,postModalData:null,postModalType:"",showAnswerList:!1,showAnswerText:!1,inputAnswerList:"",inputAnswerText:"",answerLoading:!1,showAnswerButton:!1,answerListSelectable:!0,answerListEditable:{},answerListEdit:!1,answerTextEditable:{},answerTextEdit:!1,alertMessage:"",alertSuccess:!1,alertDanger:!1,showProfiles:!1,file:null,showLoginRegister:!1,showSmallModalOther:!1,smallModalTitle:"",dataLoading:!1,item:null}},watch:{show:{immediate:!0,handler(e){e&&this.data?(this.data.hasOwnProperty("typeName")&&(this.data.typeName==="question"||this.data.typeName==="riddle")?this.noCommentAnswer="there are no answers":this.noCommentAnswer="there are no comments",this.data.hasOwnProperty("type")&&this.data.type&&this.data.type.hasOwnProperty("possible_answers")&&(this.showAnswerList=!0),this.listen()):this.itemData?this.getPost():this.dataLoading=!0}},data:{immediate:!0,handler(e){e!==null&&this.getCommentsAnswers()}},item:{immediate:!0,handler(e){e!==null&&(this.listen(),this.getCommentsAnswers())}},alertMessage(e){e.length||(this.alertSuccess=!1,this.alertDanger=!1)},showAnswerList(e){e&&(this.showAnswerButton=!1)},showAnswerText(e){e&&(this.showAnswerButton=!1)}},beforeRouteEnter(e,t,s){s(o=>{console.log(e),e.name==="post"&&o.getPost()})},computed:{...os(["getProfiles","getUser"]),computedRoute(){return Ns()},computedNoCommentAnswer(){return this.type==="posttype"&&(this.data&&this.data.typeName==="question"||this.data.typeName==="riddle")?!this.answers.length&&!this.loading&&!this.postLoading:!this.comments.length&&!this.loading&&!this.postLoading},computedShowAnswer(){return this.data&&this.data.typeName==="answer"&&!this.postLoading},computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedHeading(){return this.heading.length>0},computedComments(){return this.post?this.post.comments_number:0},computedPossibleAnswers(){return this.data&&this.data.typeName==="question"&&this.type==="posttype"&&this.data.type.hasOwnProperty("possible_answers")?this.data.type.possibleAnswers:this.item&&this.item.typeName==="question"&&this.item.type.hasOwnProperty("possible_answers")?this.item.type.possibleAnswers:[]},computedData(){return this.data?this.data:this.item?this.item:null},computedPostType(){return this.data?this.data.type:this.item?this.item.type[0]:null},computedPostTypeName(){return this.data?this.data.typeName:this.item?this.item.typeName:""},computedOwner(){return this.data?this.data.owner:null},computedShowPostType(){return this.type&&this.computedPostTypeName&&!this.postLoading}},methods:{...ss(["profile/getComments","profile/getAnswers","profile/updateAnswer","profile/createAnswer","dashboard/fetchItem"]),listen(){let e;this.data&&this.type==="post"||this.item&&this.item.typeName==="post"?(e=this.data?this.data.id:this.item.id,Echo.channel(`.youredu.post.${e}`).listen(".deleteComment",t=>{console.log("commentInfo :>> ",t)})):this.data&&this.type==="posttype"&&this.data.typeName==="question"||this.item&&this.item.typeName==="question"?(e=this.data?this.data.type.id:this.item.type.id,Echo.channel(`.youredu.question.${e}`).listen(".deleteAnswer",t=>{this.removeItem(t.answer.id,"answer")})):(this.data&&this.type==="posttype"&&this.data.typeName==="riddle"||this.item&&this.item.typeName==="riddle")&&(e=this.data?this.data.type.id:this.item.type.id,Echo.channel(`.youredu.riddle.${e}`).listen(".deleteAnswer",t=>{this.removeItem(t.answer.id,"answer")}))},async getPost(){let e,t,s;if(this.computedRoute.name==="post"?(e=this.computedRoute.name,t=this.computedRoute.params.itemId):(e=this.itemData.item,t=this.itemData.itemId),this.dataLoading=!0,!this.getUser){setTimeout(()=>{this.getPost()},1e3);return}s=await this["dashboard/fetchItem"]({item:e,itemId:t}),this.dataLoading=!1,s.status?this.item=s.item:console.log("response :>> ",s)},answerMarkedSuccessful(e){if(e.main){this.$emit("answerMarkedSuccessfulMain",e);return}this.addMark(e)},answerMarkedSuccessfulMain(e){this.addMark(e)},addMark(e){let t=this.answers.findIndex(s=>s.id===e.answerId);t>-1&&(this.answers[t].marks.push(e.mark),this.answers[t].avg_score=e.avg_score,this.answers[t].max_score=e.max_score,this.answers[t].min_score=e.min_score)},answerMarked(e){let t=this.answers.findIndex(s=>s.id===e.id);t>-1&&this.answers.splice(t,1,e)},isAnswerOwner(e){this.answerListSelectable=!1},deleteAnswerSuccessMain(e){this.showPostModal=!1,this.postModalData=null,this.removeAnswer(e.answerId)},updateAnswerSuccessfulMain(e){this.replaceAnswer(e.answer)},answerUnflaggedSuccess(e){let t=this.answers.findIndex(s=>s.id===e.answerId);if(t>-1){let s=this.answers[t].flags.findIndex(o=>o.id===e.flag.id);s>-1&&this.answers[t].flags.splice(s,1)}},updateAnswerSuccessful(e){if(e.main){this.$emit("updateAnswerSuccessfulMain",e);return}this.replaceAnswer(e.answer)},deleteAnswerSuccess(e){if(e.main){this.$emit("deleteAnswerSuccessMain",e);return}this.removeAnswer(e.answerId)},replaceAnswer(e){let t=this.answers.findIndex(s=>s.id===e.id);t>-1&&this.answers.splice(t,1,e)},removeAnswer(e){let t=this.answers.findIndex(s=>s.id===e);t>-1&&this.answers.splice(t,1)},postModalAnswerUnlikeSuccessful(e){this.removeLike(e.itemId,e.likeId,"answer")},postModalAnswerLikeSuccessful(e){this.addLike(e.itemId,e.like,"answer")},answerUnlikeSuccessful(e){e.main?this.$emit("answerUnlikeSuccessful",e):this.removeLike(e.itemId,e.likeId,"answer")},answerLikeSuccessful(e){e.main?this.$emit("answerLikeSuccessful",e):this.addLike(e.itemId,e.like,"answer")},answerCommentSuccessfulMain(e){this.addAnswerCommentNumber(e)},answerCommentSuccessful(e){this.data.typeName==="answer"&&this.data.type.hasOwnProperty("answerable_type")&&(this.$emit("answerCommentSuccessfulMain",e),this.comments.unshift(e)),this.addAnswerCommentNumber(e)},addAnswerCommentNumber(e){let t=this.answers.findIndex(s=>s.id===e.commentable_id);t>-1&&(this.answers[t].comments_number+=1)},commentSaveSuccessfulMain(e){this.addSave(e.itemId,e.save,"comment")},commentUnsaveSuccessfulMain(e){this.removeSave(e.itemId,e.saveId,"comment")},commentSaveSuccessful(e){this.addSave(e.itemId,e.save,"comment")},commentUnsaveSuccessful(e){this.removeSave(e.itemId,e.saveId,"comment")},commentUnlikeSuccessfulMain(e){this.removeLike(e.itemId,e.likeId)},commentLikeSuccessfulMain(e){this.addLike(e.itemId,e.like)},commentLikeSuccessful(e){this.addLike(e.itemId,e.like,"comment")},commentUnlikeSuccessful(e){this.removeLike(e.itemId,e.likeId,"comment")},answerSaveSuccessfulMain(e){this.addSave(e.itemId,e.save,"answer")},answerUnsaveSuccessfulMain(e){this.removeSave(e.itemId,e.saveId,"answer")},answerSaveSuccessful(e){e.main?this.$emit("answerSaveSuccessfulMain",e):this.addSave(e.itemId,e.save,"answer")},answerUnsaveSuccessful(e){e.main?this.$emit("answerUnsaveSuccessfulMain",e):this.removeSave(e.itemId,e.saveId,"answer")},removeSave(e,t,s="comment"){if(s==="comment"){let o=this.comments.findIndex(i=>i.id===e);if(o>-1){let i=this.comments[o].saves.findIndex(n=>n.id===t);i>-1&&this.comments[o].saves.splice(i,1)}}else if(s==="answer"){let o=this.answers.findIndex(i=>i.id===e);if(o>-1){let i=this.answers[o].saves.findIndex(n=>n.id===t);i>-1&&this.answers[o].saves.splice(i,1)}}},addSave(e,t,s="comment"){if(s==="comment"){let o=this.comments.findIndex(i=>i.id===e);o>-1&&this.comments[o].saves.unshift(t)}else if(s==="answer"){let o=this.answers.findIndex(i=>i.id===e);o>-1&&this.answers[o].saves.unshift(t)}},removeLike(e,t,s="comment"){if(s==="comment"){let o=this.comments.findIndex(i=>i.id===e);if(o>-1){let i=this.comments[o].likes.findIndex(n=>n.id===t);i>-1&&this.comments[o].likes.splice(i,1)}}else if(s==="answer"){let o=this.answers.findIndex(i=>i.id===e);if(o>-1){let i=this.answers[o].likes.findIndex(n=>n.id===t);i>-1&&this.answers[o].likes.splice(i,1)}}},addLike(e,t,s="comment"){if(s==="comment"){let o=this.comments.findIndex(i=>i.id===e);o>-1&&this.comments[o].likes.unshift(t)}else if(s==="answer"){let o=this.answers.findIndex(i=>i.id===e);o>-1&&this.answers[o].likes.unshift(t)}},postMainDeleteSuccess(e){this.$emit("mainModalDisappear")},askCreateAccount(){this.smallModalTitle="visit your welcome page to create accounts with which to interact.",this.showSmallModalOther=!1,this.showLoginRegister=!0,setTimeout(()=>{this.showLoginRegister=!1},3e3)},askLoginRegister(){this.smallModalTitle="welcome to this new community.",this.showSmallModalOther=!0,this.showLoginRegister=!0,setTimeout(()=>{this.showLoginRegister=!1},3e3)},viewModalCommentEditedMain(e){let t=this.comments.findIndex(s=>s.id===e.id);t>-1&&this.comments.splice(t,1,e)},clickedShowAnswer(e){},clickedListButton(e){this.inputAnswerList.hasOwnProperty("option")?(this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)):(this.alertDanger=!0,this.alertMessage="no option has been selected",setTimeout(()=>{this.alertMessage=""},3e3))},hideProfiles(){this.showProfiles=!1},hideAddAnswer(){this.showAnswerText=!this.showAnswerText},addAnswer(e){this.inputAnswerText=e.input,this.file=e.file,e.who.hasOwnProperty("account")?this.clickedProfile(e.who):e.inputText.length&&(this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3))},commentDeleteSuccess(e){let t=this.comments.findIndex(s=>s.id===e.commentId);t>-1&&this.comments.splice(t,1)},async clickedProfile(e){this.showProfiles=!1,this.answerLoading=!0;let t=new FormData,s="",o={};if(this.file&&t.append("file",this.file),t.append("account",e.account),t.append("accountId",e.accountId),this.showAnswerList)if(this.inputAnswerList&&this.inputAnswerList.hasOwnProperty("id"))t.append("answer",this.inputAnswerList.option.trim()),t.append("possible_answer_id",this.inputAnswerList.id);else{this.alertDanger=!0,this.alertMessage="answer must be given",setTimeout(()=>{this.alertMessage=""},3e3);return}else this.showAnswerText&&(this.inputAnswerText&&this.inputAnswerText.length?t.append("answer",this.inputAnswerText.trim()):(this.alertDanger=!0,this.alertMessage="answer must be given",setTimeout(()=>{this.alertMessage=""},3e3)));let i=null;if(e.hasOwnProperty("itemId")?(s="update",i=await this["profile/updateAnswer"]({answerId:e.itemId,formData:t})):(o={item:this.data.typeName,itemId:this.data.type.id,postId:this.data.postId},s="create",i=await this["profile/createAnswer"]({data:o,formData:t})),this.answerLoading=!1,i.hasOwnProperty("answer")){if(s==="create")this.answers.unshift(i.answer);else{let n=this.answers.findIndex(r=>r.id===i.answer.id);n>-1&&this.answers.splice(n,1,i.answer)}this.clearAnswerData(),this.alertSuccess=!0,this.alertDanger=!1,this.alertMessage="answered successfully"}else this.alertSuccess=!1,this.alertDanger=!0,this.alertMessage="answering unsuccessful";setTimeout(()=>{this.alertMessage=""},3e3)},clearAnswerData(){this.file=null,this.inputAnswerText="",this.inputAnswerList=""},listItemSelected(e){this.inputAnswerList=e},clickedAnswer(){this.data.type.possibleAnswers.length?this.showAnswerList=!0:this.showAnswerText=!1},postModalDisappear(){this.showPostModal=!1},clickedShowPostPreview(e){this.postModalData=e.data,this.postModalType="posttype",this.showPostModal=!0},clickedShowAnswerComments(e){this.postModalData=e.data,this.postModalType=e.type,this.showPostModal=!0},clickedShowPostComments(e){this.postModalData=e.answer,this.postModalType="post",this.showPostModal=!0},clickedMedia(e){this.mediaUrl=e.url,this.mediaUrlType=e.mediaType,this.showMediaModal=!0},mediaModalDisappear(){this.showMediaModal=!1,this.mediaUrl="",this.mediaUrlType=""},postModalCommentCreated(e){if(e.commentable_type.toLocaleLowerCase().includes("comment")){let t=this.comments.findIndex(s=>s.id===e.id);t>-1&&(this.comments[t].comments+=1)}else this.showMoreComments=!1,this.comments.unshift(e)},postModalCommentEdited(e){let t=this.comments.findIndex(s=>s.id===e.id);t>-1&&this.comments.splice(t,1,e)},postModalAnswerCreated(e){this.showMoreComments=!1,this.answers.unshift(e)},clickedShowMore(){this.getCommentsAnswers()},async getCommentsAnswers(){if(this.data===null&&this.item===null)return;this.loading=!0;let e={},t=null;e.nextPage=this.nextPage,this.data&&this.type==="post"?(e.item="post",e.itemId=this.data.id,t=await this["profile/getComments"](e)):this.type==="posttype"?(e.item=this.data.typeName,e.itemId=this.data.type.id,this.type==="posttype"&&(this.data.typeName==="question"||this.data.typeName==="riddle")?t=await this["profile/getAnswers"](e):t=await this["profile/getComments"](e)):this.type==="answer"?(e.item=this.data.typeName,e.itemId=this.data.type.id,t=await this["profile/getComments"](e)):this.item.typeName==="post"?(e.item="post",e.itemId=this.item.id,t=await this["profile/getComments"](e)):this.item.typeName!=="question"&&this.item.typeName==="riddle"?(e.item=this.item.typeName,e.itemId=this.item.type[0].id,t=await this["profile/getComments"](e)):(this.item.typeName==="question"||this.item.typeName==="riddle")&&(e.item=this.item.typeName,e.itemId=this.item.type[0].id,t=await this["profile/getAnswers"](e)),this.data&&this.type==="posttype"&&(this.data.typeName==="riddle"||this.data.typeName==="question")?this.answers.push(...t.data.data):this.item&&(this.item.typeName==="riddle"||this.item.typeName==="question")?this.answers.push(...t.data.data):this.item&&this.item.typeName!=="riddle"&&this.item.typeName!=="question"?this.comments.push(...t.data.data):this.comments.push(...t.data.data),this.loading=!1,t.status?(this.nextPage+=1,this.showMoreComments=!0):this.showMoreComments=!1},disappear(){this.$emit("mainModalDisappear")}}},Moe=e=>(gs("data-v-1400a36d"),e=e(),vs(),e),Eoe={class:"main-modal"},Ooe={key:0,class:"main"},Roe={key:0,class:"post-loading"},Noe={key:1,class:"post"},Loe={key:2,class:"answer"},Foe={key:3,class:"post-preview"},Uoe={class:"answer-question"},Boe={key:0,class:"loading"},joe={key:3,class:"profiles"},Voe=Moe(()=>h("span",null," answer as ",-1)),qoe={key:1,class:"loading"},Hoe={class:"main-comments"},Woe={key:0,class:"no-comments"},zoe={slot:"transition"},Goe={key:0,class:"loading"};function Yoe(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("fade-right-fast"),m=_("pulse-loader"),v=_("post-single"),g=_("answer-single"),A=_("post-preview"),D=_("add-answer"),E=_("main-list"),T=_("profile-bar"),N=_("comment-single"),F=_("slide-up-group"),R=_("media-modal"),j=_("just-fade"),W=_("router-link"),Q=_("small-modal"),le=_("fade-up"),me=_("post-modal",!0);return s.show?(a(),d("div",{key:0,class:"post-modal-wrapper",onClick:t[3]||(t[3]=Vt((...k)=>n.disappear&&n.disappear(...k),["self"]))},[h("div",Eoe,[h("div",{class:"close",onClick:t[0]||(t[0]=(...k)=>n.disappear&&n.disappear(...k))},[b(r,{icon:["fas","times"]})]),i.dataLoading?(a(),d("div",qoe,[b(m,{loading:i.dataLoading},null,8,["loading"])])):(a(),d("div",Ooe,[b(f,null,{default:z(()=>[i.alertMessage.length?(a(),d(Z,{key:0},[i.alertMessage.length?(a(),d("div",{key:0,class:we(["alert-message",{success:i.alertSuccess,danger:i.alertDanger}])},V(i.alertMessage),3)):c("",!0)],64)):c("",!0)]),_:1}),s.postLoading?(a(),d("div",Roe,[b(m,{loading:s.postLoading},null,8,["loading"])])):c("",!0),(s.type==="post"||n.computedPostTypeName==="post")&&!s.postLoading?(a(),d("div",Noe,[b(v,{post:n.computedData,postMediaFull:!0,disabled:!!i.item,onPostModalCommentCreated:n.postModalCommentCreated,onClickedShowPostComments:n.clickedShowPostComments,onClickedShowPostPreview:n.clickedShowPostPreview,onClickedMedia:n.clickedMedia,onPostDeleteSuccess:n.postMainDeleteSuccess},null,8,["post","disabled","onPostModalCommentCreated","onClickedShowPostComments","onClickedShowPostPreview","onClickedMedia","onPostDeleteSuccess"])])):c("",!0),n.computedShowAnswer?(a(),d("div",Loe,[b(g,{answerFull:!0,answer:s.data.type,disabled:!!i.item,onAnswerUnlikeSuccessful:n.answerUnlikeSuccessful,onAnswerLikeSuccessful:n.answerLikeSuccessful,onAnswerUnsaveSuccessful:n.answerUnsaveSuccessful,onAnswerSaveSuccessful:n.answerSaveSuccessful,onUpdateAnswerSuccessful:n.updateAnswerSuccessful,onDeleteAnswerSuccess:n.deleteAnswerSuccess,onAnswerMarkedSuccessful:n.answerMarkedSuccessful,onAnswerCommentSuccessful:n.answerCommentSuccessful},null,8,["answer","disabled","onAnswerUnlikeSuccessful","onAnswerLikeSuccessful","onAnswerUnsaveSuccessful","onAnswerSaveSuccessful","onUpdateAnswerSuccessful","onDeleteAnswerSuccess","onAnswerMarkedSuccessful","onAnswerCommentSuccessful"])])):c("",!0),n.computedShowPostType?(a(),d("div",Foe,[b(A,{type:n.computedPostType,typeName:n.computedPostTypeName,owner:n.computedOwner,disabled:!!i.item,typeMediaFull:!0,onClickedMedia:n.clickedMedia,onClickedAnswer:n.clickedAnswer,onClickedShowPostPreview:n.clickedShowPostPreview,showButton:i.showAnswerButton},null,8,["type","typeName","owner","disabled","onClickedMedia","onClickedAnswer","onClickedShowPostPreview","showButton"]),h("div",Uoe,[i.answerLoading?(a(),d("div",Boe,[b(m,{loading:i.answerLoading,size:"10px"},null,8,["loading"])])):c("",!0),i.showAnswerText?(a(),S(D,{key:1,showAddAnswer:i.showAnswerText,onAddAnswer:n.addAnswer,onHideAddAnswer:n.hideAddAnswer,onHideProfiles:n.hideProfiles,editableData:i.answerTextEditable,edit:i.answerTextEdit},null,8,["showAddAnswer","onAddAnswer","onHideAddAnswer","onHideProfiles","editableData","edit"])):c("",!0),i.showAnswerList?(a(),S(E,{key:2,itemList:s.data.type.possibleAnswers,onListItemSelected:n.listItemSelected,onClickedListButton:n.clickedListButton,edit:i.answerListEdit,selectable:i.answerListSelectable,select:"select your answer",buttonText:"submit"},null,8,["itemList","onListItemSelected","onClickedListButton","edit","selectable"])):c("",!0),i.showProfiles?(a(),d("div",joe,[Voe,(a(!0),d(Z,null,pe(n.computedProfiles,(k,Ce)=>(a(),d("div",{key:Ce},[b(T,{smallType:!0,profile:k,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)])])):c("",!0)])),h("div",Hoe,[n.computedNoCommentAnswer?(a(),d("div",Woe,V(i.noCommentAnswer),1)):(a(),d(Z,{key:1},[b(F,null,{default:z(()=>[h("template",zoe,[i.comments.length?(a(!0),d(Z,{key:0},pe(i.comments,k=>(a(),S(N,{key:k.id,comment:k,disabled:!!i.item,onPostModal:!0,onClickedMedia:n.clickedMedia,onCommentDeleteSuccess:n.commentDeleteSuccess,onPostModalCommentCreated:n.postModalCommentCreated,onPostModalCommentEdited:n.postModalCommentEdited,onPostAddComplete:k,onViewModalCommentEditedMain:n.viewModalCommentEditedMain,onCommentUnlikeSuccessfulMain:n.commentUnlikeSuccessfulMain,onCommentLikeSuccessfulMain:n.commentLikeSuccessfulMain,onCommentUnlikeSuccessful:n.commentUnlikeSuccessful,onCommentLikeSuccessful:n.commentLikeSuccessful,onCommentUnsaveSuccessful:n.commentUnsaveSuccessful,onCommentSaveSuccessful:n.commentSaveSuccessful,onCommentUnsaveSuccessfulMain:n.commentUnsaveSuccessfulMain,onCommentSaveSuccessfulMain:n.commentSaveSuccessfulMain},null,8,["comment","disabled","onClickedMedia","onCommentDeleteSuccess","onPostModalCommentCreated","onPostModalCommentEdited","onPostAddComplete","onViewModalCommentEditedMain","onCommentUnlikeSuccessfulMain","onCommentLikeSuccessfulMain","onCommentUnlikeSuccessful","onCommentLikeSuccessful","onCommentUnsaveSuccessful","onCommentSaveSuccessful","onCommentUnsaveSuccessfulMain","onCommentSaveSuccessfulMain"]))),128)):c("",!0),i.answers.length?(a(!0),d(Z,{key:1},pe(i.answers,k=>(a(),S(g,{key:k.id,answer:k,disabled:!!i.item,possibleAnswers:n.computedPossibleAnswers,onAskLoginRegister:n.askLoginRegister,onClickedShowAnswer:n.clickedShowAnswer,onAskCreateAccount:n.askCreateAccount,onAnswerMarked:n.answerMarked,onAnswerUnlikeSuccessful:n.answerUnlikeSuccessful,onAnswerLikeSuccessful:n.answerLikeSuccessful,onAnswerUnsaveSuccessful:n.answerUnsaveSuccessful,onAnswerSaveSuccessful:n.answerSaveSuccessful,onClickedShowAnswerComments:n.clickedShowAnswerComments,onUpdateAnswerSuccessful:n.updateAnswerSuccessful,onDeleteAnswerSuccess:n.deleteAnswerSuccess,onAnswerUnflaggedSuccess:n.answerUnflaggedSuccess,onIsAnswerOwner:n.isAnswerOwner,onAnswerMarkedSuccessful:n.answerMarkedSuccessful,onAnswerCommentSuccessful:n.answerCommentSuccessful},null,8,["answer","disabled","possibleAnswers","onAskLoginRegister","onClickedShowAnswer","onAskCreateAccount","onAnswerMarked","onAnswerUnlikeSuccessful","onAnswerLikeSuccessful","onAnswerUnsaveSuccessful","onAnswerSaveSuccessful","onClickedShowAnswerComments","onUpdateAnswerSuccessful","onDeleteAnswerSuccess","onAnswerUnflaggedSuccess","onIsAnswerOwner","onAnswerMarkedSuccessful","onAnswerCommentSuccessful"]))),128)):c("",!0)])]),_:1}),i.loading?(a(),d("div",Goe,[b(m,{loading:i.loading,size:"10px"},null,8,["loading"])])):c("",!0),i.showMoreComments?(a(),d("div",{key:1,class:"show-more",onClick:t[1]||(t[1]=(...k)=>n.clickedShowMore&&n.clickedShowMore(...k))},[b(r,{icon:["fa","ellipsis-h"]})])):c("",!0)],64))])]),b(j,null,{default:z(()=>[i.showMediaModal?(a(),S(R,{key:0,onMainModalDisappear:n.mediaModalDisappear,url:i.mediaUrl,urlType:i.mediaUrlType,justUrl:i.mediaJustUrl},null,8,["onMainModalDisappear","url","urlType","justUrl"])):c("",!0)]),_:1}),b(le,null,{default:z(()=>[i.showLoginRegister?(a(),S(Q,{key:0,onDisappear:t[2]||(t[2]=k=>i.showLoginRegister=!1),showForm:i.showLoginRegister,title:i.smallModalTitle},{default:z(()=>[i.showSmallModalOther?(a(),d(Z,{key:0},[b(W,{to:"/login"},{default:z(()=>[Mt("login")]),_:1}),Mt(" or "),b(W,{to:"/register"},{default:z(()=>[Mt("register")]),_:1}),Mt(" to interact and grow in a positve way. ")],64)):c("",!0),i.showSmallModalOther?c("",!0):(a(),S(W,{key:1,to:"/welcome"},{default:z(()=>[Mt("welcome")]),_:1}))]),_:1},8,["showForm","title"])):c("",!0)]),_:1}),b(j,null,{default:z(()=>[i.showPostModal?(a(),S(me,{key:0,onMainModalDisappear:n.postModalDisappear,data:i.postModalData,onAnswerUnlikeSuccessful:n.postModalAnswerUnlikeSuccessful,onAnswerLikeSuccessful:n.postModalAnswerLikeSuccessful,onAnswerSaveSuccessfulMain:n.answerSaveSuccessfulMain,onAnswerUnsaveSuccessfulMain:n.answerUnsaveSuccessfulMain,type:i.postModalType,onUpdateAnswerSuccessfulMain:n.updateAnswerSuccessfulMain,onDeleteAnswerSuccessMain:n.deleteAnswerSuccessMain,onAnswerMarkedSuccessfulMain:n.answerMarkedSuccessfulMain,onAnswerCommentSuccessfulMain:n.answerCommentSuccessfulMain},null,8,["onMainModalDisappear","data","onAnswerUnlikeSuccessful","onAnswerLikeSuccessful","onAnswerSaveSuccessfulMain","onAnswerUnsaveSuccessfulMain","type","onUpdateAnswerSuccessfulMain","onDeleteAnswerSuccessMain","onAnswerMarkedSuccessfulMain","onAnswerCommentSuccessfulMain"])):c("",!0)]),_:1})])):c("",!0)}const Nv=Ae(Poe,[["render",Yoe],["__scopeId","data-v-1400a36d"]]),Qoe={props:{itemData:{type:Object,default(){return null}}}};function Koe(e,t,s,o,i,n){return a(),d("div",null," discussion modal ")}const HA=Ae(Qoe,[["render",Koe]]),Joe={};function Xoe(e,t,s,o,i,n){return a(),d("div",null," course modal ")}const $oe=Ae(Joe,[["render",Xoe]]),Zoe={};function eae(e,t,s,o,i,n){return a(),d("div",null," class modal ")}const tae=Ae(Zoe,[["render",eae]]),sae={data(){return{message:""}},beforeRouteEnter(e,t,s){s(o=>{e.params.message&&(o.message=e.params.message)})},computed:{computedMessage(){const e=Ns();return this.message.length?this.message:e.name==="item"?`${e.params.item} does not exist`:""}}},nae={class:"message"};function iae(e,t,s,o,i,n){return a(),d("div",null,[h("div",nae,V(n.computedMessage),1)])}const pg=Ae(sae,[["render",iae]]),oae={components:{CatchAll:pg,ClassModal:tae,LessonModal:qA,CourseModal:$oe,DiscussionModal:HA},props:{itemData:{type:Object,default(){return null}}},computed:{computedRoute(){return Ns()},computedDiscussion(){return this.computedRoute.name==="item"&&this.computedRoute.params.item==="discussion"||this.itemData&&this.itemData.item==="discussion"},computedCourse(){return this.computedRoute.name==="item"&&this.computedRoute.params.item==="course"||this.itemData&&this.itemData.item==="course"},computedLesson(){return this.computedRoute.name==="item"&&this.computedRoute.params.item==="lesson"||this.itemData&&this.itemData.item==="lesson"},computedClass(){return this.computedRoute.name==="item"&&this.computedRoute.params.item==="class"||this.itemData&&this.itemData.item==="class"},computedShow(){return this.computedRoute.name==="item"}}},aae={key:0};function rae(e,t,s,o,i,n){const r=_("discussion-modal"),f=_("class-modal"),m=_("lesson-modal"),v=_("course-modal"),g=_("catch-all");return n.computedShow?(a(),d("div",aae,[n.computedDiscussion?(a(),S(r,{key:0,show:n.computedDiscussion,itemData:s.itemData},null,8,["show","itemData"])):n.computedClass?(a(),S(f,{key:1,show:n.computedClass,itemData:s.itemData},null,8,["show","itemData"])):n.computedLesson?(a(),S(m,{key:2,show:n.computedLesson,itemData:s.itemData},null,8,["show","itemData"])):n.computedCourse?(a(),S(v,{key:3,show:n.computedCourse,itemData:s.itemData},null,8,["show","itemData"])):(a(),S(g,{key:4}))])):c("",!0)}const WA=Ae(oae,[["render",rae]]),lae={components:{AutoAlert:Mi,PostButton:xs,PostAttachment:go,AttachmentBadge:vo},props:{show:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},type:{type:String,default:""},accountDetails:{type:Object,default(){return null}}},data(){return{attachments:[],title:"create an attachment",alertMessage:"",alertDanger:!1,alertSuccess:!1,loading:!1,buttonText:"attach"}},watch:{type:{immediate:!0,handler(e){e.length&&(this.title=`attach a ${e}`,this.buttonText=`attach ${e}`)}}},computed:{...os(["dashboard/getAccountDetails"]),computedType(){return this.type+"s"},computedAccountDetails(){return this["dashboard/getAccountDetails"]}},methods:{...ss(["dashboard/createAccountAttachments"]),attachmentModalDisappear(){this.$emit("attachmentModalDisappear")},clickedRemoveAttachment(e){let t=this.getAttachmentIndex(e);t>-1&&this.attachments.splice(t,1)},getAttachmentIndex(e){return this.attachments.findIndex(s=>s.type===e.type&&s.data.id===e.data.id)},isAttached(e){let t;return this.type==="subject"?t=this.accountDetails.subjects.findIndex(s=>s.data.id===e.data.id):this.type==="grade"&&(t=this.accountDetails.grades.findIndex(s=>s.data.id===e.data.id)),t>-1},typeSelected(e){if(this.multiple||(this.attachments=e),!(this.getAttachmentIndex(e)>-1)){if(this.isAttached(e)){this.alertDanger=!0,this.alertMessage=`${this.type} already attached`;return}this.attachments.push(e)}},clearAlert(){this.alertMessage="",this.alertSuccess=!1,this.alertDanger=!1},async clickedCreate(){if(this.loading)return;if(!this.attachments.length){this.alertDanger=!0,this.alertMessage="please select at least one before attaching";return}this.loading=!0;let e,t={account:this.computedAccountDetails.account,accountId:this.computedAccountDetails.accountId,attachments:JSON.stringify(this.attachments.map(s=>({type:s.type,id:s.data.id})))};e=await this["dashboard/createAccountAttachments"](t),this.loading=!1,e.status?(this.alertSuccess=!0,this.alertMessage="attachment added successfully",this.$emit("attachmentSuccess",this.attachments),this.attachments=[]):(console.log("response :>> ",e),this.alertDanger=!0,this.alertMessage="attachment was unsuccessfully")}}},cae={slot:"requests"},uae={slot:"input"},dae={class:"preview"},hae={key:1,class:"no-data"},fae={slot:"buttons"};function mae(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("attachment-badge"),v=_("post-attachment"),g=_("post-button"),A=_("welcome-form"),D=_("main-modal"),E=_("just-fade");return a(),S(E,null,{default:z(()=>[s.show?(a(),S(D,{key:0,show:s.show,onMainModalDisappear:n.attachmentModalDisappear,main:!1,mainOther:!1,class:"main-modal"},{default:z(()=>[h("template",cae,[b(A,{title:i.title},{default:z(()=>[h("template",uae,[b(r,{message:i.alertMessage,success:i.alertSuccess,danger:i.alertDanger,sticky:!0,onHideAlert:n.clearAlert},null,8,["message","success","danger","onHideAlert"]),b(f,{loading:i.loading},null,8,["loading"]),h("div",dae,[i.attachments.length?(a(!0),d(Z,{key:0},pe(i.attachments,(T,N)=>(a(),S(m,{key:N,hasClose:!0,attachment:T.data,type:T.type,onRemoveAttachment:n.clickedRemoveAttachment},null,8,["attachment","type","onRemoveAttachment"]))),128)):(a(),d("div",hae," no attachments yet "))]),b(v,{show:!0,hasSelect:!0,mainSearchItem:n.computedType,hasClose:!1,onClickedAttachmentSelection:n.typeSelected,class:"class-input"},null,8,["mainSearchItem","onClickedAttachmentSelection"])]),h("template",fae,[b(g,{buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])])]),_:1},8,["title"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const pae=Ae(lae,[["render",mae],["__scopeId","data-v-499a0c2f"]]),gae={components:{ProfilePicture:Ys,DashboardModal:Ev},props:{ward:{type:Object,default(){return null}},show:{type:Boolean,default:!1}},data(){return{loading:!1,accountDetails:null}},watch:{show:{immediate:!0,handler(e){e&&this.getSpecificAccountDetails()}}},methods:{...ss(["dashboard/getSpecificAccountDetails"]),async getSpecificAccountDetails(e){let t,s={account:"learner",accountId:this.ward.accountId};this.loading=!0,t=await this["dashboard/getSpecificAccountDetails"](s),this.loading=!1,t.status?this.accountDetails=t.accountDetails:console.log("response :>> ",t)},closeDashboardModal(){this.$emit("closeWardModal")}}},vae=e=>(gs("data-v-00364b2c"),e=e(),vs(),e),yae={slot:"main"},wae={key:0,class:"loading"},_ae={key:1,class:"title"},bae={key:2,class:"main-info"},kae={slot:"image"},Aae=["src"],Cae={class:"profile"},Sae={class:"name"},Iae={class:"type"},Tae={key:3,class:"title"},Dae={key:4,class:"other-info"},xae={class:"info-item"},Pae={class:"info-item"},Mae={class:"info-item"},Eae={class:"info-item"},Oae={class:"main-section"},Rae=vae(()=>h("template",{slot:"body"},null,-1));function Nae(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("profile-picture"),m=_("dashboard-sub-section"),v=_("dashboard-modal");return a(),S(v,{show:s.show,onCloseDashboardModal:n.closeDashboardModal,class:"dashboard-modal"},{default:z(()=>[h("template",yae,[i.loading?(a(),d("div",wae,[b(r,{loading:i.loading},null,8,["loading"])])):c("",!0),i.loading?c("",!0):(a(),d("div",_ae,"account")),i.loading?c("",!0):(a(),d("div",bae,[b(f,{class:"profile-picture"},{default:z(()=>[h("template",kae,[h("img",{src:i.accountDetails.url},null,8,Aae)])]),_:1}),h("div",Cae,[h("div",Sae,V(i.accountDetails.name),1),h("div",Iae,V(i.accountDetails.account),1)])])),i.loading?c("",!0):(a(),d("div",Tae,"stats")),i.loading?c("",!0):(a(),d("div",Dae,[h("div",xae,V(`has got ${i.accountDetails.posts_count} posts`),1),h("div",Pae,V(`has got ${i.accountDetails.discussions_count} discussions`),1),h("div",Mae,V(`has got ${i.accountDetails.likes} likes`),1),h("div",Eae,V(`has got ${i.accountDetails.points} points`),1)])),h("div",Oae,[b(m,{subText:"wards"},{default:z(()=>[Rae]),_:1})])])]),_:1},8,["show","onCloseDashboardModal"])}const Lae=Ae(gae,[["render",Nae],["__scopeId","data-v-00364b2c"]]),Fae={components:{WardModal:Lae,AttachmentModal:pae,ModalSwitcher:WA,PostModal:Nv,DashboardItemModal:boe,LessonModal:qA,ViewAccountItems:Pie,ViewComments:rf,DashboardActionButton:yu,DashboardMainSection:one,DashboardSectionAccount:Xf,DashboardSubSection:Ov,MainSelect:pa,InvitationModal:Ete,ActivityModal:ete,DashboardRequestModal:fee,OptionalActions:Wr,AccountBadge:vu,FadeUp:bi,AddComment:Od,CommentSingle:Mv,CreateProgram:SX,CreateAssessment:uA,CreateClass:MA,CreateLesson:gv,CreateExtracurriculum:LA,CreateCourse:EA,ActionButton:mr,EditProfile:OA,FadeRight:ma,ProfilePicture:Ys,DashboardItemBadge:FJ,AccountInfo:bJ,PostButton:xs,CreateCollaboration:JX},props:{barSmall:{type:Boolean,default:!0},type:{type:String,default:""},activeButton:{type:String,default:""},account:{type:Object,default(){return{}}}},data(){return{showHeaderDropdown:!1,loading:!1,subSelectionLoading:!1,full:!1,subSelection:"",showSelection:"",activePostButton:"info",selection:"",mainSection:"",mainSectionData:null,mainSectionComments:[],mainSectionCommentsLoading:!1,mainSectionLoading:!1,commentsNextPage:1,showCreateModal:"",createModalEdit:"",showRequests:!1,actionRequests:"",showOptionalActions:!1,showInvitationModal:!1,invitationType:"",ward:null,showWardModal:!1,usersNextPage:1,usersLoading:!1,accountsNextPage:1,accountsLoading:!1,adminsNextPage:1,adminsLoading:!1,activitiesAccount:null,banType:"",ban:null,showActivityModal:!1,showSmallModal:!1,smallModalMain:!1,smallModalLoading:!1,smallModalTitle:"",smallModalData:null,itemType:"",itemData:null,showAttachmentModal:!1,attachmentType:"",viewMoreItems:"",viewDashboardItem:""}},mounted(){this.emitter.on("editLesson",()=>{this.showCreateModal="lesson",this.createModalEdit="lesson"}),this.emitter.on("editClass",()=>{this.showCreateModal="class",this.createModalEdit="class"}),this.emitter.on("editCourse",()=>{this.showCreateModal="course",this.createModalEdit="course"}),this.emitter.on("editProgram",()=>{this.showCreateModal="program",this.createModalEdit="program"}),this.emitter.on("editExtracurriculum",()=>{this.showCreateModal="extracurriculum",this.createModalEdit="extracurriculum"}),this.emitter.on("editCollaboration",()=>{this.showCreateModal="collaboration",this.createModalEdit="collaboration"}),this.emitter.on("viewDashboardItem",()=>{console.log("in main section"),this.viewDashboardItem="item"}),this.emitter.on("viewLesson",()=>{this.viewDashboardItem="lesson"})},watch:{showHeaderDropdown(e){e&&setTimeout(()=>{this.showHeaderDropdown=!1},5e3)},account(e,t){e&&e.account&&(this.mainSection="",this.getAccountDetails(e),e.account==="school"?this.schoolListen(e.accountId):t&&t.account==="school"&&this.schoolUnlisten(t.accountId))},activeButton(e){this.activePostButton=e},showOptionalActions(e){e&&setTimeout(()=>{this.showOptionalActions=!1},4e3)},mainSectionData:{deep:!0,handler(e,t){e&&e.type==="class"?this.classListen(e.id):t&&t.type==="class"&&this.classUnlisten(t.id),e&&e.type==="school"?this.schoolListen(e.id):t&&t.type==="school"&&this.schoolUnlisten(t.id),e&&e.type==="course"?this.courseListen(e.id):t&&t.type==="course"&&this.courseUnlisten(t.id)}}},computed:{...os(["getUser","getProfiles","dashboard/getCurrentAccount","dashboard/getAccountDetails","dashboard/getMainSectionComments","dashboard/getAdmins","dashboard/getAccounts"]),computedUserName(){return this.getUser?this.getUser.username:""},computedWards(){return this["dashboard/getAccountDetails"].wards?this["dashboard/getAccountDetails"].wards:[]},computedSchoolAdmin(){return this.computedAccountDetails&&this.computedAccountDetails.admin?this.computedAccountDetails.admin:null},computedSchoolAdmins(){return this.computedAccountDetails&&this.computedAccountDetails.admins?this.computedAccountDetails.admins:null},computedSchoolGrades(){return this.computedAccountDetails&&this.computedAccountDetails.grades?this.computedAccountDetails.grades:null},computedSchoolSubjects(){return this.computedAccountDetails&&this.computedAccountDetails.subjects?this.computedAccountDetails.subjects:null},computedSchoolFacilitators(){return this.computedAccountDetails&&this.computedAccountDetails.facilitators?this.computedAccountDetails.facilitators:null},computedSchoolProfessionals(){return this.computedAccountDetails&&this.computedAccountDetails.professionals?this.computedAccountDetails.professionals:null},computedSchoolLearners(){return this.computedAccountDetails&&this.computedAccountDetails.learners?this.computedAccountDetails.learners:null},computedSchoolParents(){return this.computedAccountDetails&&this.computedAccountDetails.parents?this.computedAccountDetails.parents:null},computedCollaborations(){return this["dashboard/getAccountDetails"]&&this["dashboard/getAccountDetails"].collaborations?this["dashboard/getAccountDetails"].collaborations:null},computedDob(){return this.getUser.dob?_s.dateReadable(this.getUser.dob):""},computedBottomTitle(){return this.type==="user"?"current information":this.type==="account"?`${this.account.account} account information`:""},computedAccountDetailsWards(){return this.computedCurrentAccount.account!=="parent"?null:this.computedAccountDetails.wards.filter(e=>e.userId!==this.getUser.id)},computedAccountDetails(){return this["dashboard/getAccountDetails"]},computedCurrentAccount(){return this.computedSchoolAdmin?{accountId:this.computedSchoolAdmin.id,account:"admin",level:this.computedSchoolAdmin.level}:this["dashboard/getCurrentAccount"]},computedLearners(){return this.computedAccountDetails&&this.computedAccountDetails.account==="school"?this.computedAccountDetails.learners.map(e=>({sectionOne:e.name,id:e.id})):[]},computedAccountLessons(){return(this.computedAccountDetails.account==="facilitator"||this.computedAccountDetails.account==="professional")&&this.computedAccountDetails.lessons?this.computedAccountDetails.lessons:[]},computedAccountAssessments(){return(this.computedAccountDetails.account==="facilitator"||this.computedAccountDetails.account==="professional")&&this.computedAccountDetails.assessments?this.computedAccountDetails.assessments:[]},computedParents(){},computedFacilitators(){},computedProfessionals(){},computedSchools(){return this.computedAccountDetails&&this.computedAccountDetails.account!=="school"||this.computedAccountDetails.schools?this.computedAccountDetails.schools.map(e=>({sectionOne:e.company_name?e.company_name:e.name,sectionTwo:e.role,sectionThree:e.about?e.about:"",id:e.id})):[]},computedGrades(){},computedClasses(){let e=[];return this.computedAccountDetails&&this.computedAccountDetails.account==="school"?e.push(...this.computedAccountDetails.ownedClasses):this.computedAccountDetails&&this.computedAccountDetails.account!=="school"&&this.computedAccountDetails.account!=="facilitator"?e.push(...this.computedAccountDetails.classes):this.computedAccountDetails&&this.computedAccountDetails.account==="facilitator"&&e.push(...this.computedAccountDetails.classes),this.getDashboardItemBadgeClasses(e)},computedSubjects(){return this.computedAccountDetails.subjects},computedExtracurriculums(){},computedCurriculums(){},computedOwnedPrograms(){return this.computedAccountDetails&&this.computedAccountDetails.ownedPrograms?this.computedAccountDetails.ownedPrograms:[]},computedCourses(){return this.computedAccountDetails&&this.computedAccountDetails.courses?this.computedAccountDetails.courses.map(e=>({sectionOne:e.name,sectionTwo:`lessons: ${e.lessons}`,sectionThree:e.description?e.description:"",id:e.id})):[]},computedPrograms(){return this["dashboard/getAccountDetails"].programs?this.computedAccountDetails.programs.map(e=>({sectionOne:e.name,sectionTwo:"",sectionThree:e.description?e.description:"",id:e.id})):[]},computedOwnedExtracurriculums(){return this.computedCurrentAccount.account==="facilitator"||this.computedCurrentAccount.account==="professional"||this.computedCurrentAccount.account==="school"||this.computedCurrentAccount.account==="admin"?this.computedAccountDetails.ownedExtracurriculums:null},computedOwnedClasses(){return this.computedCurrentAccount.account==="facilitator"||this.computedCurrentAccount.account==="professional"||this.computedCurrentAccount.account==="school"||this.computedCurrentAccount.account==="admin"?this.computedAccountDetails.ownedClasses:null},computedCurricula(){return this.computedAccountDetails.curriculum&&this.computedAccountDetails.curriculum,null},computedOwnedCourses(){return this.computedCurrentAccount.account==="facilitator"||this.computedCurrentAccount.account==="professional"||this.computedCurrentAccount.account==="school"||this.computedCurrentAccount.account==="admin"?this.computedAccountDetails.ownedCourses:null},computedCounselling(){return this.computedAccountDetails.counselling&&this.computedAccountDetails.counselling,null},computedSchedules(){return this.computedAccountDetails.schedules&&this.computedAccountDetails.schedules,null},computedIdMainSection(){return this.mainSectionData?this.mainSectionData.id:null},computedMainProfessional(){if(this.computedMainOwner&&this.mainSectionData&&this.mainSectionData.professionals){let e=this.mainSectionData.professionals.findIndex(t=>t.userId===this.getUser.id);if(e>-1)return this.mainSectionData.professionals[e]}return null},computedMainParent(){if(this.computedMainOwner&&this.mainSectionData&&this.mainSectionData.parents){let e=this.mainSectionData.parents.findIndex(t=>t.userId===this.getUser.id);if(e>-1)return this.mainSectionData.parents[e]}return null},computedMainOwner(){return this.mainSectionData&&this.mainSectionData.ownedby?this.mainSectionData.ownedby:this.computedCurrentAccount.owner?this.computedCurrentAccount:null},computedMainAdmin(){return this.computedAccountDetails.account==="facilitator"||this.computedAccountDetails.account==="professional"?this.computedMainOwner:this.computedSchoolAdmin?this.computedSchoolAdmin:null},computedMainFacilitator(){if(this.computedMainOwner&&this.mainSectionData&&this.mainSectionData.facilitators){let e=this.mainSectionData.facilitators.findIndex(t=>t.userId===this.getUser.id);if(e>-1)return this.mainSectionData.facilitators[e]}return null},computedMainLearner(){if(this.computedMainOwner&&this.mainSectionData&&this.mainSectionData.learners){let e=this.mainSectionData.learners.findIndex(t=>t.userId===this.getUser.id);if(e>-1)return this.mainSectionData.learners[e]}return null},computedSchoolAuthority(){var e,t;return((e=this.computedCurrentMainAccount)==null?void 0:e.hasOwnProperty("owner"))||((t=this.computedCurrentMainAccount)==null?void 0:t.hasOwnProperty("admin"))},computedCurrentMainAccount(){return this.computedMainOwner?{owner:!0,account:this.computedMainOwner}:this.computedMainAdmin?{admin:!0,account:this.computedMainAdmin}:this.computedMainFacilitator?{facilitator:!0,account:this.computedMainFacilitator}:this.computedMainProfessional?{professional:!0,account:this.computedMainProfessional}:this.computedMainLearner?{learner:!0,account:this.computedMainLearner}:this.computedMainParent?{parent:!0,account:this.computedMainParent}:null},computedAccount(){return this.computedCurrentMainAccount},computedCurrentSectionAccount(){return(this.mainSection==="class"||this.mainSection==="course"||this.mainSection==="school"||this.mainSection==="extracurriculum")&&this.computedCurrentMainAccount?this.computedCurrentMainAccount.account:null},computedMainSectionComments(){return this["dashboard/getMainSectionComments"]},computedUsers(){return this["dashboard/getUsers"]},computedAdmins(){return this["dashboard/getAdmins"]},computedAccounts(){return this["dashboard/getAccounts"]}},methods:{...ss(["dashboard/getDashboardAccountDetails","dashboard/getSectionItemData","dashboard/addAccountDetails","dashboard/getSectionItemComments","dashboard/newComment","dashboard/removeComment","dashboard/updateComment","dashboard/addClass","dashboard/updateClass","dashboard/removeClass","dashboard/addExtracurriculum","dashboard/updateExtracurriculum","dashboard/removeExtracurriculum","dashboard/addLesson","dashboard/updateLesson","dashboard/removeLesson","dashboard/fetchUsers","dashboard/fetchAdmins","dashboard/fetchAccounts","dashboard/banUser","dashboard/deleteAccountAttachments","dashboard/addAccountAttachments","dashboard/addCourse","dashboard/updateCourse","dashboard/removeCourse","dashboard/deleteClass","dashboard/deleteCourse","dashboard/deleteLesson","dashboard/deleteExtracurriculum","dashboard/addProgram","dashboard/updateProgram","dashboard/removeProgram","dashboard/deleteProgram","dashboard/addCollaboration","dashboard/updateCollaboration","dashboard/removeCollaboration","dashboard/deleteCollaboration","dashboard/addAssessment","dashboard/updateAssessment","dashboard/removeAssessment","dashboard/deleteAssessment"]),clickedHeaderDropdown(){this.showHeaderDropdown=!this.showHeaderDropdown},getDashboardItemBadgeClasses(e){let t="";return e.map(s=>(s.maxLearners&&(t=`max learners: ${s.maxLearners}`),s.description.length&&(t=`description: ${s.description}`),{sectionOne:s.name,sectionTwo:s.state,sectionThree:t,id:s.id}))},viewItem(e){this.itemData=e,this.itemType=e.item},closeItemViewModals(){this.itemType="",this.itemData=null},clickedDashboardActionButton(e){if(console.log(e),e.type==="view more")this.viewMoreItems=e.subText;else if(e.text==="add admin")this.invitationType=e.text,this.showInvitationModal=!0;else if(e.buttonData)if(e.buttonData.text==="ban"){let t=e.buttonData.data.username?e.buttonData.data.fullName:e.buttonData.data.name;this.smallModalTitle=`are you sure you want to ban ${t}?`,this.smallModalData={type:"ban",data:e.buttonData.data},this.showSmallModal=!0}else if(e.buttonData.text==="unban"){let t=e.buttonData.data.username?e.buttonData.data.fullName:e.buttonData.data.name;this.smallModalTitle=`are you sure you want to unban ${t}?`,this.smallModalData={type:"unban",data:e.buttonData.data},this.showSmallModal=!0}else if(e.buttonData.text==="activities")this.activitiesAccount=e.buttonData.data,this.showActivityModal=!0;else if(e.type==="grade"||e.type==="subject"||e.type==="course"||e.type==="program")this.smallModalTitle=`are you sure you want to unattach ${e.buttonData.data.data.name}?`,this.smallModalData={type:"unattach",data:e.buttonData.data},this.showSmallModal=!0;else if(e.type==="owned extracurriculum"||e.type==="lesson"||e.type==="owned program"||e.type==="owned course"||e.type==="owned class"||e.type==="assessment"||e.type==="collaboration"){let t=e.type.includes("extracurriculum")?"extracurriculum":e.type.includes("program")?"program":e.type.includes("course")?"course":e.type.includes("class")?"class":e.type;if(e.buttonData.text==="delete")this.smallModalTitle=`are you sure you want to delete ${t} with name: ${e.buttonData.data.name??e.buttonData.data.title}?`,this.smallModalData={type:t,data:e.buttonData.data,action:"delete"},this.showSmallModal=!0;else if(e.buttonData.text==="undo delete")this.smallModalTitle=`are you sure you want to undo deletion of ${t} with name: ${e.buttonData.data.name??e.buttonData.data.title}?`,this.smallModalData={type:t,data:e.buttonData.data,action:"undo"},this.showSmallModal=!0;else if(e.buttonData.text==="edit"){let s=this.getEventName("edit",t);this.createModalEdit=t,this.showCreateModal=t,this.emitter.emit(s,Ft.cloneDeep(e.buttonData.data))}else e.buttonData.text==="view"&&(this.mainSection=t,this.getMainSectionData(Ft.cloneDeep(e.buttonData.data)))}else e.buttonData.icon==="pencil-alt"?this.$emit("accountModal",{account:e.buttonData.data,action:"edit"}):e.buttonData.text==="profile"?mo().push({name:"profile",params:{account:e.buttonData.data.account,accountId:e.buttonData.data.accountId}}):(e.buttonData.text==="remove facilitator"||e.buttonData.text==="remove learner"||e.buttonData.text==="remove parent"||e.buttonData.text==="remove professional")&&this.deleteAccountAttachments(e.buttonData.data);else if(e.text==="add subject")this.attachmentType=e.text.slice(4),this.showAttachmentModal=!0;else if(e.text.includes("add")){this.createModalEdit="";let t=e.text.slice(4);this.showCreateModal=t,this.emitter.emit(`${t}Ownership`)}},attachmentSuccess(e){console.log("data :>> ",e),this["dashboard/addAccountAttachments"](e)},closeModal(e){e==="activity"?(this.showActivityModal=!1,this.activitiesAccount=null):e==="attachment"&&(this.attachmentType="",this.showAttachmentModal=!1)},clickedSmallModalButton(e){console.log("data :>> ",e),e==="yes"?this.smallModalData.type==="ban"?(this.smallModalTitle="please select type of ban",this.smallModalMain=!0):this.smallModalData.type==="unban"?(this.smallModalTitle="please select the ban",this.smallModalMain=!0):this.smallModalData.type==="unattach"?this.smallModalContinueProcess():(this.smallModalData.type==="class"||this.smallModalData.type==="course"||this.smallModalData.type==="lesson"||this.smallModalData.type==="program"||this.smallModalData.type==="collaboration"||this.smallModalData.type==="assessment"||this.smallModalData.type==="extracurriculum")&&this.smallModalContinueProcess():e==="ok"?this.smallModalContinueProcess():e==="no"&&this.hideSmallModal()},async smallModalContinueProcess(){this.smallModalTitle="",this.smallModalLoading=!0,this.smallModalData.type==="ban"||this.smallModalData.type==="unban"?await this.banUser():this.smallModalData.type==="unattach"?await this.deleteAccountAttachments():await this.deleteAccountItem(this.smallModalData),this.smallModalLoading=!1,this.hideSmallModal()},hideSmallModal(){this.smallModalMain=!1,this.smallModalData=null,this.showSmallModal=!1,this.smallModalTitle="",this.ban=null,this.banType=""},getReadableDate(e){return _s.dateReadable(e)},schoolListen(e){Echo.private(`youredu.school.${e}`).listen(".newAttachableAccount",t=>{console.log("data :>> ",t),this["dashboard/addAccountDetails"]({account:this.account.account,accountId:this.account.accountId,what:t.type,data:t.account})}).listen(".newClass",t=>{console.log("data :>> ",t);let s=this.checkOwnership(t.class);this["dashboard/addClass"]({class:t.class,owner:s})}).listen(".updateClass",t=>{console.log("data :>> ",t);let s=this.checkOwnership(t.class);this.mainSection==="class"&&t.class.id===this.mainSectionData.id&&(this.mainSectionData=t.classResource),this["dashboard/updateClass"]({class:t.class,owner:s})}).listen(".deleteClass",t=>{console.log("data :>> ",t);let s=this.checkOwnership(t.class);this.mainSection==="class"&&t.class.id===this.mainSectionData.id&&(this.mainSection="",this.mainSectionData=null),this["dashboard/removeClass"]({classId:t.classId,owner:s})}).listen(".newCourse",t=>{console.log("data :>> ",t);let s=this.checkOwnership(t.course);this.mainSection==="school"&&t.course.ownedby.accountId===this.mainSectionData.id&&this.mainSectionData.courses.push(t.course),this["dashboard/addCourse"]({course:t.course,owner:s})}).listen(".updateCourse",t=>{console.log("data :>> ",t);let s=this.checkOwnership(t.course);if(this.mainSection==="school"&&t.course.ownedby.accountId===this.mainSectionData.id){let o=this.mainSectionData.courses.findIndex(i=>i.id===t.course.id);o>-1&&this.mainSectionData.courses.splice(o,1,t.course)}this["dashboard/updateCourse"]({course:t.course,owner:s})}).listen(".deleteCourse",t=>{console.log("data :>> ",t);let s=this.checkOwnership(t.course);if(this.mainSection==="school"&&t.course.ownedby.accountId===this.mainSectionData.id){let o=this.mainSectionData.courses.findIndex(i=>i.id==t.courseId);o>-1&&this.mainSectionData.courses.splice(o,1)}this["dashboard/removeCourse"]({course:t.courseId,owner:s})})},checkOwnership(e){return this.computedCurrentAccount.account===e.ownedby&&this.computedCurrentAccount.accountId===e.ownedbyId},schoolUnlisten(e){Echo.leaveChannel(`youredu.school.${e}`)},classListen(e){Echo.private(`youredu.class.${e}`).listen(".newComment",t=>{console.log("comment :>> ",t),this["dashboard/newComment"](t)}).listen(".deleteComment",t=>{console.log("comment :>> ",t),this["dashboard/removeComment"](t)}).listen(".updateComment",t=>{console.log("comment :>> ",t),this["dashboard/updateComment"](t)}).listen(".updateClass",t=>{console.log("data :>> ",t),this.mainSectionData=t.classResource,this["dashboard/updateClass"]({class:t.class,owner:!1})}).listen(".deleteClass",t=>{console.log("data :>> ",t),this.mainSection="",this.mainSectionData=null,this["dashboard/removeClass"]({classId:t.classId,owner:!1})}).listen(".newCourse",t=>{console.log("data :>> ",t),this.mainSection==="class"&&this.mainSectionData.courses.push(t.course)}).listen(".updateCourse",t=>{if(console.log("data :>> ",t),this.mainSection==="class"){let s=this.mainSectionData.courses.findIndex(o=>o.id===t.course.id);s>-1&&this.mainSectionData.courses.splice(s,1,t.course)}}).listen(".deleteCourse",t=>{if(console.log("data :>> ",t),this.mainSection==="class"){let s=this.mainSectionData.courses.findIndex(o=>o.id===t.courseId);s>-1&&this.mainSectionData.courses.splice(s,1)}})},classUnlisten(e){Echo.leaveChannel(`youredu.class.${e}`)},courseListen(e){Echo.private(`youredu.course.${e}`).listen(".newComment",t=>{console.log("comment :>> ",t),this["dashboard/newComment"](t)}).listen(".deleteComment",t=>{console.log("comment :>> ",t),this["dashboard/removeComment"](t)}).listen(".updateComment",t=>{console.log("comment :>> ",t),this["dashboard/updateComment"](t)}).listen(".updateCourse",t=>{console.log("data :>> ",t)}).listen(".deleteCourse",t=>{console.log("data :>> ",t)})},courseUnlisten(e){Echo.leaveChannel(`youredu.course.${e}`)},async deleteAccountItem(e){console.log("item :>> ",e);let t,s,o={action:e.action};this.computedSchoolAdmin&&(o.adminId=this.computedSchoolAdmin.id),e.type==="class"?s=`${e.type}es`:s=`${e.type}s`,this["dashboard/getAccountDetails"][s]&&(o.hasAttribute=!0),e.type==="class"?(o.classId=e.data.id,t=await this["dashboard/deleteClass"](o)):e.type==="course"?(o.courseId=e.data.id,t=await this["dashboard/deleteCourse"](o)):e.type==="extracurriculum"?(o.extracurriculumId=e.data.id,t=await this["dashboard/deleteExtracurriculum"](o)):e.type==="lesson"?(o.lessonId=e.data.id,t=await this["dashboard/deleteLesson"]({data:o,items:e.data.items})):e.type==="program"?(o.programId=e.data.id,t=await this["dashboard/deleteProgram"](o)):e.type==="collaboration"?(o.collaborationId=e.data.id,o.account=e.data.addedby.account,o.accountId=e.data.addedby.accountId,t=await this["dashboard/deleteCollaboration"](o)):e.type==="assessment"&&(o.assessmentId=e.data.id,o.account=e.data.addedby.account,o.accountId=e.data.addedby.accountId,t=await this["dashboard/deleteAssessment"](o)),t.status?this.emitEventsListeners({data:t.data?t.data:e.data.id,action:t.action,type:e.type}):console.log("response :>> ",t)},emitEventsListeners(e){let t=this.getEventName(e.action,e.type);this.emitter.emit(t,e.data)},getEventName(e,t){return`${e}${t.charAt(0).toUpperCase()}${t.slice(1)}`},async unattachAccount(e){let t,s={account:e.account,accountId:e.accountId};t=await this["dashboard/unattachAccount"](s),t.status||console.log("response :>> ",t)},clickedDashboardItem(e){e.heading==="classes"?this.mainSection="class":e.heading==="learners"?this.mainSection="learner":e.heading==="schools"?this.mainSection="school":e.heading==="courses"&&(this.mainSection="course"),this.getMainSectionData(e.data)},clickedAction(e){if(e==="requests"){this.showOptionalActions=!0;return}this.showInvitationModal=!0},clickedOptionalAction(e){this.showOptionalActions=!1,e==="send request"?this.showInvitationModal=!0:e==="view requests"&&(this.actionRequests="view",this.showRequests=!0)},successfullyEdited(e){this.mainSectionData=e},closeCreateModal(){this.showCreateModal="",this.createModalEdit=""},clickedEditSomething(e){this.createModalEdit=e,this.showCreateModal=e},async deleteAccountAttachments(e){let t,s={account:this.mainSectionData?this.mainSection:this.computedCurrentAccount.account,accountId:this.mainSectionData?this.mainSectionData.id:this.computedCurrentAccount.accountId,item:e?e.account:this.smallModalData.data.type.slice(0,this.smallModalData.data.type.length-1),itemId:e?e.accountId:this.smallModalData.data.data.id,mainSection:!!this.mainSectionData};if(t=await this["dashboard/deleteAccountAttachments"](s),t.status){if(s.mainSection){let o=this.mainSectionData[this.smallModalData.data.type].findIndex(i=>{if(i.data)return i.data.id===this.smallModalData.data.data.id});o>-1&&this.mainSectionData[this.smallModalData.data.type].splice(o,1)}}else console.log("response :>> ",t)},async getMainSectionData(e){let t,s={item:this.mainSection,itemId:e.id};this.mainSectionLoading=!0,t=await this["dashboard/getSectionItemData"](s),this.mainSectionLoading=!1,t.status?(this.mainSectionData=t.mainSectionData,this.getMainSectionComments()):console.log("response :>> ",t)},async getMainSectionComments(){let e=await this.getComments();e.hasOwnProperty("next")&&!e.next?this.commentsNextPage=null:e.hasOwnProperty("next")&&(this.commentsNextPage+=1)},async getComments(){let e,t={item:this.mainSection,itemId:this.mainSectionData.id,nextPage:this.commentsNextPage};if(this.mainSectionCommentsLoading=!0,e=await this["dashboard/getSectionItemComments"](t),this.mainSectionCommentsLoading=!1,e.status)return{next:e.next};console.log("response :>> ",e)},async commentsInfiniteLoader(e){if(this.commentsNextPage===null){e.complete();return}let t=await this.getComments();t.hasOwnProperty("next")&&!t.next?this.commentsNextPage=null:t.hasOwnProperty("next")&&(this.commentsNextPage+=1)},dashboardCommentCreated(e){this.mainSectionComments.unshift(e)},clickedCommentMedia(){this.$emit("clickedMedia",data)},commentDeleteSuccess(e){let t=this.mainSectionComments.findIndex(s=>s.id==e.commentId);t>-1&&this.mainSectionComments.splice(t,1)},postModalCommentEdited(e){let t=this.mainSectionComments.findIndex(s=>s.id==e.id);t>-1&&(this.mainSectionComments.splice(t,1),this.mainSectionComments.unshift(e))},async getUsersForAdmin(){let e=await this.getUsers();e.hasOwnProperty("next")&&!e.next?this.usersNextPage=null:e.hasOwnProperty("next")&&(this.usersNextPage+=1)},async getUsers(){let e,t={account:this.account.account,accountId:this.account.accountId,nextPage:this.usersNextPage};if(e=await this["dashboard/fetchUsers"](t),e.status)return{next:e.next};console.log("response :>> ",e)},async usersInfiniteLoader(e){if(this.usersNextPage===null){e.complete();return}let t=await this.getUsers();t.hasOwnProperty("next")&&!t.next?this.usersNextPage=null:t.hasOwnProperty("next")&&(this.usersNextPage+=1)},async getAccountsForAdmin(){let e=await this.getAccounts();e.hasOwnProperty("next")&&!e.next?this.accountsNextPage=null:e.hasOwnProperty("next")&&(this.accountsNextPage+=1)},async getAccounts(){let e,t={account:this.account.account,accountId:this.account.accountId,nextPage:this.accountsNextPage};if(this.usersLoading=!0,e=await this["dashboard/fetchAccounts"](t),this.usersLoading=!1,e.status)return{next:e.next};console.log("response :>> ",e)},async accountsInfiniteLoader(e){if(this.accountsNextPage===null){e.complete();return}let t=await this.getAccounts();t.hasOwnProperty("next")&&!t.next?this.accountsNextPage=null:t.hasOwnProperty("next")&&(this.accountsNextPage+=1)},banTypeSelection(e){this.banType=e},banSelection(e){this.ban=e},async getAdminsForAdmin(){let e=await this.getAdmins();e.hasOwnProperty("next")&&!e.next?this.adminsNextPage=null:e.hasOwnProperty("next")&&(this.adminsNextPage+=1)},async getAdmins(){let e,t={account:this.account.account,accountId:this.account.accountId,nextPage:this.adminsNextPage};if(this.adminsLoading=!0,e=await this["dashboard/fetchAdmins"](t),this.adminsLoading=!1,e.status)return{next:e.next};console.log("response :>> ",e)},async adminsInfiniteLoader(e){if(this.adminsNextPage===null){e.complete();return}let t=await this.getAdmins();t.hasOwnProperty("next")&&!t.next?this.adminsNextPage=null:t.hasOwnProperty("next")&&(this.adminsNextPage+=1)},async banUser(){if(this.smallModalData.type==="ban"&&!this.banType.length){this.smallModalTitle="please select a type before continuing";return}else if(this.smallModalData.type==="unban"&&!this.ban){this.smallModalTitle="please select a ban before continuing";return}let e,t={action:this.smallModalData.type,adminId:this.computedCurrentAccount.accountId,account:this.smallModalData.data.username?"user":this.smallModalData.data.account,accountId:this.smallModalData.data.username?this.smallModalData.data.id:this.smallModalData.data.accountId};this.smallModalData.type==="ban"?(t.state="served",t.type=this.banType):this.smallModalData.type==="unban"&&(t.banId=this.ban.id),e=await this["dashboard/banUser"](t),e.status||console.log("response :>> ",e)},clickedMainSectionBack(){this.mainSection=""},clickedMainSection(){this.barSmall||this.$emit("clickedMainSection")},clickedSectionIcon(e){this.showSelection===e?this.showSelection="":this.showSelection=e},clickedPostButton(e){e===`${this.type} info`?this.activePostButton="info":e==="create class"||e==="create course"||e==="create extracurriculum"||e==="create lesson"||e==="create program"?(this.createModalEdit="",this.showCreateModal=e.substr(7),this.activePostButton=e):(this.activePostButton=e,this.$emit("clickedPostButton",{type:this.type,data:e}))},clickedAccount(e){this.$emit("clickedAccount",{type:"account",account:e.params})},clickedAccountProfile(e){this.showSelection==="parents"&&(this.subSelection.length?this.subSelection="":this.subSelection="parent")},clickedWard(e){this.showWardModal=!0,this.ward=e},async getAccountDetails(e){if(this.computedCurrentAccount&&this.computedCurrentAccount.account==e.account&&this.computedCurrentAccount.accountId==e.accountId)return;this.loading=!0,this.activePostButton="info";let t,s={account:e.account,accountId:e.accountId,owner:!0};t=await this["dashboard/getDashboardAccountDetails"](s),t.status?this.account.account==="admin"&&(this.getUsersForAdmin(),this.computedAccountDetails.role==="SUPERADMIN"&&this.getAdminsForAdmin(),this.getAccountsForAdmin()):console.log("response :>> ",t),this.loading=!1},clickedUsername(){this.$emit("clickedAccount",{type:"user"})}}},Uo=e=>(gs("data-v-8f8fbf40"),e=e(),vs(),e),Uae={class:"dashboard-header"},Bae=Uo(()=>h("div",{class:"youredu"},"YourEdu",-1)),jae={key:0,class:"user"},Vae={key:0,class:"dropdown-section"},qae=Uo(()=>h("div",{class:"item"}," name ",-1)),Hae=Uo(()=>h("div",{class:"item"}," logout ",-1)),Wae=[qae,Hae],zae={class:"heading"},Gae={key:0,class:"title"},Yae={key:1,class:"title"},Qae={class:"main-title"},Kae={key:0,class:"loading"},Jae={key:1,class:"action-buttons"},Xae=Uo(()=>h("div",{class:"main-title"}," selections ",-1)),$ae={key:0,class:"loading"},Zae={key:1,class:"selection-badges"},ere={key:0,class:"info"},tre={key:1,class:"main-title"},sre={key:2,class:"loading"},nre={key:3,class:"user-info"},ire={class:"body"},ore={class:"info-item"},are=Uo(()=>h("div",{class:"label"},"first name:",-1)),rre={class:"value"},lre={class:"info-item"},cre=Uo(()=>h("div",{class:"label"},"last name:",-1)),ure={class:"value"},dre={class:"info-item"},hre=Uo(()=>h("div",{class:"label"},"other names:",-1)),fre={class:"value"},mre={class:"info-item"},pre=Uo(()=>h("div",{class:"label"},"email:",-1)),gre={class:"value"},vre={class:"info-item"},yre=Uo(()=>h("div",{class:"label"},"gender:",-1)),wre={class:"value"},_re={class:"info-item"},bre=Uo(()=>h("div",{class:"label"},"dob:",-1)),kre={class:"value"},Are={class:"accounts"},Cre=Uo(()=>h("div",{class:"title"}," these are your user accounts ",-1)),Sre={key:4,class:"account-info"},Ire={class:"top"},Tre={slot:"image"},Dre=["src"],xre={class:"other"},Pre={class:"name"},Mre={class:"type"},Ere={class:"middle"},Ore={class:"section"},Rre={slot:"body"},Nre={class:"sub-main"},Lre={class:"table"},Fre=Uo(()=>h("thead",null,[h("tr",null,[h("th",null,"name"),h("th",null,"type"),h("th",null,"date")])],-1)),Ure=["onClick"],Bre={key:0,class:"no-ward"},jre={slot:"body"},Vre={class:"sub-main"},qre={key:0,class:"no-ward"},Hre={slot:"bottom"},Wre={slot:"body"},zre={class:"sub-main"},Gre={key:0,class:"no-ward"},Yre={slot:"bottom"},Qre={slot:"body"},Kre={class:"sub-main"},Jre={key:0,class:"no-ward"},Xre={slot:"bottom"},$re={slot:"body"},Zre={class:"sub-main"},ele={key:0,class:"no-ward"},tle={slot:"bottom"},sle={slot:"body"},nle={class:"sub-main"},ile={key:0,class:"no-ward"},ole={slot:"bottom"},ale={slot:"body"},rle={class:"sub-main"},lle={key:0,class:"no-ward"},cle={slot:"bottom"},ule={slot:"body"},dle={class:"sub-main"},hle={key:0,class:"no-ward"},fle={slot:"bottom"},mle={slot:"body"},ple={class:"sub-main"},gle={key:0,class:"no-ward"},vle={slot:"bottom"},yle={slot:"body"},wle={class:"sub-main"},_le={key:0,class:"no-ward"},ble={slot:"bottom"},kle={slot:"body"},Ale={class:"sub-main"},Cle={key:0,class:"no-ward"},Sle={slot:"bottom"},Ile={slot:"body"},Tle={class:"sub-main"},Dle={key:0,class:"no-ward"},xle={slot:"bottom"},Ple={slot:"body"},Mle={class:"sub-main"},Ele={key:0,class:"no-ward"},Ole={slot:"bottom"},Rle={slot:"body"},Nle={class:"sub-main"},Lle={key:0,class:"no-ward"},Fle={slot:"bottom"},Ule={slot:"body"},Ble={class:"sub-main long"},jle={key:0,class:"no-ward"},Vle={slot:"body"},qle={class:"sub-main long"},Hle={key:0,class:"no-ward"},Wle={slot:"body"},zle={class:"sub-main"},Gle={key:0,class:"no-ward"},Yle={slot:"bottom"},Qle={slot:"body"},Kle={class:"sub-main"},Jle={key:0,class:"no-ward"},Xle={slot:"bottom"},$le={slot:"body"},Zle={class:"sub-main"},ece={key:0,class:"no-ward"},tce={slot:"bottom"},sce={slot:"body"},nce={class:"sub-main"},ice={key:0,class:"no-ward"},oce={slot:"bottom"},ace={slot:"body"},rce={class:"sub-main"},lce={key:0,class:"no-ward"},cce={slot:"bottom"},uce={slot:"body"},dce={class:"sub-main"},hce={key:0,class:"no-ward"},fce={slot:"bottom"},mce={slot:"body"},pce={class:"sub-main"},gce={key:0,class:"no-ward"},vce={slot:"bottom"},yce={slot:"body"},wce={class:"sub-main"},_ce={key:0,class:"no-ward"},bce={slot:"bottom"},kce={slot:"body"},Ace={class:"sub-main"},Cce={key:0,class:"no-ward"},Sce={slot:"bottom"},Ice={slot:"body"},Tce={class:"sub-main"},Dce={key:0,class:"no-ward"},xce={slot:"bottom"},Pce={slot:"body"},Mce={class:"sub-main"},Ece={key:0,class:"no-ward"},Oce={slot:"bottom"},Rce={slot:"body"},Nce={class:"sub-main"},Lce={key:0,class:"no-ward"},Fce={slot:"bottom"},Uce={key:0,class:"main"},Bce={key:4,class:"main-section"},jce={key:0,class:"loading"},Vce={key:1,class:"section"},qce={slot:"body"},Hce={class:"actions"},Wce={key:0,class:"comments-section"},zce={key:1,class:"no-data"},Gce=Uo(()=>h("div",{class:"dashboard-footer"},"footer(give some info)",-1)),Yce=["onClick"],Qce={class:"main"},Kce={key:0,class:"due"},Jce={class:"info"};function Xce(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("pulse-loader"),m=_("post-button"),v=_("dashboard-item-badge"),g=_("action-button"),A=_("optional-actions"),D=_("account-info"),E=_("profile-picture"),T=_("dashboard-sub-section"),N=_("dashboard-section-account"),F=_("dashboard-action-button"),R=_("infinite-loading"),j=_("fade-right"),W=_("dashboard-main-section"),Q=_("add-comment"),le=_("comment-single"),me=_("ward-modal"),k=_("dashboard-request-modal"),Ce=_("attachment-modal"),he=_("create-class"),Ke=_("create-assessment"),Te=_("create-lesson"),Ve=_("create-extracurriculum"),ut=_("create-collaboration"),de=_("create-program"),We=_("create-course"),Qt=_("activity-modal"),Lt=_("invitation-modal"),wt=_("edit-profile"),Je=_("lesson-modal"),Xe=_("dashboard-item-modal"),tt=_("view-account-items"),At=_("view-comments"),Ct=_("post-modal"),ls=_("modal-switcher"),Ut=_("small-modal"),qt=_("fade-up");return a(),d("div",{class:we(["dashboard-section",{dashboardShift:!s.barSmall}]),onClick:t[16]||(t[16]=(...ce)=>n.clickedMainSection&&n.clickedMainSection(...ce))},[h("div",Uae,[Bae,n.computedUserName.length?(a(),d("div",jae,[h("div",{class:"username",onClick:t[0]||(t[0]=(...ce)=>n.clickedUsername&&n.clickedUsername(...ce))},V(`@${n.computedUserName}`),1),h("div",{class:"dropdown-icon",onClick:t[1]||(t[1]=(...ce)=>n.clickedHeaderDropdown&&n.clickedHeaderDropdown(...ce))},[b(r,{icon:["fa","chevron-down"]})]),i.showHeaderDropdown?(a(),d("div",Vae,Wae)):c("",!0)])):c("",!0)]),i.mainSection.length?c("",!0):(a(),d("div",{key:0,class:we(["top-section mt-8",{full:i.full}])},[h("div",zae,V(`welcome ${e.getUser.fullName} to your dashboard.`),1),s.type==="user"?(a(),d("div",Gae," user information ")):c("",!0),s.type==="account"?(a(),d("div",Yae," account information ")):c("",!0)],2)),i.mainSection.length?c("",!0):(a(),d("div",{key:1,class:we(["middle-section",{full:i.full}])},[h("div",Qae,V(s.type.length?"what you can do":"nothing to do?"),1),i.loading?(a(),d("div",Kae,[b(f,{loading:i.loading},null,8,["loading"])])):c("",!0),!i.loading&&(s.type==="account"||s.type==="user")?(a(),d("div",Jae,[s.type==="user"?(a(),S(m,{key:0,buttonText:`${s.type} info`,onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="info"},null,8,["buttonText","onClick","active"])):c("",!0),s.type==="user"?(a(),S(m,{key:1,buttonText:"edit user info",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="edit user info"},null,8,["onClick","active"])):c("",!0),s.type==="user"?(a(),S(m,{key:2,buttonText:"create account",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="create account"},null,8,["onClick","active"])):c("",!0),s.account&&s.account.account==="learner"?(a(),S(m,{key:3,buttonText:"join school",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="join school"},null,8,["onClick","active"])):c("",!0),s.account&&s.account.account==="learner"?(a(),S(m,{key:4,buttonText:"join class",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="join class"},null,8,["onClick","active"])):c("",!0),s.account&&s.account.account!=="school"?(a(),S(m,{key:5,buttonText:"join program",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="join program"},null,8,["onClick","active"])):c("",!0),s.type==="account"?(a(),S(m,{key:6,buttonText:"make lesson",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="make lesson"},null,8,["onClick","active"])):c("",!0),s.account&&s.account.account==="learner"?(a(),S(m,{key:7,buttonText:"join extracurriculum",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="join extracurriculum"},null,8,["onClick","active"])):c("",!0),s.account&&s.account.account!=="school"?(a(),S(m,{key:8,buttonText:"take course",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="take course"},null,8,["onClick","active"])):c("",!0),s.type==="account"?(a(),S(m,{key:9,buttonText:"join discussion",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="join discussion"},null,8,["onClick","active"])):c("",!0),s.account&&(s.account.account==="facilitator"||s.account.account==="professional"||s.account.account==="school")?(a(),S(m,{key:10,buttonText:"create course",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="create course"},null,8,["onClick","active"])):c("",!0),s.account&&(s.account.account==="facilitator"||s.account.account==="school")?(a(),S(m,{key:11,buttonText:"create class",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="create class"},null,8,["onClick","active"])):c("",!0),s.account&&s.account.account==="school"?(a(),S(m,{key:12,buttonText:"create academic year",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="create academic year"},null,8,["onClick","active"])):c("",!0),s.account&&(s.account.account==="facilitator"||s.account.account==="professional"||s.account.account==="school")?(a(),S(m,{key:13,buttonText:"create extracurriculum",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="create extracurriculum"},null,8,["onClick","active"])):c("",!0),s.account&&(s.account.account==="facilitator"||s.account.account==="school")?(a(),S(m,{key:14,buttonText:"create user/account for others",onClick:n.clickedPostButton,class:"post-button",active:i.activePostButton==="create user/account for others"},null,8,["onClick","active"])):c("",!0)])):c("",!0)],2)),s.type==="account"&&s.account.account!=="admin"&&!i.mainSection.length?(a(),d("div",{key:2,class:we(["middle-section",{full:i.full}])},[Xae,i.loading?(a(),d("div",$ae,[b(f,{loading:i.loading},null,8,["loading"])])):c("",!0),i.loading?c("",!0):(a(),d("div",Zae,[s.account.account!=="school"?(a(),S(v,{key:0,class:"dashboard-badge",hasItems:!0,hasSearch:!0,heading:"schools",items:n.computedSchools,onClickedItem:n.clickedDashboardItem},null,8,["items","onClickedItem"])):c("",!0),s.account.account==="facilitator"||s.account.account==="professional"||s.account.account==="learner"?(a(),S(v,{key:1,class:"dashboard-badge",hasItems:!0,hasSearch:!0,heading:"classes",items:n.computedClasses,onClickedItem:n.clickedDashboardItem},null,8,["items","onClickedItem"])):c("",!0),s.account.account==="learner"?(a(),S(v,{key:2,class:"dashboard-badge",hasItems:!0,hasSearch:!0,heading:"extracurriculum",items:n.computedExtracurriculums,onClickedItem:n.clickedDashboardItem},null,8,["items","onClickedItem"])):c("",!0),s.account.account!=="school"?(a(),S(v,{key:3,class:"dashboard-badge",hasItems:!0,hasSearch:!0,heading:"courses",items:n.computedCourses,onClickedItem:n.clickedDashboardItem},null,8,["items","onClickedItem"])):c("",!0),s.account.account==="learner"?(a(),S(v,{key:4,class:"dashboard-badge",hasItems:!0,hasSearch:!0,heading:"programs",items:n.computedPrograms,onClickedItem:n.clickedDashboardItem},null,8,["items","onClickedItem"])):c("",!0)]))],2)):c("",!0),i.mainSection.length?c("",!0):(a(),d("div",{key:3,class:we(["bottom-section",{"mt-8":i.full}])},[!i.loading&&!s.type.length?(a(),d("div",ere," Yaay...get active by clicking any of your community accounts ")):c("",!0),n.computedBottomTitle.length?(a(),d("div",tre,[Mt(V(n.computedBottomTitle)+" ",1),h("div",{class:"icon",onClick:t[2]||(t[2]=ce=>i.full=!i.full)},[i.full?(a(),S(r,{key:0,icon:["fa","chevron-down"]})):c("",!0),i.full?c("",!0):(a(),S(r,{key:1,icon:["fa","chevron-up"]}))]),s.account&&s.account.account==="school"?(a(),S(g,{key:0,class:"view-requests",text:"requests",onClick:n.clickedAction},null,8,["onClick"])):c("",!0),s.account&&s.account.account!=="school"&&s.account.account!=="admin"?(a(),S(g,{key:1,class:"view-requests",text:"send request",onClick:n.clickedAction},null,8,["onClick"])):c("",!0),i.showOptionalActions?(a(),S(A,{key:2,show:i.showOptionalActions,hasOthers:!0,others:["view requests","send request"],onClickedOption:n.clickedOptionalAction,class:"optional-actions"},null,8,["show","onClickedOption"])):c("",!0)])):c("",!0),i.loading?(a(),d("div",sre,[b(f,{loading:i.loading},null,8,["loading"])])):c("",!0),s.type==="user"?(a(),d("div",nre,[h("div",ire,[h("div",ore,[are,h("div",rre,V(e.getUser.first_name),1)]),h("div",lre,[cre,h("div",ure,V(e.getUser.last_name),1)]),h("div",dre,[hre,h("div",fre,V(e.getUser.other_names),1)]),h("div",mre,[pre,h("div",gre,V(e.getUser.email),1)]),h("div",vre,[yre,h("div",wre,V(e.getUser.gender),1)]),h("div",_re,[bre,h("div",kre,V(n.computedDob),1)])]),h("div",Are,[Cre,(a(!0),d(Z,null,pe(e.getProfiles,ce=>(a(),S(D,{class:"account-info",key:ce.account+ce.accountId,onClick:xe=>n.clickedAccount(ce),name:ce.name,type:ce.account},null,8,["onClick","name","type"]))),128))])])):c("",!0),!i.loading&&s.type==="account"?(a(),d("div",Sre,[h("div",Ire,[s.account.account!=="admin"?(a(),S(E,{key:0,class:"profile-picture"},{default:z(()=>[h("template",Tre,[h("img",{src:n.computedAccountDetails.url},null,8,Dre)])]),_:1})):c("",!0),h("div",xre,[h("div",Pre,V(n.computedAccountDetails.name),1),h("div",Mre,V(n.computedAccountDetails.account),1)])]),h("div",Ere,[h("div",Ore,[s.account.account==="parent"?(a(),S(T,{key:0,subText:"wards"},{default:z(()=>[h("template",Rre,[h("div",Nre,[h("table",Lre,[Fre,h("tbody",null,[(a(!0),d(Z,null,pe(n.computedAccountDetailsWards,(ce,xe)=>(a(),d("tr",{key:xe,onClick:it=>n.clickedWard(ce)},[h("th",null,V(ce.name),1),h("th",null,V(ce.role),1),h("th",null,V(n.getReadableDate(ce.parentingCreatedAt)),1)],8,Ure))),128))])]),!n.computedAccountDetailsWards||!n.computedAccountDetailsWards.length?(a(),d("div",Bre,V(`has no other ${i.showSelection}`),1)):c("",!0)])])]),_:1})):c("",!0),s.account.account==="school"?(a(),d(Z,{key:1},[n.computedCurrentAccount.account==="school"?(a(),S(T,{key:0,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"admins"},{default:z(()=>[h("template",jre,[h("div",Vre,[(a(!0),d(Z,null,pe(n.computedSchoolAdmins,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"admin",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolAdmins||!n.computedSchoolAdmins.length?(a(),d("div",qre," no admins ")):c("",!0)])]),h("template",Hre,[b(F,{class:"add-another",text:"add admin",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"grades"},{default:z(()=>[h("template",Wre,[h("div",zre,[(a(!0),d(Z,null,pe(n.computedSchoolGrades,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"grade",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolGrades||!n.computedSchoolGrades.length?(a(),d("div",Gre," no grades ")):c("",!0)])]),h("template",Yre,[b(F,{class:"add-another",text:"add grade",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"subjects"},{default:z(()=>[h("template",Qre,[h("div",Kre,[(a(!0),d(Z,null,pe(n.computedSchoolSubjects,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"subject",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolSubjects||!n.computedSchoolSubjects.length?(a(),d("div",Jre," no subjects ")):c("",!0)])]),h("template",Xre,[b(F,{class:"add-another",text:"add subject",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned programs"},{default:z(()=>[h("template",$re,[h("div",Zre,[(a(!0),d(Z,null,pe(n.computedOwnedPrograms,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned program",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedOwnedPrograms||!n.computedOwnedPrograms.length?(a(),d("div",ele," no programs ")):c("",!0)])]),h("template",tle,[b(F,{class:"add-another",text:"add program",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned classes"},{default:z(()=>[h("template",sle,[h("div",nle,[(a(!0),d(Z,null,pe(n.computedOwnedClasses,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned class",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedOwnedClasses||!n.computedOwnedClasses.length?(a(),d("div",ile," no classes ")):c("",!0)])]),h("template",ole,[b(F,{class:"add-another",text:"add class",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned courses"},{default:z(()=>[h("template",ale,[h("div",rle,[(a(!0),d(Z,null,pe(n.computedOwnedCourses,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned course",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedOwnedCourses||!n.computedOwnedCourses.length?(a(),d("div",lle," no courses ")):c("",!0)])]),h("template",cle,[b(F,{class:"add-another",text:"add course",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned extracurriculums"},{default:z(()=>[h("template",ule,[h("div",dle,[(a(!0),d(Z,null,pe(n.computedOwnedExtracurriculums,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned extracurriculum",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedOwnedExtracurriculums||!n.computedOwnedExtracurriculums.length?(a(),d("div",hle," no extracurriculums ")):c("",!0)])]),h("template",fle,[b(F,{class:"add-another",text:"add extracurriculum",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"facilitators"},{default:z(()=>[h("template",mle,[h("div",ple,[(a(!0),d(Z,null,pe(n.computedSchoolFacilitators,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"facilitator",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolFacilitators||!n.computedSchoolFacilitators.length?(a(),d("div",gle," no facilitators ")):c("",!0)])]),h("template",vle,[b(F,{class:"add-another",text:"add facilitator",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"professionals"},{default:z(()=>[h("template",yle,[h("div",wle,[(a(!0),d(Z,null,pe(n.computedSchoolProfessionals,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"professional",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolProfessionals||!n.computedSchoolProfessionals.length?(a(),d("div",_le," no professionals ")):c("",!0)])]),h("template",ble,[b(F,{class:"add-another",text:"add professional",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"learners"},{default:z(()=>[h("template",kle,[h("div",Ale,[(a(!0),d(Z,null,pe(n.computedSchoolLearners,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"learner",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolLearners||!n.computedSchoolLearners.length?(a(),d("div",Cle," no learners ")):c("",!0)])]),h("template",Sle,[b(F,{class:"add-another",text:"add learner",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"parents"},{default:z(()=>[h("template",Ile,[h("div",Tle,[(a(!0),d(Z,null,pe(n.computedSchoolParents,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"parent",account:ce,admin:n.computedSchoolAuthority,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","admin","onClickedDashboardActionButton"]))),128)),!n.computedSchoolParents||!n.computedSchoolParents.length?(a(),d("div",Dle," no parents ")):c("",!0)])]),h("template",xle,[b(F,{class:"add-another",text:"add parent",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"collaborations"},{default:z(()=>[h("template",Ple,[h("div",Mle,[(a(!0),d(Z,null,pe(n.computedCollaborations,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"collaboration",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedCollaborations||!n.computedCollaborations.length?(a(),d("div",Ele," no collaborations ")):c("",!0)])]),h("template",Ole,[b(F,{class:"add-another",text:"add collaboration",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])],64)):c("",!0),s.account.account==="admin"?(a(),d(Z,{key:2},[n.computedAccountDetails.role==="SUPERADMIN"?(a(),S(T,{key:0,subText:"admins"},{default:z(()=>[h("template",Rle,[h("div",Nle,[(a(!0),d(Z,null,pe(n.computedAdmins,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"youredu admin",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedAdmins||!n.computedAdmins.length?(a(),d("div",Lle," no admins ")):c("",!0)])]),h("template",Fle,[b(F,{class:"add-another",text:"add admin",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1})):c("",!0),b(T,{subText:"users"},{default:z(()=>[h("template",Ule,[h("div",Ble,[(a(!0),d(Z,null,pe(n.computedUsers,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"user",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedUsers||!n.computedUsers.length?(a(),d("div",jle," no users ")):c("",!0),i.usersNextPage!==1?(a(),S(R,{key:1,onInfinite:n.usersInfiniteLoader},null,8,["onInfinite"])):c("",!0)])])]),_:1}),b(T,{subText:"accounts",inactive:!i.accountsLoading&&i.accountsNextPage===1,"infinite-wrapper":""},{default:z(()=>[h("template",Vle,[h("div",qle,[(a(!0),d(Z,null,pe(n.computedAccounts,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"account",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedAccounts||!n.computedAccounts.length?(a(),d("div",Hle," no accounts ")):c("",!0),i.accountsNextPage!==1?(a(),S(R,{key:1,onInfinite:n.accountsInfiniteLoader,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)])])]),_:1},8,["inactive"])],64)):c("",!0),s.account.account==="learner"?(a(),S(T,{key:3,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"lessons"},{default:z(()=>[h("template",Wle,[h("div",zle,[(a(!0),d(Z,null,pe(n.computedAccountLessons,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"lesson",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedAccountLessons||!n.computedAccountLessons.length?(a(),d("div",Gle," no lessons ")):c("",!0)])]),h("template",Yle,[b(F,{class:"add-another",text:"add lesson",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),s.account.account==="facilitator"||s.account.account==="professional"?(a(),d(Z,{key:4},[b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"assessments"},{default:z(()=>[h("template",Qle,[h("div",Kle,[(a(!0),d(Z,null,pe(n.computedAccountAssessments,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"assessment",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedAccountAssessments||!n.computedAccountAssessments.length?(a(),d("div",Jle," no assessments ")):c("",!0)])]),h("template",Xle,[b(F,{class:"add-another",text:"add assessment",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"lessons"},{default:z(()=>[h("template",$le,[h("div",Zle,[(a(!0),d(Z,null,pe(n.computedAccountLessons,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"lesson",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedAccountLessons||!n.computedAccountLessons.length?(a(),d("div",ece," no lessons ")):c("",!0)])]),h("template",tce,[b(F,{class:"add-another",text:"add lesson",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),s.account.account==="facilitator"?(a(),S(T,{key:0,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"subjects"},{default:z(()=>[h("template",sce,[h("div",nce,[(a(!0),d(Z,null,pe(n.computedSubjects,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"subject",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedSubjects||!n.computedSubjects.length?(a(),d("div",ice," no subjects ")):c("",!0)])]),h("template",oce,[b(F,{class:"add-another",text:"add subject",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),s.account.account==="facilitator"?(a(),S(T,{key:1,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"curricula"},{default:z(()=>[h("template",ace,[h("div",rce,[(a(!0),d(Z,null,pe(n.computedCurricula,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"curriculum",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedCurricula||!n.computedCurricula.length?(a(),d("div",lce," no curricula ")):c("",!0)])]),h("template",cce,[b(F,{class:"add-another",text:"add curriculum",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),s.account.account==="facilitator"?(a(),S(T,{key:2,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned classes"},{default:z(()=>[h("template",uce,[h("div",dce,[(a(!0),d(Z,null,pe(n.computedOwnedClasses,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned class",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedOwnedClasses||!n.computedOwnedClasses.length?(a(),d("div",hce," no classes ")):c("",!0)])]),h("template",fce,[b(F,{class:"add-another",text:"add class",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),s.account.account==="professional"?(a(),S(T,{key:3,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"schedules"},{default:z(()=>[h("template",mce,[h("div",pce,[(a(!0),d(Z,null,pe(n.computedSchedules,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"schedule",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedSchedules||!n.computedSchedules.length?(a(),d("div",gce," no schedules ")):c("",!0)])]),h("template",vce,[b(F,{class:"add-another",text:"add schedule",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),s.account.account==="professional"?(a(),S(T,{key:4,onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"counselling sections"},{default:z(()=>[h("template",yce,[h("div",wce,[(a(!0),d(Z,null,pe(n.computedCounselling,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"counselling",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedCounselling||!n.computedCounselling.length?(a(),d("div",_ce," no counselling sections ")):c("",!0)])]),h("template",bce,[b(F,{class:"add-another",text:"add counselling",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])):c("",!0),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned courses"},{default:z(()=>[h("template",kce,[h("div",Ace,[(a(!0),d(Z,null,pe(n.computedOwnedCourses,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned course",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedOwnedCourses||!n.computedOwnedCourses.length?(a(),d("div",Cce," no courses ")):c("",!0)])]),h("template",Sce,[b(F,{class:"add-another",text:"add course",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned extracurriculums"},{default:z(()=>[h("template",Ice,[h("div",Tce,[(a(!0),d(Z,null,pe(n.computedOwnedExtracurriculums,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned extracurriculum",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedOwnedExtracurriculums||!n.computedOwnedExtracurriculums.length?(a(),d("div",Dce," no extracurriculums ")):c("",!0)])]),h("template",xce,[b(F,{class:"add-another",text:"add extracurriculum",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"owned programs"},{default:z(()=>[h("template",Pce,[h("div",Mce,[(a(!0),d(Z,null,pe(n.computedOwnedPrograms,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"owned program",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedOwnedPrograms||!n.computedOwnedPrograms.length?(a(),d("div",Ece," no programs ")):c("",!0)])]),h("template",Oce,[b(F,{class:"add-another",text:"add program",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"]),b(T,{onClickedDashboardActionButton:n.clickedDashboardActionButton,subText:"collaborations"},{default:z(()=>[h("template",Rce,[h("div",Nce,[(a(!0),d(Z,null,pe(n.computedCollaborations,(ce,xe)=>(a(),S(N,{class:"dashboard-section-account",key:xe,type:"collaboration",account:ce,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["account","onClickedDashboardActionButton"]))),128)),!n.computedCollaborations||!n.computedCollaborations.length?(a(),d("div",Lce," no collaborations ")):c("",!0)])]),h("template",Fce,[b(F,{class:"add-another",text:"add collaboration",icon:"plus",data:null,onClick:n.clickedDashboardActionButton},null,8,["onClick"])])]),_:1},8,["onClickedDashboardActionButton"])],64)):c("",!0),b(j,null,{default:z(()=>[i.showSelection?(a(),d("div",Uce,[(a(!0),d(Z,null,pe(n.computedAccountDetails.parents,ce=>(a(),S(D,{class:"account-info",key:ce.account+ce.accountId,onClick:xe=>n.clickedAccountProfile(ce),name:ce.name,url:ce.url,type:ce.role},null,8,["onClick","name","url","type"]))),128))])):c("",!0)]),_:1})])])])):c("",!0)],2)),i.mainSection.length?(a(),d("div",Bce,[i.mainSectionLoading?(a(),d("div",jce,[b(f,{loading:i.mainSectionLoading},null,8,["loading"])])):c("",!0),i.mainSectionLoading?c("",!0):(a(),d("div",Vce,[h("div",{class:"back",onClick:t[3]||(t[3]=(...ce)=>n.clickedMainSectionBack&&n.clickedMainSectionBack(...ce))},[b(r,{icon:["fa","long-arrow-alt-left"]})]),b(W,{type:i.mainSection,account:n.computedAccount,learner:n.computedMainLearner,facilitator:n.computedMainFacilitator,parent:n.computedMainParent,professional:n.computedMainProfessional,admin:n.computedMainAdmin,mainSectionData:i.mainSectionData,onClickedEditSomething:n.clickedEditSomething,onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["type","account","learner","facilitator","parent","professional","admin","mainSectionData","onClickedEditSomething","onClickedDashboardActionButton"]),i.mainSectionData?(a(),S(T,{key:0,subText:"comments"},{default:z(()=>[h("template",qce,[h("div",Hce,[b(Q,{what:i.mainSection,id:n.computedIdMainSection,showAddComment:!0,account:n.computedCurrentSectionAccount,schoolAdmin:n.computedSchoolAdmin,onDashboardCommentCreated:n.dashboardCommentCreated},null,8,["what","id","account","schoolAdmin","onDashboardCommentCreated"])]),n.computedMainSectionComments?(a(),d("div",Wce,[(a(!0),d(Z,null,pe(n.computedMainSectionComments,ce=>(a(),S(le,{key:ce.id,comment:ce,dashboard:!0,account:n.computedCurrentSectionAccount,schoolAdmin:n.computedSchoolAdmin,onClickedMedia:n.clickedCommentMedia,onCommentDeleteSuccess:n.commentDeleteSuccess,onPostModalCommentEdited:n.postModalCommentEdited},null,8,["comment","account","schoolAdmin","onClickedMedia","onCommentDeleteSuccess","onPostModalCommentEdited"]))),128)),i.commentsNextPage!==1?(a(),S(R,{key:0,onInfinite:n.commentsInfiniteLoader},null,8,["onInfinite"])):c("",!0)])):(a(),d("div",zce," no comments yet "))])]),_:1})):c("",!0)]))])):c("",!0),Gce,i.showWardModal?(a(),S(me,{key:5,show:i.showWardModal,ward:i.ward,onCloseWardModal:t[4]||(t[4]=ce=>i.showWardModal=!1)},null,8,["show","ward"])):c("",!0),i.showRequests?(a(),S(k,{key:6,show:i.showRequests,account:s.account,action:i.actionRequests,onRequestsModalDisappear:t[5]||(t[5]=ce=>i.showRequests=!1)},null,8,["show","account","action"])):c("",!0),i.showAttachmentModal?(a(),S(Ce,{key:7,show:i.showAttachmentModal,type:i.attachmentType,accountDetails:n.computedAccountDetails,onAttachmentSuccess:n.attachmentSuccess,onAttachmentModalDisappear:t[6]||(t[6]=ce=>n.closeModal("attachment"))},null,8,["show","type","accountDetails","onAttachmentSuccess"])):c("",!0),b(he,{show:i.showCreateModal==="class",onCloseCreateClass:n.closeCreateModal,editable:i.mainSectionData,mainSection:i.mainSection,schoolAdmin:n.computedSchoolAdmin,edit:i.createModalEdit==="class",onClassSuccessfullyEdited:n.successfullyEdited},null,8,["show","onCloseCreateClass","editable","mainSection","schoolAdmin","edit","onClassSuccessfullyEdited"]),b(Ke,{show:i.showCreateModal==="assessment",onCloseCreateAssessment:n.closeCreateModal,editable:i.mainSectionData,main:!0,mainSection:i.mainSection,schoolAdmin:n.computedSchoolAdmin,edit:i.createModalEdit==="assessment"},null,8,["show","onCloseCreateAssessment","editable","mainSection","schoolAdmin","edit"]),b(Te,{show:i.showCreateModal==="lesson",onCreateLessonDisappear:n.closeCreateModal,editable:i.mainSectionData,mainSection:i.mainSection,edit:i.createModalEdit==="lesson",onClassSuccessfullyEdited:n.successfullyEdited},null,8,["show","onCreateLessonDisappear","editable","mainSection","edit","onClassSuccessfullyEdited"]),b(Ve,{show:i.showCreateModal==="extracurriculum",onCloseCreateExtracurriculum:n.closeCreateModal,editable:i.mainSectionData,schoolAdmin:n.computedSchoolAdmin,edit:i.createModalEdit==="extracurriculum",onExtracurriculumSuccessfullyEdited:n.successfullyEdited},null,8,["show","onCloseCreateExtracurriculum","editable","schoolAdmin","edit","onExtracurriculumSuccessfullyEdited"]),b(ut,{show:i.showCreateModal==="collaboration",onCloseCreateCollaboration:n.closeCreateModal,editable:i.mainSectionData,mainSection:i.mainSection,schoolAdmin:n.computedSchoolAdmin,edit:i.createModalEdit==="collaboration",onCollaborationSuccessfullyEdited:n.successfullyEdited},null,8,["show","onCloseCreateCollaboration","editable","mainSection","schoolAdmin","edit","onCollaborationSuccessfullyEdited"]),b(de,{show:i.showCreateModal==="program",onCloseCreateProgram:n.closeCreateModal,editable:i.mainSectionData,mainSection:i.mainSection,schoolAdmin:n.computedSchoolAdmin,edit:i.createModalEdit==="program",onProgramSuccessfullyEdited:n.successfullyEdited},null,8,["show","onCloseCreateProgram","editable","mainSection","schoolAdmin","edit","onProgramSuccessfullyEdited"]),b(We,{show:i.showCreateModal==="course",onCloseCreateCourse:n.closeCreateModal,editable:i.mainSectionData,mainSection:i.mainSection,schoolAdmin:n.computedSchoolAdmin,edit:i.createModalEdit==="course",onCourseSuccessfullyEdited:n.successfullyEdited},null,8,["show","onCloseCreateCourse","editable","mainSection","schoolAdmin","edit","onCourseSuccessfullyEdited"]),i.showActivityModal?(a(),S(Qt,{key:8,show:i.showActivityModal,account:i.activitiesAccount,admin:n.computedAccountDetails,onActivityModalDisappear:t[7]||(t[7]=ce=>n.closeModal("activity")),onViewItem:n.viewItem},null,8,["show","account","admin","onViewItem"])):c("",!0),i.showInvitationModal?(a(),S(Lt,{key:9,show:i.showInvitationModal,account:s.account,wards:n.computedWards,admin:n.computedSchoolAdmin,type:i.invitationType,onInvitationDisappear:t[8]||(t[8]=ce=>i.showInvitationModal=!1)},null,8,["show","account","wards","admin","type"])):c("",!0),b(wt),b(Je,{show:i.viewDashboardItem==="lesson",onCloseLessonModal:t[9]||(t[9]=ce=>i.viewDashboardItem="")},null,8,["show"]),b(Xe,{show:i.viewDashboardItem==="item",onCloseDashboardItemModal:t[10]||(t[10]=ce=>i.viewDashboardItem="")},null,8,["show"]),b(tt,{show:i.viewMoreItems.length>0,item:i.viewMoreItems,onCloseViewAccountItems:t[11]||(t[11]=ce=>i.viewMoreItems=""),onClickedDashboardActionButton:n.clickedDashboardActionButton},null,8,["show","item","onClickedDashboardActionButton"]),i.itemType==="comment"||i.itemType==="answer"?(a(),S(At,{key:10,show:!0,itemData:i.itemData,onViewModalDisappear:n.closeItemViewModals},null,8,["itemData","onViewModalDisappear"])):c("",!0),i.itemType.length&&i.itemType==="post"||i.itemType==="question"||i.itemType==="activity"||i.itemType==="poem"||i.itemType==="riddle"||i.itemType==="book"?(a(),S(Ct,{key:11,show:!0,type:i.itemType,itemData:i.itemData,onMainModalDisappear:n.closeItemViewModals},null,8,["type","itemData","onMainModalDisappear"])):c("",!0),i.itemType==="discussion"||i.itemType==="class"||i.itemType==="course"||i.itemType==="lesson"?(a(),S(ls,{key:12,show:!0,itemData:i.itemData},null,8,["itemData"])):c("",!0),b(qt,null,{default:z(()=>[i.showSmallModal?(a(),S(Ut,{key:0,onDisappear:n.hideSmallModal,show:i.showSmallModal,class:"small-modal",title:i.smallModalTitle,main:i.smallModalMain,loading:i.smallModalLoading},{default:z(()=>[i.smallModalMain?c("",!0):(a(),d(Z,{key:0},[b(m,{buttonText:"yes",buttonStyle:"success",onClick:n.clickedSmallModalButton},null,8,["onClick"]),b(m,{buttonText:"no",buttonStyle:"danger",onClick:n.clickedSmallModalButton},null,8,["onClick"])],64)),i.smallModalMain&&!i.smallModalLoading?(a(),d(Z,{key:1},[i.smallModalData.type==="ban"?(a(),d("div",{key:0,class:we(["item",{selected:i.banType==="overall"}]),onClick:t[12]||(t[12]=ce=>n.banTypeSelection("overall"))},"overall",2)):c("",!0),i.smallModalData.type==="ban"?(a(),d("div",{key:1,class:we(["item",{selected:i.banType==="post"}]),onClick:t[13]||(t[13]=ce=>n.banTypeSelection("post"))},"post",2)):c("",!0),i.smallModalData.type==="ban"?(a(),d("div",{key:2,class:we(["item",{selected:i.banType==="comment"}]),onClick:t[14]||(t[14]=ce=>n.banTypeSelection("comment"))},"comment",2)):c("",!0),i.smallModalData.type==="ban"?(a(),d("div",{key:3,class:we(["item",{selected:i.banType==="answer"}]),onClick:t[15]||(t[15]=ce=>n.banTypeSelection("answer"))},"answer",2)):c("",!0),i.smallModalData.type==="unban"?(a(!0),d(Z,{key:4},pe(i.smallModalData.data.bans,(ce,xe)=>(a(),d("div",{class:we(["item",{selected:i.ban&&i.ban.id===ce.id}]),key:xe,onClick:it=>n.banSelection(ce)},[h("div",Qce,V(`ban created at: ${n.getReadableDate(ce.createdAt)}`),1),ce.dueDate?(a(),d("div",Kce,V(`will be due on: ${n.getReadableDate(ce.dueDate)}`),1)):c("",!0),h("div",Jce,V(`state: ${ce.state}, type: ${ce.type}`),1)],10,Yce))),128)):c("",!0),b(m,{buttonText:"ok",buttonStyle:"success",class:"post-button",onClick:n.clickedSmallModalButton},null,8,["onClick"])],64)):c("",!0),i.smallModalMain&&i.smallModalData.type==="unban"?(a(),d(Z,{key:2},[],64)):c("",!0)]),_:1},8,["onDisappear","show","title","main","loading"])):c("",!0)]),_:1})],2)}const $ce=Ae(Fae,[["render",Xce],["__scopeId","data-v-8f8fbf40"]]),Zce={components:{DashboardModal:Ev},props:{account:{type:Object,default(){return null}},action:{type:String,default:""},show:{type:Boolean,default:!1}},methods:{closeDashboardModal(){this.$emit("closeAccountModal")}}},eue=h("template",{slot:"main"},null,-1);function tue(e,t,s,o,i,n){const r=_("dashboard-modal");return a(),S(r,{show:s.show,onCloseDashboardModal:n.closeDashboardModal,class:"dashboard-modal"},{default:z(()=>[eue]),_:1},8,["show","onCloseDashboardModal"])}const sue=Ae(Zce,[["render",tue]]),nue={components:{AccountModal:sue,MainSection:$ce,CreateCourse:EA,CreateClass:MA,CreateAcademicYear:sK,CreateAccount:PA,EditUser:DA,FadeUp:bi,PostButton:xs,SideBar:BY,CreateExtracurriculum:LA,CreateLesson:gv},data(){return{loading:!1,sideBarMinWidth:!1,showCreateAccount:!1,showSmallModal:!1,editUserForm:!1,barSmall:!0,smallModalMain:!1,smallModalData:"",accountType:"",dashboardType:"",smallModalTitle:"",mainActiveButton:"",dashboardAccount:null,showAccountModal:!1,accountModalData:null,showCreateExtracurriculumModal:!1,showCreateModal:""}},beforeRouteEnter(e,t,s){s(o=>{})},watch:{showSmallModal(e){e||(this.mainActiveButton="info")}},computed:{...os(["getUser","authenticatingUser","isLearner","isFacilitator","isParent","professionalsCount","schoolsCount","dashboard/getAccountDetails"]),computedCreator(){return this.dashboardAccount?{account:this.dashboardAccount.account,accountId:this.dashboardAccount.accountId}:{account:"user",accountId:this.getUser.id}},computedSchool(){return this["dashboard/getAccountDetails"].account==="school"?this["dashboard/getAccountDetails"]:null}},methods:{openAccountModal(e){this.accountModalData=e,this.showAccountModal=!0},barSmallChange(e){this.barSmall=e,this.sideBarMinWidth=!1},clickedSmallModalButton(){this.dashboardType!=="user"&&(this.showCreateAccount=!0),this.showSmallModal=!1},clickedMainSection(){this.sideBarMinWidth=!0},clickedCreate(e){this.dashboardAccount=null,this.accountType=e,this.showCreateAccount=!0},clickedAccountType(e){this.accountType=e,this.showSmallModal=!1,this.showCreateAccount=!0},clickedMainPostButton(e){e.data==="edit user info"?this.editUserForm=!0:e.data==="create account"?(this.isLearner&&this.isParent&&this.isFacilitator&&this.professionalsCount>=3&&this.schoolsCount>=3?(this.smallModalMain=!1,this.smallModalTitle="you already have the maximum number of accounts"):(this.smallModalMain=!0,this.smallModalTitle="which account do you want to create?"),this.showSmallModal=!0):e.data==="create user/account for others"?(this.smallModalTitle="create a new user and/or user account (learner,parent) for someone.",this.showSmallModal=!0):e.data==="user info"?(this.dashboardAccount=null,this.dashboardType=e.type):e.data==="create academic year"?this.showCreateModal="academicYear":e.data==="create class"?this.showCreateModal="class":e.data==="create course"?this.showCreateModal="course":e.data==="create lesson"?this.showCreateModal="lesson":e.data==="create extracurriculum"&&(this.showCreateExtracurriculumModal=!0)},sidebarSelection(e){this.dashboardType=e.type,e.account?this.dashboardAccount=e.account:this.dashboardAccount=null},closeCreateSomething(e){e==="class"?this.mainActiveButton="info":e==="course"||e==="academicYear"||e==="lesson"||e==="extracurriculum"&&(this.showCreateExtracurriculumModal=!1),this.showCreateModal=""},closeSmallModal(){this.showSmallModal=!1,this.mainActiveButton="info"},closeEditUser(){this.editUserForm=!1,this.mainActiveButton="info"},closeCreateAccount(){this.showCreateAccount=!1,this.mainActiveButton="info"}}},iue={class:"dashboard-wrapper overflow-y-auto"},oue={key:0,class:"loading"},aue={key:1,class:"main"};function rue(e,t,s,o,i,n){const r=_("pulse-loader"),f=_("app-nav"),m=_("side-bar"),v=_("main-section"),g=_("post-button"),A=_("small-modal"),D=_("fade-up"),E=_("create-account"),T=_("create-academic-year"),N=_("edit-user"),F=_("account-modal"),R=_("router-view");return a(),d("div",iue,[e.authenticatingUser?(a(),d("div",oue,[b(r,{loading:e.authenticatingUser},null,8,["loading"])])):(a(),d("div",aue,[b(f),b(m,{minWidth:i.sideBarMinWidth,onBarSmall:n.barSmallChange,onSidebarSelection:n.sidebarSelection,onClickedCreate:n.clickedCreate},null,8,["minWidth","onBarSmall","onSidebarSelection","onClickedCreate"]),b(v,{barSmall:i.barSmall,type:i.dashboardType,account:i.dashboardAccount,activeButton:i.mainActiveButton,onClickedAccount:n.sidebarSelection,onClickedMainSection:n.clickedMainSection,onClickedPostButton:n.clickedMainPostButton,onAccountModal:n.openAccountModal},null,8,["barSmall","type","account","activeButton","onClickedAccount","onClickedMainSection","onClickedPostButton","onAccountModal"])])),b(D,null,{default:z(()=>[i.showSmallModal?(a(),S(A,{key:0,onDisappear:t[5]||(t[5]=j=>i.showSmallModal=!1),show:i.showSmallModal,class:"small-modal",main:i.smallModalMain,title:i.smallModalTitle},{default:z(()=>[i.smallModalMain?c("",!0):(a(),S(g,{key:0,buttonText:"ok",buttonStyle:"success",onClick:n.clickedSmallModalButton},null,8,["onClick"])),i.smallModalMain?(a(),d(Z,{key:1},[e.isLearner?c("",!0):(a(),d("div",{key:0,class:"item",onClick:t[0]||(t[0]=j=>n.clickedAccountType("learner"))},"learner")),e.isParent?c("",!0):(a(),d("div",{key:1,class:"item",onClick:t[1]||(t[1]=j=>n.clickedAccountType("parent"))},"parent")),e.isFacilitator?c("",!0):(a(),d("div",{key:2,class:"item",onClick:t[2]||(t[2]=j=>n.clickedAccountType("facilitator"))},"facilitator")),e.professionalsCount<3?(a(),d("div",{key:3,class:"item",onClick:t[3]||(t[3]=j=>n.clickedAccountType("professional"))},"professional")):c("",!0),e.schoolsCount<3?(a(),d("div",{key:4,class:"item",onClick:t[4]||(t[4]=j=>n.clickedAccountType("school"))},"school")):c("",!0)],64)):c("",!0)]),_:1},8,["show","main","title"])):c("",!0)]),_:1}),i.showCreateAccount?(a(),S(E,{key:2,type:i.accountType,show:i.showCreateAccount,creator:n.computedCreator,onCloseCreateAccount:n.closeCreateAccount},null,8,["type","show","creator","onCloseCreateAccount"])):c("",!0),i.showCreateModal==="academicYear"?(a(),S(T,{key:3,school:n.computedSchool,show:i.showCreateModal==="academicYear",onCloseCreateAcademicYear:t[6]||(t[6]=j=>n.closeCreateSomething("academicYear"))},null,8,["school","show"])):c("",!0),i.editUserForm?(a(),S(N,{key:4,fireAction:i.editUserForm,showForm:i.editUserForm,onMainModalDisappear:n.closeEditUser},null,8,["fireAction","showForm","onMainModalDisappear"])):c("",!0),i.showAccountModal?(a(),S(F,{key:5,show:i.showAccountModal,account:i.accountModalData.account,action:i.accountModalData.action,onCloseAccountModal:t[7]||(t[7]=j=>i.showAccountModal=!1)},null,8,["show","account","action"])):c("",!0),b(R)])}const lue=Ae(nue,[["render",rue],["__scopeId","data-v-c5d292cf"]]),cue={},uue={class:"place-description"},due={class:"main"},hue={class:"button"};function fue(e,t,s,o,i,n){return a(),d("div",uue,[h("div",due,[Jt(e.$slots,"body",{},void 0,!0)]),h("div",hue,[Jt(e.$slots,"button",{},void 0,!0)])])}const mue=Ae(cue,[["render",fue],["__scopeId","data-v-aae350c7"]]),pue={};function gue(e,t,s,o,i,n){return a(),S(No,{name:"fade-in"},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const vue=Ae(pue,[["render",gue],["__scopeId","data-v-235fae5b"]]),yue={props:{activeClass:{type:Boolean,default:!1},buttonText:{type:String,default:"button"}},data(){return{active:!1}},created(){this.activeClass&&(this.active=!0)},methods:{clicked(){this.$emit("welcomeButtonClicked"),this.active=!this.active}}};function wue(e,t,s,o,i,n){return a(),S(No,{name:"welcome-button"},{default:z(()=>[h("button",{class:we(["btn place",{active:s.activeClass}]),onClick:t[0]||(t[0]=(...r)=>n.clicked&&n.clicked(...r))},V(s.buttonText),3)]),_:1})}const _ue=Ae(yue,[["render",wue],["__scopeId","data-v-c3739bf7"]]),bue={components:{CreateAccount:PA,EditUser:DA,FadeUp:bi,FadeInOut:vue,FadeLeft:Bf,PlaceDescription:mue,PostButton:xs,BlackWhiteBadge:Ad,WelcomeButton:_ue},data(){return{info:"",showModal:!1,home:!1,dashboard:!1,profile:!1,showProfiles:!1,who:"",what:"",formType:"",formError:"",editUserForm:!1,become:"become learner",showEditBadge:!1}},watch:{showProfiles(e){},formType(e){e==="learner"?(this.who="learner",this.what="learner",this.become="become learner",this.info=""):e==="parent"?(this.what="parent",this.who="parent",this.become="become a parent",this.info=""):e==="facilitator"?(this.info="",this.what="facilitator",this.who="facilitator",this.become="become a facilitator"):e==="professional"?(this.what="professional",this.become=this.hasProfessionals?"create another professional":"become a professional",this.info=this.hasProfessionals?"You already have professional account(s). Note: You can only own a majority of three":""):e==="school"&&(this.what="school",this.who="school",this.become=this.hasSchools?"create another school":"own school",this.info=this.hasSchools?"You already own school account(s). Note: You can only own a majority of three":"")}},created(){},computed:{...os(["getUserUsername","getUser","getUserAge","professionalsCount","schoolsCount","getProfiles","isFacilitator","isLearner","isParent","authenticatingUser"]),computedProfiles(){return this.getProfiles?this.getProfiles.filter(e=>e.userId===this.getUser.id):[]},newCreation(){let e=new Date;if(this.getUser){let t=new Date(this.getUser.created_at);return _s.dateDiff(_s.toDate(t),_s.toDate(e))===0}return!1},computedCreationSection(){return!!this.formType.length}},methods:{clickedPostButton(e){const t=mo();e==="profiles"?this.showProfiles=!0:e==="dashboard"?t.push({name:"dashboard"}):e==="home"&&t.push({name:"home"})},clickedProfile(e){mo().push({name:"profile",params:{account:e.account,accountId:e.accountId}})},editUser(){this.editUserForm=!0},modalAppear(){},modalDisappear(){this.showModal=!1},becomeClicked(e){this.showModal=!0}}},pr=e=>(gs("data-v-a4fa5734"),e=e(),vs(),e),kue={class:"overflow-y-auto"},Aue={key:0,class:"loading"},Cue={key:1},Sue={class:"welcome-wrapper"},Iue={class:"welcome-message"},Tue={key:0,class:"first-section"},Due={class:"name"},xue={slot:"transition"},Pue={class:"name"},Mue=pr(()=>h("div",{class:"special"}," Note: Everything on this page deals with the creation of your personal accounts. If you want more power to do other things, then visit the dashboard ",-1)),Eue={class:"welcome-body"},Oue={class:"welcome-places"},Rue=pr(()=>h("div",{class:"places-heading"}," the locations you should know about ",-1)),Nue={slot:"transition"},Lue=pr(()=>h("div",{slot:"body",class:"section-body"},[Mt(" this is where the entire community of "),h("div",{class:"image"},[h("span",{class:"caption"},"learners")]),h("div",{class:"image"},[h("span",{class:"caption"},"facilitators")]),h("div",{class:"image"},[h("span",{class:"caption"},"schools")]),h("div",{class:"image"},[h("span",{class:"caption"},"educational professionals")]),Mt(' will socially interact, "educationally..." ')],-1)),Fue={slot:"button"},Uue={slot:"transition"},Bue=pr(()=>h("div",{slot:"body"},[h("div",{class:"section-body"}," this section is so personal to you. this is where you will get to add or access private information. you will only be able to access one ")],-1)),jue={slot:"button"},que={slot:"transition"},Hue=pr(()=>h("div",{slot:"body"},[h("div",{class:"section-body"}," this is where you will get to show the world who you are and what your contributions are to this new community. note:'you can see your profile in entirety or as specific user types such as Learner, Facilitator, Professional, etc. People who will visit your profile will only be seeing the profile of the specific user type in which they are interested' ")],-1)),Wue={slot:"button"},zue={key:0,class:"profiles"},Gue={key:0,class:"no-profile"},Yue=pr(()=>h("template",{slot:"info"},null,-1)),Que={class:"edit-user"},Kue={class:"welcome-who"},Jue=pr(()=>h("div",{class:"who-heading"}," additional roles you can play in YourEdu community ",-1)),Xue={key:0,class:"create-section"},$ue=pr(()=>h("div",{class:"title"}," creation of the various community members ",-1)),Zue={slot:"body"},ede=pr(()=>h("div",{class:"question"}," who will I be? ",-1)),tde={class:"answer"},sde=pr(()=>h("div",{class:"question"}," what can I do? ",-1)),nde={class:"answer"},ide={slot:"button"},ode={class:"users"};function ade(e,t,s,o,i,n){const r=_("sync-loader"),f=_("app-nav"),m=_("black-white-badge"),v=_("fade-left"),g=_("welcome-button"),A=_("post-button"),D=_("place-description"),E=_("fade-in-out"),T=_("profile-bar"),N=_("create-account"),F=_("edit-user");return a(),d("div",kue,[e.authenticatingUser?(a(),d("div",Aue,[b(r,{loading:e.authenticatingUser},null,8,["loading"])])):(a(),d("div",Cue,[b(f),h("div",Sue,[h("div",Iue,[n.newCreation?(a(),d("div",Tue,[Mt(" yay! welcome "),h("div",Due,V(e.getUserUsername?e.getUserUsername:"@newuser"),1)])):c("",!0),h("div",{class:"second-section",onMouseover:t[0]||(t[0]=R=>i.showEditBadge=!0),onMouseleave:t[1]||(t[1]=R=>i.showEditBadge=!1)},[b(v,null,{default:z(()=>[h("template",xue,[i.showEditBadge?(a(),S(m,{key:0,text:"edit",onClick:n.editUser},null,8,["onClick"])):c("",!0)])]),_:1}),h("div",Pue,V(e.getUser?e.getUser.fullName:"new user"),1),Mt(" we hope you do enjoy this new experience of social education "),Mue],32)]),h("div",Eue,[h("div",Oue,[Rue,b(g,{onWelcomeButtonClicked:t[2]||(t[2]=R=>i.home=!i.home),activeClass:i.home,buttonText:"home"},null,8,["activeClass"]),b(E,null,{default:z(()=>[h("template",Nue,[i.home?(a(),S(D,{key:0},{default:z(()=>[Lue,h("div",Fue,[b(A,{buttonText:"home",onClick:n.clickedPostButton},null,8,["onClick"])])]),_:1})):c("",!0)])]),_:1}),b(g,{onWelcomeButtonClicked:t[3]||(t[3]=R=>i.dashboard=!i.dashboard),activeClass:i.dashboard,buttonText:"dashboard"},null,8,["activeClass"]),b(E,null,{default:z(()=>[h("template",Uue,[i.dashboard?(a(),S(D,{key:0},{default:z(()=>[Bue,h("div",jue,[b(A,{buttonText:"dashboard",onClick:n.clickedPostButton},null,8,["onClick"])])]),_:1})):c("",!0)])]),_:1}),b(g,{onWelcomeButtonClicked:t[4]||(t[4]=R=>i.profile=!i.profile),activeClass:i.profile,buttonText:"profile"},null,8,["activeClass"]),b(E,null,{default:z(()=>[h("template",que,[i.profile?(a(),S(D,{key:0,info:i.info},{default:z(()=>[Hue,h("div",Wue,[b(A,{buttonText:"profiles",onClick:n.clickedPostButton},null,8,["onClick"]),i.showProfiles?(a(),d("div",zue,[n.computedProfiles.length?c("",!0):(a(),d("div",Gue,"no profiles")),(a(!0),d(Z,null,pe(n.computedProfiles,(R,j)=>(a(),S(T,{key:j,smallType:!0,profile:R,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"]))),128))])):c("",!0)]),Yue]),_:1},8,["info"])):c("",!0)])]),_:1}),h("div",Que,[b(A,{buttonText:"edit user",onClick:n.editUser},null,8,["onClick"])])]),h("div",Kue,[Jue,n.computedCreationSection?(a(),d("div",Xue,[$ue,b(D,null,{default:z(()=>[h("template",Zue,[ede,h("div",tde,V(i.who),1),sde,h("div",nde,V(i.what),1)]),h("div",ide,[b(A,{buttonText:i.become,onClick:n.becomeClicked},null,8,["buttonText","onClick"])])]),_:1})])):c("",!0),h("div",ode,[e.isLearner?c("",!0):(a(),S(g,{key:0,onWelcomeButtonClicked:t[5]||(t[5]=R=>i.formType="learner"),activeClass:i.formType==="learner",buttonText:"learner"},null,8,["activeClass"])),e.isParent?c("",!0):(a(),S(g,{key:1,onWelcomeButtonClicked:t[6]||(t[6]=R=>i.formType="parent"),activeClass:i.formType==="parent",buttonText:"parent"},null,8,["activeClass"])),e.isFacilitator?c("",!0):(a(),S(g,{key:2,onWelcomeButtonClicked:t[7]||(t[7]=R=>i.formType="facilitator"),activeClass:i.formType==="facilitator",buttonText:"facilitator"},null,8,["activeClass"])),e.schoolsCount<3?(a(),S(g,{key:3,onWelcomeButtonClicked:t[8]||(t[8]=R=>i.formType="school"),activeClass:i.formType==="school",buttonText:"school"},null,8,["activeClass"])):c("",!0),e.professionalsCount<3?(a(),S(g,{key:4,onWelcomeButtonClicked:t[9]||(t[9]=R=>i.formType="professional"),activeClass:i.formType==="professional",buttonText:"professional"},null,8,["activeClass"])):c("",!0)])])])])])),b(N,{type:i.formType,show:i.showModal,onCloseCreateAccount:t[10]||(t[10]=R=>i.showModal=!1)},null,8,["type","show"]),b(F,{fireAction:i.editUserForm,showForm:i.editUserForm,onMainModalDisappear:t[11]||(t[11]=R=>i.editUserForm=!1)},null,8,["fireAction","showForm"])])}const rde=Ae(bue,[["render",ade],["__scopeId","data-v-a4fa5734"]]),lde="/assets/register-Dth7jUuC.png",cde="/assets/home-DfgJKGee.png",ude="/assets/robertamoah-CtYWg--d.png",dde="/assets/login-BrzaIx3X.mkv",hde="/assets/logout-CA_lYrQh.mkv",fde={};function mde(e,t,s,o,i,n){return a(),S(No,{tag:"div",name:"slide-right",appear:""},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const pde=Ae(fde,[["render",mde],["__scopeId","data-v-ef2160de"]]),gde={class:""},vde={__name:"WriteableText",props:{messages:{type:Array,default:()=>[]},title:{type:String,default:""},classes:{type:String,default:""},speed:{type:Number,default:200},wait:{type:Number,default:4e3}},emits:["changed"],setup(e,{emit:t}){const s=t,o=at(1),i=at(0),n=at(!1),r=e;xf(()=>{r.messages.length&&i.value<r.messages.length&&(n.value||(n.value=!0,setTimeout(f,r.speed)))}),Us(()=>o.value,()=>{setTimeout(f,r.speed)});function f(){if(o.value<r.messages[i.value].length){o.value+=1;return}setTimeout(()=>{m(),o.value=1},r.wait)}function m(){i.value+1<r.messages.length?i.value+=1:i.value=0,s("changed",i.value)}return(v,g)=>(a(),d("div",gde,V(e.messages.length?e.messages[i.value].slice(0,o.value):""),1))}},yde={},wde={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",version:"1.1"},_de=h("title",null,"github [#142]",-1),bde=h("desc",null,"Created with Sketch.",-1),kde=h("defs",null,null,-1),Ade=h("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[h("g",{id:"Dribbble-Light-Preview",transform:"translate(-140.000000, -7559.000000)",fill:"#000000"},[h("g",{id:"icons",transform:"translate(56.000000, 160.000000)"},[h("path",{d:"M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399",id:"github-[#142]"})])])],-1),Cde=[_de,bde,kde,Ade];function Sde(e,t){return a(),d("svg",wde,Cde)}const n1=Ae(yde,[["render",Sde]]);function Ide(e,t){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[h("path",{d:"M11.25 4.533A9.707 9.707 0 0 0 6 3a9.735 9.735 0 0 0-3.25.555.75.75 0 0 0-.5.707v14.25a.75.75 0 0 0 1 .707A8.237 8.237 0 0 1 6 18.75c1.995 0 3.823.707 5.25 1.886V4.533ZM12.75 20.636A8.214 8.214 0 0 1 18 18.75c.966 0 1.89.166 2.75.47a.75.75 0 0 0 1-.708V4.262a.75.75 0 0 0-.5-.707A9.735 9.735 0 0 0 18 3a9.707 9.707 0 0 0-5.25 1.533v16.103Z"})])}function Tde(e,t){return a(),d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[h("path",{"fill-rule":"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}const Dde={class:"relative overflow-hidden min-h-screen"},xde={class:"w-full min-h-screen overflow-hidden class relative"},Pde={class:"flex md:flex-col md:w-8 p-2 md:h-full w-full h-8 bg-transparent absolute md:top-0 top-[2%] left-0 justify-center items-center gap-4"},Mde=["onClick"],Ede={class:""},Ode={key:0,class:"w-full min-h-screen grid grid-cols-1 gap-4 md:gap-2 md:grid-cols-2 bg-gradient-to-br from-youredubrown to-fuchsia-800 animate-gradient"},Rde={class:"min-h-[30vh] md:h-fit p-4"},Nde=h("div",{class:"mt-20 w-[80%] mx-auto text-wrap bg-gradient-to-r from-whitesmoke text-center md:w-[90%] to-youredugreen text-2xl font-semibold bg-clip-text text-transparent"},"education through liberalisation and socialisation",-1),Lde={class:"w-full md:h-screen flex justify-center items-start md:items-center h-fit"},Fde={key:0,class:"rounded relative shadow bg-white w-[80%] md:w-[90%] mx-auto p-6 text-sm"},Ude=h("div",null,"you can do so much here, from simply posting texts for sharing your thoughts to engaging in discussions...",-1),Bde={key:1,class:"w-[80%] md:w-[90%] mx-auto p-2 text-sm my-5 gap-2"},jde=h("img",{class:"w-full h-80 md:h-72 object-scale-down",src:lde,alt:""},null,-1),Vde=h("img",{class:"w-full h-80 md:h-72 object-scale-down",src:cde,alt:""},null,-1),qde={key:1,class:"w-full min-h-screen grid grid-cols-1 gap-4 md:gap-2 md:grid-cols-2 bg-gradient-to-br from-fuchsia-800 to-blue-800 animate-gradient overflow-y-auto pb-10"},Hde=h("div",{class:"font-bold text-2xl md:text-3xl capitalize mt-20 w-fit mx-auto text-white pt-10 my-4"},"about",-1),Wde={class:"relative bg-white rounded shadow p-6 mx-auto w-[90%] md:mt-4 md:mr-4"},zde=h("div",{class:"text-sm text-center md:text-justify mt-4"},[h("p",null,"There is a great gap in quality of education, on so may levels, but largely on the lower levels of our traditional education."),h("p",null,"Our motivation is to get all major players on one platform, to contribute to bridging this gap.")],-1),Gde=Ef('<div class="mt-10 md:mt-4 md:col-span-2"><div class="relative rounded bg-white shadow p-6 mx-auto w-[90%] md:w-[60%]"><div class="w-20 h-20 rounded-full p-2 bg-youredubrown mx-auto"><img class="w-full h-full object-fill rounded-full" src="'+ude+'" alt=""></div><div class="w-fit mx-auto my-4 relative"><div class="w-fit mx-auto text-base font-bold md:text-lg">Robert Amoah</div><div class="w-full h-1 rounded from-youredubrown to-blue-600 bg-gradient-to-r my-2"></div></div><div class="w-fit mx-auto mt-2 mb-4 md:mb-0 relative"><div class="w-fit mx-auto text-sm md:text-base">Full-Stack Developer</div><div class="w-full h-1 rounded from-youredubrown to-blue-600 bg-gradient-to-r my-2"></div></div><div class="w-fit mx-auto mt-2 mb-4 md:mb-0 text-sm relative flex space-x-2 justify-center items-center overflow-x-auto p-2"><a href="https://github.com/mr-robertamoah">@mr-robertamoah (GitHub)</a><a href="https://x.com/Mr_robertamoah">@Mr_robertamoah (X)</a></div><div class="text-sm text-center md:text-justify mt-4"><p>I enjoy creating a solution to make our society a bit better, <span class="from-youredubrown to-blue-600 bg-gradient-to-r bg-clip-text text-transparent font-bold">one code at a time</span>.</p></div></div></div>',1),Yde={key:2,class:"w-full min-h-screen gap-4 overflow-y-auto pb-10 bg-gradient-to-br from-blue-800 to-youredubrown animate-gradient"},Qde=Ef('<div class="font-bold text-2xl md:text-3xl capitalize mt-20 w-fit mx-auto text-white pt-10 my-4">features</div><div class="w-[90%] md:w-[80%] mx-auto md:overflow-x-auto p-2 flex md:py-4 gap-4 flex-col md:flex-row md:justify-start justify-center items-center"><div class="md:min-w-96 w-fit shrink-0"><div class="relative rounded shadow p-6 mx-auto w-[90%] md:w-[60%] bg-white"><div class="w-fit mx-auto my-4 relative"><video autoplay controls src="'+dde+'" class="w-full md:min-w-64 md:min-h-48 min-h-64 object-scale-down"></video><div class="w-full h-1 rounded from-youredubrown to-blue-600 bg-gradient-to-r my-2"></div></div><div class="text-sm text-center md:text-justify mt-4"><p><span class="from-youredubrown to-blue-600 bg-gradient-to-r bg-clip-text text-transparent font-bold">loging in</span></p></div></div></div><div class="md:min-w-96 w-fit shrink-0"><div class="relative rounded shadow p-6 mx-auto w-[90%] md:w-[60%] bg-white"><div class="w-fit mx-auto my-4 relative"><video autoplay controls src="'+hde+'" class="w-full md:min-w-64 md:min-h-48 min-h-64 object-scale-down"></video><div class="w-full h-1 rounded from-youredubrown to-blue-600 bg-gradient-to-r my-2"></div></div><div class="text-sm text-center md:text-justify mt-4"><p><span class="from-youredubrown to-blue-600 bg-gradient-to-r bg-clip-text text-transparent font-bold">loging out</span></p></div></div></div></div>',2),Kde=[Qde],Jde={key:3,class:"w-full min-h-screen gap-4 overflow-y-auto pb-10 bg-gradient-to-br from-youredubrown to-fuchsia-800 animate-gradient"},Xde=h("div",{class:"font-bold text-2xl md:text-3xl capitalize mt-20 w-fit mx-auto text-white pt-10 my-4"},"get in touch",-1),$de={class:"w-[90%] md:w-[80%] mx-auto md:overflow-x-auto p-2 flex gap-4 flex-col md:flex-row md:justify-start justify-center items-center"},Zde={class:"w-fit mx-auto gap-4"},ehe=h("div",{class:"text-center w-fit mx-auto bg-gradient-to-r from-whitesmoke to-youredugreen bg-clip-text text-transparent text-sm font-bold"},"get support",-1),the={class:"p-6 bg-white shadow-sm mt-2 rounded text-sm md:text-base"},she=h("div",null,"support@youredu.com",-1),nhe={href:"https://github.com/mr-robertamoah/YourEdu_frontend",class:"flex justify-center font-bold text-youredubrown items-center gap-2 w-full mx-auto my-2"},ihe=h("div",null,"frontend",-1),ohe={href:"https://github.com/mr-robertamoah/YourEdu",class:"flex justify-center font-bold items-center text-blue-800 gap-2 w-full mx-auto my-2"},ahe=h("div",null,"backend",-1),rhe={__name:"About",setup(e){const t=_i(),s=mo(),o=at(1),i=at(0);Ol(()=>{let m=document.getElementsByTagName("body");m!=null&&m.length&&(m[0].classList.add("md:overflow-y-hidden"),m[0].classList.add("overflow-y-auto"))}),JE(()=>{let m=document.getElementsByTagName("body");m!=null&&m.length&&(m[0].classList.remove("md:overflow-y-hidden"),m[0].classList.remove("overflow-y-auto"))});function n(m){i.value=m}function r(m){o.value=m}function f(){s.push("/")}return(m,v)=>{const g=_("app-nav");return a(),d("div",Dde,[b(g),h("div",xde,[h("div",Pde,[(a(),d(Z,null,pe(4,A=>h("div",{key:A,onClick:()=>r(A),class:we(["w-6 h-6 rounded-full p-1 transition-colors duration-100 cursor-pointer",[o.value==A?"bg-green-800":"bg-slate-800 hover:bg-green-600"]])},[h("div",{class:we([[o.value==A?"bg-green-600":"bg-slate-600 hover:bg-green-400"],"w-full h-full rounded-full transition-colors duration-100"])},null,2)],10,Mde)),64))]),h("div",Ede,[o.value==1?(a(),d("div",Ode,[h("div",Rde,[b(vde,{messages:["hello there!","welcome to YourEdu"],onChanged:n,class:"w-fit mt-10 p-2 mx-auto text-center text-whitesmoke font-bold uppercase text-3xl md:text-4xl"}),Nde]),h("div",Lde,[b(pde,null,{transition:z(()=>[i.value==0?(a(),d("div",Fde,[b(es(Tde),{class:"w-5 h-5 absolute top-1 left-2"}),Ude])):c("",!0),i.value==1?(a(),d("div",Bde,[es(t).getters.getUser?(a(),d(Z,{key:1},[Vde,h("div",{class:"my-4 cursor-pointer rounded shadow bg-white p-6",onClick:v[2]||(v[2]=()=>m.$router.push("/"))},"visit home page to engage")],64)):(a(),d(Z,{key:0},[jde,h("div",{class:"my-4 cursor-pointer rounded shadow bg-white p-6",onClick:v[0]||(v[0]=()=>m.$router.push("/register"))},"register now if you are not a user to get started"),h("div",{class:"my-4 cursor-pointer rounded shadow bg-white p-6",onClick:v[1]||(v[1]=()=>m.$router.push("/login"))},"login now if you have an account")],64))])):c("",!0)]),_:1})])])):c("",!0),o.value==2?(a(),d("div",qde,[Hde,h("div",null,[h("div",Wde,[b(es(Ide),{class:"w-5 h-5 absolute top-1 left-1 text-youredubrown"}),zde])]),Gde])):c("",!0),o.value==3?(a(),d("div",Yde,Kde)):c("",!0),o.value==4?(a(),d("div",Jde,[Xde,b(hv,{class:"w-32 mt-20 md:w-40 mb-10 mx-auto cursor-pointer",onClick:f}),h("div",$de,[h("div",Zde,[ehe,h("div",the,[she,h("a",nhe,[b(n1,{class:"w-10 h-10 rounded-full bg-youredubrown"}),ihe]),h("a",ohe,[b(n1,{class:"w-10 h-10 rounded-full bg-blue-800"}),ahe])])])])])):c("",!0)])])])}}},lhe={key:0,class:"name"},che={class:"section"},uhe=["src"],dhe={key:1,class:"message"},hhe={__name:"MainAlert",props:{account:{type:Object,default(){return{}}},message:{type:Object,default(){return{}}},isAccount:{type:Boolean,default:!1},isMessage:{type:Boolean,default:!1},show:{type:Boolean,default:!1},text:{type:String,default:""},id:{type:Number,default:0}},emits:["removeAlert"],setup(e,{emit:t}){const s=t,o=e;Us(()=>o.show,()=>{o.show&&setTimeout(()=>{f()},4e3)});const i=Wt(()=>isMessage.value&&account.value),n=Wt(()=>text.value.length&&isMessage.value);function r(){f()}function f(){s("removeAlert",o.id)}return(m,v)=>{const g=_("font-awesome-icon");return a(),S(No,{name:"main-alert"},{default:z(()=>[h("div",{class:we(["main-alert-wrapper",{messageText:n.value}])},[h("div",{class:"close",onClick:r},[b(g,{icon:["fa","times"]})]),i.value?(a(),d("div",lhe,V(e.account.name),1)):c("",!0),h("div",che,[i.value?(a(),S(Ys,{key:0,class:"profile-picture"},{image:z(()=>[h("img",{src:e.account.url},null,8,uhe)]),_:1})):c("",!0),n.value?(a(),d("div",dhe,V(e.text),1)):c("",!0)]),e.isMessage&&!e.text.length?(a(),S(zf,{key:1,message:e.message,alert:!0},null,8,["message"])):c("",!0),e.isAccount?(a(),S(vu,{key:2,alert:!0,account:e.account,class:"account-badge"},null,8,["account"])):c("",!0)],2)]),_:1})}}},fhe=Ae(hhe,[["__scopeId","data-v-f23cfa89"]]),mhe={};function phe(e,t,s,o,i,n){return a(),S(_k,{tag:"div",class:"slide-right-wrapper",name:"slide-right",appear:""},{default:z(()=>[Jt(e.$slots,"transition",{},void 0,!0)]),_:3})}const Lv=Ae(mhe,[["render",phe],["__scopeId","data-v-a83a7804"]]),ghe={components:{DetailsModal:BA,MessagesModal:UA,MainModal:Sd,SlideRightGroup:Lv,JustFade:uo,RequestBadge:FA,DiscussionBadge:zf,ParticipantBadge:mA,AccountBadge:vu},props:{show:{type:Boolean,default:!1},type:{type:String,default:""}},mixins:[ga],data(){return{showMoreRequests:!1,showMessageModal:!1,showDetailsModal:!1,modalRequest:null,requestNextPage:1,notifications:[],requests:[],requestLoading:!1,requestId:null,newMessage:null}},watch:{show:{immediate:!0,handler(e){e?(this.requestNextPage=1,this.requestLoading=!0,this.moreRequests()):(this.requests=[],this.notifications=[])}}},computed:{...os([]),computedRequests(){return this.type==="requests"?this.requests.length:this.notifications.length}},methods:{...ss(["acceptFollowRequest","declineFollowRequest","userRequests","profile/discusionContributionResponse","profile/joinItemResponse","userNotifications","profile/invitationItemResponse","dashboard/sendResponse"]),newRequestMessage(e){this.newMessage=e.message},closeMessageModal(e){this.showMessageModal=!1,this.modalRequest=null},clickedShowMessages(e){this.showMessageModal=!0,this.modalRequest=e},removeRequest(e,t="message"){let s=this.requests.findIndex(o=>t==="message"?o.id===e&&o.isMessage:t==="account"?o.id===e&&o.isAccount:t==="participant"?o.id===e&&(o.isDiscussionRequest||o.isAssessmentRequest):o.id===e);s!==-1&&this.requests.splice(s,1)},updateRequest(e){let t=this.requests.findIndex(s=>s.id==e.requestId);t>-1&&(this.requests[t].state=e.state)},clickedShowDetails(e){this.showDetailsModal=!0,this.modalRequest=e},closeDetailsModal(){this.showDetailsModal=!1,this.modalRequest=null},getNotificationAccount(e){return e.account?e.account:e.facilitator?e.facilitator:e.school?e.school:null},requestsModalDisappear(){this.$emit("requestsModalDisappear")},clickedRequestAction(e){if(e.hasOwnProperty("action")){this.acceptOrDeclineRequest(e);return}if(e.hasOwnProperty("message")){this.acceptOrRejectMessage(e);return}this.acceptOrDeclineAccount(e)},clickedParticipantAction(e){if(e.type==="invitation"){this.invitationItemResponse(e);return}this.joinItemResponse(e)},async acceptOrDeclineRequest(e){let t=new FormData,s;if(t.append("requestId",e.id),t.append("response",e.response!=="decline"?"accepted":"declined"),s=await this["dashboard/sendResponse"](t),s.status){this.removeRequest(e.id,"action"),this.alertSuccess=!0,this.alertMessage="response was successfully sent ";return}this.alertDanger=!0,this.alertMessage="oops! it failed . please try again later."},async invitationItemResponse(e){let t,s={account:e.myAccount.account,accountId:e.myAccount.accountId,requestId:e.id,action:e.action,item:e.item,itemId:e.itemId,type:e.marker?"marker":null};if(s[`${e.item}Id`]=e.itemId,t=await this["profile/invitationItemResponse"](s),t.status){this.removeRequest(e.id,"participant"),this.alertSuccess=!0,this.alertMessage=`${e.action.slice(0,e.action.length-2)}ing of request was successful .`;return}console.log("response :>> ",t),this.alertDanger=!0,this.alertMessage=`${e.action.slice(0,e.action.length-2)}ing of request failed .`},async joinItemResponse(e){let t,s={account:e.myAccount.account,accountId:e.myAccount.accountId,requestId:e.account.id,discussionId:e.account.discussionId,action:e.action,item:e.item,itemId:e.itemId,type:e.marker?"marker":null};if(s[`${e.item}Id`]=e.itemId,t=await this["profile/joinItemResponse"](s),t.status){this.removeRequest(e.id,"participant"),this.alertSuccess=!0,this.alertMessage=`${e.action.slice(0,e.action.length-2)}ing of request was successful .`;return}console.log("response :>> ",t),this.alertDanger=!0,this.alertMessage=`${e.action.slice(0,e.action.length-2)}ing of request failed .`},async acceptOrDeclineAccount(e){let t,s={account:e.account.account,userId:e.account.userId,accountId:e.account.accountId,myAccount:e.account.myAccount,myAccountId:e.account.myAccountId};e.action==="accept"?t=await this.acceptFollowRequest(s):e.action==="decline"&&(t=await this.declineFollowRequest(s)),t==="successful"&&this.removeRequest(e.account.id,"account")},async acceptOrRejectMessage(e){let t,s={userId:e.message.userId,messageId:e.message.messageId,action:e.action};t=await this["profile/discusionContributionResponse"](s),t.status?this.removeRequest(e.message.id,"message"):console.log("response :>> ",t)},async moreRequests(){let e,t={nextPage:this.requestNextPage};this.type==="requests"?e=await this.userRequests(t):this.type==="notifications"&&(e=await this.userNotifications(t)),this.requestLoading=!1,e.status?(this.type==="requests"?this.requests.push(...e.data):this.type==="notifications"&&this.notifications.push(...e.data),e.next?(this.requestNextPage+=1,this.showMoreRequests=!0):this.showMoreRequests=!1):console.log("response :>> ",e)}}},vhe={slot:"requests"},yhe={key:1,class:"no-requests"},whe={key:2,class:"has-requests"};function _he(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("account-badge"),v=_("participant-badge"),g=_("discussion-badge"),A=_("request-badge"),D=_("slide-right-group"),E=_("font-awesome-icon"),T=_("messages-modal"),N=_("details-modal"),F=_("main-modal"),R=_("just-fade");return a(),S(R,null,{default:z(()=>[s.show?(a(),S(F,{key:0,show:s.show,onMainModalDisappear:n.requestsModalDisappear,onClickedMain:t[1]||(t[1]=j=>e.showFollowProfiles=!1),main:!1,mainOther:!1,class:"request-modal-wrapper"},{default:z(()=>[h("template",vhe,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),i.requestLoading?(a(),S(f,{key:0,class:"loading",loading:i.requestLoading},null,8,["loading"])):c("",!0),!n.computedRequests&&!i.requestLoading?(a(),d("div",yhe,V(`there are no ${s.type}`),1)):c("",!0),n.computedRequests&&!i.requestLoading?(a(),d("div",whe,V(`these are your${s.type==="requests"?" pending":""} ${s.type}`),1)):c("",!0),b(D,null,{default:z(()=>[i.requests.length?(a(!0),d(Z,{key:0},pe(i.requests,j=>(a(),d(Z,{key:`account.${j.id}`},[j.isAccount?(a(),S(m,{key:0,onClickedAction:n.clickedRequestAction,account:j,request:!0,class:"request-badge"},null,8,["onClickedAction","account"])):c("",!0),j.isDiscussionRequest||j.isAssessmentRequest?(a(),S(v,{key:`participant.${j.id}`,onClickedAction:n.clickedParticipantAction,request:j,isRequest:!0,class:"request-badge"},null,8,["onClickedAction","request"])):c("",!0),j.isMessage?(a(),S(g,{key:`message.${j.id}`,message:j,request:!0,onClickedAction:n.clickedRequestAction,class:"request-badge"},null,8,["message","onClickedAction"])):c("",!0),j.action?(a(),S(A,{key:`request.${j.id}`,request:j,onClickedAction:n.clickedRequestAction,onShowDetails:n.clickedShowDetails,onShowMessages:n.clickedShowMessages,onNewMessage:n.newRequestMessage},null,8,["request","onClickedAction","onShowDetails","onShowMessages","onNewMessage"])):c("",!0)],64))),128)):c("",!0),i.notifications.length?(a(!0),d(Z,{key:1},pe(i.notifications,j=>(a(),S(v,{key:j.id,onClickedAction:n.clickedParticipantAction,account:n.getNotificationAccount(j.data),message:j.data.message,createdAt:j.data.created_at,notification:!0,class:"request-badge"},null,8,["onClickedAction","account","message","createdAt"]))),128)):c("",!0)]),_:1}),i.showMoreRequests?(a(),d("div",{key:3,class:"show-more",onClick:t[0]||(t[0]=(...j)=>n.moreRequests&&n.moreRequests(...j))},[b(E,{icon:["fa","ellipsis-h"]})])):c("",!0),b(T,{show:i.showMessageModal,newMessage:i.newMessage,onCloseMessageModal:n.closeMessageModal,request:i.modalRequest},null,8,["show","newMessage","onCloseMessageModal","request"]),b(N,{show:i.showDetailsModal,onCloseDetailsModal:n.closeDetailsModal,details:i.modalRequest},null,8,["show","onCloseDetailsModal","details"])])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const bhe=Ae(ghe,[["render",_he],["__scopeId","data-v-fc76d8bf"]]);class zA{constructor(t="localStorage"){wh(this,"types",["localStorage","sessionStorage"]);wh(this,"currentType",null);wh(this,"storage",null);this.types.includes(t)?this.currentType=t:this.currentType="localStorage",this.initiateStorage()}initiateStorage(){this.storage=window[this.currentType]}set(t,s,o=!0){o&&(s=JSON.stringify(s)),this.storage.setItem(t,s)}get(t,s=!0){return s?JSON.parse(this.storage.getItem(t)):this.storage.getItem(t)}remove(t){this.storage.removeItem(t)}}const Pp="YourEdu_access_token",Mp="YourEdu_refresh_token",Ep="YourEdu_user",vi={setToken(e){window.YoureduStorage.set(Pp,e,!1)},setUser(e){window.YoureduStorage.set(Ep,JSON.stringify(e))},getUser(){const e=window.YoureduStorage.get(Ep);return e&&JSON.parse(e)},getToken(){return window.YoureduStorage.get(Pp,!1)},removeUser(){window.YoureduStorage.remove(Ep)},removeToken(){window.YoureduStorage.remove(Pp)},setRefreshToken(e){window.YoureduStorage.set(Mp,e,!1)},getRefreshToken(){return window.YoureduStorage.get(Mp,!1)},removeRefreshToken(){window.YoureduStorage.remove(Mp)}},khe=e=>(gs("data-v-d1d2d1c3"),e=e(),vs(),e),Ahe={class:"flex justify-between items-center px-2 relative"},Che=khe(()=>h("div",{class:"absolute -bottom-1 z-10 w-full left-0 h-1 rounded bg-gradient-to-r from-youredubrown to-youredugreen"},null,-1)),She={key:0,class:"main-alert"},Ihe={class:"flex justify-start items-center gap-1 cursor-pointer"},The={class:"p-2 rounded bg-gradient-to-br from-youredubrown to-youredugreen bg-clip-text text-transparent font-bold"},Dhe={key:6},xhe={key:0,class:"notification"},Phe={key:0,class:"notification"},Mhe={class:"nav-outer"},Ehe={__name:"Nav",props:{profileAccountId:{type:String,default:""},profileAccount:{type:String,default:""}},setup(e){const t=_i(),s=mo(),o=Ns();at(["fa","bars"]),at(!1);const i=at(!1),n=at(!1),r=at(!1),f=at(!1),m=at([]),v=at([]),g=at(!1),A=at(""),D=at([]);Ol(()=>{setTimeout(()=>{Ve()},2e3)}),Us(()=>g.value,de=>{de&&setTimeout(()=>{g.value=!1},4e3)}),XE((de,We,Qt)=>{n.value=!1,r.value=!1,Qt()});const E=Wt(()=>o.name),T=Wt(()=>t.getters.getLoggedin?!1:E.value!=="register"),N=Wt(()=>t.getters.getLoggedin?!1:E.value!=="login");Wt(()=>t.getters.getLoggedin?E.value!=="welcome":!1);const F=Wt(()=>t.getters.getLoggedin?E.value!=="dashboard":!1),R=Wt(()=>t.getters.getProfiles?t.getters.getProfiles:[]),j=Wt(()=>t.getters.getUser);function W(){f.value=!1}function Q(){A.value="requests",f.value=!0,v.value.length&&me()}function le(){A.value="notifications",f.value=!0,k()}async function me(){let de=await t.dispatch("markNotifications");de.status?v.value=[]:console.log("response :>> ",de)}async function k(){let de=await t.dispatch("markOtherNotifications",{other:!0});de.status?m.value=[]:console.log("response :>> ",de)}function Ce(de){let We=D.value.findIndex(Qt=>Qt.id===de);We>-1&&D.value.splice(We,1)}function he(de){setTimeout(We=>{Ce(We)},5e3)}function Ke(){if(o.name=="home"){s.push("/about");return}s.push("/")}function Te(de){console.log(de);let We={isMessage:!0,account:de.account,text:de.message,id:Math.floor(Math.random()*1e4)};D.value.unshift(We),he(We.id)}function Ve(){t.getters.getUser&&vi.getToken()?Echo.private(`youredu.user.${t.getters.getUser.id}`).notification(de=>{if(console.log(de),de.type=="App\\Notifications\\DiscussionRequestNotification"||de.type=="App\\Notifications\\FollowRequest"||de.type=="App\\Notifications\\NewDiscussionMessageNotification")v.value.push(de);else if(de.type==="App\\Notifications\\DiscussionJoinResponseNotification"){m.value.push(de);let We={isMessage:!0,text:`your request to join discussion with title: ${de.title.toUpperCase()} has been ${de.action}`};We.id=Math.floor(Math.random()*1e4),D.value.unshift(We),he(We.id)}else if(de.type==="App\\Notifications\\DiscussionInvitationNotification"){v.value.push(de),m.value.push(de);let We={isMessage:!0,text:de.message};We.id=Math.floor(Math.random()*100),D.value.unshift(We),he(We.id)}else if(de.type==="App\\Notifications\\AccountRequestNotification"||de.type==="App\\Notifications\\AccountResponseNotification"){v.value.push(de);let We={isMessage:!0,text:de.message,account:de.account};We.id=Math.floor(Math.random()*1e4),D.value.unshift(We),g.value=!0,he(We.id)}else if(de.type==="App\\Notifications\\DiscussionInvitationResponseNotification"||de.type==="App\\Notifications\\UpdateParticipantStateNotification"||de.type==="App\\Notifications\\UpdateParticipantStateNotification"||de.type==="App\\Notifications\\AdminResponseNotification"||de.type==="App\\Notifications\\FacilitatorResponseNotification"||de.type==="App\\Notifications\\SchoolResponseNotification"||de.type==="App\\Notifications\\CollaborationNotification"||de.type==="App\\Notifications\\RemoveDiscussionParticipantNotification"){m.value.push(de),console.log(de);let We={isMessage:!0,account:de.account,text:de.message};We.id=Math.floor(Math.random()*1e4),D.value.unshift(We),he(We.id),de.admin&&E.value==="dashboard"?t.dispatch("dashboard/addAccountDetails",{account:de.accountData.account,accountId:de.accountData.accountId,what:"admin",data:de.admin}):de.facilitator&&E.value==="dashboard"?t.dispatch("dashboard/addAccountDetails",{account:de.accountData.account,accountId:de.accountData.accountId,what:"facilitator",data:de.facilitator}):de.school&&E.value==="dashboard"&&de.accountData.account!=="admin"?t.dispatch("dashboard/addAccountDetails",{account:de.accountData.account,accountId:de.accountData.accountId,what:"school",data:de.school}):de.school&&E.value==="dashboard"&&de.accountData.account==="admin"&&t.dispatch("addProfile",de.school)}else if(de.type==="App\\Notifications\\RequestMessageNotification"){let We={isMessage:!0,account:de.account,text:de.message};We.id=Math.floor(Math.random()*1e4),D.value.unshift(We),he(We.id)}else if(de.type==="App\\Notifications\\BanNotification"){let We,Qt=de.ban.type==="overall"?"":`${de.ban.type.toLowerCase()} `,Lt=de.ban.account==="user"?"you":de.ban.account;de.ban==="SERVED"||de.ban==="PENDING"?notifcation.ban.username?We=`you have been served ${Qt}ban which will last until ${_s.dateReadable(de.ban.dueDate)}`:We=`your ${Lt} account has been served ${Qt}ban which will last until ${_s.dateReadable(de.ban.dueDate)}`:(de.ban==="UNSERVED"||de.ban==="RESOLVED")&&(notifcation.ban.username?We=`your ${Qt} ban with the due date of ${_s.dateReadable(de.ban.dueDate)}, has been removed.`:We=`the ${Qt} ban served to ${Lt} account, with due date of ${_s.dateReadable(de.ban.dueDate)}, has been removed.`);let wt={isMessage:!0,text:We};wt.id=Math.floor(Math.random()*1e4),D.value.unshift(wt),he(wt.id)}else Te(de);g.value=!0}).listen(".newFollower",de=>{console.log("data :>> ",de);let We={};We.id=Math.floor(Math.random()*1e4),We.account={account:ns.getAccount(de.follower.followedby_type),accountId:de.follower.followedby_id,myAccount:ns.getAccount(de.follower.followable_type),myName:de.follower.my_name,url:de.follower.url,action:de.action},We.isAccount=!0,D.value.unshift(We),setTimeout(()=>{he(We.id)},5e3),t.dispatch("addUserFollower",de.follower)}).listen(".newDiscussionMessageResponse",de=>{console.log("data :>> ",de);let We={};We.id=Math.floor(Math.random()*1e4),We.message=de.message,We.isMessage=!0,D.value.unshift(We),setTimeout(()=>{he(We.id)},5e3)}):setTimeout(()=>{Ve()},3e3)}async function ut(){i.value=!0;const de=await t.dispatch("logout");i.value=!1,r.value=!1,de.status&&E!=="home"&&s.push("/")}return(de,We)=>{var Lt;const Qt=_("font-awesome-icon");return a(),d("div",Ahe,[Che,b(hv,{class:"w-16 cursor-pointer",onClick:Ke}),D.value.length?(a(),d("div",She,[(a(!0),d(Z,null,pe(D.value,wt=>(a(),S(fhe,{key:wt.id,id:wt.id,show:wt.hasOwnProperty("id"),isMessage:wt.isMessage,text:wt.text,isAccount:wt.isAccount,onRemoveAlert:Ce,account:wt.account,message:wt.message},null,8,["id","show","isMessage","text","isAccount","account","message"]))),128))])):c("",!0),h("div",Ihe,[h("div",The,V(((Lt=j.value)==null?void 0:Lt.username)??"guest"),1),b(Qt,{onClick:We[0]||(We[0]=()=>r.value=!r.value),icon:["fa",`${r.value?"chevron-up":"chevron-down"}`]},null,8,["icon"])]),h("div",{class:we([[r.value?"block":"hidden"],"absolute top-[100%] z-[1000] right-2 min-w-48 bg-white shadow-sm rounded p-2 py-4 text-center space-y-2"])},[E.value!="home"?(a(),d("div",{key:0,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:We[1]||(We[1]=()=>es(s).push({name:"home"}))},"Home")):c("",!0),T.value?(a(),d("div",{key:1,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:We[2]||(We[2]=()=>es(s).push("/register"))},"Register")):c("",!0),N.value?(a(),d("div",{key:2,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:We[3]||(We[3]=()=>es(s).push("/login"))},"Login")):c("",!0),j.value?(a(),d("div",{key:3,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:We[4]||(We[4]=()=>es(s).push({name:"welcome"}))},"User Profile")):c("",!0),F.value?(a(),d("div",{key:4,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:We[5]||(We[5]=()=>es(s).push("/dashboard"))},"Dashboard")):c("",!0),R.value&&j.value?(a(),d("div",{key:5,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:We[6]||(We[6]=Vt(wt=>n.value=!n.value,["prevent"]))},"Profiles")):c("",!0),R.value&&j.value?(a(),d("div",Dhe,[h("div",{class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:Vt(Q,["self"])},"Requests"),v.value.length?(a(),d("div",xhe,V(v.value.length),1)):c("",!0),A.value=="requests"&&f.value?(a(!0),d(Z,{key:1},pe(R.value,(wt,Je)=>(a(),d("div",{key:Je},[e.profileAccount!=wt.account||e.profileAccountId!=wt.accountId?(a(),S(oi,{key:0,profile:wt},null,8,["profile"])):c("",!0)]))),128)):c("",!0)])):c("",!0),j.value?(a(),d("div",{key:7,class:"request",onClick:le},[h("div",null,[b(Qt,{icon:["fa","bell"]})]),m.value.length?(a(),d("div",Phe,V(m.value.length),1)):c("",!0)])):c("",!0),j.value?(a(),d("div",{key:8,class:"border-b-2 border-transparent hover:border-youredubrown w-fit mx-auto cursor-pointer hover:bg-gradient-to-r from-youredubrown to-youredugreen hover:bg-clip-text hover:text-transparent hover:font-bold transition duration-75",onClick:ut},V(i.value?"logging out..":"Logout"),1)):c("",!0)],2),h("div",Mhe,[b(bhe,{show:f.value,type:A.value,onRequestsModalDisappear:W,requestNotifications:v.value.length},null,8,["show","type","requestNotifications"])])])}}},GA=Ae(Ehe,[["__scopeId","data-v-d1d2d1c3"]]),Ohe={name:"FirstSection",props:{isFlagged:{type:Boolean,default:!1}},components:{FadeUp:bi,ProfileBar:oi,SpecialButton:Gf,FilePreview:Lo,PostButton:xs,ProfilePicture:Ys,NumberOf:Pv},data(){return{showSmallModal:!1,smallModalLoading:!1,showProfiles:!1,followButtonText:"",myFollowId:-1,followSuccessMessage:"",follows:0,followings:0,smallModalTitle:"",modalLoading:!1,showPictureModal:!1,showPictureAdd:!1,modalAlertMessage:"",modalAlertError:!1,modalAlertSuccess:!1,showPreview:!1,file:null,showPreviousPic:!1,followLoading:!1,imageType:"image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp"}},watch:{file(e){e?this.showPreviousPic=!1:this.showPreviousPic=!0}},computed:{...os(["profile/getProfile","profile/getAccount","getProfiles","getUser"]),computedName(){return this["profile/getProfile"]?this["profile/getProfile"].name:""},computedUsername(){return this["profile/getProfile"]?this["profile/getProfile"].username:""},computedAccount(){if(this["profile/getProfile"]){if(this["profile/getAccount"]==="professional")return`${this["profile/getAccount"]} (${this["profile/getProfile"].owner.role})`}else return"";return this["profile/getAccount"]?this["profile/getAccount"]:""},computedRoute(){return Ns()},computedFollowings(){return this["profile/getProfile"]?(this.followings=this["profile/getProfile"].followings,this["profile/getProfile"].followings):(this.followings=0,0)},computedFollowing(){if(this["profile/getProfile"]&&this.getUser){let e=this["profile/getProfile"].follows,t=e.findIndex(s=>this.getUser.id=s.user_id);if(t>-1)return this.myFollowId=e[t].id,!0}return!1},computedFollowButton(){if(!this.getUser)this.followButtonText="follow",this.smallModalTitle="you must be logged in or registered to follow with any of your accounts";else if(this.getUser&&!this.getProfiles.length)this.followButtonText="follow",this.smallModalTitle="you must have an account (eg. learner, parent, etc) before you can follow.";else{if(this.computedOwner)return!1;this.getProfiles.length&&this.computedFollowing?this.followButtonText="unfollow":this.getProfiles.length&&(this.followButtonText="follow")}return!0},computedFollows(){return this["profile/getProfile"]?(this.follows=this["profile/getProfile"].follows.length,this["profile/getProfile"].follows.length):(this.follows=0,0)},computedVerification(){var e,t;return this["profile/getAccount"]==="learner"?"":((t=(e=this["profile/getProfile"])==null?void 0:e.owner)==null?void 0:t.verification.status)==="VERIFIED"?"verified":"not verified"},computedDate(){return _s.dateReadable(this["profile/getProfile"].created_at)},computedUrl(){return this["profile/getProfile"]?this["profile/getProfile"].url:""},computedOwner(){return this.getUser&&this["profile/getProfile"]?this.getUser.id===this["profile/getProfile"].user_id:!1},computedShowFollow(){return this.computedOwner?!1:!!this.getProfiles},computedProfiles(){return this.getProfiles}},methods:{...ss(["profile/follow","profile/unfollow","profile/updateProfilePic"]),clickedMedia(e,t){this.computedOwner?this.editProfilePicture():this.$emit("clickedMedia",{url:e,mediaType:t})},pictureModalAppear(){this.showPreviousPic=!0},inputFileChange(e){let t=e.target.files[0];this.showPreview=!0,this.file=t},clickedAddFile(){this.showPreview=!1,this.$refs.inputfile.setAttribute("accept",this.imageType),this.$refs.inputfile.click()},removeFile(){this.file=null,this.showPreviousPic=!0},clearAlert(){this.modalAlertError=!1,this.modalAlertSuccess=!1,this.modalAlertMessage="",this.showPictureAdd=!0},async clickedAdd(){if(this.file){this.showPictureAdd=!1;let e=new FormData,t=this["profile/getProfile"].id;e.append("file",this.file),e.append("account",this.computedRoute.params.account),e.append("accountId",this.computedRoute.params.accountId);let s={profileId:t,formData:e};await this["profile/updateProfilePic"](s)==="successful"?(this.modalAlertSuccess=!0,this.modalAlertMessage="successfully uploaded profile picture"):(this.modalAlertError=!0,this.modalAlertMessage="upload of picture was unsuccessful")}else this.modalAlertError=!0,this.modalAlertMessage="please select an image first"},editProfilePicture(){this.showPictureModal=!0},clickedFollow(){this.getProfiles&&!this.computedOwner?this.followButtonText==="follow"?(this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)):this.clickedUnfollow():(this.showSmallModal=!0,setTimeout(()=>{this.showSmallModal=!1},4e3))},async clickedProfile(e){if(this.showProfiles=!1,!this.computedFollowing){this.followLoading=!0;let t={account:e.account,accountId:e.accountId,follow:this.computedRoute.params.account,followId:this.computedRoute.params.accountId},s=await this["profile/follow"](t);this.followLoading=!1,s.status?(this.followButtonText="unfollow",this.followSuccessMessage="you are now following",setTimeout(()=>{this.followSuccessMessage=""},2e3)):(this.followSuccessMessage="something went wrong",setTimeout(()=>{this.followSuccessMessage=""},2e3))}},async clickedUnfollow(){this.followLoading=!0;let e={followId:this.myFollowId};console.log("unfollow",e);let t=await this["profile/unfollow"](e);this.followLoading=!1,t==="successful"?(this.followButtonText="follow",this.followSuccessMessage="you just unfollowed",setTimeout(()=>{this.followSuccessMessage=""},2e3)):(this.followSuccessMessage="something went wrong",setTimeout(()=>{this.followSuccessMessage=""},2e3))},clickedOk(){this.showSmallModal=!1}}},YA=e=>(gs("data-v-336869f2"),e=e(),vs(),e),Rhe={class:"first-section"},Nhe={class:"profile-picture"},Lhe={slot:"image"},Fhe=["src"],Uhe={class:"profile-about"},Bhe=YA(()=>h("div",{class:"border-style"},null,-1)),jhe={class:"follows"},Vhe={class:"action"},qhe={key:1,class:"following"},Hhe={key:2,class:"profiles"},Whe=YA(()=>h("span",null," follow as ",-1)),zhe={class:"name"},Ghe={class:"username"},Yhe={class:"as"},Qhe={key:0,class:"verification"},Khe={class:"created-at"},Jhe={slot:"actions"},Xhe={slot:"loading"},$he={slot:"main"},Zhe={slot:"input"};function efe(e,t,s,o,i,n){const r=_("profile-picture"),f=_("number-of"),m=_("pulse-loader"),v=_("special-button"),g=_("profile-bar"),A=_("post-button"),D=_("small-modal"),E=_("fade-up"),T=_("sync-loader"),N=_("file-preview"),F=_("font-awesome-icon"),R=_("welcome-form"),j=_("main-modal"),W=_("just-fade");return a(),d("div",Rhe,[h("div",Nhe,[b(r,{onEditProfile:n.editProfilePicture},{default:z(()=>[h("template",Lhe,[h("img",{src:n.computedUrl,alt:"profile picture",onClick:t[0]||(t[0]=Q=>n.clickedMedia(n.computedUrl,"image"))},null,8,Fhe)])]),_:1},8,["onEditProfile"])]),h("div",Uhe,[Bhe,h("div",jhe,[n.computedFollows>-1?(a(),S(f,{key:0},{default:z(()=>[Mt(" followed by "+V(i.follows),1)]),_:1})):c("",!0),n.computedFollowings>-1?(a(),S(f,{key:1},{default:z(()=>[Mt(" follows "+V(i.followings),1)]),_:1})):c("",!0),h("div",Vhe,[n.computedFollowButton?(a(),S(v,{key:0,buttonText:i.followButtonText,onClick:n.clickedFollow},{default:z(()=>[i.followLoading?(a(),S(m,{key:0,loading:i.followLoading,size:"9px"},null,8,["loading"])):c("",!0)]),_:1},8,["buttonText","onClick"])):c("",!0),i.followSuccessMessage.length?(a(),d("div",qhe,V(i.followSuccessMessage),1)):c("",!0),i.showProfiles?(a(),d("div",Hhe,[Whe,(a(!0),d(Z,null,pe(n.computedProfiles,(Q,le)=>(a(),d("div",{key:le},[b(g,{smallType:!0,profile:Q,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)])]),h("div",zhe,V(n.computedName),1),h("div",Ghe," @"+V(n.computedUsername),1),h("div",Yhe,[h("div",null,V(n.computedAccount),1)]),n.computedVerification.length?(a(),d("div",Qhe,[h("div",null,V(n.computedVerification),1)])):c("",!0),h("div",Khe,V(n.computedDate),1)]),b(E,null,{default:z(()=>[i.showSmallModal?(a(),S(D,{key:0,title:i.smallModalTitle,show:i.showSmallModal,onDisappear:t[1]||(t[1]=Q=>i.showSmallModal=!1)},{default:z(()=>[h("template",Jhe,[b(A,{buttonText:"ok",onClick:n.clickedOk},null,8,["onClick"])])]),_:1},8,["title","show"])):c("",!0)]),_:1}),b(W,null,{default:z(()=>[i.showPictureModal?(a(),S(j,{key:0,onMainModalDisappear:t[4]||(t[4]=Q=>i.showPictureModal=!1),onMainModalAppear:n.pictureModalAppear,alertMessage:i.modalAlertMessage,alertError:i.modalAlertError,alertSuccess:i.modalAlertSuccess,onClearAlert:n.clearAlert,loading:i.modalLoading},{default:z(()=>[h("template",Xhe,[b(T,{loading:i.modalLoading},null,8,["loading"])]),h("template",$he,[b(R,null,{default:z(()=>[h("template",Zhe,[b(N,{type:"circle",show:i.showPreview,file:i.file,hasCircleImg:i.showPreviousPic,imgSrc:n.computedUrl,onRemoveFile:n.removeFile},null,8,["show","file","hasCircleImg","imgSrc","onRemoveFile"]),h("div",{class:"upload",onClick:t[2]||(t[2]=(...Q)=>n.clickedAddFile&&n.clickedAddFile(...Q))},[b(F,{icon:["fa","file-image"]})]),h("input",{type:"file",ref:"inputfile",class:"hidden",onChange:t[3]||(t[3]=(...Q)=>n.inputFileChange&&n.inputFileChange(...Q))},null,544)]),i.showPictureAdd?(a(),S(A,{key:0,buttonText:"add",onClick:n.clickedAdd},null,8,["onClick"])):c("",!0)]),_:1})])]),_:1},8,["onMainModalAppear","alertMessage","alertError","alertSuccess","onClearAlert","loading"])):c("",!0)]),_:1})])}const tfe=Ae(Ohe,[["render",efe],["__scopeId","data-v-336869f2"]]),sfe={props:{link:{type:String,default:"#"},text:{type:String,default:""}}},nfe={class:"badge"};function ife(e,t,s,o,i,n){const r=_("router-link");return a(),S(r,{to:s.link},{default:z(()=>[h("div",nfe,V(s.text),1)]),_:1},8,["to"])}const ofe=Ae(sfe,[["render",ife],["__scopeId","data-v-348224d2"]]),afe={},Fv=e=>(gs("data-v-d624c15b"),e=e(),vs(),e),rfe={class:"detail-wrapper"},lfe=Fv(()=>h("div",{class:"top"}," this is the name of the course ",-1)),cfe={class:"middle"},ufe={class:"item"},dfe=Fv(()=>h("div",null,"this facilitator",-1)),hfe={class:"item"},ffe=Fv(()=>h("div",{class:"bottom"},[Mt(" last update on "),h("div",null,"1st January, 2020")],-1));function mfe(e,t,s,o,i,n){return a(),d("div",rfe,[lfe,h("div",cfe,[h("div",ufe,[Mt(" created by "),dfe,Jt(e.$slots,"item1",{},void 0,!0)]),h("div",hfe,[Jt(e.$slots,"item2",{},void 0,!0)])]),ffe])}const pfe=Ae(afe,[["render",mfe],["__scopeId","data-v-d624c15b"]]),gfe={props:{showIcon:{type:Boolean,default:!1},title:{type:String,default:""}},methods:{clickedIcon(){this.$emit("clickedIcon",this.title)}}},vfe={class:"wrapper"},yfe={class:"top"},wfe={class:"bottom"},_fe={class:"text"};function bfe(e,t,s,o,i,n){const r=_("font-awesome-icon");return a(),d("div",vfe,[h("div",yfe,[Jt(e.$slots,"top",{},void 0,!0),s.showIcon?(a(),d("div",{key:0,class:"icon",onClick:t[0]||(t[0]=(...f)=>n.clickedIcon&&n.clickedIcon(...f))},[b(r,{icon:["fa","plus"]})])):c("",!0)]),h("div",wfe,[h("div",_fe,[Jt(e.$slots,"text",{},void 0,!0),Jt(e.$slots,"link",{},void 0,!0)])])])}const kfe=Ae(gfe,[["render",bfe],["__scopeId","data-v-3c90ef0a"]]),Afe={props:{link:{type:Boolean,default:!1},actions:{type:Boolean,default:!1},item:{type:String,default:""},title:{type:String,default:""},seen:{type:Boolean,default:!1},unseen:{type:Boolean,default:!1},id:{type:Number,default:null}},components:{FadeLeftFast:Kf},watch:{seen:{immedialte:!0,handler(e){e?this.iconTitle="make it unseen on profile":this.iconTitle="make it seen on profile"}}},data(){return{iconTitle:""}},methods:{clickedShow(){this.$emit("clickedShow",{id:this.id,item:this.item,title:this.title})},clickedRemove(){this.$emit("clickedRemove",{id:this.id,item:this.item,title:this.title})}}},Cfe={slot:"transition"},Sfe={class:"link-item-wrapper"},Ife={key:0},Tfe=["href"],Dfe={key:2,class:"actions"},xfe=["title"],Pfe=["title"];function Mfe(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("fade-left-fast");return a(),S(f,null,{default:z(()=>[h("template",Cfe,[h("div",Sfe,[s.link?(a(),d("a",{key:1,href:s.item},null,8,Tfe)):(a(),d("div",Ife,V(s.item),1)),s.actions?(a(),d("div",Dfe,[s.unseen?(a(),d("div",{key:0,class:"show",onClick:t[0]||(t[0]=(...m)=>n.clickedShow&&n.clickedShow(...m)),title:s.title},[b(r,{icon:["fa","eye"]})],8,xfe)):c("",!0),s.seen?(a(),d("div",{key:1,class:"show",onClick:t[1]||(t[1]=(...m)=>n.clickedShow&&n.clickedShow(...m)),title:s.title},[b(r,{icon:["fa","eye-slash"]})],8,Pfe)):c("",!0),h("div",{class:"remove",onClick:t[2]||(t[2]=(...m)=>n.clickedRemove&&n.clickedRemove(...m)),title:"remove"},[b(r,{icon:["fa","trash"]})])])):c("",!0)])])]),_:1})}const Efe=Ae(Afe,[["render",Mfe],["__scopeId","data-v-6b6e7553"]]),Ofe={props:{loading:{type:Boolean,default:!1}},data(){return{actionActive:!1}},methods:{clickedUnflag(){this.actionActive=!0,this.$emit("clickedUnflag")}}},QA=e=>(gs("data-v-d02b1edf"),e=e(),vs(),e),Rfe={class:"post-none-wrapper activity-no"},Nfe={key:0,class:"loading"},Lfe=QA(()=>h("div",{class:"top"}," you cannot see any activities now because you have flagged this account... ",-1)),Ffe={class:"bottom"},Ufe=QA(()=>h("div",null,"to see activities of this account,",-1));function Bfe(e,t,s,o,i,n){const r=_("pulse-loader");return a(),d("div",Rfe,[s.loading?(a(),d("div",Nfe,[b(r,{loading:s.loading,size:"10px"},null,8,["loading"])])):c("",!0),Lfe,h("div",Ffe,[Ufe,h("div",{class:we(["action",{actionActive:i.actionActive}]),onClick:t[0]||(t[0]=(...f)=>n.clickedUnflag&&n.clickedUnflag(...f))},"unflag",2)])])}const jfe=Ae(Ofe,[["render",Bfe],["__scopeId","data-v-d02b1edf"]]),Vfe={props:{heading:{type:String,default:""},showIcon:{type:Boolean,default:!1},showPrivate:{type:Boolean,default:!1}},components:{PostButton:xs},computed:{computedPrivate(){return this.showPrivate?`private ${this.heading}`:""}},methods:{clickedIcon(){this.$emit("clickedIcon",this.heading)},clickedPrivate(){this.$emit("getPrivateMedia",this.heading)},getMedia(){this.$emit("getMedia",this.heading)}}},qfe={class:"group-section-wrapper"},Hfe={class:"top"},Wfe={class:"bottom"};function zfe(e,t,s,o,i,n){const r=_("post-button"),f=_("font-awesome-icon");return a(),d("div",qfe,[h("div",Hfe,[h("div",{class:"heading",onClick:t[0]||(t[0]=Vt((...m)=>n.getMedia&&n.getMedia(...m),["self"]))},V(s.heading),1),s.showPrivate?(a(),S(r,{key:0,buttonText:n.computedPrivate,onClick:n.clickedPrivate},null,8,["buttonText","onClick"])):c("",!0),s.showIcon?(a(),d("div",{key:1,class:"icon",onClick:t[1]||(t[1]=(...m)=>n.clickedIcon&&n.clickedIcon(...m))},[b(f,{icon:["fa","plus"]})])):c("",!0)]),h("div",Wfe,[Jt(e.$slots,"body",{},void 0,!0)])])}const Gfe=Ae(Vfe,[["render",zfe],["__scopeId","data-v-1db21aac"]]),Yfe={name:"SecondSection",components:{Badge:ofe,DetailShowcase:pfe,PostButton:xs,GroupSection:Gfe,PostNone:jfe,DiscussionSingle:yA,TextInput:js,FilePreview:Lo,LinkItem:Efe,PostSingle:wv,PostCreate:iA,BlackWhiteBadge:Ad,FadeLeft:Bf,MainTextarea:dr,ProfileDetail:kfe,ProfilePicture:Ys},props:{account:{type:String,default:""},isFlagged:{type:Boolean,default:!1},unflagLoading:{type:Boolean,default:!1},accountId:{type:String,default:""}},data(){return{activateUserClass:!1,activateActivityClass:!1,activateUser:!1,activateActivity:!1,activitySection:!1,showEdit:!1,complete:!1,showModal:!1,yes:!1,no:!1,inputText:"",inputType:"text",addType:"",inputPlaceholder:"",modalLoading:!1,nextPage:1,showFileModal:!1,showMediaPreview:!1,addMediaIcon:["fa","file-image"],file:null,mediaAcceptType:"",showMediaAdd:!0,addMediaTitle:"",modalAlertMessage:"",modalAlertError:!1,modalAlertSuccess:!1,mediaData:{media:[],mediaType:""},mediaLoading:!1,showMediaModal:!1,showMediaMain:!1,showMediaMore:!1,showMoreText:"",getMediaType:"public",mediaType:"",showCreateDiscussion:!1,discussionLoading:!1}},computed:{computedOwner(){return this.getUserId&&this["profile/getProfile"]?this.getUserId===this["profile/getProfile"].user_id:!1},...os(["profile/getProfile","profile/getAccount","getUserId","profile/getMsg","profile/getPostingStatus","profile/profilePosts","profile/getLoadingStatus","profile/getPostsDone","profile/getNextPage","profile/getStateMedia","profile/getMoreMedia"]),computedImages(){return this["profile/getProfile"]?this["profile/getProfile"].images:null},computedVideos(){return this["profile/getProfile"]?this["profile/getProfile"].videos:null},computedAudios(){return this["profile/getProfile"]?this["profile/getProfile"].audios:null},computedEmails(){return this["profile/getProfile"]?this["profile/getProfile"].owner.emails:null},computedSocials(){return this["profile/getProfile"]?this["profile/getProfile"].socials:null},computedPosts(){return this["profile/profilePosts"]&&this["profile/profilePosts"].length>0?this["profile/profilePosts"]:null},computedRoute(){return Ns()},computedAbout(){return this["profile/getProfile"]&&this["profile/getProfile"].about?this["profile/getProfile"].about:"nothing yet"},computedCompany(){return this["profile/getProfile"]&&this["profile/getProfile"].company?this["profile/getProfile"].company:"nothing yet"},computedInterests(){return this["profile/getProfile"]&&this["profile/getProfile"].interests?this["profile/getProfile"].interests:"nothing yet"},computedOccupation(){return this["profile/getProfile"]&&this["profile/getProfile"].occupation?this["profile/getProfile"].occupation:"nothing yet"},computedLocation(){return this["profile/getProfile"]&&this["profile/getProfile"].hasOwnProperty("location")&&this["profile/getProfile"].location!=null?this["profile/getProfile"].location:"nothing yet"},computedPhoneNumbers(){return this["profile/getProfile"]&&this["profile/getProfile"].hasOwnProperty("phoneNumbers")?this["profile/getProfile"].phoneNumbers:[]},computedSubjects(){return this["profile/getProfile"].hasOwnProperty("subjects")&&this["profile/getProfile"].subjects!=null?this["profile/getProfile"].subjects:[]},computedGrades(){return this["profile/getProfile"].hasOwnProperty("grades")&&this["profile/getProfile"].grades!=null?this["profile/getProfile"].grades:[]},computedSchools(){return this["profile/getProfile"].hasOwnProperty("schools")&&this["profile/getProfile"].schools!=null?this["profile/getProfile"].schools:[]},computedGroups(){return this["profile/getProfile"].hasOwnProperty("groups")&&this["profile/getProfile"].groups!=null?this["profile/getProfile"].groups:[]},computedClasses(){return this["profile/getProfile"].hasOwnProperty("classes")&&this["profile/getProfile"].classes!=null?this["profile/getProfile"].classes:[]},computedCurricula(){return this["profile/getProfile"].hasOwnProperty("curricula")&&this["profile/getProfile"].curricula!=null?this["profile/getProfile"].curricula:[]},computedExtracurriculums(){return this["profile/getProfile"].hasOwnProperty("extracurriculums")&&this["profile/getProfile"].extracurriculums!=null?this["profile/getProfile"].extracurriculums:[]},computedPostCreate(){return this["profile/getPostingStatus"]?!1:!!(this.getUserId&&this.getUserId===this["profile/getProfile"].user_id)},computedPostCreating(){return this["profile/getPostingStatus"]}},methods:{...ss(["profile/getProfilePosts","profile/addInfo","profile/markInfo","profile/removeInfo","profile/uploadFile","profile/getMedia","profile/getPrivateMedia","profile/changeMedia","profile/deleteMedia"]),clickedShowDiscussion(){this.showCreateDiscussion=!0},clickedCloseDiscussion(){this.showCreateDiscussion=!1},async clickedCreateDiscussion(e){let t,s=new FormData,o=this.computedRoute.name;this.discussionLoading=!0,s.append("account",e.account),s.append("accountId",e.accountId),s.append("title",e.title),s.append("type",e.type),s.append("allowed",e.allowed),s.append("restricted",JSON.stringify(e.restricted)),s.append("preamble",e.preamble),e.files.forEach(i=>{s.append("file[]",i)}),e.postAttachments.length&&s.append("attachments",JSON.stringify(e.postAttachments.map(i=>({attachable:i.type.slice(0,i.type.length-1),attachableId:i.data.id})))),t=await this["profile/createDiscussion"]({formData:s,where:o}),this.discussionLoading=!1,t.status?(this.modalAlertSuccess=!0,this.modalAlertMessage="discussion created successfully"):(console.log("response :>> ",t),this.modalAlertError=!0,this.modalAlertMessage="discussion creation failed"),this.clearAlert()},clickedUnflag(){this.$emit("clickedUnflag")},clickedShowPostComments(e){this.$emit("clickedShowPostComments",e)},clickedShowPostPreview(e){this.$emit("clickedShowPostPreview",e)},async clickedMediaIcon(e){let t={account:this.computedRoute.params.account,accountId:this.computedRoute.params.accountId,media:this.mediaType,mediaId:e.mediaId},s=null;if(e.type==="change"?s=await this["profile/changeMedia"](t):e.type==="delete"&&(s=await this["profile/deleteMedia"](t)),s!=="unsuccessful"){let o=this.mediaData.media.findIndex(i=>i.id===e.mediaId);o>-1&&this.mediaData.media.splice(o,1)}},showMediaModalPrivate(e){this.getMediaType="private",this.showMediaModal=!0,this.mediaType=e,this.mediaData.mediaType=e},showMediaModalPublic(e){this.getMediaType="public",this.showMediaModal=!0,this.mediaType=e,this.mediaData.mediaType=e},mediaModalAppear(){this.getMediaType==="public"?this.getMedia(this.mediaType):this.getMediaType==="private"&&this.getPrivateMedia(this.mediaType)},showMoreMedia(){this["profile/getMoreMedia"]&&(this.getMediaType==="public"?this.getMedia(this.mediaType):this.getMediaType==="private"&&this.getPrivateMedia(this.mediaType))},async getMedia(e){this.getMediaType="public",this.mediaLoading=!0;let t={account:this.computedRoute.params.account,accountId:this.computedRoute.params.accountId,nextPage:this.nextPage};e.includes("image")?t.media="images":e.includes("audio")?t.media="videos":e.includes("video")&&(t.media="audios");let s=await this["profile/getMedia"](t);this.mediaLoading=!1,s!=="unsuccessful"&&s.data.length&&(console.log(s.data),s.data.forEach(o=>{this.mediaData.media.push(o)})),s.links.next?(this.nextPage+=1,this.showMoreMedia=!0):this.showMoreMedia=!1},async getPrivateMedia(e){this.getMediaType="private",this.mediaLoading=!0;let t={account:this.computedRoute.params.account,accountId:this.computedRoute.params.accountId,nextPage:this.nextPage};e.includes("image")?t.media="images":e.includes("audio")?t.media="videos":e.includes("video")&&(t.media="audios");let s=await this["profile/getPrivateMedia"](t);this.mediaLoading=!1,s!=="unsuccessful"&&s.data.length&&(console.log(s.data),s.data.forEach(o=>{this.mediaData.media.push(o)})),s.links.next?(this.nextPage+=1,this.showMoreMedia=!0):this.showMoreMedia=!1},clickedProfileMedia(e,t){this.clickedMedia({media:e,mediaType:t})},clickedMedia(e){this.$emit("clickedMedia",e)},async clickedShow(e){let t={};e.title==="email"?t.item="email":e.title==="social"?t.item="social":e.title==="phone"&&(t.item="phone"),t.id=e.id,await this["profile/markInfo"](t)},async clickedRemove(e){let t={};e.title==="email"?t.item="email":e.title==="social"?t.item="social":e.title==="phone"&&(t.item="phone"),t.id=e.id,await this["profile/removeInfo"](t)},clearAlert(){this.modalAlertSuccess=!1,this.modalAlertError=!1,this.modalAlertMessage=""},clickedAddFile(){this.showMediaPreview=!1,this.$refs.inputfile.setAttribute("accept",this.mediaAcceptType),this.$refs.inputfile.click()},mediaModalDisappear(){this.showMediaModal=!1,this.mediaData.media=[],this.mediaData.mediaType="",this.nextPage=1},fileModalDisappear(){this.showFileModal=!1,this.removeMedia()},removeMedia(){this.file=null},async clickedAddMedia(){if(this.file){this.modalLoading=!0,this.showMediaAdd=!1;let e=new FormData,t=this["profile/getProfile"].id;e.append("file",this.file),e.append("account",this.computedRoute.params.account),e.append("accountId",this.computedRoute.params.accountId),this.no?e.append("show","PRIVATE"):e.append("show","PUBLIC");let s={profileId:t,formData:e},o=await this["profile/uploadFile"](s);this.modalLoading=!1,o==="successful"?(this.modalAlertSuccess=!0,this.modalAlertMessage=`successfully uploaded of ${this.addType}`):(this.modalAlertError=!0,this.modalAlertMessage=`upload of ${this.addType} was unsuccessful`,this.showMediaAdd=!0)}else this.modalAlertError=!0,this.modalAlertMessage=this.addType!=="video"?`please select an ${this.addType} first`:"please select a video first"},async clickedAdd(){if(this.inputText&&this.inputText!==""){this.modalLoading=!0;let e={};this.addType==="email"?e.email=this.inputText.trim():this.addType==="social"?e.social=this.inputText.trim():this.addType==="phone"&&(e.phone=this.inputText.trim()),this.no?e.show=!1:e.show=!0;let t={profile_id:this["profile/getProfile"].id,data:e},s=await this["profile/addInfo"](t);this.modalLoading=!1,s==="successful"?(this.modalAlertSuccess=!0,this.modalAlertError=!1,this.modalAlertMessage=this.addType==="email"?"email was successfully added":this.addType==="social"?"social medai link was successfully added":this.addType==="phone"?"phone number was successfully added":""):(this.modalAlertSuccess=!1,this.modalAlertError=!0,s.hasOwnProperty("email")?this.modalAlertMessage=s.email.toString():s.hasOwnProperty("phone")?this.modalAlertMessage=s.phone.toString():s.hasOwnProperty("url")&&(this.modalAlertMessage=s.phone.toString()))}else this.modalAlertError=!0,this.modalAlertMessage=this.addType==="email"?"Please enter an email.":"Please enter a link to your social media account."},inputFileChange(e){let t=e.target.files[0];this.showMediaPreview=!0,this.file=t},clickedYes(){this.no=!1,this.yes=!0},clickedNo(){this.yes=!1,this.no=!0},clickedIcon(e){e==="emails"?(this.inputPlaceholder="your email",this.addType="email",this.inputType="email",this.showModal=!0):e==="socials"?(this.inputPlaceholder="your social media url",this.addType="social",this.inputType="text",this.showModal=!0):e==="phones"?(this.inputPlaceholder="your phone number",this.addType="phone",this.inputType="text",this.showModal=!0):e==="images"?(this.inputPlaceholder="your phone number",this.addType="image",this.addMediaTitle="add an image",this.addMediaIcon=["fa","file-image"],this.mediaAcceptType="image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp",this.showFileModal=!0):e==="videos"?(this.inputPlaceholder="your phone number",this.addType="video",this.addMediaTitle="add a video",this.addMediaIcon=["fa","file-video"],this.mediaAcceptType="video/webm,video/mp4,video/ogg",this.showFileModal=!0):e==="audios"&&(this.inputPlaceholder="your phone number",this.addType="audio",this.addMediaTitle="add an audio",this.addMediaIcon=["fa","file-audio"],this.mediaAcceptType="audio/mpeg,audio/ogg,audio/wav",this.showFileModal=!0)},modalDisappear(){this.showModal=!1},askLoginRegister(){this.$emit("askLoginRegister","profileSsecond")},editProfile(){this.$emit("editProfile")},activateUserSection(){window.innerHeight<=1100?(this.activateUser=!0,this.activateUserClass=!0,this.activateActivity=!1,this.activateActivityClass=!1):(this.activateUser=!0,this.activateActivity=!0,this.activateUserClass=!0,this.activateActivityClass=!0)},activateActivitySection(){window.innerHeight<=1100?(this.activateUser=!1,this.activateUserClass=!1,this.activateActivity=!0,this.activateActivityClass=!0):(this.activateUser=!0,this.activateActivity=!0,this.activateUserClass=!0,this.activateActivityClass=!0)},resizeAction(){window.innerWidth>1100?this.activitySection=!0:(this.activitySection=!1,this.activateUser===!0?(this.activateUser=!0,this.activateActivity=!1):(this.activateUser=!1,this.activateActivity=!0))}},created(){window.innerWidth<=1100?(this.activateUser=!0,this.activateUserClass=!0,this.activateActivity=!1,this.activateActivityClass=!1):this.activitySection=!0,window.addEventListener("resize",this.resizeAction)}},va=e=>(gs("data-v-044f6540"),e=e(),vs(),e),Qfe={class:"second-section"},Kfe={class:"top"},Jfe={class:"edit"},Xfe={class:"bottom"},$fe=["onClick"],Zfe=["src"],eme=["src","onClick"],tme=["src","onClick"],sme=va(()=>h("div",{slot:"top"}," About ",-1)),nme={slot:"text"},ime=va(()=>h("div",{slot:"top"}," interests ",-1)),ome={slot:"text"},ame=va(()=>h("div",{slot:"top"}," phone numbers ",-1)),rme={slot:"link"},lme=va(()=>h("div",{slot:"top"}," links to media accounts ",-1)),cme={slot:"link"},ume=va(()=>h("div",{slot:"top"}," emails ",-1)),dme={slot:"link"},hme=va(()=>h("div",{slot:"top"}," interests ",-1)),fme={slot:"text"},mme=va(()=>h("div",{slot:"top"}," Company ",-1)),pme={slot:"text"},gme=va(()=>h("div",{slot:"top"}," occupation ",-1)),vme={slot:"text"},yme={slot:"body"},wme={key:1,class:"activity"},_me={class:"spinner"},bme={class:"extras-section"},kme={key:0,class:"loading"},Ame={key:5,class:"none"},Cme={slot:"loading"},Sme={slot:"main"},Ime={slot:"input"},Tme={class:"profile-section"},Dme={class:"option-section"},xme=va(()=>h("span",null,"show on profile?",-1)),Pme=va(()=>h("div",{class:"option-info"}," it will be shown on your profile by default ",-1)),Mme={slot:"buttons"},Eme={slot:"loading"},Ome={slot:"main"},Rme={slot:"input"},Nme=["title"],Lme={class:"profile-section"},Fme={class:"option-section"},Ume=va(()=>h("span",null,"show on profile?",-1)),Bme=va(()=>h("div",{class:"option-info"}," it will be shown on your profile by default ",-1)),jme={slot:"loading"};function Vme(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("black-white-badge"),m=_("fade-left"),v=_("group-section"),g=_("profile-detail"),A=_("link-item"),D=_("detail-showcase"),E=_("sync-loader"),T=_("post-button"),N=_("pulse-loader"),F=_("post-create"),R=_("post-single"),j=_("discussion-single"),W=_("post-none"),Q=_("text-input"),le=_("welcome-form"),me=_("main-modal"),k=_("just-fade"),Ce=_("file-preview"),he=_("media-modal"),Ke=_("create-discussion");return a(),d("div",Qfe,[h("div",Kfe,[h("div",{class:we(["section user",{"section-active":i.activateUserClass}]),onClick:t[0]||(t[0]=(...Te)=>n.activateUserSection&&n.activateUserSection(...Te)),onMouseover:t[1]||(t[1]=Te=>i.showEdit=!0),onMouseleave:t[2]||(t[2]=Te=>i.showEdit=!1)},[b(r,{icon:["fa","user-circle"]}),h("div",Jfe,[b(m,null,{default:z(()=>[i.showEdit?(a(),S(f,{key:0,text:"edit",onClick:n.editProfile},null,8,["onClick"])):c("",!0)]),_:1})])],34),h("div",{class:we(["section activity",{"section-active":i.activateActivityClass}]),onClick:t[3]||(t[3]=(...Te)=>n.activateActivitySection&&n.activateActivitySection(...Te))},[b(r,{icon:["fa","exclamation-circle"]})],2)]),h("div",Xfe,[i.activitySection||i.activateUser?(a(),d("div",{key:0,class:"user",onMouseover:t[4]||(t[4]=Te=>i.showEdit=!0),onMouseleave:t[5]||(t[5]=Te=>i.showEdit=!1)},[h("div",null,[b(v,{heading:"images",onClickedIcon:n.clickedIcon,onGetMedia:n.showMediaModalPublic,onGetPrivateMedia:n.showMediaModalPrivate,showIcon:!0,showPrivate:n.computedOwner},{default:z(()=>[n.computedImages?(a(!0),d(Z,{key:0},pe(n.computedImages,Te=>(a(),d("div",{class:"content",key:Te.id,onClick:Ve=>n.clickedProfileMedia(Te,"image")},[h("img",{src:Te.url},null,8,Zfe)],8,$fe))),128)):c("",!0),n.computedImages?c("",!0):(a(),d(Z,{key:1},[Mt(" no images ")],64))]),_:1},8,["onClickedIcon","onGetMedia","onGetPrivateMedia","showPrivate"]),b(v,{heading:"videos",onClickedIcon:n.clickedIcon,onGetMedia:n.showMediaModalPublic,onGetPrivateMedia:n.showMediaModalPrivate,showIcon:!0,showPrivate:n.computedOwner},{default:z(()=>[n.computedVideos?(a(!0),d(Z,{key:0},pe(n.computedVideos,Te=>(a(),d("video",{key:Te.id,src:Te.url,onClick:Ve=>n.clickedProfileMedia(Te,"video"),controlslist:"nodownload"},null,8,eme))),128)):c("",!0),n.computedVideos?c("",!0):(a(),d(Z,{key:1},[Mt(" no videos ")],64))]),_:1},8,["onClickedIcon","onGetMedia","onGetPrivateMedia","showPrivate"]),b(v,{heading:"audios",onClickedIcon:n.clickedIcon,onGetMedia:n.showMediaModalPublic,onGetPrivateMedia:n.showMediaModalPrivate,showIcon:!0,showPrivate:n.computedOwner},{default:z(()=>[n.computedAudios?(a(!0),d(Z,{key:0},pe(n.computedAudios,Te=>(a(),d("audio",{key:Te.id,src:Te.url,onClick:Ve=>n.clickedProfileMedia(Te,"audio"),controlslist:"nodownload"},null,8,tme))),128)):c("",!0),n.computedAudios?c("",!0):(a(),d(Z,{key:1},[Mt(" no audios ")],64))]),_:1},8,["onClickedIcon","onGetMedia","onGetPrivateMedia","showPrivate"]),n.computedAbout?(a(),S(g,{key:0},{default:z(()=>[sme,h("div",nme,V(n.computedAbout),1)]),_:1})):c("",!0),n.computedInterests?(a(),S(g,{key:1},{default:z(()=>[ime,h("div",ome,V(n.computedInterests),1)]),_:1})):c("",!0),n.computedPhoneNumbers?(a(),S(g,{key:2,showIcon:!0,title:"phones",onClickedIcon:n.clickedIcon},{default:z(()=>[ame,h("template",rme,[(a(!0),d(Z,null,pe(n.computedPhoneNumbers,Te=>(a(),S(A,{key:Te.id,id:Te.id,title:"phone",seen:Te.show,unseen:!Te.show,item:Te.phone_number,actions:!0,onClickedShow:n.clickedShow,onClickedRemove:n.clickedRemove},null,8,["id","seen","unseen","item","onClickedShow","onClickedRemove"]))),128))])]),_:1},8,["onClickedIcon"])):c("",!0),n.computedSocials?(a(),S(g,{key:3,showIcon:!0,title:"socials",onClickedIcon:n.clickedIcon},{default:z(()=>[lme,h("template",cme,[(a(!0),d(Z,null,pe(n.computedSocials,Te=>(a(),S(A,{key:Te.id,id:Te.id,title:"social",seen:Te.show,unseen:!Te.show,item:Te.url,actions:!0,onClickedShow:n.clickedShow,onClickedRemove:n.clickedRemove},null,8,["id","seen","unseen","item","onClickedShow","onClickedRemove"]))),128))])]),_:1},8,["onClickedIcon"])):c("",!0),n.computedEmails?(a(),S(g,{key:4,showIcon:!0,title:"emails",onClickedIcon:n.clickedIcon},{default:z(()=>[ume,h("template",dme,[(a(!0),d(Z,null,pe(n.computedEmails,Te=>(a(),S(A,{key:Te.id,id:Te.id,title:"email",seen:Te.show,unseen:!Te.show,item:Te.email,actions:!0,onClickedShow:n.clickedShow,onClickedRemove:n.clickedRemove},null,8,["id","seen","unseen","item","onClickedShow","onClickedRemove"]))),128))])]),_:1},8,["onClickedIcon"])):c("",!0),n.computedInterests?(a(),S(g,{key:5},{default:z(()=>[hme,h("div",fme,V(n.computedInterests),1)]),_:1})):c("",!0),n.computedCompany?(a(),S(g,{key:6},{default:z(()=>[mme,h("div",pme,V(n.computedCompany),1)]),_:1})):c("",!0),n.computedOccupation?(a(),S(g,{key:7},{default:z(()=>[gme,h("div",vme,V(n.computedOccupation),1)]),_:1})):c("",!0)]),b(v,null,{default:z(()=>[h("template",yme,[b(D),b(D),b(D),b(D)])]),_:1})],32)):c("",!0),i.activitySection||i.activateActivity?(a(),d("div",wme,[h("div",_me,[b(E,{loading:n.computedPostCreating},null,8,["loading"])]),h("div",bme,[b(T,{buttonText:"discussion",onClick:n.clickedShowDiscussion,titleText:"have something to discuss?"},null,8,["onClick"])]),i.discussionLoading?(a(),d("div",kme,[b(N,{loading:i.discussionLoading,size:"10px"},null,8,["loading"])])):c("",!0),i.modalAlertMessage.length?(a(),d("div",{key:1,class:we(["alert",{success:i.modalAlertSuccess,danger:e.modalAlertDanger}])},V(i.modalAlertMessage),3)):c("",!0),n.computedPostCreate?(a(),S(F,{key:2})):c("",!0),!s.isFlagged&&n.computedPosts?(a(!0),d(Z,{key:3},pe(n.computedPosts,Te=>(a(),d(Z,null,[Te.isPost?(a(),S(R,{key:`post.${Te.id}`,post:Te,onAskLoginRegister:n.askLoginRegister,onClickedMedia:n.clickedMedia,onClickedShowPostComments:n.clickedShowPostComments,onClickedShowPostPreview:n.clickedShowPostPreview},null,8,["post","onAskLoginRegister","onClickedMedia","onClickedShowPostComments","onClickedShowPostPreview"])):c("",!0),Te.isDiscussion?(a(),S(j,{key:`discussion.${Te.id}`,discussion:Te,onAskLoginRegister:n.askLoginRegister},null,8,["discussion","onAskLoginRegister"])):c("",!0)],64))),256)):c("",!0),s.isFlagged?(a(),S(W,{key:4,loading:s.unflagLoading,onClickedUnflag:n.clickedUnflag},null,8,["loading","onClickedUnflag"])):c("",!0),i.complete?(a(),d("div",Ame," no more posts ")):c("",!0)])):c("",!0)]),b(k,null,{default:z(()=>[i.showModal?(a(),S(me,{key:0,onMainModalDisappear:t[9]||(t[9]=Te=>i.showModal=!1),alertMessage:i.modalAlertMessage,alertError:i.modalAlertError,alertSuccess:i.modalAlertSuccess,onClearAlert:n.clearAlert,loading:i.modalLoading},{default:z(()=>[h("template",Cme,[b(E,{loading:i.modalLoading},null,8,["loading"])]),h("template",Sme,[b(le,null,{default:z(()=>[h("template",Ime,[h("div",Tme,[b(Q,{modelValue:i.inputText,"onUpdate:modelValue":t[6]||(t[6]=Te=>i.inputText=Te),type:i.inputType,placeholder:i.inputPlaceholder,bottomBorder:!0},null,8,["modelValue","type","placeholder"]),h("div",Dme,[xme,h("div",{class:we(["option",{yes:i.yes}]),onClick:t[7]||(t[7]=(...Te)=>n.clickedYes&&n.clickedYes(...Te))}," yes ",2),h("div",{class:we(["option",{no:i.no}]),onClick:t[8]||(t[8]=(...Te)=>n.clickedNo&&n.clickedNo(...Te))}," no ",2)]),Pme])]),h("template",Mme,[b(T,{buttonText:"add",onClick:n.clickedAdd},null,8,["onClick"])])]),_:1})])]),_:1},8,["alertMessage","alertError","alertSuccess","onClearAlert","loading"])):c("",!0)]),_:1}),b(k,null,{default:z(()=>[i.showFileModal?(a(),S(me,{key:0,onMainModalDisappear:n.fileModalDisappear,alertMessage:i.modalAlertMessage,alertError:i.modalAlertError,alertSuccess:i.modalAlertSuccess,onClearAlert:n.clearAlert,loading:i.modalLoading},{default:z(()=>[h("template",Eme,[b(E,{loading:i.modalLoading},null,8,["loading"])]),h("template",Ome,[b(le,null,{default:z(()=>[h("template",Rme,[b(Ce,{show:i.showMediaPreview,file:i.file,onRemoveFile:n.removeMedia},null,8,["show","file","onRemoveFile"]),h("div",{class:"upload",onClick:t[10]||(t[10]=(...Te)=>n.clickedAddFile&&n.clickedAddFile(...Te)),title:i.addMediaTitle},[b(r,{icon:i.addMediaIcon},null,8,["icon"])],8,Nme),h("div",Lme,[h("div",Fme,[Ume,h("div",{class:we(["option",{yes:i.yes}]),onClick:t[11]||(t[11]=(...Te)=>n.clickedYes&&n.clickedYes(...Te))}," yes ",2),h("div",{class:we(["option",{no:i.no}]),onClick:t[12]||(t[12]=(...Te)=>n.clickedNo&&n.clickedNo(...Te))}," no ",2)]),Bme]),h("input",{type:"file",ref:"inputfile",class:"hidden",onChange:t[13]||(t[13]=(...Te)=>n.inputFileChange&&n.inputFileChange(...Te))},null,544)]),i.showMediaAdd?(a(),S(T,{key:0,buttonText:"add",onClick:n.clickedAddMedia},null,8,["onClick"])):c("",!0)]),_:1})])]),_:1},8,["onMainModalDisappear","alertMessage","alertError","alertSuccess","onClearAlert","loading"])):c("",!0)]),_:1}),b(k,null,{default:z(()=>[i.showMediaModal?(a(),S(he,{key:0,onMainModalDisappear:n.mediaModalDisappear,onMainModalAppear:n.mediaModalAppear,mediaData:i.mediaData,show:i.showMediaModal,loading:i.mediaLoading,showMore:i.showMediaMore,main:i.showMediaMain,onShowMoreMedia:n.showMoreMedia,onClickedMediaIcon:n.clickedMediaIcon},{default:z(()=>[h("template",jme,[b(E,{loading:i.mediaLoading},null,8,["loading"])])]),_:1},8,["onMainModalDisappear","onMainModalAppear","mediaData","show","loading","showMore","main","onShowMoreMedia","onClickedMediaIcon"])):c("",!0)]),_:1}),i.showCreateDiscussion?(a(),S(Ke,{key:0,show:i.showCreateDiscussion,onCreateDiscussionDisappear:n.clickedCloseDiscussion,onClickedCreate:n.clickedCreateDiscussion},null,8,["show","onCreateDiscussionDisappear","onClickedCreate"])):c("",!0)])}const qme=Ae(Yfe,[["render",Vme],["__scopeId","data-v-044f6540"]]),Hme={components:{AppNav:GA,JustFade:uo,FadeUp:bi,EditProfile:OA,PostButton:xs,ProfileBar:oi,MainList:Cc,ProfileFirst:tfe,ProfileSecond:qme,FlagReason:Jf},data(){return{showList:!1,itemList:[],switchButtonText:"switch account",showEditProfile:!1,profileAccountId:null,profileAccount:"",nextPage:0,showLoginRegister:"",showMediaModal:!1,modalAlertError:!1,modalAlertSuccess:!1,modalAlertMessage:"",mediaData:null,mediaJustUrl:!1,mediaUrl:"",mediaUrlType:"",showPostModal:!1,postModalData:null,postModalType:"",showFlagReason:!1,flagReason:"",isFlagged:!1,myFlag:null,flagTitle:"",flagActive:!1,smallModalTitle:"",showSmallModalOther:!1,showProfilesText:"",showProfiles:!1,showProfilesAction:"",smallModalData:null,showSmallModal:!1,smallModalDelete:!1}},watch:{isFlagged(e){e?this.flagTitle="unflag this answer":this.flagTitle="flag this answer"}},beforeRouteEnter(e,t,s){s(o=>{o.profileAccountId=e.params.accountId,o.profileAccount=e.params.account,o.getData(),o.getPosts()})},beforeRouteUpdate(e,t,s){this.profileAccountId=e.params.accountId,this.profileAccount=e.params.account,this.getData(),this.getPosts(),s()},mounted(){this.listen()},computed:{...os(["authenticatingUser","getUser","getLoading","profile/getProfile","profile/profilePosts","profile/getPostNextPage","getProfiles"]),computedPosts(){return this["profile/profilePosts"]&&this["profile/profilePosts"].length>0?this["profile/profilePosts"]:null},computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedItemList(){return["learner","parent","facilitator","schools","professionals"]},computedSwitch(){return!!(this.getUser&&this["profile/getProfile"]&&this.getUser.id===this["profile/getProfile"].user_id)},computedLoading(){return!!(this.authenticatingUser||this.getLoading)},computedOwner(){return this.getUser&&this["profile/getProfile"]?this.getUser.id===this["profile/getProfile"].user_id:!1},computedFlags(){if(this.getUser&&this["profile/getProfile"]&&this["profile/getProfile"].hasOwnProperty("flags")){let e=this["profile/getProfile"].flags,t=null;t=e.findIndex(s=>s.user_id===this.getUser.id),t>-1&&(this.myFlag=e[t],this.isFlagged=!0)}return!0},computedRoute(){return Ns()}},methods:{...ss(["profileGet","profile/getProfilePosts","profile/clearPosts","profile/createFlag","profile/deleteFlag","profile/newPost","profile/removePost","profile/replacePost","profile/newComment","profile/removeComment","profile/replaceComment","profile/newDiscussion","profile/removeDiscussion","profile/replaceDiscussion","profile/newFlag","profile/newLike","profile/removeLike","profile/newAttachment","profile/removeAttachment"]),listen(){Echo.channel(`youredu.${this.computedRoute.params.account}.${this.computedRoute.params.accountId}`).listen(".newPost",e=>{console.log(e),this["profile/newPost"](e.post)}).listen(".updatePost",e=>{console.log(e),this["profile/replacePost"](e.post)}).listen(".deletePost",e=>{console.log(e),this["profile/removePost"](e)}).listen(".newComment",e=>{console.log(e),this["profile/newComment"](e)}).listen(".updateComment",e=>{console.log(e),this["profile/replaceComment"](e)}).listen(".deleteComment",e=>{console.log(e),this["profile/removeComment"](e)}).listen(".newAttachment",e=>{console.log(e),this["profile/newAttachment"](e)}).listen(".deleteAttachment",e=>{console.log(e),this["profile/removeAttachment"](e)}).listen(".newFlag",e=>{console.log(e),this["profile/newFlag"](e)}).listen(".newLike",e=>{console.log(e),this["profile/newLike"](e)}).listen(".deleteLike",e=>{console.log(e),this["profile/removeLike"](e)}).listen(".newDiscussion",e=>{console.log(e),this["profile/newDiscussion"](e.discussion)}).listen(".updateDiscussion",e=>{console.log(e),this["profile/replaceDiscussion"](e.discussion)}).listen(".deleteDiscussion",e=>{console.log(e),this["profile/removeDiscussion"](e)})},clickedShowPostPreview(e){this.postModalData=e.data,this.postModalType="posttype",this.showPostModal=!0},clickedShowPostComments(e){this.postModalData=e.post,this.postModalType="post",this.showPostModal=!0},clearAlert(){this.modalAlertError=!1,this.modalAlertSuccess=!1,this.modalAlertMessage=""},askCreateAccount(){this.smallModalTitle="visit your welcome page to create accounts with which to interact.",this.showSmallModalOther=!1,this.showSmallModal=!0,this.showLoginRegister=!0,setTimeout(()=>{this.clearSmallModal()},3e3)},clearSmallModal(){this.showLoginRegister=!1,this.smallModalDelete=!1,this.showSmallModal=!1,this.showProfilesAction="",this.smallModalTitle="",this.alertSuccess=!1,this.alertDanger=!1,this.smallModalAction=""},askLoginRegister(){this.smallModalTitle="welcome to this new community.",this.showSmallModalOther=!0,this.showLoginRegister=!0,this.showSmallModal=!0,setTimeout(()=>{this.clearSmallModal()},3e3)},mediaModalDisappear(){this.showMediaModal=!1,this.mediaData=null,this.mediaJustUrl=!1,this.mediaUrl="",this.mediaUrlType=""},clickedYes(){this.flag(this.smallModalData)},clickedNo(){this.clearSmallModal()},profilesAppear(){this.showProfiles=!0,setTimeout(()=>{this.showProfiles=!1},4e3)},reasonGiven(e){this.showFlagReason=!1,this.flagReason=e,this.showProfilesText="flag as",this.profilesAppear()},continueFlagProcess(){this.flagReason=null,this.showFlagReason=!1,this.showProfilesText="flag as",this.profilesAppear()},cancelFlagProcess(){this.flagReason="",this.showFlagReason=!1},clickedProfile(e){this.showProfiles=!1,this.smallModalTitle="are you sure you want to flag this?",this.smallModalAction="flag",this.smallModalDelete=!0,this.showSmallModal=!0,this.smallModalData=e,setTimeout(()=>{this.clearSmallModal()},4e3)},clickedFlag(){if(this.flagActive=!this.flagActive,this.isFlagged){this.flag(null);return}this.getUser?this.getProfiles.length?this.showFlagReason=!0:this.askCreateAccount():this.askLoginRegister()},async flag(e){this.loading=!0;let t={};t.profile=!0;let s=null;e?(t.account=e.account,t.accountId=e.accountId,t.item=this.computedRoute.params.account,t.itemId=this.computedRoute.params.accountId,t.reason=this.flagReason,s=await this["profile/createFlag"](t)):(t.flagId=this.myFlag.id,s=await this["profile/deleteFlag"](t)),this.loading=!1,s.status?(this.alertSuccess=!0,this.isFlagged?this.isFlagged=!1:this.alertModalMessage="successfully flagged"):(this.alertDanger=!0,this.alertModalMessage="flagging successful",console.log(s)),this.flagReason="",this.smallModalData=null,setTimeout(()=>{this.clearSmallModal()},3e3)},clickedMedia(e){e.hasOwnProperty("media")?(this.mediaData=e,this.mediaJustUrl=!1):(this.mediaUrl=e.url,this.mediaUrlType=e.mediaType,this.mediaJustUrl=!0),this.showMediaModal=!0},async infiniteHandler(e){if(!this["profile/getPostsDone"]){let t={account:this.profileAccount,accountId:this.profileAccountId,nextPage:this["profile/getPostNextPage"]};await this["profile/getProfilePosts"](t)?e.loaded():e.complete()}},getPosts(){let e=this.profileAccount,t=this.profileAccountId;this["profile/clearPosts"](),this["profile/getProfilePosts"]({account:e,accountId:t})},editProfile(){this.showEditProfile=!0},editProfilePicture(){},switchClicked(){this.switchButtonText==="switch account"?(this.switchButtonText="stop switching",this.showList=!0):(this.switchButtonText="switch account",this.showList=!1)},async getData(){let e=this.profileAccount,t=this.profileAccountId;const s=mo();if(!["learner","parent","facilitator","school","professional"].includes(e)){s.push({name:"404",params:{message:`The url you entered doesn't work. Replace ${e} with learner, parent, or any other user type.`}});return}(await this.profileGet({account:e,accountId:t})).status||s.push({name:"404",params:{message:response.data.message??"something might have happened or you are accessing a profile which doen't exits."}})}}},Wme={class:"overflow-y-auto"},zme={key:0,class:"loading"},Gme={key:1},Yme={class:"profile-wrapper"},Qme={class:"switch-buttons"},Kme={class:"sub"},Jme=["title"],Xme={class:"reason"},$me={key:0,class:"profile-profiles"};function Zme(e,t,s,o,i,n){const r=_("sync-loader"),f=_("app-nav"),m=_("post-button"),v=_("font-awesome-icon"),g=_("flag-reason"),A=_("profile-bar"),D=_("profile-first"),E=_("profile-second"),T=_("infinite-loading"),N=_("edit-profile"),F=_("fade-up"),R=_("router-link"),j=_("small-modal"),W=_("media-modal"),Q=_("just-fade"),le=_("post-modal");return a(),d("div",Wme,[n.computedLoading?(a(),d("div",zme,[b(r,{loading:n.computedLoading},null,8,["loading"])])):c("",!0),n.computedLoading?c("",!0):(a(),d("div",Gme,[b(f,{profileAccountId:i.profileAccountId,profileAccount:i.profileAccount},null,8,["profileAccountId","profileAccount"]),h("div",Yme,[h("div",Qme,[h("div",Kme,[n.computedSwitch?(a(),S(m,{key:0,buttonText:"edit",active:!0,onClick:n.editProfile},null,8,["onClick"])):c("",!0),!n.computedOwner&&n.computedFlags?(a(),d("div",{key:1,class:we(["flag-profile",{flagged:i.isFlagged,flagActive:i.flagActive}]),onClick:t[0]||(t[0]=(...me)=>n.clickedFlag&&n.clickedFlag(...me)),title:i.flagTitle},[b(v,{icon:["fa","flag"]})],10,Jme)):c("",!0)]),h("div",Xme,[b(g,{show:i.showFlagReason,hasBackground:!0,onContinueFlagProcess:n.continueFlagProcess,onReasonGiven:n.reasonGiven,onCancelFlagProcess:n.cancelFlagProcess},null,8,["show","onContinueFlagProcess","onReasonGiven","onCancelFlagProcess"])]),i.showProfiles?(a(),d("div",$me,[h("span",null,V(i.showProfilesText),1),(a(!0),d(Z,null,pe(n.computedProfiles,(me,k)=>(a(),d("div",{key:k},[b(A,{smallType:!0,profile:me,navigate:!1,onClickedProfile:n.clickedProfile},null,8,["profile","onClickedProfile"])]))),128))])):c("",!0)]),b(D,{onClickedMedia:n.clickedMedia,isFlagged:i.isFlagged},null,8,["onClickedMedia","isFlagged"]),b(E,{onClickedMedia:n.clickedMedia,onClickedShowPostComments:n.clickedShowPostComments,onClickedShowPostPreview:n.clickedShowPostPreview,onEditProfile:t[1]||(t[1]=me=>i.showEditProfile=!0),onAskLoginRegister:n.askLoginRegister,account:i.profileAccount,accountId:i.profileAccountId,isFlagged:i.isFlagged,onClickedUnflag:t[2]||(t[2]=me=>n.flag(null)),"infinite-wrapper":""},null,8,["onClickedMedia","onClickedShowPostComments","onClickedShowPostPreview","onAskLoginRegister","account","accountId","isFlagged"])]),n.computedPosts?(a(),S(T,{key:0,onInfinite:n.infiniteHandler,"force-use-infinite-wrapper":""},null,8,["onInfinite"])):c("",!0)])),b(F,null,{default:z(()=>[i.showEditProfile?(a(),S(N,{key:0,onCloseModal:t[3]||(t[3]=me=>i.showEditProfile=!1),showForm:i.showEditProfile},null,8,["showForm"])):c("",!0)]),_:1}),b(F,null,{default:z(()=>[i.showSmallModal?(a(),S(j,{key:0,onDisappear:t[4]||(t[4]=me=>i.showSmallModal=!1),showForm:i.showLoginRegister,title:i.smallModalTitle},{default:z(()=>[i.showSmallModalOther&&!i.smallModalDelete?(a(),d(Z,{key:0},[b(R,{to:"/login"},{default:z(()=>[Mt("login")]),_:1}),Mt(" or "),b(R,{to:"/register"},{default:z(()=>[Mt("register")]),_:1}),Mt(" to interact and grow in a positve way. ")],64)):c("",!0),!i.showSmallModalOther&&!i.smallModalDelete?(a(),S(R,{key:1,to:"/welcome"},{default:z(()=>[Mt("welcome")]),_:1})):c("",!0),i.smallModalDelete?(a(),d(Z,{key:2},[i.smallModalDelete?(a(),S(m,{key:0,buttonText:"yes",onClick:n.clickedYes},null,8,["onClick"])):c("",!0),i.smallModalDelete?(a(),S(m,{key:1,buttonText:"no",onClick:n.clickedNo},null,8,["onClick"])):c("",!0)],64)):c("",!0)]),_:1},8,["showForm","title"])):c("",!0)]),_:1}),b(Q,null,{default:z(()=>[i.showMediaModal?(a(),S(W,{key:0,onMainModalDisappear:n.mediaModalDisappear,mediaData:i.mediaData,url:i.mediaUrl,urlType:i.mediaUrlType,justUrl:i.mediaJustUrl},null,8,["onMainModalDisappear","mediaData","url","urlType","justUrl"])):c("",!0)]),_:1}),b(Q,null,{default:z(()=>[i.showPostModal?(a(),S(le,{key:0,onMainModalDisappear:t[5]||(t[5]=me=>i.showPostModal=!1),data:i.postModalData,type:i.postModalType},null,8,["data","type"])):c("",!0)]),_:1})])}const epe=Ae(Hme,[["render",Zme],["__scopeId","data-v-66253677"]]),tpe={components:{AssessmentSectionAnsweringForm:CA,PostButton:xs},mixins:[ga],props:{show:{type:Boolean,default:!0}},data(){return{buttonText:"create",loading:!1,mainLoading:!1,assessment:null,work:null,noDataMessage:""}},computed:{...os(["getUser"]),computedAnswered(){return!1},computedHasNoData(){return this.noDataMessage.length}},mounted(){this.getWork()},methods:{...ss(["dashboard/getWork"]),closeModal(){this.$emit("closeWorkAnsweringForm");const e=mo(),t=Ns();t.fullPath.includes("dashboard")&&e.push({name:"dashboard"}),t.fullPath.includes("profile")&&e.push({name:"profile"}),t.fullPath.includes("/work")&&e.push({name:"home"})},async getWork(){const e=Ns();let t,s;t={assessmentId:e.params.assessmentId},this.mainLoading=!0,s=await this["dashboard/getWork"](t),this.mainLoading=!1,s.status?this.assessment=s.assessment:console.log("response :>> ",s)},clickedCreate(){}}},spe={slot:"main"},npe={slot:"input"},ipe={slot:"buttons"};function ope(e,t,s,o,i,n){const r=_("auto-alert"),f=_("pulse-loader"),m=_("assessment-section-answering-form"),v=_("post-button"),g=_("welcome-form"),A=_("main-modal"),D=_("just-fade");return a(),S(D,null,{default:z(()=>[s.show?(a(),S(A,{key:0,show:s.show,mainOther:!1,requests:!1,long:!0,onMainModalDisappear:n.closeModal,class:"work-answering-form-wrapper"},{default:z(()=>[h("template",spe,[b(g,{title:"assessment name",titleBadge:!0,class:"welcome-form"},{default:z(()=>[h("template",npe,[b(r,{message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert},null,8,["message","success","danger","onHideAlert"]),b(f,{class:"loading",size:"20px",loading:i.loading},null,8,["loading"]),!n.computedHasNoData&&!i.mainLoading?(a(),S(m,{key:0,class:"section-form",assessment:i.assessment},null,8,["assessment"])):c("",!0),n.computedHasNoData&&!i.mainLoading?(a(),d(Z,{key:1},[Mt(V(i.noDataMessage),1)],64)):c("",!0)]),h("template",ipe,[n.computedAnswered?(a(),S(v,{key:0,buttonText:i.buttonText,buttonStyle:"success",onClick:n.clickedCreate},null,8,["buttonText","onClick"])):c("",!0)])]),_:1})])]),_:1},8,["show","onMainModalDisappear"])):c("",!0)]),_:1})}const ape=Ae(tpe,[["render",ope],["__scopeId","data-v-3d28d15a"]]),rpe={components:{ProfilePicture:Ys},props:{board:{type:Object,default(){return null}},activeColor:{type:String,default:""},resize:{type:Boolean,default:!1},what:{type:String,default:"freehand"},sides:{default:3},angle:{default:0},lineWidth:{default:1}},mounted(){this.initiateCanvas(),this.$el.addEventListener("resize",this.resizeCanvas())},beforeDestroy(){this.$el.removeEventListener("resize",this.resizeCanvas())},data(){return{context:null,isDrawing:!1,backgroundColor:null,toggleType:"on",drawingsData:[]}},watch:{backgroundColor(e){e&&this.changeBackgroundColor()},resize(e){e||(this.resizeCanvas(),this.clearRectAndPutImageData())},lineWidth(e){this.stop()},activeColor(e){this.stop()},sides(e){this.stop()},angle(e){this.stop()},what(e){this.stop()},toggleType(e){e&&this.toggleBackground()}},methods:{editBoard(){this.$emit("editBoard",this.board)},deleteBoard(){this.$emit("deleteBoard",this.board)},initiateCanvas(){this.resizeCanvas(),this.context=this.$refs.canvas.getContext("2d"),this.backgroundColor="white",this.clearContext()},resizeCanvas(){let e=this.getCanvasParentNodeHeight(),t=this.getCanvasParentNodeWidth();this.$refs.canvas.style.height=`${e}px`,this.$refs.canvas.style.width=`${t}px`,this.$refs.canvas.width=t,this.$refs.canvas.height=e},getCanvasParentNodeHeight(){return Number(getComputedStyle(this.$refs.canvas.parentNode).height.replace("px",""))},getCanvasParentNodeWidth(){let e=Number(getComputedStyle(this.$refs.canvas.parentNode).width.replace("px",""));return e>675?675:e},start(e){this.isDrawing=!0,this.context.beginPath(),this.context.moveTo(this.getClientX(e),this.getClientY(e))},clearContext(){this.drawingsData=[],this.clearRect()},clearRect(){this.context.fillStyle=this.backgroundColor,this.context.clearRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height),this.context.fillRect(0,0,this.$refs.canvas.width,this.$refs.canvas.height)},changeBackgroundColor(){this.clearRectAndPutImageData()},clearRectAndPutImageData(){this.clearRect(),this.putContextImageData()},draw(e){this.isDrawing&&(this.context.strokeStyle=this.activeColor,this.context.lineWidth=Number(this.lineWidth),this.context.lineCap="round",this.context.lineJoin="round",this.context.lineTo(this.getClientX(e),this.getClientY(e)),this.context.stroke())},getClientX(e){return e.layerX-this.$refs.canvas.offsetLeft},getClientY(e){return e.layerY-this.$refs.canvas.offsetTop},stop(){this.isDrawing&&(this.context.closePath(),this.isDrawing=!1,this.saveData())},saveData(){this.drawingsData.push(this.getContextImageData())},clickedButton(e){if(e=="clear"){this.clearContext();return}this.undoDrawing()},undoDrawing(){if(this.drawingsData.pop(),!this.drawingsData.length){this.clearContext();return}this.putContextImageData()},getContextImageData(){return this.context.getImageData(0,0,this.$refs.canvas.width,this.$refs.canvas.height)},putContextImageData(){this.drawingsData.length&&this.context.putImageData(this.drawingsData[this.drawingsData.length-1],0,0)},toggleBackgroundType(){this.toggleType=this.toggleType==="on"?"off":"on"},toggleBackground(){this.backgroundColor=this.backgroundColor==="white"?"black":"white"}}},lpe={key:0,class:"w-80 h-80"},cpe={class:"flex justify-center items-center bg-whitesmoke"};function upe(e,t,s,o,i,n){const r=_("font-awesome-icon");return s.board?(a(),d("div",lpe,[h("div",{class:we(["text-xs absolute ml-1 mt-1 p-1 z-10 cursor-pointer",[i.backgroundColor==="white"?"text-gray-500":"text-gray-100"]]),onDblclick:t[0]||(t[0]=(...f)=>n.editBoard&&n.editBoard(...f))},V(s.board.name),35),h("div",{class:we(["text-xs absolute right-0 ml-1 mt-1 p-1 z-10 cursor-pointer",[i.backgroundColor==="white"?"text-gray-500":"text-gray-100"]]),onDblclick:t[1]||(t[1]=(...f)=>n.deleteBoard&&n.deleteBoard(...f))},[b(r,{icon:["fa","trash"]})],34),h("canvas",{class:"w-full h-full max-w-2xl mx-auto mt-2 border-2",ref:"canvas",onMousedown:t[2]||(t[2]=Vt((...f)=>n.start&&n.start(...f),["prevent"])),onMousemove:t[3]||(t[3]=Vt((...f)=>n.draw&&n.draw(...f),["prevent"])),onMouseup:t[4]||(t[4]=Vt((...f)=>n.stop&&n.stop(...f),["prevent"])),onMouseout:t[5]||(t[5]=Vt((...f)=>n.stop&&n.stop(...f),["prevent"]))},null,544),h("div",cpe,[h("button",{class:"text-gray-500 p-1 mx-2 text-sm border-b cursor-pointer hover:shadow-sm hover:bg-gray-50 rounded",onClick:t[6]||(t[6]=f=>n.clickedButton("undo"))},"undo"),h("button",{class:"text-gray-500 p-1 mx-2 text-sm border-b cursor-pointer hover:shadow-sm hover:bg-gray-50 rounded",onClick:t[7]||(t[7]=f=>n.clickedButton("clear"))},"clear"),b(r,{class:"cursor-pointer mx-2 text-2xl",icon:["fa",`toggle-${i.toggleType}`],title:"toggle between black and white board",onClick:n.toggleBackgroundType},null,8,["icon","onClick"])])])):c("",!0)}const dpe=Ae(rpe,[["render",upe]]),hpe={props:{hasNegativeTop:{type:Boolean,default:!1},resize:{type:Boolean,default:!0},move:{type:Boolean,default:!1},minWidth:{type:Number,default:10},minHeight:{type:Number,default:10},maxWidth:{type:Number,default:null},maxHeight:{type:Number,default:null},maxRight:{type:Number,default:null},maxBottom:{type:Number,default:null}},data(){return{isResizing:!1,isMoving:!1,sizeType:null,originalHeight:0,originalWidth:0,originalMouseX:0,originalMouseY:0,originalBoundingClientRectLeft:0,originalBoundingClientRectTop:0}},watch:{isResizing(e,t){e&&this.$emit("startedResizing",this.$slots.default[0]),e||this.$emit("stoppedResizing",this.$slots.default[0])},isMoving(e,t){e&&this.$emit("startedMoving",this.$slots.default[0]),e||this.$emit("stoppedMoving",this.$slots.default[0])}},methods:{startMoving(e){this.isResizing||!this.move||(this.isMoving=!0,this.originalBoundingClientRectLeft=this.convertElementPropertyFromPixelsToNumber(this.$el,"left"),this.originalBoundingClientRectTop=this.convertElementPropertyFromPixelsToNumber(this.$el,"top"),this.originalMouseX=e.pageX,this.originalMouseY=e.pageY,window.addEventListener("mousemove",this.continueMoving),window.addEventListener("mouseup",this.stopMoving))},continueMoving(e){this.setElementsStyleProperty("left",`${e.pageX-this.originalMouseX+this.originalBoundingClientRectLeft}px`),this.setElementsStyleProperty("top",`${e.pageY-this.originalMouseY+this.originalBoundingClientRectTop}px`)},stopMoving(){this.isMoving=!1,window.removeEventListener("mousemove",this.continueMoving),window.removeEventListener("mouseup",this.stopMoving)},startResize(e){this.isMoving||(this.isResizing=!0,this.originalHeight=this.convertElementPropertyFromPixelsToNumber(this.$slots.default[0].elm,"height"),this.originalWidth=this.convertElementPropertyFromPixelsToNumber(this.$slots.default[0].elm,"width"),this.originalBoundingClientRectLeft=this.$el.offsetLeft,this.originalBoundingClientRectTop=this.convertElementPropertyFromPixelsToNumber(this.$el,"top"),this.originalMouseX=e.pageX,this.originalMouseY=e.pageY,e.target.dataset.button&&(this.sizeType=e.target.dataset.button),window.addEventListener("mousemove",this.continueResizing),window.addEventListener("mouseup",this.stopResizing))},continueResizing(e){this.isResizing&&this.changeSize(e)},changeSize(e){if(this.sizeType==="top-left"){this.toTopLeft(e);return}if(this.sizeType==="top-right"){this.toTopRight(e);return}if(this.sizeType==="bottom-left"){this.toBottomLeft(e);return}this.toBottomRight(e)},stopResizing(){this.isResizing=!1,window.removeEventListener("mousemove",this.continueResizing),window.removeEventListener("mouseup",this.stopResizing)},adjustHeight(e){return this.maxBottom&&this.originalBoundingClientRectTop+e>this.maxBottom?this.maxBottom-this.originalBoundingClientRectTop:e},convertElementPropertyFromPixelsToNumber(e,t){let s=Number(getComputedStyle(e)[t].replace("px",""));return isNaN(s)?0:s},toBottomLeft(e){let t=e.pageX-this.originalMouseX,s=e.pageY-this.originalMouseY;this.updateElementAndSlotSize({width:this.originalWidth-t,height:this.adjustHeight(this.originalHeight+s),addedWidth:t})},toBottomRight(e){let t=e.pageX-this.originalMouseX,s=e.pageY-this.originalMouseY;this.updateElementAndSlotSize({width:this.originalWidth+t,height:this.adjustHeight(this.originalHeight+s)})},toTopLeft(e){let t=e.pageX-this.originalMouseX,s=e.pageY-this.originalMouseY;this.updateElementAndSlotSize({width:this.originalWidth-t,addedWidth:t,height:this.adjustHeight(this.originalHeight-s),addedHeight:s})},toTopRight(e){let t=e.pageY-this.originalMouseY;this.updateElementAndSlotSize({width:this.originalWidth+(e.pageX-this.originalMouseX),addedHeight:t,height:this.adjustHeight(this.originalHeight-t)})},updateElementAndSlotSize({width:e,addedWidth:t,height:s,addedHeight:o}){e>=this.minWidth&&(!this.maxWidth||e<=this.maxWidth)&&(this.setElementsStyleProperty("width",`${e}px`),t&&this.originalBoundingClientRectLeft+t>=0&&this.setElementsStyleProperty("left",`${this.originalBoundingClientRectLeft+t}px`)),s>=this.minHeight&&(!this.maxHeight||s<=this.maxHeight)&&(this.setElementsStyleProperty("height",`${s}px`),o&&(this.hasNegativeTop||this.originalBoundingClientRectTop+o>=0)&&this.setElementsStyleProperty("top",`${this.originalBoundingClientRectTop+o}px`))},setElementsStyleProperty(e,t){this.$el.style[e]=this.$slots.default[0].elm.style[e]=t},stop(){this.$emit("stop")}}};function fpe(e,t,s,o,i,n){return a(),d("div",{class:we(["relative",{"cursor-move":s.move}]),onMousedown:t[4]||(t[4]=(...r)=>n.startMoving&&n.startMoving(...r)),onDblclick:t[5]||(t[5]=(...r)=>n.stop&&n.stop(...r))},[h("div",{class:we([s.resize||s.move?"absolute h-full w-full top-0 left-0 border-2 border-blue-300":""])},[s.resize?(a(),d(Z,{key:0},[h("div",{class:"absolute -left-1 -top-1 h-2 w-2 cursor-nwse rounded-full bg-blue-300",onMousedown:t[0]||(t[0]=(...r)=>n.startResize&&n.startResize(...r)),"data-button":"top-left"},null,32),h("div",{class:"absolute -left-1 -bottom-1 h-2 w-2 cursor-nesw rounded-full bg-blue-300",onMousedown:t[1]||(t[1]=(...r)=>n.startResize&&n.startResize(...r)),"data-button":"bottom-left"},null,32),h("div",{class:"absolute -right-1 -top-1 h-2 w-2 cursor-nesw rounded-full bg-blue-300",onMousedown:t[2]||(t[2]=(...r)=>n.startResize&&n.startResize(...r)),"data-button":"top-right"},null,32),h("div",{class:"absolute -right-1 -bottom-1 h-2 w-2 cursor-nwse rounded-full bg-blue-300",onMousedown:t[3]||(t[3]=(...r)=>n.startResize&&n.startResize(...r)),"data-button":"bottom-right"},null,32)],64)):c("",!0)],2),Jt(e.$slots,"default")],34)}const KA=Ae(hpe,[["render",fpe]]),mpe={components:{TheBoard:dpe,ResizingComponent:KA,TextInput:js,MainCheckbox:Vi,MainSelect:pa,NumberInput:fa,RadioInput:Ll},props:{colors:{type:Array,default(){return[{name:"red",value:"#FF0000"},{name:"yellow",value:"#FFFF00"},{name:"green",value:"#008000"},{name:"blue",value:"#0000FF"},{name:"gray",value:"#808080"},{name:"indigo",value:"#4B0082"},{name:"purple",value:"#800080"},{name:"pink",value:"#FFC0CB"}]}}},mixins:[ga,Cd],data(){return{accounts:[],boards:[],board:{id:null,name:""},showItem:"",selectedColor:null,lineWidth:1,resize:!1,move:!1,resizedBoard:{},responses:["ok","cancel"],defaultResponse:"cancel",drawObject:{sides:3,polygon:!1,line:!1,angle:0,circle:!1,freehand:!0}}},watch:{showItem(e){e==="colors"&&setTimeout(()=>{this.showItem=""},4e3)},selectedColor(e){e&&this.setActiveColor(e)},"board.name"(e){e!=null&&e.length&&(this.showPopUp=!0)},"drawObject.line"(e){e&&(this.drawObject.circle=!1,this.drawObject.polygon=!1,this.drawObject.freehand=!1)},"drawObject.circle"(e){e&&(this.drawObject.line=!1,this.drawObject.polygon=!1,this.drawObject.freehand=!1)},"drawObject.polygon"(e){e&&(this.drawObject.line=!1,this.drawObject.circle=!1,this.drawObject.freehand=!1)},"drawObject.freehand"(e){e&&(this.drawObject.line=!1,this.drawObject.circle=!1,this.drawObject.polygon=!1)}},mounted(){this.selectedColor="#000000",this.backgroundColor="#ffffff"},computed:{computedBoardNameExists(){return this.boards.findIndex(e=>e.name===this.board.name)>-1},computedDrawWhat(){return this.drawObject.line?"line":this.drawObject.circle?"circle":this.drawObject.polygon?"polygon":"freehand"}},methods:{startedResizing({componentInstance:e}){this.resizedBoard=e.board},stoppedResizing(e){this.resizedBoard={}},stopResizingAndMoving(){this.resize=!1,this.move=!1},clickedColor(e){this.selectedColor=e,this.showPopUp=!1},setActiveColor(e){this.$refs.activecolor.style.background=e},clickedPopupResponse(e){if(e==="ok"){this.addBoard();return}e==="yes"&&this.removeBoard(),this.showPopUp=!1,this.clearBoard(),this.setPopUpDefault()},setPopUpDefault(){this.responses=["ok","cancel"],this.defaultResponse="cancel",this.popUpMessage="",this.popUpHasResponses=!0,this.showItems=""},setLineWidth(e){this.lineWidth=e.target.value,this.showPopUp=!1},clickedButton(e){if(e==="add board"){this.resize=!1,this.showBoard();return}if(e==="tools"){this.showTools();return}if(e==="colors"){this.showItem=this.showItem.length?"":"colors";return}},editBoard(e){this.board.id=e.id,this.board.name=e.name,this.showBoard()},deleteBoard(e){this.responses=["yes","no"],this.defaultResponse="no",this.popUpMessage="are sure you want to delete this board",this.popUpHasResponses=!1,this.showItems="board form",this.showPopUp=!0,this.board.id=e.id,this.board.name=e.name},removeBoard(){let e=this.getBoardIndex(this.board);e!==-1&&(this.boards.splice(e,1),this.adjustHeight())},adjustHeight(){if(this.boards.length<2){this.$el.style.height=`${window.innerHeight}px`;return}this.$el.style.height=`${window.innerHeight*this.boards.length}px`},showBoard(){this.popUpHasResponses=!0,this.showItem="board form",this.showPopUp=!0},showTools(){this.popUpHasResponses=!1,this.showItem="tools",this.showPopUp=!0},afterDangerAlert(e){e===`sorry, a board with name ${this.board.name} already exists. choose a different name.`&&(this.showPopUp=!0)},addBoard(){if(this.board.name.length||(this.board.name=`board ${this.boards.length+1}`),this.computedBoardNameExists){this.issueDangerAlert({message:`sorry, a board with name ${this.board.name} already exists. choose a different name.`});return}this.board.id||(this.board.id=Math.floor(Math.random()*1e6),this.boards.push(Ft.clone(this.board))),this.board.id&&this.updateBoard(),this.adjustHeight(),this.clearBoard()},updateBoard(){let e=this.getBoardIndex(this.board);e!==-1&&this.boards.splice(e,1,Ft.clone(this.board))},getBoardIndex(e,t="id"){return this.boards.findIndex(s=>s[t]==e[t])},clearBoard(){this.board.id=null,this.board.name=""}}},ppe={class:"w-full min-h-screen bg-whitesmoke relative px-2 pb-2"},gpe={class:"fixed rounded-full cursor-pointer text-whitesmoke text-sm h-content w-content p-2 bottom-1 right-1 z-50"},vpe={key:0,class:"w-full flex justify-start items-center"},ype=["src"],wpe={key:0},_pe={key:1},bpe={class:"flex flex-wrap w-full items-center justify-center"},kpe=["onClick"],Ape={class:"flex w-full flex-wrap items-center"},Cpe=["value"],Spe=["value"],Ipe={class:""};function Tpe(e,t,s,o,i,n){const r=_("auto-alert"),f=_("font-awesome-icon"),m=_("the-board"),v=_("resizing-component"),g=_("profile-picture"),A=_("text-input"),D=_("main-checkbox"),E=_("number-input"),T=_("pop-up");return a(),d("div",ppe,[b(r,{class:"absolute w-full text-center top-1/2",message:e.alertMessage,success:e.alertSuccess,danger:e.alertDanger,sticky:!0,onHideAlert:e.clearAlert,onDoneShowingDangerMessage:n.afterDangerAlert,onStop:n.stopResizingAndMoving},null,8,["message","success","danger","onHideAlert","onDoneShowingDangerMessage","onStop"]),h("div",gpe,[h("div",{onClick:t[0]||(t[0]=N=>n.clickedButton("add board")),title:"add a new board",class:"rounded-full my-2 bg-green-600 cursor-pointer text-whitesmoke text-sm h-content w-content p-2"},[b(f,{icon:["fa","plus"]})]),h("div",{onClick:t[1]||(t[1]=N=>n.clickedButton("tools")),title:"show other tools",class:"rounded-full my-2 bg-gray-600 cursor-pointer text-whitesmoke text-sm h-content w-content p-2"},[b(f,{icon:["fa","wrench"]})]),h("div",{onClick:t[2]||(t[2]=N=>n.clickedButton("colors")),ref:"activecolor",class:"w-8 h-8 my-2 cursor-pointer rounded-full border-gray-900 border-2"},null,512)]),(a(!0),d(Z,null,pe(i.boards,N=>(a(),S(v,{resize:i.resize,move:i.move,hasNegativeTop:n.getBoardIndex(N)>0,key:N.id,onStartedResizing:n.startedResizing,onStoppedResizing:n.stoppedResizing,class:"w-content h-content"},{default:z(()=>[(a(),S(m,{board:N,resize:N.name===i.resizedBoard.name,key:N.name,lineWidth:i.lineWidth,activeColor:i.selectedColor,what:n.computedDrawWhat,angle:i.drawObject.angle,sides:i.drawObject.sides,onEditBoard:n.editBoard,onDeleteBoard:n.deleteBoard,class:"mb-10"},null,8,["board","resize","lineWidth","activeColor","what","angle","sides","onEditBoard","onDeleteBoard"]))]),_:2},1032,["resize","move","hasNegativeTop","onStartedResizing","onStoppedResizing"]))),128)),i.showItem==="accounts"?(a(),d("div",vpe,[(a(!0),d(Z,null,pe(i.accounts,(N,F)=>(a(),S(g,{class:"w-10 h-10",key:F},{default:z(()=>[h("template",null,[h("img",{src:N.url,alt:""},null,8,ype)])]),_:2},1024))),128))])):c("",!0),b(T,{show:e.showPopUp,responses:i.responses,message:e.popUpMessage,default:"cancel",hasResponses:e.popUpHasResponses,onClickedResponse:n.clickedPopupResponse,onClosePopUp:e.closePopUp},{default:z(()=>[i.showItem==="board form"?(a(),d("div",wpe,[b(A,{bottomBorder:!0,placeholder:"name of the new board",modelValue:i.board.name,"onUpdate:modelValue":t[3]||(t[3]=N=>i.board.name=N),onKeydown:t[4]||(t[4]=hu(N=>n.clickedPopupResponse("ok"),["enter","native"])),class:"mb-2"},null,8,["modelValue"])])):c("",!0),i.showItem==="tools"?(a(),d("div",_pe,[h("div",bpe,[(a(!0),d(Z,null,pe(s.colors,(N,F)=>(a(),d("div",{class:we(["w-8 h-8 m-2 cursor-pointer hover:w-12 hover:h-12 rounded-full",[N?`bg-${N.name}-500`:"bg-black"]]),key:F,onClick:R=>n.clickedColor(N.value)},null,10,kpe))),128))]),h("div",Ape,[h("input",{type:"color",value:`${i.selectedColor}`,onInput:t[5]||(t[5]=N=>n.clickedColor(N.target.value)),title:"more colors",class:"mx-2"},null,40,Cpe),h("input",{type:"range",value:i.lineWidth,onChange:t[6]||(t[6]=(...N)=>n.setLineWidth&&n.setLineWidth(...N)),onInput:t[7]||(t[7]=(...N)=>n.setLineWidth&&n.setLineWidth(...N)),title:"select line width",min:"1",max:"100",class:"mx-2"},null,40,Spe),b(D,{label:"resize",modelValue:i.resize,"onUpdate:modelValue":t[8]||(t[8]=N=>i.resize=N)},null,8,["modelValue"]),b(D,{label:"move",modelValue:i.move,"onUpdate:modelValue":t[9]||(t[9]=N=>i.move=N)},null,8,["modelValue"])]),h("div",Ipe,[b(D,{label:"freehand",modelValue:i.drawObject.freehand,"onUpdate:modelValue":t[10]||(t[10]=N=>i.drawObject.freehand=N)},null,8,["modelValue"]),b(D,{label:"line",modelValue:i.drawObject.line,"onUpdate:modelValue":t[11]||(t[11]=N=>i.drawObject.line=N)},null,8,["modelValue"]),b(D,{label:"polygon",modelValue:i.drawObject.polygon,"onUpdate:modelValue":t[12]||(t[12]=N=>i.drawObject.polygon=N)},null,8,["modelValue"]),b(D,{label:"circle",modelValue:i.drawObject.circle,"onUpdate:modelValue":t[13]||(t[13]=N=>i.drawObject.circle=N)},null,8,["modelValue"]),i.drawObject.polygon?cn((a(),d("input",{key:0,type:"range","onUpdate:modelValue":t[14]||(t[14]=N=>i.drawObject.angle=N),title:"select angle",min:"0",max:"3600",class:"mx-2 mb-2"},null,512)),[[yi,i.drawObject.angle]]):c("",!0),i.drawObject.polygon?(a(),S(E,{key:1,modelValue:i.drawObject.sides,"onUpdate:modelValue":t[15]||(t[15]=N=>i.drawObject.sides=N),hasMin:!0,inputMin:3,inputMax:16,placeholder:"enter number of sides of polygon"},null,8,["modelValue"])):c("",!0)])])):c("",!0)]),_:1},8,["show","responses","message","hasResponses","onClickedResponse","onClosePopUp"])])}const Dpe=Ae(mpe,[["render",Tpe]]),xpe={data(){return{resize:!0,value:""}},components:{ResizingComponent:KA,LessonBoard:Dpe},methods:{clickedTesting(){this.show=!0}}};function Ppe(e,t,s,o,i,n){const r=_("lesson-board");return a(),S(r)}const Mpe=Ae(xpe,[["render",Ppe],["__scopeId","data-v-92d5c39a"]]),Epe=[{name:"home",path:"/",component:XG},{name:"login",path:"/login",component:H8,meta:{doesntRequireLoginNot:!0}},{name:"register",path:"/register",component:cO,meta:{doesntRequireLoginNot:!0}},{name:"dashboard",path:"/dashboard",component:lue,meta:{requiresLogin:!0},children:[{path:"work/:assessmentId",component:ape,name:"work"}]},{name:"welcome",path:"/welcome",component:rde,meta:{requiresLogin:!0}},{name:"comment",path:"/comment/:itemId",component:rf},{name:"post",path:"/post/:itemId",component:Nv},{name:"discussion",path:"/discussion/:itemId",component:HA},{name:"answer",path:"/answer/:itemId",component:rf},{name:"about",path:"/about",component:rhe},{name:"profile",path:"/profile/:account/:accountId",component:epe},{name:"item",path:"/:item/:itemId",component:WA},{name:"testing",path:"/testing",component:Mpe},{name:"404",path:"/404",component:pg},{path:"/:pathMatch(.*)*",name:"not-found",component:pg}];window.YoureduStorage=new zA("localStorage");const Ope={currentRouteName:"",loading:!1,loggedin:!1,authenticating:!1,authenticatingUser:!1,authenticatingErrorCode:0,authenticatingErrorMessage:null,accessToken:vi.getToken(),refreshTokenPromise:null,user:null,followedby:null,validationErrors:null,userFollowRequest:null,userFollowers:[],userFollowings:[],requestingStatus:null,requestMessage:"",items:["post","assessment","discussion"]},Rpe={minimumAdultAge:18,assessment:{videos:{maxTime:"00:30"}}},Npe={getCurrentRouteName(e){return e.currentRouteName},authenticating(e){return e.authenticating},authenticatingUser(e){return e.authenticatingUser},authenticatingErrorCode(e){return e.authenticatingErrorCode},authenticatingErrorMessage(e){return e.authenticatingErrorMessage},getValidationErrors(e){return e.validationErrors},getUserUsername(e){return e.user?e.user.username:null},getAccessToken(e){return e.accessToken?e.accessToken:null},getUserAge(e){return e.user?e.user.age:null},getUser(e){return e.user?e.user:null},getUserFollowings(e){return e.userFollowings?e.userFollowings:[]},getUserFollowers(e){return e.userFollowers?e.userFollowers:[]},getUserId(e){return e.user?e.user.id:null},isAdult(e){var t;return((t=e.user)==null?void 0:t.age)>=Rpe.minimumAdultAge},getLoading(e){return e.loading},getUserFollowRequest(e){return e.userFollowRequest?e.userFollowRequest:[]},getProfiles(e){return e.user?e.user.profiles:null},getActiveProfile(e,t){return e.profile.activeProfile?e.profile.activeProfile:t.getProfiles?t.getProfiles[0]:null},getLoggedin(e){return e.loggedin},isParent(e){return e.user.profiles.findIndex(t=>t.account==="parent")>-1},isLearner(e){return e.user.profiles.findIndex(t=>t.account==="learner")>-1},isFacilitator(e){return e.user.profiles.findIndex(t=>t.account==="facilitator")>-1},professionalsCount(e){return e.user.profiles.filter(t=>t.account==="professional").length},schoolsCount(e){return e.user.profiles.filter(t=>t.account==="school"&&t.userId===e.user.id).length}},De={init(e){axios.defaults.baseURL=e},setHeaderAuth(){axios.defaults.headers.common.Authorization=`Bearer ${vi.getToken()}`},removeHeaderAuth(){axios.defaults.headers.common.Authorization=""},get(e,t=null){return axios.get(e,{params:t})},post(e,t,s=!1){return s?axios.post(e,t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{o.lengthComputable&&(window.progress=o.loaded/o.total*100),window.uploadEvent=o}}):axios.post(e,t)},put(e,t){return axios.put(e,t)},delete(e,t=null){return axios.delete(e,{data:t})},custom(e){return axios(e)},_401Interceptor:null,mount401Interceptor(){axios.interceptors.response.use(e=>e,e=>{if(e.response.status==401){if(e.config.url.includes("/api/login")||e.config.url.includes("/api/register"))throw vi.removeToken(),e;if(e.config.url.includes("/api/refresh"))throw ZA.dispatch("logout"),e}throw e})},unmount401Interceptor(){axios.interceptors.response.eject(this._401Interceptor)}};class JA extends Error{constructor(t,s,o){super(s),this.name=this.constructor.name,this.errorCode=t,this.errorMessage=s,this.errors=o}}const Op={async loginRegisterTry(e,t){let s=null;if(e.includes("login")){const{username:o,email:i,password:n}=t;await axios.get("/sanctum/csrf-cookie").then(r=>{console.log(r,"sanctum res")}).catch(r=>{console.log(r,"sanctum err")}),s=await axios.post(e,{username:o,email:i,password:n})}else if(e.includes("register")){const{username:o,email:i,password:n,password_confirmation:r,first_name:f,last_name:m,other_names:v,dob:g}=t;s=await De.post(e,{username:o,email:i,password:n,password_confirmation:r,first_name:f,last_name:m,other_names:v,dob:g})}return s.data},async getUser(e){return(await De.get(e)).data}},Hn={async accountCreate(e){try{return await De.post("/api/user/account",e)}catch(t){return t.response}},async declineFollowRequest(e){try{return await De.post("/api/follow/request/decline",e)}catch(t){return t.response}},async acceptFollowRequest(e){try{return await De.post("/api/follow/request/accept",e)}catch(t){return t.response}},async followingsGet(){try{return await De.get("/api/follow/user/followings")}catch(e){return e.response}},async followersGet(){try{return await De.get("/api/follow/user/followers")}catch(e){return e.response}},async getUserRequests(e){let{nextPage:t}=e;try{return await De.get(`/api/user/requests?page=${t}`)}catch(s){return s.response}},async schoolRequestResponse(e){try{return await De.post("/api/user/request/response",e)}catch(t){return t.response}},async userNotifications(e){try{return await De.get(`/api/user/notifications?page=${e.nextPage}`)}catch(t){return t.response}},async markNotifications(){try{return await De.post("/api/user/notifications/mark")}catch(e){return e.response}},async markOtherNotifications(e){try{return await De.post("/api/user/notifications/mark",e)}catch(t){return t.response}},async userFlaggedGet(e){let{type:t,nextPage:s}=e;try{return await De.get(`/api/user/flagged?page=${s}&type=${t}`)}catch(o){return o.response}},async userSavedGet(e){let{type:t,nextPage:s}=e;try{return await De.get(`/api/user/saved?page=${s}&type=${t}`)}catch(o){return o.response}},async findUser(e){let{search:t,nextPage:s}=e;try{return await De.get(`/api/user/search?page=${s}`,{search:t})}catch(o){return o.response}},async editUser(e){let{user_id:t,data:s}=e;try{let o=await De.put("/api/user",s);return console.log("response",o),o}catch(o){return o.response}},async getSecretQuestions(){try{return await De.get("/api/user/secrets")}catch(e){return e.response}},async createSecretQuestion(e){try{return await De.post("/api/user/secret",e)}catch(t){return t.response}},login:async function(e){var t;try{return await Op.loginRegisterTry("/api/login",e)}catch(s){return console.log(s,"user.service"),(t=s.response)==null?void 0:t.data}},register:async function(e){var t;try{return await Op.loginRegisterTry("/api/register",e)}catch(s){return console.log(s,"user.service"),(t=s.response)==null?void 0:t.data}},refreshUser:async function(){try{return await Op.getUser("/api/user")}catch(e){throw e}},async userFollowRequests(e){try{let{nextPage:t}=e;return await De.get(`/api/user/followrequests?page=${t}`)}catch(t){return t.response}},refreshToken:async function(){const e=vi.getRefreshToken();try{const t=await De.post("/api/refresh",e);return vi.setToken(t.data.access_token),vi.setRefreshToken(t.data.refresh_token),De.setHeaderAuth(),De.mount401Interceptor(),t.data.access_token}catch(t){throw new JA(t.response.status,t.response.data.details)}},async logout(){try{let e=await De.post("api/logout");return vi.removeUser(),De.removeHeaderAuth(),De.unmount401Interceptor(),e}catch(e){return e.response}}},yt={async gradeCreate(e){try{return await De.post("/api/grade/create",e)}catch(t){return t.response}},async gradeAliasCreate(e){try{let{gradeId:t,data:s}=e;return await De.post(`/api/grade/${t}/alias`,s)}catch(t){return t.response}},async gradesGet(e){try{return await De.get(`/api/grades?page=${e}`)}catch(t){return t.response}},async gradesSearch(e){let{nextPage:t,searchText:s}=e;try{return await De.get(`/api/grades/${s}?page=${t}`)}catch(o){return o.response}},async programCreate(e){try{return await De.post("/api/program/create",e)}catch(t){return t.response}},async programAliasCreate(e){try{let{programId:t,data:s}=e;return await De.post(`/api/program/${t}/alias`,s)}catch(t){return t.response}},async programsGet(e){try{return await De.get(`/api/programs?page=${e}`)}catch(t){return t.response}},async programsSearch(e){let{nextPage:t,searchText:s}=e;try{return await De.get(`/api/programs/${s}?page=${t}`)}catch(o){return o.response}},async courseCreate(e){try{return await De.post("/api/course/create",e)}catch(t){return t.response}},async courseAliasCreate(e){try{let{courseId:t,data:s}=e;return await De.post(`/api/course/${t}/alias`,s)}catch(t){return t.response}},async coursesGet(e){try{return await De.get(`/api/courses?page=${e}`)}catch(t){return t.response}},async coursesSearch(e){let{nextPage:t,searchText:s}=e;try{return await De.get(`/api/courses/${s}?page=${t}`)}catch(o){return o.response}},async subjectCreate(e){try{return await De.post("/api/subject/create",e)}catch(t){return t.response}},async subjectAliasCreate(e){try{let{subjectId:t,data:s}=e;return await De.post(`/api/subject/${t}/alias`,s)}catch(t){return t.response}},async subjectsGet(e){try{return await De.get(`/api/subjects?page=${e}`)}catch(t){return t.response}},async subjectsSearch(e){let{nextPage:t,searchText:s}=e;try{return await De.get(`/api/subjects/${s}?page=${t}`)}catch(o){return o.response}},async followCreate(e){try{let{accountId:t,account:s,follow:o,followId:i}=e;return await De.post(`/api/follow/${o}/${i}`,{account:s,accountId:t})}catch(t){return t.response}},async followDelete(e){try{return await De.delete(`/api/follow/${e.followId}`)}catch(t){return t.response}},async attachmentCreate(e){try{return await De.post("/api/attachment/create",e)}catch(t){return t.response}},async attachmentDelete(e){let{attachmentId:t,adminId:s}=e;try{return await De.delete(`/api/attachment/${t}`,{adminId:s})}catch(o){return o.response}},async likeCreate(e){try{return await De.post("/api/like",e)}catch(t){return t.response}},async likeDelete(e){let{likeId:t,adminId:s}=e;try{return await De.delete(`/api/like/${t}`,{adminId:s})}catch(o){return o.response}},async sendChatMessage(e){let t=null,{conversationId:s,formData:o}=e;try{return t=await De.post(`api/conversation/${s}/message`,o,!0),t}catch(i){return i.response}},async sendChatAnswer(e){let t=null,{conversationId:s,formData:o}=e;try{return t=await De.post(`api/conversation/${s}/answer`,o,!0),t}catch(i){return i.response}},async sendChatMark(e){let t=null,{conversationId:s,data:o}=e;try{return t=await De.post(`api/conversation/${s}/markanswer`,o),t}catch(i){return i.response}},async sendChatQuestion(e){let t=null,{conversationId:s,formData:o}=e;try{return t=await De.post(`api/conversation/${s}/question`,o,!0),t}catch(i){return i.response}},async deleteChatItem(e){let t=null;try{return t=await De.post("api/conversation/item/deleteitem",e),t}catch(s){return s.response}},async updateChatItemStatus(e){let t=null;try{return t=await De.post("api/conversation/item/updatestate",e),t}catch(s){return s.response}},async getChatMessages(e){let t=null,{nextPage:s,conversationId:o}=e;try{return t=await De.get(`api/conversation/${o}/messages?page=${s}`),t}catch(i){return i.response}},async createConversation(e){try{return await De.post("api/conversation",e)}catch(t){return t.response}},async getChatConversations(e){let t=null,{nextPage:s}=e;try{return t=await De.get(`api/conversations?page=${s}`),t}catch(o){return o.response}},async getBlockedConversations(e){let t=null,{nextPage:s}=e;try{return t=await De.get(`api/conversations/blocked?page=${s}`),t}catch(o){return o.response}},async getPendingConversations(e){let t=null,{nextPage:s}=e;try{return t=await De.get(`api/conversations/pending?page=${s}`),t}catch(o){return o.response}},async sendMessageResponse(e){let t=null,{data:s,conversationId:o}=e;try{return t=await De.post(`api/conversation/${o}/response`,s),t}catch(i){return i.response}},async blockConversation(e){let t=null,{conversationId:s,data:o}=e;try{return t=await De.post(`api/conversation/${s}/block`,o),t}catch(i){return i.response}},async unblockConversation(e){let t=null,{conversationId:s,data:o}=e;try{return t=await De.post(`api/conversation/${s}/unblock`,o),t}catch(i){return i.response}},async saveCreate(e){try{return await De.post("/api/save",e)}catch(t){return t.response}},async saveDelete(e){let{saveId:t,adminId:s}=e;try{return await De.delete(`/api/save/${t}`,{adminId:s})}catch(o){return o.response}},async flagCreate(e){try{return await De.post("/api/flag",e)}catch(t){return t.response}},async flagDelete(e){let{flagId:t,adminId:s}=e;try{return await De.delete(`/api/flag/${t}`,{adminId:s})}catch(o){return o.response}},async createMark(e){try{let{item:t,itemId:s}=e;return await De.post(`/api/${t}/${s}/mark`,e)}catch(t){return t.response}},async updateMark(e){try{let{data:t,markId:s}=e;return await De.put(`/api/mark/${s}`,t)}catch(t){return t.response}},async deleteMark(e){try{return await De.delete(`/api/mark/${e.markId}`)}catch(t){return t.response}},async getAnswerMarks(e){try{let{answerId:t,nextPage:s}=e;return await De.get(`/api/answer/${t}/marks?page=${s}`)}catch(t){return t.response}},async answersGet(e){let{item:t,itemId:s,nextPage:o}=e;try{let i=null;return o?i=await De.get(`/api/${t}/${s}/answers?page=${o}`):i=await De.get(`/api/${t}/${s}/answers`),i}catch(i){return i.response}},async deleteAnswer(e){let{answerId:t,data:s}=e;try{return await De.delete(`/api/answer/${t}`,s)}catch(o){return o.response}},async createAnswer(e){try{let{data:t,formData:s}=e;return await De.post(`/api/${t.item}/${t.itemId}/answer`,s,!0)}catch(t){return t.response}},async updateAnswer(e){try{let{answerId:t,formData:s}=e;return await De.put(`/api/answer/${t}`,s,!0)}catch(t){return t.response}},async commentGet(e){try{return await De.get(`/api/comment/${e}`)}catch(t){return t.response}},async commentsGet(e){let{item:t,itemId:s,nextPage:o}=e;try{let i=null;return o?i=await De.get(`/api/${t}/${s}/comments?page=${o}`):i=await De.get(`/api/${t}/${s}/comments`),i}catch(i){return i.response}},async deleteComment(e){let{commentId:t,adminId:s}=e;try{return await De.delete(`/api/comment/${t}`,{adminId:s})}catch(o){return o.response}},async createComment(e){try{let{formData:t}=e;return await De.post("/api/comment",t,!0)}catch(t){return t.response}},async updateComment(e){try{let{data:t,formData:s}=e;return await De.put(`/api/comment/${t.commentId}`,s,!0)}catch(t){return t.response}},async profileGet(e){try{let{account:t,accountId:s}=e;return await De.get(`/api/profile/${t}/${s}`)}catch(t){return t.response}},async profileUpdate(e){try{let{profile_id:t,data:s}=e;return await De.post(`/api/profile/${t}/update`,s)}catch(t){return t.response}},async profileMediaChange(e){try{let{account:t,accountId:s,media:o,mediaId:i}=e;return await De.post(`/api/${o}/${i}/change`,{account:t,accountId:s})}catch(t){return t.response}},async profileMediaDelete(e){try{let{account:t,accountId:s,media:o,mediaId:i}=e;return await De.post(`/api/${o}/${i}/delete`,{account:t,accountId:s})}catch(t){return t.response}},async profileMediaGet(e){try{let{account:t,accountId:s,nextPage:o,media:i}=e,n=null;return o?n=await De.get(`/api/${t}/${s}/${i}?page=${o}`):n=await De.get(`/api/${t}/${s}/${i}`),n}catch(t){return t.response}},async profilePrivateMediaGet(e){try{let{account:t,accountId:s,nextPage:o,media:i}=e,n=null;return o?n=await De.get(`/api/${t}/${s}/${i}/private?page=${o}`):n=await De.get(`/api/${t}/${s}/${i}/private`),n}catch(t){return t.response}},async profileFileUpload(e){try{let{profileId:t,formData:s}=e;return await De.post(`/api/profile/${t}/uploadfile`,s,!0)}catch(t){return t.response}},async profileAddInfo(e){try{let{profile_id:t,data:s}=e;return await De.post(`/api/profile/${t}/addinfo`,s)}catch(t){return t.response}},async profileMarkInfo(e){try{return await De.post("/api/markinfo",e)}catch(t){return t.response}},async profileDeleteInfo(e){try{return await De.post("/api/deleteinfo",e)}catch(t){return t.response}},async profilePicUpdate(e){let{profileId:t,formData:s}=e;try{return await De.post(`/api/profile/${t}/profilepic`,s,!0)}catch(o){return o.response}},async discussionCreate(e){try{return await De.post("/api/discussion",e,!0)}catch(t){return t.response}},async discussionUpdate(e){let{discussionId:t,formData:s}=e;try{return await De.put(`/api/discussion/${t}`,s)}catch(o){return o.response}},async discussionDelete(e){try{return await De.delete(`/api/discussion/${e.discussionId}`)}catch(t){return t.response}},async discusionContributionResponse(e){try{return await De.post("/api/discussion/contribution/response",e)}catch(t){return t.response}},async joinItemResponse(e){try{return await De.post(`/api/${e.item}/join/response`,e)}catch(t){return t.response}},async invitationItemResponse(e){try{return await De.post(`/api/${e.item}/invitation/response`,e)}catch(t){return t.response}},async deleteDiscussionMessage(e){try{return await De.deete(`/api/discussion/message/${e.messageId}`,e)}catch(t){return t.response}},async updateParticpantState(e){try{return await De.put(`/api/discussion/participant/${e.participantId}`,e)}catch(t){return t.response}},async deleteDiscussionParticipant(e){try{return await De.delete(`/api/discussion/participant/${$data.participantId}`,e)}catch(t){return t.response}},async getDiscussionParticipants(e){let t,{discussionId:s,nextPage:o}=e;try{return t=await De.get(`/api/discussion/${s}/participants?page=${o}`),t}catch(i){return i.response}},async getDiscussionMessages(e){let t,{discussionId:s,nextPage:o,type:i}=e;try{return t=await De.get(`/api/discussion/${s}/messages?page=${o}`,{type:i}),t}catch(n){return n.response}},async sendDiscussionMessage(e){let t,{discussionId:s,formData:o}=e;try{return t=await De.post(`/api/discussion/${s}/message`,o),t}catch(i){return i.response}},async inviteAccount(e){let t,{data:s,computedItem:o}=e;try{return t=await De.post(`/api/${o.item}/${o.itemId}/invite`,s),t}catch(i){return i.response}},async itemSearch(e){let t,{nextPage:s,params:o,item:i}=e;try{return t=await De.get(`/api/${i}/search?page=${s}`,o),t}catch(n){return n.response}},async joinItem(e){let t,{computedItem:s,data:o}=e;try{return t=await De.post(`/api/${s.item}/${s.itemId}/join`,o),t}catch(i){return i.response}},async postCreate(e){try{return await De.post("/api/post",e,!0)}catch(t){return t.response}},async postUpdate(e){let{otherData:t,formData:s}=e;try{return await De.post(`/api/post/${t.postId}`,s)}catch(o){return o.response}},async postDelete(e){let{account:t,accountId:s,postId:o}=e;try{return await De.delete(`/api/post/${o}`,{account:t,accountId:s})}catch(i){return i.response}},async postGet(e){try{return await De.get(`/api/post/${e}`)}catch(t){return t.response}},async profilePostsGet(e){let{account:t,accountId:s,nextPage:o}=e;try{let i=null;return o?i=await De.get(`/api/posts/${t}/${s}?page=${o}`):i=await De.get(`/api/posts/${t}/${s}`),i}catch(i){return i.response}},async getProfileAccounts(e){let{nextPage:t,data:s}=e;try{return await De.get(`api/dashboard/search?page=${t}`,s)}catch(o){return console.log(o),o.response}}},Lpe={async acceptFollowRequest({commit:e},t){e("START_REQUEST");let s=await Hn.acceptFollowRequest(t);return e("END_REQUEST"),s.data.message==="successful"?(e("FOLLOW_BACK_SUCCESS",s.data.following),"successful"):"unsuccessful"},async declineFollowRequest({commit:e},t){e("START_REQUEST");let s=await Hn.declineFollowRequest(t);return e("END_REQUEST"),s.data.message==="successful"?(e("DECLINE_FOLLOW_SUCCESS"),"successful"):"unsuccessful"},async editUser({commit:e},t){e("miscellaneous/LOAD_CONTENT");let s=await Hn.editUser(t);return e("miscellaneous/LOAD_CONTENT_COMPLETE"),s.data.message==="successful"?(e("RELOAD_SUCCESS",s.data.user),"successful"):"unsuccessful"},async getFollowers({commit:e}){let t=await Hn.followersGet();t.data.data?e("FOLLOWERS_SUCCESS",t.data.data):(console.log("error",t),e("FOLLOWERS_FAILURE"))},async getFollowings({commit:e}){let t=await Hn.followingsGet();t.data.data?e("FOLLOWINGS_SUCCESS",t.data.data):(console.log("error",t),e("FOLLOWINGS_FAILURE"))},async userRequests({},e){let t=await Hn.getUserRequests(e);return t.data.data?{status:!0,data:t.data.data,next:t.data.links.next}:{status:!1,response:t}},addProfile({commit:e},t){e("ADD_PROFILE",t)},async schoolRequestResponse({commit:e},t){let s=await Hn.schoolRequestResponse(t);return s.data.message==="successful"?(t.from==="school"&&t.type==="admin"&&e("ADD_PROFILE",s.data.data),{status:!0}):{status:!1,response:s}},async userNotifications({},e){let t=await Hn.userNotifications(e);return t.data.data?{status:!0,data:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async markNotifications(){let e=await Hn.markNotifications();return e.data.message==="successful"?{status:!0}:{status:!1,response:e}},async markOtherNotifications({},e){let t=await Hn.markOtherNotifications(e);return t.data.message==="successful"?{status:!0}:{status:!1,response:t}},updateUserFollows({commit:e},t){e("UPDATE_USER_FOLLOWS",t)},addUserFollower({commit:e},t){e("ADD_USER_FOLLOWER",t)},async createAccount({commit:e},t){let s=await Hn.accountCreate(t);return s.data.message==="successful"?t.get("creator")==="user"?(e("ACCOUNT_CREATE_SUCCESS",{profile:s.data.profile}),{status:!0}):(t.get("creator")==="school"&&e("dashboard/SCHOOL_ADD_ACCOUNTS",{accountOne:s.data.accountOne,accountTwo:s.data.accountTwo},{root:!0}),{status:!0,userOne:s.data.userOne,accountOne:s.data.accountOne,userTwo:s.data.userTwo,accountTwo:s.data.accountTwo}):{status:!1,response:s}},async profileGet({commit:e},{account:t,accountId:s}){e("LOAD_PROFILE");let o=await yt.profileGet({account:t,accountId:s}),i=!0;return o.status!=200?i=!1:e("profile/GET_PROFILE_SUCCESS",o.data),e("LOAD_PROFILE_COMPLETE"),{status:i}},async findUser({commit:e},t){let s=await Hn.findUser(t);return s.data.data?{status:!0,next:s.data.links.next,users:s.data.data}:{status:!1}},async getUserSaved({commit:e},t){let s=await Hn.userSavedGet(t);return s.data.data?{next:s.data.links.next,data:s.data.data}:"unsuccessful"},async getUserFlagged({commit:e},t){let s=await Hn.userFlaggedGet(t);return s.data.data?{next:s.data.links.next,data:s.data.data}:"unsuccessful"},setCurrentRouteName({commit:e},t){e("SET_CURRENT_ROUTE_NAME",t)},async login({commit:e},t){e("LOGIN_REQUEST");const s=await Hn.login(t);return console.log(s,"actions"),s!=null&&s.status?(vi.setUser(s.user),e("LOGIN_SUCCESS",s),e("CLEAR_VALIDATION_ERRORS")):(vi.removeUser(),e("LOGIN_FAILURE"),e("VALIDATION_ERRORS",s)),s},async reloadUser({commit:e,dispatch:t}){e("RELOAD_REQUEST");try{const s=await Hn.refreshUser();s.errors?vi.removeUser():(vi.setUser(s.user),e("RELOAD_SUCCESS",s.user))}catch(s){console.log(s),s&&s.response.config.url.includes("api/user")&&e("RELOAD_FAILURE",""),vi.removeUser()}},async register({commit:e},t){e("LOGIN_REQUEST");try{const s=await Hn.register(t);return console.log("data in actions",s),s.errors?(console.log("error in actions",s),vi.removeUser(),e("VALIDATION_ERRORS",s)):(vi.setUser(s.user),e("LOGIN_SUCCESS",s),e("CLEAR_VALIDATION_ERRORS")),s}catch(s){return console.log("action errors",s.errors),s instanceof JA&&(e("LOGIN_FAILURE",s),e("VALIDATION_ERRORS",s)),vi.removeUser(),{status:!1,error:s}}},async logout({commit:e}){var o;let t=await Hn.logout(),s=!1;return((o=t.data)==null?void 0:o.message)==="successful"?(e("LOGOUT"),s=!0):console.log(t),{status:s}},refreshToken({commit:e,state:t}){if(!t.refreshTokenPromise){const s=Hn.refreshToken();e("REFREESH_TOKEN_PROMISE",s),s.then(o=>{e("REFREESH_TOKEN_PROMISE",null),e("LOGIN_SUCCESS",o)}).catch(o=>{e("REFREESH_TOKEN_PROMISE",null)})}return t.refreshTokenPromise},clearValidation({commit:e}){e("CLEAR_VALIDATION_ERRORS")}},Fpe={LOGIN_REQUEST(e){e.authenticating=!0,e.authenticatingErrorCode=0,e.authenticatingErrorMessage=""},SET_CURRENT_ROUTE_NAME(e,t){e.currentRouteName=t},LOGIN_SUCCESS(e,t){e.authenticating=!1,e.loggedin=!0,e.user=t.user},LOGIN_FAILURE(e){e.authenticating=!1,e.loggedin=!1,e.user=null},RELOAD_REQUEST(e){e.authenticatingUser=!0,e.authenticatingErrorCode=0,e.authenticatingErrorMessage=""},RELOAD_SUCCESS(e,t){e.authenticatingUser=!1,e.user=t,e.loggedin=!0},RELOAD_FAILURE(e,t){e.authenticatingUser=!1,e.authenticatingErrorCode=401,e.authenticatingErrorMessage=t,e.loggedin=!1},LOGOUT(e){e.accessToken="",e.user=null,e.loggedin=!1},REFREESH_TOKEN_PROMISE(e,t){e.REFREESH_TOKEN_PROMISE=t},VALIDATION_ERRORS(e,{errors:t}){e.validationErrors=t},CLEAR_VALIDATION_ERRORS(e){e.validationErrors=null,e.authenticatingErrorMessage=null},LOAD_PROFILE_COMPLETE(e){e.loading=!1},LOAD_PROFILE(e){e.loading=!0},START_REQUEST(e){e.requestingStatus=!0},END_REQUEST(e){e.requestingStatus=!1},FOLLOW_SUCCESS(e,t){e.userFollowings.push(t)},FOLLOWINGS_SUCCESS(e,t){e.userFollowings=t},FOLLOWINGS_FAILURE(e){},FOLLOWERS_SUCCESS(e,t){e.userFollowers=t},FOLLOWERS_FAILURE(e){},FOLLOW_BACK_SUCCESS(e,t){e.user.follow_requests-=1,e.userFollowings.push(followings)},DECLINE_FOLLOW_SUCCESS(e){e.user.follow_requests-=1},ADD_USER_FOLLOWER(e,t){e.userFollowers.push(t)},UPDATE_USER_FOLLOWS(e,t){if(t.type==="conversation"){let s=null,o=null;s=t.conversation.conversationAccounts.find(i=>i.user_id===e.user.id),o=t.conversation.conversationAccounts.find(i=>i.user_id!==e.user.id),e.userFollowers.some(i=>{if(ns.getAccount(i.followedby_type)===o.account&&i.followedby_id===o.accountId&&ns.getAccount(i.followable_type)===s.account&&i.followable_id===s.accountId)return i.conversation_id=t.conversation.id,!0}),e.userFollowings.some(i=>{if(ns.getAccount(i.followedby_type)===s.account&&i.followedby_id===s.accountId&&ns.getAccount(i.followable_type)===o.account&&i.followable_id===o.accountId)return i.conversation_id=t.conversation.id,!0})}else if(t.type==="response"){let s=e.userFollowers.findIndex(o=>o.conversation_id===t.conversationId);s>-1&&(t.mine?e.userFollowers[s].followable_chat_status=t.response:e.userFollowers[s].followedby_chat_status=t.response),s=e.userFollowings.findIndex(o=>o.conversation_id===t.conversationId),s>-1&&(t.mine?e.userFollowings[s].followedby_chat_status=t.response:e.userFollowings[s].followable_chat_status=t.response)}},ACCOUNT_CREATE_SUCCESS(e,t){e.user.profiles.push(t.profile)},ADD_PROFILE(e,t){e.user.profiles.push(t)}};function no({state:e,property:t,fn:s,data:o,methodType:i,equate:n,sub:r,subId:f}){let m=e.posts.findIndex(v=>s(v));if(m===-1)return!1;if(r){XA({item:e.posts[m],sub:r,subId:f,data:o,property:t});return}return e.posts[m][t]?n?(e.posts[m][t]=o,!0):(e.posts[m][t][i](o),!0):!1}function Upe({state:e,stateProperty:t,property:s,fn:o,data:i,methodType:n}){if(!e[t]||e[t][0][s])return!1;let r=e[t].findIndex(f=>o(f));return r===-1?!1:(e[t][r][s][n](i),!0)}function i1({state:e,property:t,fn:s,data:o}){if(!e[t])return!1;let i=e[t].findIndex(n=>s(n));return hn({item:e[t],data:o,index:i})}function Mo({state:e,property:t,fn:s,data:o,propertyFn:i}){if(!e.posts[0][t])return!1;let n=e.posts.findIndex(f=>s(f));if(n===-1)return!1;let r=e.posts[n][t].findIndex(i(item));return hn({items:e.posts[n][t],data:o,index:r})}function o1({state:e,stateProperty:t,property:s,fn:o,data:i,propertyFn:n}){if(!e[t])return!1;let r=null;if(o){let m=e[t].findIndex(v=>o(v));if(m===-1)return!1;r=e[t][m]}if(o||(r=e[t]),!r[s])return!1;let f=r[s].findIndex(n(item));return hn({items:r[s],index:f,data:i})}function Pa({state:e,fn:t,data:s}){let o=e.posts.findIndex(i=>t(i));return hn({data:s,index:o,items:e.posts})}function Ma({items:e,fn:t,property:s,methodType:o,data:i,equate:n,sub:r,subId:f}){let m=e.findIndex(v=>t(v));if(m!==-1){if(n&&!r){e[m][s]=i;return}if(n&&r){XA({item:e[m],sub:r,subId:f,data:i,property:s});return}e[m][s][o](i)}}function XA({item:e,sub:t,subId:s,data:o,property:i}){if(!t||!s||!e)return;let n=e[t].findIndex(r=>r.id==s);n!==-1&&(e[t][n][i]=o)}function Fi({state:e,property:t,itemType:s,fn:o,data:i,hasMine:n,methodType:r,postType:f,equate:m,sub:v,subId:g}){Ma({items:e.posts,fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),s=="post"&&f&&(Ma({items:e[`${f}s`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),n&&Ma({items:e[`${f}sMine`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),Ma({items:e[`${f}sFollowers`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),Ma({items:e[`${f}sFollowings`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),e[`${f}sAttachments`]&&Ma({items:e[`${f}sAttachments`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g})),s!="post"&&Ma({items:e[`${s}s`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),n&&Ma({items:e[`${s}sMine`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),Ma({items:e[`${s}sFollowers`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),Ma({items:e[`${s}sFollowings`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g}),e[`${s}sAttachments`]&&Ma({items:e[`${s}sAttachments`],fn:o,property:t,methodType:r,data:i,equate:m,sub:v,subId:g})}function Eo({state:e,property:t,itemType:s,fn:o,data:i,postType:n,propertyFn:r,unique:f,hasMine:m}){s==="activity"&&(s="activitie");let v,g=e.posts.findIndex(A=>o(A));g>-1&&(v=e.posts[g][t].findIndex(A=>r(A)),hn({unique:f,items:e.posts[g][t],data:i,index:v})),s=="post"&&n&&(n==="activity"&&(n="activitie"),g=e[`${n}s`].findIndex(A=>o(A)),g>-1&&(v=e[`${n}s`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${n}s`][g][t],data:i,index:v})),g=e[`${n}sMine`].findIndex(A=>o(A)),g>-1&&(v=e[`${n}sMine`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${n}sMine`][g][t],data:i,index:v})),g=e[`${n}sFollowers`].findIndex(A=>o(A)),g>-1&&(v=e[`${n}sFollowers`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${n}sFollowers`][g][t],data:i,index:v})),g=e[`${n}sFollowings`].findIndex(A=>o(A)),g>-1&&(v=e[`${n}sFollowings`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${n}sFollowings`][g][t],data:i,index:v})),g=e[`${n}sAttachments`].findIndex(A=>o(A)),g>-1&&(v=e[`${n}sAttachments`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${n}sAttachments`][g][t],data:i,index:v}))),s!=="post"&&(g=e[`${s}s`].findIndex(A=>o(A)),g>-1&&(v=e[`${s}s`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${s}s`][g][t],data:i,index:v}))),m&&(g=e[`${s}sMine`].findIndex(A=>o(A)),g>-1&&(v=e[`${s}sMine`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${s}sMine`][g][t],data:i,index:v}))),g=e[`${s}sFollowers`].findIndex(A=>o(A)),g>-1&&(v=e[`${s}sFollowers`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${s}sFollowers`][g][t],data:i,index:v})),g=e[`${s}sFollowings`].findIndex(A=>o(A)),g>-1&&(v=e[`${s}sFollowings`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${s}sFollowings`][g][t],data:i,index:v})),e[`${s}sAttachments`]&&(g=e[`${s}sAttachments`].findIndex(A=>o(A)),g>-1&&(v=e[`${s}sAttachments`][g][t].findIndex(A=>r(A)),hn({unique:f,items:e[`${s}sAttachments`][g][t],data:i,index:v})))}function aa({state:e,itemType:t,fn:s,data:o,postType:i,unique:n,hasMine:r}){t==="activity"&&(t="activitie");let f=e.posts.findIndex(m=>s(m));hn({unique:n,items:e.posts,data:o,index:f}),t=="post"&&i&&(i==="activity"&&(i="activitie"),f=e[`${i}s`].findIndex(m=>s(m)),hn({unique:n,items:e[`${i}s`],data:o,index:f}),f=e[`${i}sMine`].findIndex(m=>s(m)),hn({unique:n,items:e[`${i}sMine`],data:o,index:f}),f=e[`${i}sFollowers`].findIndex(m=>s(m)),hn({unique:n,items:e[`${i}sFollowers`],data:o,index:f}),f=e[`${i}sFollowings`].findIndex(m=>s(m)),hn({unique:n,items:e[`${i}sFollowings`],data:o,index:f}),f=e[`${i}sAttachments`].findIndex(m=>s(m)),hn({unique:n,items:e[`${i}sAttachments`],data:o,index:f})),t!=="post"&&(f=e[`${t}s`].findIndex(m=>s(m)),hn({unique:n,items:e[`${t}s`],data:o,index:f})),r&&(f=e[`${t}sMine`].findIndex(m=>s(m)),hn({unique:n,items:e[`${t}sMine`],data:o,index:f})),f=e[`${t}sFollowers`].findIndex(m=>s(m)),hn({unique:n,items:e[`${t}sFollowers`],data:o,index:f}),f=e[`${t}sFollowings`].findIndex(m=>s(m)),hn({unique:n,items:e[`${t}sFollowings`],data:o,index:f}),e[`${t}sAttachments`]&&(f=e[`${t}sAttachments`].findIndex(m=>s(m)),hn({unique:n,items:e[`${t}sAttachments`],data:o,index:f}))}function hl({state:e,itemType:t,data:s,postType:o,hasMine:i,followers:n,followings:r,isAFollower:f,isAFollowing:m}){let v=jpe(s),g=f??Vpe({followers:n,account:v}),A=m??qpe({followings:r,account:v});e.posts.unshift(gl(s,!0)),t!=="post"&&e[`${t}s`].length&&e[`${t}s`].unshift(gl(s,!0)),i&&e[`${t}sMine`].length&&e[`${t}sMine`].unshift(gl(s,!0)),g&&e[`${t}sFollowers`].length&&e[`${t}sFollowers`].unshift(gl(s,!0)),A&&e[`${t}sFollowings`].length&&e[`${t}sFollowings`].unshift(gl(s,!0)),t=="post"&&o&&(o==="activity"&&(o="activitie"),g&&e[`${o}sFollowers`].length&&e[`${o}sFollowers`].unshift(gl(s,!0)),A&&e[`${o}sFollowings`].length&&e[`${o}sFollowings`].unshift(gl(s,!0)))}function $A(e){return e.participant?e.participant:e.marker}function Bpe(e){return e.participant?"participants":"markers"}function a1({data:e,currentPage:t,state:s,params:o,itemType:i}){if(!e.length){s.postDone=!0;return}if(o.hasOwnProperty("mine")){if(t===1){s[`${i}sMine`]=e;return}s[`${i}sMine`].push(...e);return}if(o.hasOwnProperty("followers")){if(t===1){s[`${i}sFollowers`]=e;return}s[`${i}sFollowers`].push(...e);return}if(o.hasOwnProperty("followings")){if(t===1){s[`${i}sFollowings`]=e;return}s[`${i}sFollowings`].push(...e);return}if(o.hasOwnProperty("attachments")){if(t===1){s[`${i}sAttachments`]=e;return}s[`${i}sAttachments`].push(...e);return}if(i!="post"){if(t===1){s[`${i}s`]=e;return}s[`${i}s`].push(...e);return}if(t===1){s.posts=e;return}s.posts.push(...e)}function jpe(e){return e.addedby?e.addedby:e.raisedby?e.raisedby:null}function hn({items:e,index:t,data:s,unique:o}){return t===-1?!1:s?(e.splice(t,1,gl(s,o)),!0):(e.splice(t,1),!0)}function gl(e,t=!1){t&&JSON.parse(JSON.stringify(e))}function rs(e){return["book","poem","riddle","activity","question"].includes(e)&&(e="post"),`is${Ft.capitalize(e)}`}function Vpe({followers:e,account:t}){return!e||!t?!1:e.findIndex(o=>o.followedby.account===t.account&&o.followedby.accountId===t.accountId)>-1}function qpe({followings:e,account:t}){return e.findIndex(o=>o.followable.account===t.account&&o.followable.accountId===t.accountId)>-1}const Hpe={CLEAR_MEDIA(e){e.media=[],e.mediaType="",e.moreMedia=!1},PUBLIC_MEDIA_SUCCESS(e,t){t.media==="images"?e.profile.images.unshift(t.main.media):t.media==="videos"?e.profile.videos.unshift(t.main.media):t.media==="audios"&&e.profile.audios.unshift(t.main.media)},GET_MEDIA_SUCCESS(e,t){let{mainData:s,data:o}=t;console.log("get media",e.media),o.media==="images"?e.mediaType="image":o.media==="videos"?e.mediaType="video":o.media==="audios"&&(e.mediaType="audio"),s.links.next?e.moreMedia=!0:e.moreMedia=!1,e.media.push(...s.data)},GET_PROFILE_SUCCESS(e,t){e.message="successfully got the requested profile",e.account=t.account,e.profile=t.profile},UPDATE_PROFILE_SUCCESS(e,t){e.message="successfully updated your profile",e.profile=t.profile},UPDATE_PROFILE_PIC_SUCCESS(e,t){e.profile.url=t.image.url},UPLOAD_FILE_SUCCESS(e,t){t.hasOwnProperty("image")?e.profile.images.unshift(t.image):t.hasOwnProperty("video")?e.profile.videos.unshift(t.video):t.hasOwnProperty("audio")&&e.profile.audios.unshift(t.audio)},PROFILE_FAILURE(e,t){e.message=t},CLEAR_PROFILE_MSG(e){e.message=null},ADD_INFO_SUCCESS(e,t,s){s.hasOwnProperty("email")?e.profile.owner.emails.unshift(t.email):s.hasOwnProperty("social")?e.profile.socials.unshift(t.social):s.hasOwnProperty("phone")&&e.profile.owner.phoneNumbers.unshift(t.phone)},MARK_INFO_SUCCESS(e,t){if(t.item==="email"){let s=e.profile.owner.emails.findIndex(o=>o.id===t.id);s>-1&&(e.profile.owner.emails[s].show=!e.profile.owner.emails[s].show)}else if(t.item==="social"){let s=e.profile.socials.findIndex(o=>o.id===t.id);s>-1&&(e.profile.socails[s].show=!e.profile.socails[s].show)}else if(t.item==="phone"){let s=e.profile.owner.phoneNumbers.findIndex(o=>o.id===t.id);s>-1&&(e.profile.owner.phoneNumbers[s].show=!e.profile.owner.phoneNumbers[s].show)}},REMOVE_INFO_SUCCESS(e,t){if(t.item==="email"){let s=e.profile.owner.emails.findIndex(o=>o.id===t.id);s>-1&&e.profile.owner.emails.splice(s,1)}else if(t.item==="social"){let s=e.profile.socials.findIndex(o=>o.id===t.id);s>-1&&e.profile.socails.splice(s,1)}else if(t.item==="phone"){let s=e.profile.owner.phoneNumbers.findIndex(o=>o.id===t.id);s>-1&&e.profile.owner.phoneNumbers.splice(s,1)}},FOLLOW_SUCCESS(e,t){e.profile&&e.profile.follows.unshift(t.follow)},UNFOLLOW_SUCCESS(e,t){if(e.profile){let s=e.profile.follows.findIndex(o=>o.id===t.followId);s>-1&&e.profile.follows.splice(s,1)}},DISCUSSION_CREATE_SUCCESS(e,t){e.message="discussion successful",e.posts.unshift(t.discussion)},DISCUSSION_UPDATE_SUCCESS(e,t){Pa({state:e,data:t.discussion,fn:s=>s.id==t.discussion.id&&s.isDiscussion})},DISCUSSION_DELETE_SUCCESS(e,t){if(!Pa({state:e,data:null,fn:o=>o.id==t.discussionId&&o.isDiscussion})){e.message="deletion of discussion was unsuccessfully .";return}e.message="successfully deleted discussion ."},CREATE_ITEM_PARTICIPANT(e,t){no({state:e,property:t.participant?"participants":"markers",fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.participant?t.participant:t.marker,methodType:"push"})},ADD_DATA_TO_ITEM_PROPERTY(e,t){no({state:e,property:t.property,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.data,methodType:"push"})},CREATE_PENDING_ITEM_PARTICIPANT(e,t){no({state:e,property:"pendingParticipants",fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.pendingParticipant,methodType:"push"})},ADD_TIMER_TO_ITEM(e,t){if(t.item.isAssessment){t.item.timer=t.timer;return}no({state:e,property:"timer",sub:"assessmentSections",subId:t.item.id,data:t.timer})},NEW_DISCUSSION(e,t){e.posts.unshift(t)},REPLACE_DISCUSSION(e,t){Pa({state:e,data:t,fn:s=>s.id==t.id&&s.isDiscussion})},REMOVE_DISCUSSION(e,t){Pa({state:e,data:null,fn:s=>s.id==t.discussionId&&s.isDiscussion})},NEW_ITEM_PARTICIPANT(e,t){no({state:e,data:t.participant,fn:s=>t.itemId&&s[rs(t.item)],methodType:"push",property:"participants"})},UPDATE_ITEM_PARTICIPANT(e,t){Mo({state:e,data:$A(t),property:Bpe(t),fn:s=>s.id==t.itemId&&s[rs(t.item)],profileFn:s=>s.userId===t.participant.userId})},REMOVE_ITEM_PARTICIPANT(e,t){Mo({state:e,data:null,property:t.type?`${t.type}s`:"participants",fn:s=>s.id==t.itemId&&s[rs(t.item)],profileFn:s=>s.userId===t.userId})},NEW_ITEM_PENDING_PARTICIPANT(e,t){no({state:e,data:t.pendingParticipant,property:"pendingParticipants",fn:s=>s.id==t.itemId&&s[rs(t.item)],methodType:"push"})},REMOVE_ITEM_PENDING_PARTICIPANT(e,t){Mo({state:e,data:null,property:"pendingParticipants",fn:s=>s.id==t.itemId&&s[rs(t.item)],profileFn:s=>s.userId==t.userId})},CLEAR_POSTS(e){e.posts=[],e.nextPage=0},POST_CREATE_SUCCESS(e,t){e.message="post successful",e.posts.unshift(t.post)},POST_UPDATE_SUCCESS(e,t){Pa({state:e,data:t.post,fn:s=>s.id===t.post.id&&s.isPost})},POST_DELETE_SUCCESS(e,t){if(!Pa({state:e,data:null,fn:o=>t.postId&&o.isPost})){e.message="deletion of post was unsuccessful .";return}e.message="successfully deleted post ."},POSTS_SUCCESS(e,t){t.data.length?(e.posts.push(...t.data),e.postNextPage=t.hasOwnProperty("meta")?t.meta.current_page+1:null):e.postDone=!0},NEW_POST(e,t){e.posts.unshift(t)},REPLACE_POST(e,t){Pa({state:e,data:t,fn:s=>s.id===t.id&&s.isPost})},REMOVE_POST(e,t){Pa({state:e,data:null,fn:s=>s.id==Number(t.postId)&&s.isPost})},POST_START(e){e.postingStatus=!0},POST_END(e){e.postingStatus=!1},LOADING_START(e){e.loading=!0},LOADING_END(e){e.loading=!1},ANSWER_CREATE_SUCCESS(e,t){if(!t.response.hasOwnProperty("answer"))return;let s=e.posts.findIndex(o=>o.id===t.data.postId);s>-1&&(e.posts[s].type[0].answers=t.response.answer,e.posts[s].type[0].answers_number+=1)},COMMENTING_START(e){e.commentingStatus=!0},COMMENTING_END(e){e.commentingStatus=!1},COMMENTS_GET_SUCCESS(e,t){t.data.length?(e.comments.push(...t.data),e.commentNextPage=t.hasOwnProperty("meta")?t.meta.current_page+1:null):e.commentDone=!0},COMMENT_GET_SUCCESS(e,t){},COMMENT_UPDATE_SUCCESS(e,t){if(t.item==="comment")return i1({data:t.comment,state:e,fn:s=>s.id==t.comment.id,property:"comments"});Mo({fn:s=>s.id===t.itemId&&s[rs(t.item)],propertyFn:s=>s.id===t.comment.id,data:t.comment,state:e,property:"comments"})},COMMENT_DELETE_SUCCESS(e,t){if(t.item==="comment")return i1({data:null,state:e,fn:s=>s.id==t.commentId,property:"comments"});Mo({fn:s=>s.id===t.itemId&&s[getItemTypet(t.item)],propertyFn:s=>s.id===t.commentId,data:null,state:e,property:"comments"})},COMMENT_SUCCESS(e,t){var s;if(t.item==="comment"){(s=e.comments)==null||s.unshift(t.comment);return}no({state:e,data:t.comment,methodType:"unshift",fn:o=>o.id==t.itemId&&o[rs(t.item)],property:"comments"})},COMMENT_FAILURE(e,t){},COMMENTS_CLEAR(e){e.comments=[],e.commentNextPage=0},NEW_COMMENT(e,t){no({state:e,data:t.comment,fn:s=>s.id===Number(t.itemId)&&s[rs(t.item)],property:"comments",methodType:"unshift"})},REPLACE_COMMENT(e,t){Mo({state:e,data:t.comment,fn:s=>s.id===Number(t.itemId)&&s[rs(t.item)],propertyFn:s=>s.id===t.comment.id,property:"comments"})},REMOVE_COMMENT(e,t){Mo({state:e,data:null,fn:s=>s.id===Number(t.itemId)&&s[rs(t.item)],propertyFn:s=>s.id===Number(t.commentId),property:"comments"})},SAVE_CREATE_SUCCESS(e,t){no({data:t.save,property:"saves",fn:s=>s.id===t.itemId&&s[rs(t.item)],methodType:"push",state:e})},SAVE_DELETE_SUCCESS(e,t){Mo({state:e,data:null,property:"saves",propertyFn:s=>s.id===t.saveId,fn:s=>s.id===t.itemId&&s[rs(t.item)]})},LIKE_CREATE_SUCCESS(e,t){no({state:e,property:"likes",data:t.like,fn:s=>s.id===t.itemId&&s[rs(t.item)],methodType:"push"})},LIKE_DELETE_SUCCESS(e,t){Mo({state:e,data:null,property:"likes",fn:s=>s.id===t.itemId&&s[rs(t.item)],propertyFn:s=>s.id===t.likeId})},NEW_LIKE(e,t){if(t.item==="comment")return Upe({state:e,stateProperty:"comments",property:"likes",methodType:"push",data:t.like,fn:s=>s.id===Number(t.itemId)});no({state:e,data:t.like,property:"likes",methodType:"push",fn:s=>s.id===Number(t.itemId)&&s[rs(t.item)]})},REMOVE_LIKE(e,t){if(t.item==="comment")return o1({state:e,stateProperty:"comments",property:"likes",data:null,fn:s=>s.id===Number(t.itemId),propertyFn:s=>s.id===Number(t.likeId)});Mo({state:e,property:"likes",data:null,fn:s=>s.id===Number(t.itemId)&&s[rs(t.item)],propertyFn:s=>s.id===Number(t.likeId)})},FLAG_CREATE_SUCCESS(e,t){if(!t.items.includes(t.item)){e.profile.flags.unshift(t.flag);return}Pa({state:e,data:null,fn:s=>s.id===t.itemId&&s[rs(t.item)]})},FLAG_DELETE_SUCCESS(e,t){if(!t.items.includes(t.item))return o1({state:e,data:null,property:"flags",stateProperty:"profile",fn:null,propertyFn:s=>s.id===t.flagId});Mo({state:e,data:null,property:"flags",fn:s=>s.id===t.itemId&&s[rs(t.item)],propertyFn:s=>s.id===t.flagId})},NEW_FLAG(e,t){t.items.includes(t.item)&&no({state:e,data:t.flag,property:"flags",methodType:"push",fn:s=>s.id==t.itemId&&s[rs(t.item)]})},ATTACHMENT_CREATE_SUCCESS(e,t){no({state:e,data:t.attachment,property:"attachments",methodType:"push",fn:s=>s.id===t.item&&s[rs(t.item)]})},ATTACHMENT_DELETE_SUCCESS(e,t){Mo({state:e,data:null,property:"attachments",propertyFn:s=>s.id===t.attachmentId,fn:s=>s.id===t.itemId&&s[rs(t.item)]})},NEW_ATTACHMENT(e,t){no({state:e,data:t.attachment,property:"attachments",methodType:"push",fn:s=>s.id==t.itemId&&s[rs(t.item)]})},REMOVE_ATTACHMENT(e,t){Mo({state:e,data:null,property:"attachments",propertyFn:s=>s.id==t.attachmentId,fn:s=>s.id==t.itemId&&s[rs(t.item)]})},ASSESSMENT_CREATE_SUCCESS(e,t){e.posts.unshift(t)},DISCUSSION_CREATE_SUCCESS(e,t){e.message="discussion successful",e.posts.unshift(t.discussion)},ASSESSMENT_UPDATE_SUCCESS(e,t){Pa({state:e,data:t.assessment,fn:s=>s.id==t.assessment.id&&s.isAssessment})},ASSESSMENT_DELETE_SUCCESS(e,t){Pa({state:e,data:null,fn:s=>s.id==t.assessmentId&&s.isAssessment})},SET_ACTIVE_PROFILE(e,t){e.activeProfile=t}},Wpe={async follow({commit:e},t){console.log("data in profile",t);let s=await yt.followCreate(t);return s.data.message==="successful"?(e("FOLLOW_SUCCESS",s.data),e("FOLLOW_SUCCESS",s.data.following,{root:!0}),{status:!0,follow:s.data.follow}):(e("PROFILE_FAILURE","following was unsuccessul"),{status:!1})},async unfollow({commit:e},t){return(await yt.followDelete(t)).data.message==="successful"?(e("UNFOLLOW_SUCCESS",t),"successful"):(e("PROFILE_FAILURE","unfollowing was unsuccessul"),"unsuccessful")},async deleteMedia({commit:e},t){return(await yt.profileMediaDelete(t)).data.message==="successful"?"successful":"unsuccessful"},async changeMedia({commit:e},t){let s=await yt.profileMediaChange(t);return s.data.message==="successful"?(e("PUBLIC_MEDIA_SUCCESS",{main:s.data,data:t}),"successful"):"unsuccessful"},setActiveProfile({commit:e,rootGetters:t},s){let o=[];if(!t.getProfiles||!t.getProfiles.length){e("SET_ACTIVE_PROFILE",null);return}if(o=t.getProfiles.filter(i=>i.accountId===(s==null?void 0:s.accountId)&&i.account===(s==null?void 0:s.account)),o.length){e("SET_ACTIVE_PROFILE",o[0]);return}e("SET_ACTIVE_PROFILE",t.getProfiles[0])},async updateProfile({commit:e},t){let s=await yt.profileUpdate(t);s.data.message==="successful"?e("UPDATE_PROFILE_SUCCESS",s.data,t):e("PROFILE_FAILURE","update was unsuccessul")},async updateProfilePic({commit:e},t){let s=await yt.profilePicUpdate(t);return s.data.message==="successful"&&e("UPDATE_PROFILE_PIC_SUCCESS",s.data),s.data.message},async uploadFile({commit:e},t){let s=await yt.profileFileUpload(t);return s.data.message==="successful"&&e("UPLOAD_FILE_SUCCESS",s.data),s.data.message},clearMedia({commit:e}){e("CLEAR_MEDIA")},async getMedia({commit:e},t){let s=await yt.profileMediaGet(t);return s.data.data?s.data:"unsuccessful"},async getPrivateMedia({commit:e},t){let s=await yt.profilePrivateMediaGet(t);return s.data.data?s.data:"unsuccessful"},async addInfo({commit:e},t){let s=await yt.profileAddInfo(t);return s.data.message==="successful"?(e("ADD_INFO_SUCCESS",s.data,t),"successful"):s.data.errors},async markInfo({commit:e},t){return(await yt.profileMarkInfo(t)).data.message==="successful"?(e("MARK_INFO_SUCCESS",t),"successful"):"unsuccessful"},async removeInfo({commit:e},t){return(await yt.profileDeleteInfo(t)).data.message==="successful"?(e("REMOVE_INFO_SUCCESS",t),"successful"):"unsuccessful"},clearMsg({commit:e}){e("CLEAR_PROFILE_MSG")},async sendMessageResponse({commit:e},t){let s=await yt.sendMessageResponse(t);return s.data.message==="successful"?(e("UPDATE_USER_FOLLOWS",{type:"response",conversationId:s.data.conversation.id,response:t.data.response,mine:!0},{root:!0}),{status:!0,conversation:s.data.conversation}):{status:!1,message:s}},async blockConversation({commit:e},t){let s=await yt.blockConversation(t);return s.data.message==="successful"?(e("UPDATE_USER_FOLLOWS",{type:"response",conversationId:s.data.conversation.id,response:"BLOCK",mine:!0},{root:!0}),{status:!0,conversation:s.data.conversation}):{status:!1,message:s}},async unblockConversation({commit:e},t){let s=await yt.unblockConversation(t);return s.data.message==="successful"?(e("UPDATE_USER_FOLLOWS",{type:"response",conversationId:s.data.conversation.id,response:"ACCEPT",mine:!0},{root:!0}),{status:!0,conversation:s.data.conversation}):{status:!1,message:s}},async sendChatMessage({commit:e},t){let s=await yt.sendChatMessage(t);return s.data.message==="successful"?{status:!0,chatMessage:s.data.chatMessage}:{status:!1,message:s}},async sendChatAnswer({commit:e},t){let s=await yt.sendChatAnswer(t);return s.data.message==="successful"?{status:!0,chatQuestion:s.data.chatQuestion}:{status:!1,message:s}},async sendChatMark({commit:e},t){let s=await yt.sendChatMark(t);return s.data.message==="successful"?{status:!0,chatAnswer:s.data.chatAnswer}:{status:!1,message:s}},async sendChatQuestion({commit:e},t){let s=await yt.sendChatQuestion(t);return s.data.message==="successful"?{status:!0,chatQuestion:s.data.chatQuestion}:{status:!1,message:s}},async deleteChatQuestion({commit:e},t){let s=await yt.deleteChatItem(t);return s.data.message==="successful"?{status:!0,chatQuestion:s.data.chatItem}:{status:!1,message:s}},async deleteChatAnswer({commit:e},t){let s=await yt.deleteChatItem(t);return s.data.message==="successful"?{status:!0,chatAnswer:s.data.chatItem}:{status:!1,message:s}},async deleteChatMessage({commit:e},t){let s=await yt.deleteChatItem(t);return s.data.message==="successful"?{status:!0,chatMessage:s.data.chatItem}:{status:!1,message:s}},async updateChatItemStatus({commit:e},t){let s=await yt.updateChatItemStatus(t);return s.data.message==="successful"?{status:!0,chatItem:s.data.chatItem}:{status:!1,message:s}},async getChatMessages({commit:e},t){let s=await yt.getChatMessages(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s}},async getChatConversations({commit:e},t){let s=await yt.getChatConversations(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s}},async getBlockedConversations({commit:e},t){let s=await yt.getBlockedConversations(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s}},async getPendingConversations({commit:e},t){let s=await yt.getPendingConversations(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s}},async createConversation({commit:e},t){let s=await yt.createConversation(t);return s.data.message==="successful"?(e("UPDATE_USER_FOLLOWS",{type:"conversation",conversation:s.data.conversation},{root:!0}),{status:!0,conversation:s.data.conversation}):{status:!1,message:s}},async createSave({commit:e},t){let s=await yt.saveCreate(t);return s.data.message==="successful"?(t.save=s.data.save,t.where==="profile"?e("SAVE_CREATE_SUCCESS",t):t.where==="home"?e("home/SAVE_CREATE_SUCCESS",t,{root:!0}):t.where==="dashboard"&&e("dashboard/SAVE_CREATE_SUCCESS",t,{root:!0}),{status:!0,save:s.data.save}):(e("PROFILE_FAILURE","saving unsuccessful"),{status:!1,message:"unsuccessful"})},async deleteSave({commit:e},t){return(await yt.saveDelete(t)).data.message==="successful"?(t.where==="profile"?e("SAVE_DELETE_SUCCESS",t):t.where==="home"?e("home/SAVE_DELETE_SUCCESS",t,{root:!0}):t.where==="dashbaord"&&e("dashbaord/SAVE_DELETE_SUCCESS",t,{root:!0}),{status:!0,message:"successful"}):(e("PROFILE_FAILURE","saving unsuccessful"),{status:!1,message:"unsuccessful"})},async createLike({commit:e},t){let s=await yt.likeCreate(t);return s.data.message==="successful"?(t.like=s.data.like,t.where==="profile"?e("LIKE_CREATE_SUCCESS",t):t.where==="dashboard"?e("dashboard/LIKE_CREATE_SUCCESS",t,{root:!0}):t.where==="home"&&e("home/LIKE_CREATE_SUCCESS",t,{root:!0}),s.data.like):(e("PROFILE_FAILURE","liking unsuccessful"),"unsuccessful")},async deleteLike({commit:e,rootGetters:t},s){if((await yt.likeDelete(s)).data.message!=="successful")return e("PROFILE_FAILURE","liking unsuccessful"),"unsuccessful";const i=t.getCurrentRouterName;return i==="profile"&&e("LIKE_DELETE_SUCCESS",s),i==="dashboard"&&e("dashboard/LIKE_DELETE_SUCCESS",s,{root:!0}),i==="home"&&e("home/LIKE_DELETE_SUCCESS",s,{root:!0}),s},newLike({commit:e},t){e("NEW_LIKE",t)},removeLike({commit:e},t){e("REMOVE_LIKE",t)},async createFlag({commit:e,rootState:t},s){let o=await yt.flagCreate(s);return o.data.message==="successful"?(s.flag=o.data.flag,s.items=t.items,s.where==="profile"?e("FLAG_CREATE_SUCCESS",s):s.where==="home"?e("home/FLAG_CREATE_SUCCESS",s,{root:!0}):s.where==="dashboard"&&e("dashboard/FLAG_CREATE_SUCCESS",s,{root:!0}),{status:!0,flag:o.data.flag}):(e("PROFILE_FAILURE","flagging unsuccessful"),{status:!1,message:"unsuccessful"})},async deleteFlag({commit:e,rootState:t},s){return(await yt.flagDelete(s)).data.message==="successful"?(s.items=t.items,s.where==="profile"?e("FLAG_DELETE_SUCCESS",s):s.where==="home"?e("home/FLAG_DELETE_SUCCESS",s,{root:!0}):s.where==="dashbaord"&&e("dashbaord/FLAG_DELETE_SUCCESS",s,{root:!0}),{data:s,status:!0}):(e("PROFILE_FAILURE","unflagging unsuccessful"),{status:!1,message:"unsuccessful"})},newFlag({commit:e,rootState:t},s){s.items=t.items,e("NEW_FLAG",s)},async createAttachment({commit:e,rootGetters:t},s){let o=await yt.attachmentCreate(s);if(o.data.message!=="successful")return e("PROFILE_FAILURE","attaching unsuccessful"),{status:!1,message:"unsuccessful"};const i=t.getCurrentRouterName;return s.attachment=o.data.attachment,i==="profile"&&e("ATTACHMENT_CREATE_SUCCESS",s),i==="home"&&e("home/ATTACHMENT_CREATE_SUCCESS",s,{root:!0}),i==="dashboard"&&e("dashboard/ATTACHMENT_CREATE_SUCCESS",s,{root:!0}),{status:!0,attachment:o.data.attachment}},async deleteAttachment({commit:e,rootGetters:t},s){if((await yt.attachmentDelete(s)).data.message!=="successful")return e("PROFILE_FAILURE","unattaching unsuccessful"),{status:!1,message:"unsuccessful"};const i=t.getCurrentRouterName;return i==="profile"&&e("ATTACHMENT_DELETE_SUCCESS",s),i==="home"&&e("home/ATTACHMENT_DELETE_SUCCESS",s,{root:!0}),i==="dashbaord"&&e("dashbaord/ATTACHMENT_DELETE_SUCCESS",s,{root:!0}),{data:s,status:!0}},newAttachment({commit:e},t){e("NEW_ATTACHMENT",t)},removeAttachment({commit:e},t){e("REMOVE_ATTACHMENT",t)},async createMark({},e){let t=await yt.createMark(e);return t.data.message==="successful"?{status:!0,data:t.data.mark}:{status:!1,response:t}},async updateMark({},e){let t=await yt.updateMark(e);return t.data.message==="successful"?{status:!0,mark:t.data.mark}:{status:!1,...t}},async deleteMark({},e){let t=await yt.deleteMark(e);return t.data.message==="successful"?{status:!0}:{status:!1,...t}},async getAnswerMarks({},e){let t=await yt.getAnswerMarks(e);return t.data.data?{status:!0,data:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async createComment({commit:e,rootGetters:t},s){e("COMMENTING_START");let o=await yt.createComment(s);if(e("COMMENTING_END"),o.data.message!=="successful")return e("PROFILE_FAILURE","commenting unsuccessful"),"unsuccessful";const i=t.getCurrentRouterName;return i==="dashboard"&&e("dashboard/COMMENT_SUCCESS",o.data,{root:!0}),i==="home"&&e("home/COMMENT_SUCCESS",{comment:o.data.comment,item:s.formData.get("item"),itemId:s.formData.get("itemId")},{root:!0}),i==="profile"&&e("COMMENT_SUCCESS",{comment:o.data.comment,item:s.formData.get("item"),itemId:s.formData.get("itemId")}),o.data},async deleteComment({commit:e,rootGetters:t},s){e("COMMENTING_START");let o=await yt.deleteComment(s);if(e("COMMENTING_END"),o.data.message!=="successful")return e("PROFILE_FAILURE","comment update unsuccessful"),"unsuccessful";const i=t.getCurrentRouterName;return i==="profile"&&e("COMMENT_DELETE_SUCCESS",s),i==="home"&&e("home/COMMENT_DELETE_SUCCESS",s,{root:!0}),i==="dashboard"&&e("dashboard/COMMENT_DELETE_SUCCESS",s,{root:!0}),s},async updateComment({commit:e},t){e("COMMENTING_START");let s=await yt.updateComment(t);return e("COMMENTING_END"),s.data.message!=="successful"?(e("PROFILE_FAILURE","comment update unsuccessful"),"unsuccessful"):(t.data.where==="profile"&&e("COMMENT_UPDATE_SUCCESS",{comment:s.data.comment,item:t.data.item,itemId:t.data.itemId}),t.data.where==="home"&&e("home/COMMENT_UPDATE_SUCCESS",{comment:s.data.comment,item:t.data.item,itemId:t.data.itemId},{root:!0}),t.data.where==="dashboard"&&e("dashboard/COMMENT_UPDATE_SUCCESS",s.data,{root:!0}),s.data)},async getComment({commit:e},t){let s=await yt.commentGet(t);return s.data.message==="successful"?(t.where==="profile"||t.where==="home"?e("COMMENT_GET_SUCCESS",s.data):t.where==="dashboard"&&e("dashboard/COMMENT_GET_SUCCESS",s.data,{root:!0}),s.data.comment):"unsuccessful"},async getComments({commit:e},t){e("COMMENTING_START");let s=await yt.commentsGet(t);if(e("COMMENTING_END"),s.data.data){let o={status:s.data.links.next,data:s.data,currentPage:s.data.meta.current_page};return t.where==="dashboard"&&e("dashboard/GET_COMMENTS_SUCCESS",s.data.data,{root:!0}),o}else return e("PROFILE_FAILURE","commenting was unsuccessful"),"unsuccessful"},clearComments({commit:e}){e("COMMENTS_CLEAR")},newComment({commit:e},t){e("NEW_COMMENT",t)},replaceComment({commit:e},t){e("REPLACE_COMMENT",t)},removeComment({commit:e},t){e("REMOVE_COMMENT",t)},async createGrade({commit:e},t){let s=await yt.gradeCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of grade unsuccessful"),{status:!1,message:s.data.message})},async createGradeAlias({commit:e},t){let s=await yt.gradeAliasCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of grade alias unsuccessful"),{status:!1,message:s.data.message})},async getGrades({commit:e},t){let s=await yt.gradesGet(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s.data.message}},async searchGrades({commit:e},t){let s=await yt.gradesSearch(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s.data.message}},async createProgram({commit:e},t){let s=await yt.programCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of program unsuccessful"),{status:!1,message:s.data.message})},async createProgramAlias({commit:e},t){let s=await yt.programAliasCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of program alias unsuccessful"),{status:!1,message:s.data.message})},async getPrograms({commit:e},t){let s=await yt.programsGet(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async searchPrograms({commit:e},t){let s=await yt.programsSearch(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async createCourse({commit:e},t){let s=await yt.courseCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of course unsuccessful"),{status:!1,message:s.data.message})},async createCourseAlias({commit:e},t){let s=await yt.courseAliasCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of course alias unsuccessful"),{status:!1,message:s.data.message})},async getCourses({commit:e},t){let s=await yt.coursesGet(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s.data.message}},async searchCourses({commit:e},t){let s=await yt.coursesSearch(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,message:s.data.message}},async createSubject({commit:e},t){let s=await yt.subjectCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of subject unsuccessful"),{status:!1,message:s.data.message})},async createSubjectAlias({commit:e},t){let s=await yt.subjectAliasCreate(t);return s.data.message==="successful"?{status:!0,data:s.data}:(e("PROFILE_FAILURE","creation of subject alias unsuccessful"),{status:!1,message:s.data.message})},async getSubjects({commit:e},t){let s=await yt.subjectsGet(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async searchSubjects({commit:e},t){let s=await yt.subjectsSearch(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async createAnswer({commit:e},t){e("COMMENTING_START");let s=await yt.createAnswer(t);return e("COMMENTING_END"),s.data.message==="successful"?(e("ANSWER_CREATE_SUCCESS",{data:t.data,response:s.data}),s.data):(e("PROFILE_FAILURE","creation of answer unsuccessful"),s.data.message)},async deleteAnswer({commit:e},t){let s=await yt.deleteAnswer(t);return s.data.message!=="successful"?{status:!1,message:s.data.message}:{status:!0}},async updateAnswer({commit:e},t){let s=await yt.updateAnswer(t);return s.data.message!=="successful"?{status:!1,message:s.data.message}:{status:!0,answer:s.data.answer}},async getAnswers({commit:e},t){e("COMMENTING_START");let s=await yt.answersGet(t);return e("COMMENTING_END"),s.data.data?{status:s.data.links.next,data:s.data}:(e("PROFILE_FAILURE","commenting was unsuccessful"),"unsuccessful")},async createDiscussion({commit:e},t){let s=await yt.discussionCreate(t.formData);return s.data.message==="successful"?(t.where==="profile"?e("DISCUSSION_CREATE_SUCCESS",s.data):t.where==="home"&&e("home/DISCUSSION_CREATE_SUCCESS",s.data,{root:!0}),{status:!0}):(e("PROFILE_FAILURE","discussion unsuccessful"),{status:!1,response:s})},async discusionContributionResponse({commit:e},t){let s=await yt.discusionContributionResponse(t);return s.data.message==="successful"?{status:!0,discussionMessage:s.data.discussionMessage}:{status:!1,response:s}},async joinItemResponse({commit:e},t){let s=await yt.joinItemResponse(t);return s.data.message==="successful"?{status:!0}:{status:!1,response:s}},async invitationItemResponse({commit:e,rootGetters:t},s){let o=await yt.invitationItemResponse(s);if(o.data.message!=="successful")return{status:!1,response:o};const i=t.getCurrentRouterName;return i==="home"&&(s.type!=="marker"&&e("home/REMOVE_ITEM_PENDING_PARTICIPANT",{...s,userId:rrotGetter.getUser.id},{root:!0}),s.action==="accepted"&&e("home/NEW_ITEM_PARTICIPANT",{participant:o.data.participant,marker:o.data.marker,...s},{root:!0})),i==="profile"&&(s.type!=="marker"&&e("REMOVE_ITEM_PENDING_PARTICIPANT",{...s,userId:rrotGetter.getUser.id},{root:!0}),s.action==="accepted"&&e("NEW_ITEM_PARTICIPANT",{participant:o.data.participant,marker:o.data.marker,...s},{root:!0})),{status:!0}},async updateDiscussion({commit:e},t){let s=await yt.discussionUpdate(t);return s.data.message==="successful"?(t.where==="profile"?e("DISCUSSION_UPDATE_SUCCESS",s.data):t.where==="home"&&e("home/DISCUSSION_UPDATE_SUCCESS",s.data,{root:!0}),{status:!0}):(e("PROFILE_FAILURE","discussion update unsuccessful"),{status:!1,response:s})},async deleteDiscussion({commit:e,rootGetters:t},s){let o=await yt.discussionDelete(s);if(o.data.message!=="successful")return e("PROFILE_FAILURE","discussion deletion unsuccessful"),{status:!1,response:o};const i=t.getCurrentRouterName;return i==="profile"&&e("DISCUSSION_DELETE_SUCCESS",s),i==="home"&&e("home/DISCUSSION_DELETE_SUCCESS",s,{root:!0}),{status:!0}},async deleteDiscussionMessage({commit:e},t){let s=await yt.deleteDiscussionMessage(t);return s.data.message==="successful"?{status:!0,discussionMessage:s.data.discussionMessage}:{status:!1,response:s}},async updateParticpantState({commit:e},t){let s=await yt.updateParticpantState(t);return s.data.message==="successful"?{status:!0,participant:s.data.participant}:{status:!1,response:s}},async deleteDiscussionParticipant({commit:e},t){let s=await yt.deleteDiscussionParticipant(t);return s.data.message==="successful"?{status:!0}:{status:!1,response:s}},async getDiscussionParticipants({commit:e},t){let s=await yt.getDiscussionParticipants(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async getDiscussionMessages({commit:e},t){let s=await yt.getDiscussionMessages(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async sendDiscussionMessage({commit:e},t){let s=await yt.sendDiscussionMessage(t);return s.data.message==="successful"?{status:!0,discussionMessage:s.data.discussionMessage}:{status:!1,response:s}},async inviteAccount({commit:e,rootGetters:t},s){let o=await yt.inviteAccount(s);if(o.data.message!=="successful")return{status:!1,response:o};if(!o.data.pendingParticipant)return{status:!0};const i=t.getCurrentRouterName;return i==="profile"&&e("CREATE_PENDING_ITEM_PARTICIPANT",{pendingParticipant:o.data.pendingParticipant,...s.computedItem}),i==="home"&&e("home/CREATE_PENDING_ITEM_PARTICIPANT",{pendingParticipant:o.data.pendingParticipant,...s.computedItem},{root:!0}),{status:!0}},async itemSearch({commit:e},t){let s=await yt.itemSearch(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1,response:s}},async joinItem({commit:e,rootGetters:t},s){let o=await yt.joinItem(s);if(o.data.message!=="successful")return{status:!1,response:o};const i=t.getCurrentRouterName;return o.data.pendingParticipant&&i==="home"&&e("home/CREATE_PENDING_ITEM_PARTICIPANT",{pendingParticipant:o.data.pendingParticipant,...s.computedItem},{root:!0}),o.data.pendingParticipant&&i==="profile"&&e("CREATE_PENDING_ITEM_PARTICIPANT",{pendingParticipant:o.data.pendingParticipant,...s.computedItem}),(o.data.pendingParticipant||o.data.marker)&&i==="home"&&e("home/CREATE_ITEM_PARTICIPANT",{participant:o.data.participant,marker:o.data.marker,...s.computedItem},{root:!0}),(o.data.pendingParticipant||o.data.marker)&&i==="profile"&&e("CREATE_ITEM_PARTICIPANT",{participant:o.data.participant,marker:o.data.marker,...s.computedItem}),{status:!0}},newDiscussion({commit:e},t){e("NEW_DISCUSSION",t)},replaceDiscussion({commit:e},t){e("REPLACE_DISCUSSION",t)},removeDiscussion({commit:e},t){e("REMOVE_DISCUSSION",t)},newItemParticipant({commit:e},t){e("NEW_ITEM_PARTICIPANT",t)},removeItemParticipant({commit:e},t){e("REMOVE_ITEM_PARTICIPANT",t)},updateItemParticipant({commit:e},t){e("UPDATE_ITEM_PARTICIPANT",t)},newItemPendingParticipant({commit:e},t){e("NEW_ITEM_PENDING_PARTICIPANT",t)},removeItemPendingParticipant({commit:e},t){e("REMOVE_ITEM_PENDING_PARTICIPANT",t)},clearPosts({commit:e}){e("CLEAR_POSTS")},async createPost({commit:e},t){e("POST_START");let s=await yt.postCreate(t.formData);return e("POST_END"),s.data.message==="successful"?(t.where==="profile"?e("POST_CREATE_SUCCESS",s.data):t.where==="home"&&e("home/POST_CREATE_SUCCESS",s.data,{root:!0}),"success"):(e("PROFILE_FAILURE","post unsuccessful"),"unsuccessful")},async getPost({commit:e},t){let s=await yt.postGet(t);return s.data.message==="successful"?s.data.post:"unsuccessful"},async updatePost({commit:e},t){e("POST_START");let s=await yt.postUpdate(t);return e("POST_END"),s.data.message==="successful"?(t.otherData.where==="profile"?e("POST_UPDATE_SUCCESS",s.data):t.otherData.where==="home"&&e("home/POST_UPDATE_SUCCESS",s.data,{root:!0}),"successful"):(e("PROFILE_FAILURE","post update unsuccessful"),"unsuccessful")},newPost({commit:e},t){e("NEW_POST",t)},replacePost({commit:e},t){e("REPLACE_POST",t)},removePost({commit:e},t){e("REMOVE_POST",t)},async deletePost({commit:e},t){e("POST_START");let s=await yt.postDelete(t);return e("POST_END"),s.data.message==="successful"?(t.where==="profile"?e("POST_DELETE_SUCCESS",t):t.where==="home"&&e("home/POST_DELETE_SUCCESS",t,{root:!0}),"successful"):(e("PROFILE_FAILURE","post deletion unsuccessful"),"unsuccessful")},async getProfilePosts({commit:e},t){e("LOADING_START"),console.log("responsedata",t);let s=await yt.profilePostsGet(t);if(e("LOADING_END"),s.data.data)return e("POSTS_SUCCESS",s.data),s.data.hasOwnProperty("links")?s.data.links.next:null;e("PROFILE_FAILURE","retrieving posts unsuccessful")},async getProfileAccounts({},e){let t=await yt.getProfileAccounts(e);return t.data.data?{status:!0,accounts:t.data.data,next:t.data.links.next}:{status:!1,response:t}}},zpe={namespaced:!0,state:()=>({account:null,profile:null,message:null,post:null,nextPage:0,commentNextPage:0,postNextPage:0,done:!1,posts:[],comments:[],postingStatus:null,commentingStatus:null,commentsDone:!1,postsDone:!1,loading:null,activeProfile:null,media:[],mediaType:"",moreMedia:!1}),mutations:Hpe,actions:Wpe,getters:{getAccount(e){return e.account?e.account:null},getProfile(e){return e.profile?e.profile:null},profilePosts(e){return e.posts},getMsg(e){return e.message?e.message:null},getPostingStatus(e){return!!e.postingStatus},getLoadingStatus(e){return!!e.loading},getCommentingStatus(e){return!!e.commentingStatus},getPostsDone(e){return!!e.done},getCommentsDone(e){return!!e.commentsDone},getActiveProfile(e){return e.activeProfile},getNextPage(e){return e.nextPage},getStateComments(e){return e.comments.length?e.comments:null},getCommentNextPage(e){return e.commentNextPage},getPostNextPage(e){return e.postNextPage},getMoreMedia(e){return e.moreMedia},getStateMedia(e){return{media:e.media,mediaType:e.mediaType}}}},Rp=["comment","answer"],Gpe={LOADING_START(e){e.loading=!0},LOADING_END(e){e.loading=!1},ASSESSMENT_CREATE_SUCCESS(e,t){hl({state:e,data:data.assessment,itemType:"assessment",hasMine:!0})},ASSESSMENT_UPDATE_SUCCESS(e,t){aa({state:e,hasMine:!0,data:t.assessment,itemType:"assessment",unique:!0,fn:s=>s.id==t.assessment.id&&s.isAssessment})},ASSESSMENT_DELETE_SUCCESS(e,t){aa({state:e,hasMine:!0,data:null,itemType:"assessment",unique:!0,fn:s=>s.id==t.assessmentId&&s.isAssessment})},NEW_ASSESSMENT(e,t){hl({state:e,data:t.discussion,itemType:"discussion",followers:t.userFollowers,followings:t.userFollowings})},REPLACE_ASSESSMENT(e,t){aa({state:e,itemType:"discussion",data:t.discussion,unique:!0,fn:s=>s.id==t.discussion.id&&s.isDiscussion})},REMOVE_ASSESSMENT(e,t){aa({state:e,itemType:"discussion",data:null,unique:!0,fn:s=>s.id==t.discussionId&&s.isDiscussion})},ADD_TIMER_TO_ITEM(e,t){Fi({state:e,property:"timer",data:t.timer,itemType:"assessment",hasMine:!0,equate:!0,fn:s=>(s.id==t.item.id||s.id==t.item.assessmentId)&&s.isAssessment,sub:t.item.isAssessment?null:"assessmentSections",subId:t.item.isAssessment?null:t.item.id})},DISCUSSION_CREATE_SUCCESS(e,t){hl({state:e,data:t.discussion,itemType:"discussion",hasMine:!0})},DISCUSSION_UPDATE_SUCCESS(e,t){aa({state:e,hasMine:!0,data:t.discussion,itemType:"discussion",unique:!0,fn:s=>s.id==t.discussion.id&&s.isDiscussion})},DISCUSSION_DELETE_SUCCESS(e,t){aa({state:e,hasMine:!0,data:null,itemType:"discussion",unique:!0,fn:s=>s.id==t.discussionId&&s.isDiscussion})},CREATE_PENDING_ITEM_PARTICIPANT(e,t){Fi({state:e,property:"pendingParticipants",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.pendingParticipant,methodType:"push",hasMine:!0})},CREATE_ITEM_PARTICIPANT(e,t){Fi({state:e,property:t.participant?"participants":"markers",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.participant?t.participant:t.marker,methodType:"push",hasMine:!0})},ADD_DATA_TO_ITEM_PROPERTY(e,t){Fi({state:e,property:t.property,itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.data,methodType:"push",hasMine:!0})},NEW_DISCUSSION(e,t){hl({state:e,data:t.discussion,itemType:"discussion",followers:t.userFollowers,followings:t.userFollowings})},REPLACE_DISCUSSION(e,t){aa({state:e,itemType:"discussion",data:t.discussion,unique:!0,fn:s=>s.id==t.discussion.id&&s.isDiscussion})},REMOVE_DISCUSSION(e,t){aa({state:e,itemType:"discussion",data:null,unique:!0,fn:s=>s.id==t.discussionId&&s.isDiscussion})},NEW_ITEM_PARTICIPANT(e,t){Fi({state:e,data:$A(t),itemType:t.item,property:getParticipantOrMarkerProperty(t),fn:s=>s.id==t.itemId&&s[rs(t.item)],methodType:"push"})},UPDATE_ITEM_PARTICIPANT(e,t){Eo({state:e,unique:!0,property:"participants",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.userId==t.participant.userId,data:t.participant,hasMine:!0})},REMOVE_ITEM_PARTICIPANT(e,t){Eo({state:e,property:t.type?`${t.type}s`:"participants",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.userId==t.userId,data:null,hasMine:!0})},NEW_ITEM_PENDING_PARTICIPANT(e,t){Fi({state:e,data:t.pendingParticipant,itemType:t.item,property:"pendingParticipants",fn:s=>s.id==t.itemId&&s[rs(t.item)],methodType:"push"})},REMOVE_ITEM_PENDING_PARTICIPANT(e,t){Eo({state:e,property:"pendingParticipants",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.userId==t.userId,data:null,hasMine:!0})},POST_CREATE_SUCCESS(e,t){hl({state:e,data:t.post,postType:t.post.typeName,itemType:"post",hasMine:!0})},POST_UPDATE_SUCCESS(e,t){aa({state:e,data:t.post,itemType:"post",postType:t.post.typeName,unique:!0,fn:s=>s.id==t.post.id&&s.isPost,hasMine:!0})},POST_DELETE_SUCCESS(e,t){aa({state:e,data:null,itemType:"post",postType:t.postType,fn:s=>s.id==t.postId&&s.isPost,hasMine:!0})},POSTS_SUCCESS(e,t){let{nextPage:s,params:o,data:i}=t;a1({state:e,data:i,currentPage:s,itemType:o.type.slice(0,o.type.length-1),params:o})},POST_TYPES_SUCCESS(e,t){let{nextPage:s,params:o,data:i}=t;a1({state:e,data:i,currentPage:s,itemType:o.postType.slice(0,o.postType.length-1),params:o})},NEW_ACCOUNT_ITEM(e,t){var s;hl({state:e,data:t.post?t.post:t.discussion?t.discussion:t.assessment?t.assessment:null,itemType:t.post?"post":t.discussion?"discussion":t.assessment?"assessment":null,isAFollower:t.isAFollower,isAFollowing:t.isAFollowing,postType:(s=t.post)==null?void 0:s.typeName})},NEW_ITEM(e,t){var s;hl({state:e,data:t.post?t.post:t.discussion?t.discussion:t.assessment?t.assessment:null,itemType:t.post?"post":t.discussion?"discussion":t.assessment?"assessment":null,followers:t.userFollowers,followings:t.userFollowings,postType:(s=t.post)==null?void 0:s.typeName})},CLEAR_POSTS(e){e.posts=[]},CLEAR_POSTS_ATTACHMENTS(e){e.postsAttachments=[]},CLEAR_QUESTIONS_ATTACHMENTS(e){e.questionsAttachments=[]},CLEAR_POEMS_ATTACHMENTS(e){e.poemsAttachments=[]},CLEAR_ACTIVITIES_ATTACHMENTS(e){e.activitiesAttachments=[]},CLEAR_RIDDLES_ATTACHMENTS(e){e.riddlesAttachments=[]},CLEAR_BOOKS_ATTACHMENTS(e){e.booksAttachments=[]},NEW_POST(e,t){hl({followers:t.userFollowers,followings:t.userFollowings,data:t.post,postType:t.post.typeName,state:e,itemType:"post"})},REPLACE_POST(e,t){aa({data:null,itemType:"post",state:e,postType:t.post.typeName,fn:s=>s.id==t.post.id&&s.isPost,unique:!0})},REMOVE_POST(e,t){aa({data:null,itemType:"post",state:e,postType:t.postType,fn:s=>s.id==t.postId&&s.isPost})},COMMENT_UPDATE_SUCCESS(e,t){Rp.includes(t.item)||Eo({data:t.comment,itemType:t.item,hasMine:!0,state:e,property:"comments",fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.comment.id})},COMMENT_DELETE_SUCCESS(e,t){Rp.includes(t.item)||Eo({data:null,itemType:t.item,hasMine:!0,state:e,property:"comments",fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.commentId})},COMMENT_SUCCESS(e,t){Rp.includes(t.item)||Fi({state:e,property:"comments",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.comment,hasMine:!1,methodType:"unshift"})},NEW_COMMENT(e,t){Fi({state:e,property:"comments",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.comment,hasMine:!1,methodType:"unshift"})},REPLACE_COMMENT(e,t){Eo({data:t.comment,itemType:t.item,state:e,property:"comments",fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.comment.id,unique:!0})},REMOVE_COMMENT(e,t){Eo({data:null,itemType:t.item,state:e,property:"comments",fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.commentId})},SAVE_CREATE_SUCCESS(e,t){Fi({state:e,property:"saves",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.save,hasMine:!1,methodType:"push",postType:t.postType})},SAVE_DELETE_SUCCESS(e,t){Eo({itemType:t.item,property:"saves",fn:s=>s.id==t.itemId&&s[rs(t.item)],postType:t.postType,state:e,data:null,propertyFn:s=>s.id==t.saveId})},FLAG_CREATE_SUCCESS(e,t){Fi({state:e,property:"flags",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.flag,hasMine:!1,methodType:"push",postType:t.postType})},FLAG_DELETE_SUCCESS(e,t){Eo({data:null,itemType:t.item,state:e,property:"flags",postType:t.postType,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.flagId})},NEW_FLAG(e,t){Fi({state:e,data:t.flag,itemType:t.item,postType:t.postType,hasMine:!0,methodType:"push",fn:s=>s.id==t.itemId&&s[rs(t.item)]})},LIKE_CREATE_SUCCESS(e,t){Fi({state:e,property:"likes",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.like,hasMine:!1,methodType:"push",postType:t.postType})},LIKE_DELETE_SUCCESS(e,t){Eo({data:null,itemType:t.item,state:e,hasMine:!0,property:"likes",postType:t.postType,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.likeId})},NEW_LIKE(e,t){Fi({state:e,property:"likes",itemType:t.item,fn:s=>s.id==t.itemId&&s[rs(t.item)],data:t.like,hasMine:!1,methodType:"push",postType:t.postType})},REMOVE_LIKE(e,t){Eo({data:null,itemType:t.item,state:e,property:"likes",postType:t.postType,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.likeId})},ATTACHMENT_CREATE_SUCCESS(e,t){Fi({data:t.attachment,hasMine:!0,postType:t.postType,fn:s=>s.id==t.itemId&&s[rs(t.item)],property:"attachments",methodType:"push",state:e,itemType:t.item})},ATTACHMENT_DELETE_SUCCESS(e,t){Eo({property:"attachments",itemType:t.item,hasMine:!0,data:null,postType:t.postType,state:e,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.attachmentId})},NEW_ATTACHMENT(e,t){Fi({state:e,data:t.attachment,property:"attachments",postType:t.postType,hasMine:!0,methodType:"push",fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.attachment.id})},REMOVE_ATTACHMENT(e,t){Eo({property:"attachments",itemType:t.item,data:null,postType:t.postType,state:e,fn:s=>s.id==t.itemId&&s[rs(t.item)],propertyFn:s=>s.id==t.attachmentId})}},Vu={async postsGet(e){try{let t=null;return e.nextPage?t=await De.get(`/api/posts?page=${e.nextPage}`,e.params):t=await De.get("/api/posts",e.params),t}catch(t){return t.response}},async userPostsGet(e){try{let t=null;return e.nextPage?t=await De.get(`/api/user/posts?page=${e.nextPage}`,e.params):t=await De.get("/api/user/posts",e.params),t}catch(t){return t.response}},async postTypesGet(e){try{let t=null;return e.nextPage?t=await De.get(`/api/posts?page=${e.nextPage}`,e.params):t=await De.get("/api/posts",e.params),t}catch(t){return t.response}},async userPostTypesGet(e){try{let t=null;return e.nextPage?t=await De.get(`/api/user/posts?page=${e.nextPage}`,e.params):t=await De.get("/api/user/posts",e.params),t}catch(t){return t.response}},async searchGet(e){try{let t=null;return e.nextPage?t=await De.get(`/api/search?page=${e.nextPage}`,e.params):t=await De.get("/api/search",e.params),t}catch(t){return t.response}}},Ype={clearPosts({commit:e}){e("CLEAR_POSTS")},clearHomePostsAttachments({commit:e}){e("CLEAR_POSTS_ATTACHMENTS")},clearHomeQuestionsAttachments({commit:e}){e("CLEAR_QUESTIONS_ATTACHMENTS")},clearHomePoemsAttachments({commit:e}){e("CLEAR_POEMS_ATTACHMENTS")},clearHomeBooksAttachments({commit:e}){e("CLEAR_BOOKS_ATTACHMENTS")},clearHomeActivitiesAttachments({commit:e}){e("CLEAR_ACTIVITIES_ATTACHMENTS")},clearHomeRiddlesAttachments({commit:e}){e("CLEAR_RIDDLES_ATTACHMENTS")},async getPosts({commit:e},t){var o,i;e("LOADING_START");let s=await Vu.postsGet(t);return e("LOADING_END"),s.data.data?(e("POSTS_SUCCESS",{params:t.params,data:s.data.data,nextPage:t.nextPage}),(i=(o=s.data)==null?void 0:o.links)==null?void 0:i.next):"unsuccessful"},async getUserPosts({commit:e},t){var o,i;e("LOADING_START");let s=await Vu.userPostsGet(t);return e("LOADING_END"),s.data.data?(e("POSTS_SUCCESS",{params:t.params,data:s.data.data,nextPage:t.nextPage}),(i=(o=s.data)==null?void 0:o.links)==null?void 0:i.next):"unsuccessful"},async getPostTypes({commit:e},t){var o,i;e("LOADING_START");let s=await Vu.postTypesGet(t);return e("LOADING_END"),s.data.data?(e("POST_TYPES_SUCCESS",{params:t.params,data:s.data.data,nextPage:t.nextPage}),(i=(o=s.data)==null?void 0:o.links)==null?void 0:i.next):"unsuccessful"},async getUserPostTypes({commit:e},t){var o,i;e("LOADING_START");let s=await Vu.userPostTypesGet(t);return e("LOADING_END"),s.data.data?(e("POST_TYPES_SUCCESS",{params:t.params,data:s.data.data,nextPage:t.nextPage}),(i=(o=s.data)==null?void 0:o.links)==null?void 0:i.next):"unsuccessful"},newPost({commit:e,rootGetters:t},s){e("NEW_POST",{post:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},newItem({commit:e,rootGetters:t},s){e("NEW_ITEM",{...s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},newFollowerItem({commit:e},t){e("NEW_ACCOUNT_ITEM",{...t,isAFollower:!0})},newFollowingItem({commit:e},t){e("NEW_ACCOUNT_ITEM",{...t,isAFollowing:!0})},replacePost({commit:e,rootGetters:t},s){e("REPLACE_POST",{post:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},removePost({commit:e},t){e("REMOVE_POST",t)},newItemParticipant({commit:e},t){e("NEW_ITEM_PARTICIPANT",t)},removeItemParticipant({commit:e},t){e("REMOVE_ITEM_PARTICIPANT",t)},updateItemParticipant({commit:e},t){e("UPDATE_ITEM_PARTICIPANT",t)},newItemPendingParticipant({commit:e},t){e("NEW_ITEM_PENDING_PARTICIPANT",t)},removeItemPendingParticipant({commit:e},t){e("REMOVE_ITEM_PENDING_PARTICIPANT",t)},newDiscussion({commit:e,rootGetters:t},s){e("NEW_DISCUSSION",{discussion:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},replaceDiscussion({commit:e,rootGetters:t},s){e("REPLACE_DISCUSSION",{discussion:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},removeDiscussion({commit:e},t){e("REMOVE_DISCUSSION",t)},newComment({commit:e,rootGetters:t},s){e("NEW_COMMENT",{commentData:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},replaceComment({commit:e,rootGetters:t},s){e("REPLACE_COMMENT",{commentData:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},removeComment({commit:e,rootGetters:t},s){e("REMOVE_COMMENT",{commentData:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},newAttachment({commit:e,rootGetters:t},s){e("NEW_ATTACHMENT",{attachmentData:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},removeAttachment({commit:e},t){e("REMOVE_ATTACHMENT",t)},newFlag({commit:e,rootGetters:t},s){e("NEW_FLAG",{flag:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},removeFlag({commit:e},t){e("REMOVE_FLAG",t)},newLike({commit:e,rootGetters:t},s){e("NEW_LIKE",{likeData:s,userFollowers:t.getUserFollowers,userFollowings:t.getUserFollowings})},removeLike({commit:e},t){e("REMOVE_LIKE",t)},async search(e,t){let s=await Vu.searchGet(t);return s.data.data?{status:!0,data:s.data.data,next:s.data.links.next}:{status:!1}}},Qpe={getHomePosts(e){return e.posts.length?e.posts:null},getHomePostsMine(e){return e.postsMine.length?e.postsMine:null},getHomePostsFollowers(e){return e.postsFollowers.length?e.postsFollowers:null},getHomePostsFollowings(e){return e.postsFollowings.length?e.postsFollowings:null},getHomePostsAttachments(e){return e.postsAttachments.length?e.postsAttachments:null},getHomeDiscussions(e){return e.discussions.length?e.discussions:null},getHomeDiscussionsMine(e){return e.discussionsMine.length?e.discussionsMine:null},getHomeDiscussionsFollowers(e){return e.discussionsFollowers.length?e.discussionsFollowers:null},getHomeDiscussionsFollowings(e){return e.discussionsFollowings.length?e.discussionsFollowings:null},getHomeDiscussionsAttachments(e){return e.discussionsAttachments.length?e.discussionsAttachments:null},getHomeReads(e){return e.reads.length?e.reads:null},getHomeQuestions(e){return e.questions.length?e.questions:null},getHomeQuestionsMine(e){return e.questionsMine.length?e.questionsMine:null},getHomeQuestionsFollowers(e){return e.questionsFollowers.length?e.questionsFollowers:null},getHomeQuestionsFollowings(e){return e.questionsFollowings.length?e.questionsFollowings:null},getHomeQuestionsAttachments(e){return e.questionsAttachments.length?e.questionsAttachments:null},getHomeRiddles(e){return e.riddles.length?e.riddles:null},getHomeRiddlesMine(e){return e.riddlesMine.length?e.riddlesMine:null},getHomeRiddlesFollowers(e){return e.riddlesFollowers.length?e.riddlesFollowers:null},getHomeRiddlesFollowings(e){return e.riddlesFollowings.length?e.riddlesFollowings:null},getHomeRiddlesAttachments(e){return e.riddlesAttachments.length?e.riddlesAttachments:null},getHomeActivities(e){return e.activities.length?e.activities:null},getHomeActivitiesMine(e){return e.activitiesMine.length?e.activitiesMine:null},getHomeActivitiesFollowers(e){return e.activitiesFollowers.length?e.activitiesFollowers:null},getHomeActivitiesFollowings(e){return e.activitiesFollowings.length?e.activitiesFollowings:null},getHomeActivitiesAttachments(e){return e.activitiesAttachments.length?e.activitiesAttachments:null},getHomePoems(e){return e.poems.length?e.poems:null},getHomePoemsMine(e){return e.poemsMine.length?e.poemsMine:null},getHomePoemsFollowers(e){return e.poemsFollowers.length?e.poemsFollowers:null},getHomePoemsFollowings(e){return e.poemsFollowings.length?e.poemsFollowings:null},getHomePoemsAttachments(e){return e.poemsAttachments.length?e.poemsAttachments:null},getHomeBooks(e){return e.books.length?e.books:null},getHomeBooksMine(e){return e.booksMine.length?e.booksMine:null},getHomeBooksFollowers(e){return e.booksFollowers.length?e.booksFollowers:null},getHomeBooksFollowings(e){return e.booksFollowings.length?e.booksFollowings:null},getHomeBooksAttachments(e){return e.booksAttachments.length?e.booksAttachments:null}},Kpe={namespaced:!0,state:()=>({posts:[],postsMine:[],postsFollowers:[],postsFollowings:[],postsAttachments:[],discussions:[],discussionsMine:[],discussionsFollowers:[],discussionsFollowings:[],discussionsAttachments:[],lessons:[],lessonsMine:[],lessonsFollowers:[],lessonsFollowings:[],lessonsAttachments:[],riddles:[],riddlesMine:[],riddlesFollowers:[],riddlesFollowings:[],riddlesAttachments:[],reads:[],readsMine:[],readsFollowers:[],readsFollowings:[],readsAttachments:[],questions:[],questionsMine:[],questionsFollowers:[],questionsFollowings:[],questionsAttachments:[],activities:[],activitiesMine:[],activitiesFollowers:[],activitiesFollowings:[],activitiesAttachments:[],poems:[],poemsMine:[],poemsFollowers:[],poemsFollowings:[],poemsAttachments:[],books:[],booksMine:[],booksFollowers:[],booksFollowings:[],booksAttachments:[],assessments:[],assessmentsMine:[],assessmentsFollowers:[],assessmentsFollowings:[],loading:!1,vistedSections:[]}),mutations:Gpe,actions:Ype,getters:Qpe},Jpe={namespaced:!0,state:()=>({loadingContent:!1,secretQuestions:[],secretQuestionAnswers:[]}),mutations:{LOAD_CONTENT_COMPLETE(e){e.loadingContent=!1},LOAD_CONTENT(e){e.loadingContent=!0},SET_SECRET_QUESTIONS(e,t){let s=t.questions;e.secretQuestions=s.map(o=>o.question),e.secretQuestionAnswers=t.questions}},actions:{async getSecret({commit:e}){e("LOAD_CONTENT");let t=await Hn.getSecretQuestions();t.data.message!="unsuccessful"&&e("SET_SECRET_QUESTIONS",t.data),e("LOAD_CONTENT_COMPLETE")}},getters:{getLoadingContent(e){return e.loadingContent},getSecretQuestions(e){return e.secretQuestions.length>0?e.secretQuestions:[]},getSecretQuestionAnswers(e){return e.secretQuestionAnswers.length>0?e.secretQuestionAnswers:[]}}},ps={async createAcademicYear(e){try{return await De.post("api/dashboard/school/academicyear",e)}catch(t){return console.log(t),t.response}},async getDashboardAccountDetails(e){try{return await De.get("api/dashboard/account",e)}catch(t){return console.log(t),t.response}},async getSectionItemComments(e){let{nextPage:t,item:s,itemId:o}=e;try{return await De.get(`api/${s}/${o}/comments?page=${t}`)}catch(i){return console.log(i),i.response}},async fetchUsers(e){let{nextPage:t,account:s,accountId:o}=e;try{return await De.get(`api/dashboard/users?page=${t}&account=${s}&accountId=${o}`)}catch(i){return console.log(i),i.response}},async fetchAccounts(e){let{nextPage:t,account:s,accountId:o}=e;try{return await De.get(`api/dashboard/accounts?page=${t}&account=${s}&accountId=${o}`)}catch(i){return console.log(i),i.response}},async fetchAccountActivities(e){let{nextPage:t,account:s,accountId:o,adminId:i}=e;try{return await De.get(`api/dashboard/activities?page=${t}&account=${s}&accountId=${o}&adminId=${i}`)}catch(n){return console.log(n),n.response}},async fetchAdmins(e){let{nextPage:t,account:s,accountId:o}=e;try{return await De.get(`api/dashboard/admins?page=${t}&account=${s}&accountId=${o}`)}catch(i){return console.log(i),i.response}},async fetchItem(e){let{item:t,itemId:s}=e;try{return await De.get(`api/${t}/${s}`)}catch(o){return console.log(o),o.response}},async getSectionItemData(e){try{return await De.get("api/dashboard/item/data",e)}catch(t){return console.log(t),t.response}},async getAccountRequests(e){let{data:t,nextPage:s}=e;try{return await De.get(`api/dashboard/requests?page=${s}`,t)}catch(o){return console.log(o),o.response}},async banUser(e){try{return await De.post("api/dashboard/banning",e)}catch(t){return console.log(t),t.response}},async sendRequestMessage(e){let{formData:t,requestId:s}=e;try{return await De.post(`api/request/${s}/message`,t)}catch(o){return console.log(o),o.response}},async getRequestMessages(e){let{requestId:t,nextPage:s}=e;try{return await De.get(`api/request/${t}/messages?page=${s}`)}catch(o){return console.log(o),o.response}},async searchAccounts(e){let{data:t,nextPage:s}=e;try{return await De.get(`api/request/accounts/search?page=${s}`,t)}catch(o){return console.log(o),o.response}},async searchItems(e){let{data:t,nextPage:s}=e;try{return await De.get(`api/request/items/search?page=${s}`,t)}catch(o){return console.log(o),o.response}},async addTime(e){try{return await De.post("api/timer",e)}catch(t){return console.log(t),t.response}},async updateTime(e){try{return await De.put(`api/timer/${e.timerId}`,e)}catch(t){return console.log(t),t.response}},async answerAssessment(e){let{assessmentId:t,formData:s,done:o}=e;try{return await De.post(`api/assessment/${t}/answer/${o?"done":""}`,s)}catch(i){return console.log(i),i.response}},async markAssessment(e){let{assessmentId:t,formData:s,done:o}=e;try{return await De.post(`api/assessment/${t}/mark/${o?"done":""}`,s)}catch(i){return console.log(i.response),i.response}},async getWork(e){let{assessmentId:t,data:s}=e;try{return await De.get(`api/assessment/${t}/work`,s)}catch(o){return console.log(o),o.response}},async sendRequest(e){try{return await De.post("api/request/account/send",e)}catch(t){return console.log(t),t.response}},async sendResponse(e){try{return await De.post("api/request/account/respond",e)}catch(t){return console.log(t),t.response}},async deleteRequestMessage(e){try{return await De.delete(`api/request/message/${e.messageId}`)}catch(t){return console.log(t),t.response}},async createClass(e){try{return await De.post("api/class",e)}catch(t){return console.log(t),t.response}},async deleteClass(e){try{return await De.delete(`api/class/${e.postId}`,e)}catch(t){return console.log(t),t.response}},async updateClass(e){try{return await De.put(`api/class/${e.get("postId")}`,e)}catch(t){return console.log(t),t.response}},async createProgram(e){try{return await De.post("api/program/create/main",e)}catch(t){return console.log(t),t.response}},async deleteProgram(e){try{return await De.post("api/program/delete/main",e)}catch(t){return console.log(t),t.response}},async updateProgram(e){try{return await De.post("api/program/update/main",e)}catch(t){return console.log(t),t.response}},async createCourse(e){try{return await De.post("api/course/main",e)}catch(t){return console.log(t),t.response}},async deleteCourse(e){try{return await De.delete(`api/course/${e.courseId}/main`,e)}catch(t){return console.log(t),t.response}},async updateCourse(e){try{return await De.post(`api/course/${e.get("courseId")}/main`,e)}catch(t){return console.log(t),t.response}},async createAssessment(e){try{return await De.post("api/assessment",e)}catch(t){return console.log(t),t.response}},async deleteAssessment(e){try{return await De.delete(`api/assessment/${e.assessmentId}`,e)}catch(t){return console.log(t),t.response}},async updateAssessment(e){try{return await De.put(`api/assessment/${e.get("assessmentId")}`,e)}catch(t){return console.log(t),t.response}},async createLesson(e){try{return await De.post("api/lesson",e)}catch(t){return console.log(t),t.response}},async deleteLesson(e){try{return await De.delete(`api/lesson/${e.lessonId}`,e)}catch(t){return console.log(t),t.response}},async updateLesson(e){try{return await De.put(`api/lesson/${e.get("lessonId")}`,e)}catch(t){return console.log(t),t.response}},async createExtracurriculum(e){try{return await De.post("api/extracurriculum",e)}catch(t){return console.log(t),t.response}},async deleteExtracurriculum(e){try{return await De.delete(`api/extracurriculum/${e.extracurriculumId}`,e)}catch(t){return console.log(t),t.response}},async updateExtracurriculum(e){try{return await De.put(`api/extracurriculum/${e.get("extracurriculumId")}`,e)}catch(t){return console.log(t),t.response}},async createCollaboration(e){try{return await De.post("api/collaboration/create",e)}catch(t){return console.log(t),t.response}},async deleteCollaboration(e){try{return await De.post("api/collaboration/delete",e)}catch(t){return console.log(t),t.response}},async updateCollaboration(e){try{return await De.post("api/collaboration/update",e)}catch(t){return console.log(t),t.response}},async createAccountAttachments(e){try{return await De.post("api/dashboard/account/attach",e)}catch(t){return console.log(t),t.response}},async deleteAccountAttachments(e){try{return await De.post("api/dashboard/account/unattach",e)}catch(t){return console.log(t),t.response}},async getAccountSpecificItems(e){let{nextPage:t,data:s}=e;try{return await De.get(`api/dashboard/account/specific/items?page=${t}`,s)}catch(o){return console.log(o),o.response}},async getAccountItems(e){let{nextPage:t,data:s}=e;try{return await De.get(`api/dashboard/account/items?page=${t}`,s)}catch(o){return console.log(o),o.response}},async getItemDetails(e){let{type:t,id:s}=e;try{return await De.get(`api/dashboard/${t}/${s}`)}catch(o){return console.log(o),o.response}}},Xpe={addStatus({commit:e},t){e("ADD_STATUS_MESSAGE",t)},clearStatus({commit:e}){e("CLEAR_STATUS_MESSAGE")},newLike({commit:e},t){e("NEW_LIKE",t)},removeLike({commit:e},t){e("REMOVE_LIKE",t)},newComment({commit:e},t){e("NEW_COMMENT",t)},removeComment({commit:e},t){e("REMOVE_COMMENT",t)},updateComment({commit:e},t){e("UPDATE_COMMENT",t)},addAccountDetails({commit:e},t){e("ADD_ACCOUNT_DETAILS",t)},async getSectionItemComments({commit:e},t){let s=await ps.getSectionItemComments(t);if(s.data.data){let o={status:!0,comments:s.data.data,next:s.data.links.next,nextPage:t.nextPage};return t.notSection||e("GET_COMMENTS_SUCCESS",o),o}else return{status:!1,response:s}},async fetchUsers({commit:e},t){let s=await ps.fetchUsers(t);if(s.data.data){let o={status:!0,users:s.data.data,next:s.data.links.next,nextPage:t.nextPage};return e("GET_USERS_SUCCESS",o),o}else return{status:!1,response:s}},async fetchAccounts({commit:e},t){let s=await ps.fetchAccounts(t);if(s.data.data){let o={status:!0,accounts:s.data.data,next:s.data.links.next,nextPage:t.nextPage};return e("GET_ACCOUNTS_SUCCESS",o),o}else return{status:!1,response:s}},async fetchAccountActivities({commit:e},t){let s=await ps.fetchAccountActivities(t);if(s.data.data){let o={status:!0,activities:s.data.data,next:s.data.links.next,nextPage:t.nextPage};return e("GET_ACCOUNT_ACTIVITIES_SUCCESS",o),o}else return{status:!1,response:s}},clearAccountActivities({commit:e}){e("CLEAR_ACCOUNT_ACTIVITIES")},async fetchAdmins({commit:e},t){let s=await ps.fetchAdmins(t);if(s.data.data){let o={status:!0,admins:s.data.data,next:s.data.links.next,nextPage:t.nextPage};return e("GET_ADMINS_SUCCESS",o),o}else return{status:!1,response:s}},async fetchItem({commit:e},t){let s=await ps.fetchItem(t);return s.data.message==="successful"?{status:!0,item:s.data.item}:{status:!1,response:s}},async createAcademicYear({commit:e},t){let s=await ps.createAcademicYear(t);return s.data.message==="successful"?(e("ADD_ACCOUNT_DETAILS",{data:s.data.academicYear,what:"academicYear",account:"school",accountId:t.schoolId}),{status:!0}):{status:!1,response:s}},async searchAccounts({},e){let t=await ps.searchAccounts(e);return t.data.data?{status:!0,accounts:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async searchItems({},e){let t=await ps.searchItems(e);return t.data.data?{status:!0,items:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async sendRequest({},e){let t=await ps.sendRequest(e);return t.data.message==="successful"?{status:!0}:{status:!1,response:t}},async sendResponse({},e){let t=await ps.sendResponse(e);return t.data.message==="successful"?{status:!0}:{status:!1,response:t}},async getDashboardAccountDetails({commit:e},t){let s=await ps.getDashboardAccountDetails(t);return s.data.message==="successful"?(e("DASHBOARD_ACCOUNT_SUCCESS",{details:s.data.accountDetails,data:t}),{status:!0}):{status:!1,response:s}},async createClass({commit:e},t){let s=await ps.createClass(t);return s.data.message==="successful"?((t.get("account")===t.get("owner")||t.get("account")==="admin"&&t.get("owner")==="school")&&e("ADD_NEW_OWNED_CLASS",s.data.class),t.get("facilitate")&&e("ADD_NEW_CLASS",s.data.class),{status:!0}):{status:!1,response:s}},async deleteClass({commit:e},t){let s=await ps.deleteClass(t);return s.data.message==="successful"?s.data.class?(e("UPDATE_OWNED_CLASS",s.data.class),{status:!0,data:s.data.class,action:"update"}):(e("REMOVE_OWNED_CLASS",t.classId),t.hasAttribute&&e("REMOVE_CLASS",t.classId),{status:!0,data:s.data.class,action:"delete"}):{status:!1,response:s}},async editClass({commit:e},t){let s=await ps.updateClass(t);return s.data.message==="successful"?(e("UPDATE_OWNED_CLASS",s.data.class),{status:!0,class:s.data.class,classResource:s.data.classResource}):{status:!1,response:s}},addClass({commit:e},t){t.owner?e("ADD_NEW_OWNED_CLASS",t.class):e("ADD_NEW_CLASS",t.class)},updateClass({commit:e},t){t.owner?e("UPDATE_OWNED_CLASS",t.class):e("UPDATE_CLASS",t.class)},removeClass({commit:e},t){t.owner?e("REMOVE_OWNED_CLASS",t.classId):e("REMOVE_CLASS",t.classId)},async createProgram({commit:e},t){let s=await ps.createProgram(t);return s.data.message==="successful"?((t.get("account")===t.get("owner")||t.get("account")==="admin"&&t.get("owner")==="school")&&e("ADD_NEW_OWNED_PROGRAM",s.data.program),t.get("facilitate")&&e("ADD_NEW_PROGRAM",s.data.program),{status:!0}):{status:!1,response:s}},async deleteProgram({commit:e},t){let s=await ps.deleteProgram(t);return s.data.message==="successful"?s.data.program?(e("UPDATE_OWNED_PROGRAM",s.data.program),{status:!0,data:s.data.program,action:"update"}):(e("REMOVE_OWNED_PROGRAM",t.programId),t.hasAttribute&&e("REMOVE_PROGRAM",t.programId),{status:!0,data:s.data.program,action:"delete"}):{status:!1,response:s}},async editProgram({commit:e},t){let s=await ps.updateProgram(t);return s.data.message==="successful"?(e("UPDATE_OWNED_PROGRAM",s.data.program),{status:!0,program:s.data.program,programResource:s.data.programResource}):{status:!1,response:s}},addProgram({commit:e},t){t.owner?e("ADD_NEW_OWNED_PROGRAM",t.program):e("ADD_NEW_PROGRAM",t.program)},updateProgram({commit:e},t){t.owner?e("UPDATE_OWNED_PROGRAM",t.program):e("UPDATE_PROGRAM",t.program)},removeProgram({commit:e},t){t.owner?e("REMOVE_OWNED_PROGRAM",t.programId):e("REMOVE_PROGRAM",t.programId)},async createCourse({commit:e},t){let s=await ps.createCourse(t);return s.data.message==="successful"?((t.get("account")===t.get("owner")||t.get("account")==="admin"&&t.get("owner")==="school")&&e("ADD_NEW_OWNED_COURSE",s.data.course),t.get("facilitate")&&e("ADD_NEW_COURSE",s.data.course),{status:!0}):{status:!1,response:s}},async deleteCourse({commit:e},t){let s=await ps.deleteCourse(t);return s.data.message==="successful"?s.data.course?(e("UPDATE_OWNED_COURSE",s.data.course),{status:!0,data:s.data.course,action:"update"}):(e("REMOVE_OWNED_COURSE",t.courseId),t.hasAttribute&&e("REMOVE_COURSE",t.courseId),{status:!0,data:s.data.course,action:"delete"}):{status:!1,response:s}},async editCourse({commit:e},t){let s=await ps.updateCourse(t);return s.data.message==="successful"?(e("UPDATE_OWNED_COURSE",s.data.course),{status:!0,course:s.data.course,courseResource:s.data.courseResource}):{status:!1,response:s}},addCourse({commit:e},t){t.owner?e("ADD_NEW_OWNED_COURSE",t.course):e("ADD_NEW_COURSE",t.course)},updateCourse({commit:e},t){t.owner?e("UPDATE_OWNED_COURSE",t.course):e("UPDATE_COURSE",t.course)},removeCourse({commit:e},t){t.owner?e("REMOVE_OWNED_COURSE",t.courseId):e("REMOVE_COURSE",t.courseId)},async createAssessment({commit:e,rootGetters:t},s){let o=await ps.createAssessment(s);const i=t.getCurrentRouteName();return o.data.message!=="successful"?{status:!1,response:o}:(i==="dashboard"&&e("ADD_NEW_ASSESSMENT",o.data.assessment),i==="home"&&e("home/ASSESSMENT_CREATE_SUCCESS",o.data.assessment,{root:!0}),i==="profile"&&e("profile/ASSESSMENT_CREATE_SUCCESS",o.data.assessment,{root:!0}),{status:!0,assessment:o.data.assessment})},async deleteAssessment({commit:e,rootGetters:t},s){let o=await ps.deleteAssessment(s);const i=t.getCurrentRouteName();return o.data.message!=="successful"?{status:!1,response:o}:o.data.assessment?(i==="dashboard"&&e("UPDATE_ASSESSMENT",o.data.assessment),{status:!0,data:o.data.assessment,action:"update"}):(i==="dashboard"&&e("REMOVE_ASSESSMENT",s.assessmentId),i==="home"&&e("home/ASSESSMENT_DELETE_SUCCESS",s,{root:!0}),i==="profile"&&e("profile/ASSESSMENT_DELETE_SUCCESS",s,{root:!0}),{status:!0,data:o.data.assessment,action:"delete"})},async editAssessment({commit:e,rootGetters:t},s){let o=await ps.updateAssessment(s);const i=t.getCurrentRouteName();return o.data.message!=="successful"?{status:!1,response:o}:(i==="dashboard"&&e("UPDATE_ASSESSMENT",o.data.assessment),i==="home"&&e("home/ASSESSMENT_DELETE_SUCCESS",{assessment:o.data.assessment},{root:!0}),i==="profile"&&e("profile/ASSESSMENT_DELETE_SUCCESS",{assessment:o.data.assessment},{root:!0}),{status:!0,assessment:o.data.assessment,assessmentResource:o.data.assessmentResource})},async answerAssessment({commit:e,rootGetters:t},s){let o=await ps.answerAssessment(s);const i=t.getCurrentRouteName();return o.data.message!=="successful"?{status:!1,response:o}:(i==="home"&&s.addUserId&&e("home/ADD_DATA_TO_ITEM_PROPERTY",{item:"assessment",itemId:s.assessmentId,data:[s.userId],property:"answeredbyUserIds"},{root:!0}),i==="profile"&&s.addUserId&&e("profile/ADD_DATA_TO_ITEM_PROPERTY",{item:"assessment",itemId:s.assessmentId,data:[s.userId],property:"answeredbyUserIds"},{root:!0}),{status:!0})},async markAssessment({commit:e},t){let s=await ps.markAssessment(t);return s.data.message!=="successful"?{status:!1,response:s}:{status:!0,answer:s.data.answer,work:s.data.work}},async getWork({commit:e},t){let s=await ps.getWork(t);return s.data.message!=="successful"?{status:!1,response:s}:{status:!0,work:s.data.work}},async addTime({commit:e,rootGetters:t},s){let o=await ps.addTime(s.data);const i=t.getCurrentRouteName();return o.data.message!=="successful"?{status:!1,response:o}:(i==="home"&&e("home/ADD_TIMER_TO_ITEM",{item:s.item,timer:o.data.timer},{root:!0}),i==="profile"&&e("profile/ADD_TIMER_TO_ITEM",{item:s.item,timer:o.data.timer},{root:!0}),{status:!0})},addAssessment({commit:e},t){e("ADD_NEW_ASSESSMENT",t.assessment)},updateAssessment({commit:e},t){e("UPDATE_ASSESSMENT",t.assessment)},removeAssessment({commit:e},t){e("REMOVE_ASSESSMENT",t.assessmentId)},async createLesson({commit:e},t){let s=await ps.createLesson(t);return s.data.message==="successful"?(e("ADD_NEW_LESSON_TO_ITEMS",{lesson:s.data.lesson,items:JSON.parse(t.get("items")),owner:t.get("account")===t.get("owner")}),e("ADD_NEW_LESSON_TO_LESSONS",{lesson:s.data.lesson}),{status:!0}):{status:!1,response:s}},async deleteLesson({commit:e},{items:t,data:s}){let o=await ps.deleteLesson(s);return o.data.message==="successful"?o.data.lesson?(e("UPDATE_ACCOUNT_LESSON",o.data.lesson),{status:!0,data:o.data.lesson,action:"update"}):(e("REMOVE_ACCOUNT_LESSON",{items:t,lessonId:s.lessonId}),s.hasAttribute&&e("REMOVE_LESSON",s.lessonId),{status:!0,data:o.data.lesson,action:"delete"}):{status:!1,response:o}},async editLesson({commit:e},t){let s=await ps.updateLesson(t);return s.data.message==="successful"?(e("UPDATE_ACCOUNT_LESSON",s.data.lesson),{status:!0,lesson:s.data.lesson,lessonResource:s.data.lessonResource}):{status:!1,response:s}},addLesson({commit:e},t){t.owner?e("ADD_NEW_OWNED_LESSON",t.lesson):e("ADD_NEW_LESSON",t.lesson)},updateLesson({commit:e},t){e("UPDATE_ACCOUNT_LESSON",t.lesson)},removeLesson({commit:e},t){t.owner?e("REMOVE_OWNED_LESSON",t.lessonId):e("REMOVE_LESSON",t.lessonId)},async createExtracurriculum({commit:e},t){let s=await ps.createExtracurriculum(t);return s.data.message==="successful"?((t.get("account")===t.get("owner")||t.get("account")==="admin"&&t.get("owner")==="school")&&e("ADD_NEW_OWNED_EXTRACURRICULUM",s.data.extracurriculum),t.get("facilitate")&&e("ADD_NEW_EXTRACURRICULUM",s.data.extracurriculum),{status:!0}):{status:!1,response:s}},async deleteExtracurriculum({commit:e},t){let s=await ps.deleteExtracurriculum(t);return s.data.message==="successful"?s.data.extracurriculum?(e("UPDATE_OWNED_EXTRACURRICULUM",s.data.extracurriculum),{status:!0,data:s.data.extracurriculum,action:"update"}):(e("REMOVE_OWNED_EXTRACURRICULUM",t.extracurriculumId),t.hasAttribute&&e("REMOVE_EXTRACURRICULUM",t.extracurriculumId),{status:!0,data:s.data.extracurriculum,action:"delete"}):{status:!1,response:s}},async editExtracurriculum({commit:e},t){let s=await ps.updateExtracurriculum(t);return s.data.message==="successful"?(e("UPDATE_OWNED_EXTRACURRICULUM",s.data.extracurriculum),{status:!0,extracurriculum:s.data.extracurriculum,extracurriculumResource:s.data.extracurriculumResource}):{status:!1,response:s}},addExtracurriculum({commit:e},t){t.owner?e("ADD_NEW_OWNED_EXTRACURRICULUM",t.extracurriculum):e("ADD_NEW_EXTRACURRICULUM",t.extracurriculum)},updateExtracurriculum({commit:e},t){t.owner?e("UPDATE_OWNED_EXTRACURRICULUM",t.extracurriculum):e("UPDATE_EXTRACURRICULUM",t.extracurriculum)},removeExtracurriculum({commit:e},t){t.owner?e("REMOVE_OWNED_EXTRACURRICULUM",t.extracurriculumId):e("REMOVE_EXTRACURRICULUM",t.extracurriculumId)},async createCollaboration({commit:e},t){let s=await ps.createCollaboration(t);return s.data.message==="successful"?(e("ADD_COLLABORATION",s.data.collaboration),{status:!0}):{status:!1,response:s}},async deleteCollaboration({commit:e},t){let s=await ps.deleteCollaboration(t);return s.data.message==="successful"?(e("REMOVE_COLLABORATION",t.collaborationId),{status:!0}):{status:!1,response:s}},async editCollaboration({commit:e},t){let s=await ps.updateCollaboration(t);return s.data.message==="successful"?(e("UPDATE_COLLABORATION",s.data.collaboration),{status:!0,collaboration:s.data.collaboration}):{status:!1,response:s}},addCollaboration({commit:e},t){e("ADD_COLLABORATION",t.collaboration)},updateCollaboration({commit:e},t){e("UPDATE_COLLABORATION",t.collaboration)},removeCollaboration({commit:e},t){e("REMOVE_COLLABORATION",t.collaborationId)},async createAccountAttachments({},e){let t=await ps.createAccountAttachments(e);return t.data.message==="successful"?{status:!0}:{status:!1,response:t}},async deleteAccountAttachments({commit:e},t){let s=await ps.deleteAccountAttachments(t);return s.data.message==="successful"?(t.mainSection||e("REMOVE_ACCOUNT_ATTACHMENT",t),{status:!0}):{status:!1,response:s}},addAccountAttachments({commit:e},t){e("ADD_ACCOUNT_ATTACHMENT",t)},async getSpecificAccountDetails({commit:e},t){let s=await ps.getDashboardAccountDetails(t);return s.data.message==="successful"?{status:!0,accountDetails:s.data.accountDetails}:{status:!1,response:s}},async sendRequestMessage({},e){let t=await ps.sendRequestMessage(e);return t.data.message==="successful"?{status:!0,message:t.data.requestMessage}:{status:!1,response:t}},async deleteRequestMessage({},e){let t=await ps.deleteRequestMessage(e);return t.data.message==="successful"?{status:!0}:{status:!1,response:t}},async getRequestMessages({},e){let t=await ps.getRequestMessages(e);return t.data.data?{status:!0,messages:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async getSectionItemData({},e){let t=await ps.getSectionItemData(e);return t.data.message==="successful"?{status:!0,mainSectionData:t.data.mainSectionData}:{status:!1,response:t}},async getAccountRequests({},e){let t=await ps.getAccountRequests(e);return t.data.data?{status:!0,requests:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async banUser({commit:e},t){let s=await ps.banUser(t);return s.data.message==="successful"?(e("CHANGE_BAN_STATUS",s.data.account),{status:!0}):{status:!1,response:s}},async getAccountSpecificItems({},e){let t=await ps.getAccountSpecificItems(e);return t.data.data?{status:!0,items:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async getAccountItems({},e){let t=await ps.getAccountItems(e);return t.data.data?{status:!0,items:t.data.data,next:t.data.links.next}:{status:!1,response:t}},async getItemDetails({},e){let t=await ps.getItemDetails(e);return t.data.message==="successful"?{status:!0,item:t.data.item}:{status:!1,response:t}}},$pe={ADD_STATUS_MESSAGE(e,t){e.statusMessage=t},CLEAR_STATUS_MESSAGE(e){e.statusMessage=""},GET_ACCOUNTS_SUCCESS(e,t){t.nextPage===1?e.accounts=t.accounts:e.accounts.push(...t.accounts)},GET_ACCOUNT_ACTIVITIES_SUCCESS(e,t){t.nextPage===1?e.activities=t.activities:e.activities.push(...t.activities)},CLEAR_ACCOUNT_ACTIVITIES(e){e.activities=[]},GET_USERS_SUCCESS(e,t){t.nextPage===1?e.users=t.users:e.users.push(...t.users)},GET_ADMINS_SUCCESS(e,t){t.nextPage===1?e.admins=t.admins:e.admins.push(...t.admins)},CHANGE_BAN_STATUS(e,t){let s;t.username?(s=e.users.findIndex(o=>o.id===t.id),s>-1&&e.users.splice(s,1,t)):(s=e.accounts.findIndex(o=>o.account===t.account&&o.accountId===t.accountId),s>-1&&e.accounts.splice(s,1,t))},DASHBOARD_ACCOUNT_SUCCESS(e,t){e.accountDetails=t.details,e.currentAccount=t.data},ADD_NEW_CLASS(e,t){e.accountDetails.classes.unshift(t)},ADD_NEW_OWNED_CLASS(e,t){e.accountDetails.ownedClasses.unshift(t)},UPDATE_CLASS(e,t){let s=e.accountDetails.classes.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.classes.splice(s,1,t)},UPDATE_OWNED_CLASS(e,t){let s=e.accountDetails.ownedClasses.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.ownedClasses.splice(s,1,t)},REMOVE_CLASS(e,t){let s=e.accountDetails.classes.findIndex(o=>o.id==t);s>-1&&e.accountDetails.classes.splice(s,1)},REMOVE_OWNED_CLASS(e,t){let s=e.accountDetails.ownedClasses.findIndex(o=>o.id==t);s>-1&&e.accountDetails.ownedClasses.splice(s,1)},ADD_NEW_EXTRACURRICULUM(e,t){e.accountDetails.extracurriculums.unshift(t)},ADD_NEW_OWNED_EXTRACURRICULUM(e,t){e.accountDetails.ownedExtracurriculums.unshift(t)},UPDATE_EXTRACURRICULUM(e,t){let s=e.accountDetails.extracurriculums.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.extracurriculums.splice(s,1,t)},UPDATE_OWNED_EXTRACURRICULUM(e,t){let s=e.accountDetails.ownedExtracurriculums.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.ownedExtracurriculums.splice(s,1,t)},REMOVE_EXTRACURRICULUM(e,t){let s=e.accountDetails.extracurriculums.findIndex(o=>o.id==t);s>-1&&e.accountDetails.extracurriculums.splice(s,1)},REMOVE_OWNED_EXTRACURRICULUM(e,t){let s=e.accountDetails.ownedExtracurriculums.findIndex(o=>o.id==t);s>-1&&e.accountDetails.ownedExtracurriculums.splice(s,1)},ADD_NEW_COURSE(e,t){e.accountDetails.courses.unshift(t)},ADD_NEW_OWNED_COURSE(e,t){e.accountDetails.ownedCourses.unshift(t)},UPDATE_COURSE(e,t){let s=e.accountDetails.courses.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.courses.splice(s,1,t)},UPDATE_OWNED_COURSE(e,t){let s=e.accountDetails.ownedCourses.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.ownedCourses.splice(s,1,t)},REMOVE_COURSE(e,t){let s=e.accountDetails.courses.findIndex(o=>o.id==t);s>-1&&e.accountDetails.courses.splice(s,1)},REMOVE_OWNED_COURSE(e,t){let s=e.accountDetails.ownedCourses.findIndex(o=>o.id==t);s>-1&&e.accountDetails.ownedCourses.splice(s,1)},ADD_NEW_ASSESSMENT(e,t){e.accountDetails.assessments.unshift(t)},UPDATE_ASSESSMENT(e,t){let s=e.accountDetails.assessments.findIndex(o=>o.id===t.id);s!==-1&&e.accountDetails.assessments.splice(s,1,t)},REMOVE_ASSESSMENT(e,t){let s=e.accountDetails.assessments.findIndex(o=>o.id==t);s!==-1&&e.accountDetails.assessments.splice(s,1)},ADD_NEW_PROGRAM(e,t){e.accountDetails.programs.unshift(t)},ADD_NEW_OWNED_PROGRAM(e,t){e.accountDetails.ownedPrograms.unshift(t)},UPDATE_PROGRAM(e,t){let s=e.accountDetails.programs.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.programs.splice(s,1,t)},UPDATE_OWNED_PROGRAM(e,t){let s=e.accountDetails.ownedPrograms.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.ownedPrograms.splice(s,1,t)},REMOVE_PROGRAM(e,t){let s=e.accountDetails.programs.findIndex(o=>o.id==t);s>-1&&e.accountDetails.programs.splice(s,1)},REMOVE_OWNED_PROGRAM(e,t){let s=e.accountDetails.ownedPrograms.findIndex(o=>o.id==t);s>-1&&e.accountDetails.ownedPrograms.splice(s,1)},ADD_NEW_LESSON_TO_LESSONS(e,t){(e.accountDetails.account==="facilitator"||e.accountDetails.account==="professional")&&e.accountDetails.lessons.unshift(t.lesson)},ADD_NEW_LESSON_TO_ITEMS(e,t){let s;t.items.forEach(o=>{o.type==="course"?(s=e.accountDetails.courses.findIndex(i=>i.id===o.id),s>-1&&e.accountDetails.courses[s].hasOwnProperty("lessons")&&(e.accountDetails.courses[s].lessons+=1),t.owner&&(s=e.accountDetails.ownedCourses.findIndex(i=>i.id===o.id),s>-1&&e.accountDetails.ownedCourses[s].hasOwnProperty("lessons")&&(e.accountDetails.ownedCourses[s].lessons+=1))):o.type==="class"?(s=e.accountDetails.classes.findIndex(i=>i.id===o.id),s>-1&&e.accountDetails.classes[s].hasOwnProperty("lessons")&&(e.accountDetails.classes[s].lessons+=1),t.owner&&(s=e.accountDetails.ownedClasses.findIndex(i=>i.id===o.id),s>-1&&e.accountDetails.ownedClasses[s].hasOwnProperty("lessons")&&(e.accountDetails.ownedClasses[s].lessons+=1))):o.type==="subject"&&o.classId?(s=e.accountDetails.classes.findIndex(i=>i.id===o.classId),s>-1&&e.accountDetails.classes[s].hasOwnProperty("lessons")&&(e.accountDetails.classes[s].lessons+=1),t.owner&&(s=e.accountDetails.ownedClasses.findIndex(i=>i.id===o.classId),s>-1&&e.accountDetails.ownedClasses[s].hasOwnProperty("lessons")&&(e.accountDetails.ownedClasses[s].lessons+=1))):o.type==="courseSection"&&o.courseId?(s=e.accountDetails.classes.findIndex(i=>i.id===o.courseId),s>-1&&e.accountDetails.courses[s].hasOwnProperty("lessons")&&(e.accountDetails.courses[s].lessons+=1),t.owner&&(s=e.accountDetails.ownedClasses.findIndex(i=>i.id===o.courseId),s>-1&&e.accountDetails.ownedCourses[s].hasOwnProperty("lessons")&&(e.accountDetails.ownedCourses[s].lessons+=1))):o.type==="extracurriculum"&&(s=e.accountDetails.extracurriculums.findIndex(i=>i.id===o.id),s>-1&&e.accountDetails.extracurriculums[s].hasOwnProperty("lessons")&&(e.accountDetails.extracurriculums[s].lessons+=1),t.owner&&(s=e.accountDetails.extracurriculums.findIndex(i=>i.id===o.id),s>-1&&e.accountDetails.extracurriculums[s].hasOwnProperty("lessons")&&(e.accountDetails.extracurriculums[s].lessons+=1)))})},UPDATE_LESSON(e,t){},UPDATE_ACCOUNT_LESSON(e,t){if(e.accountDetails.account==="facilitator"||e.accountDetails.account==="professional"){let s=e.accountDetails.lessons.findIndex(o=>t.id===o.id);s>-1&&e.accountDetails.lessons.splice(s,1,t)}},REMOVE_LESSON(e,t){let s=e.accountDetails.lessons.findIndex(o=>o.id==t);s>-1&&e.accountDetails.lessons.splice(s,1)},REMOVE_ACCOUNT_LESSON(e,t){if(e.accountDetails.account==="facilitator"||e.accountDetails.account==="professional"){let s=e.accountDetails.lessons.findIndex(o=>o.id===t.lessonId);s>-1&&e.accountDetails.lessons.splice(s,1)}t.items.forEach(s=>{s.type==="course"?(index=e.accountDetails.courses.findIndex(o=>o.id===s.id),index>-1&&e.accountDetails.courses[index].hasOwnProperty("lessons")&&(e.accountDetails.courses[index].lessons-=1),index=e.accountDetails.ownedCourses.findIndex(o=>o.id===s.id),index>-1&&e.accountDetails.ownedCourses[index].hasOwnProperty("lessons")&&(e.accountDetails.ownedCourses[index].lessons-=1)):s.type==="class"?(index=e.accountDetails.classes.findIndex(o=>o.id===s.id),index>-1&&e.accountDetails.classes[index].hasOwnProperty("lessons")&&(e.accountDetails.classes[index].lessons-=1),index=e.accountDetails.ownedClasses.findIndex(o=>o.id===s.id),index>-1&&e.accountDetails.ownedClasses[index].hasOwnProperty("lessons")&&(e.accountDetails.ownedClasses[index].lessons-=1)):s.type==="subject"&&s.classId?(index=e.accountDetails.classes.findIndex(o=>o.id===s.classId),index>-1&&e.accountDetails.classes[index].hasOwnProperty("lessons")&&(e.accountDetails.classes[index].lessons-=1),index=e.accountDetails.ownedClasses.findIndex(o=>o.id===s.classId),index>-1&&e.accountDetails.ownedClasses[index].hasOwnProperty("lessons")&&(e.accountDetails.ownedClasses[index].lessons-=1)):s.type==="courseSection"&&s.courseId?(index=e.accountDetails.classes.findIndex(o=>o.id===s.courseId),index>-1&&e.accountDetails.courses[index].hasOwnProperty("lessons")&&(e.accountDetails.courses[index].lessons-=1),index=e.accountDetails.ownedClasses.findIndex(o=>o.id===s.courseId),index>-1&&e.accountDetails.ownedCourses[index].hasOwnProperty("lessons")&&(e.accountDetails.ownedCourses[index].lessons-=1)):s.type==="extracurriculum"&&(index=e.accountDetails.extracurriculums.findIndex(o=>o.id===s.id),index>-1&&e.accountDetails.extracurriculums[index].hasOwnProperty("lessons")&&(e.accountDetails.extracurriculums[index].lessons-=1),index=e.accountDetails.extracurriculums.findIndex(o=>o.id===s.id),index>-1&&e.accountDetails.extracurriculums[index].hasOwnProperty("lessons")&&(e.accountDetails.extracurriculums[index].lessons-=1))})},ADD_COLLABORATION(e,t){e.accountDetails.hasOwnProperty("collaborations")&&e.accountDetails.collaborations.unshift(t)},UPDATE_COLLABORATION(e,t){if(e.accountDetails.hasOwnProperty("collaborations")){let s=e.accountDetails.collaborations.findIndex(o=>o.id===t.id);s>-1&&e.accountDetails.collaborations.splice(s,1,t)}},REMOVE_COLLABORATION(e,t){if(e.accountDetails.hasOwnProperty("collaborations")){let s=e.accountDetails.collaborations.findIndex(o=>o.id===t);s>-1&&e.accountDetails.collaborations.splice(s,1)}},SCHOOL_ADD_ACCOUNTS(e,t){t.accountOne.account==="learner"?e.accountDetails.learners.push(t.accountOne):t.accountOne.account==="parent"&&e.accountDetails.parents.push(t.accountOne),t.accountTwo&&e.accountDetails.parents.push(t.accountTwo)},ADD_ACCOUNT_DETAILS(e,t){t.account===e.accountDetails.account&&t.accountId===e.accountDetails.accountId&&(t.what==="admin"?e.accountDetails.admins.push(t.data):t.what==="facilitator"?e.accountDetails.facilitators.push(t.data):t.what==="school"?e.accountDetails.schools.push(t.data):t.what==="academicYear"&&e.accountDetails.academicYears.push(t.data))},COMMENT_SUCCESS(e,t){let s;t.comment.commentable_type.toLocaleLowerCase().includes("comment")?t.comment.commentable_type.toLocaleLowerCase().includes("comment")&&(s=e.mainSectionComments.findIndex(o=>o.id===t.comment.commentable_id),s>-1&&(e.mainSectionComments[s].comments+=1)):e.mainSectionComments.unshift(t.comment)},COMMENT_UPDATE_SUCCESS(e,t){let s;t.comment.commentable_type.toLocaleLowerCase().includes("comment")||(s=e.mainSectionComments.findIndex(o=>o.id===t.comment.id),s>-1&&e.mainSectionComments.splice(s,1,t.comment))},COMMENT_DELETE_SUCCESS(e,t){let s;t.owner.toLocaleLowerCase().includes("comment")?t.owner.toLocaleLowerCase().includes("comment")&&(s=e.mainSectionComments.findIndex(o=>o.id===t.ownerId),s>-1&&(e.mainSectionComments[s].comments-=1)):(s=e.mainSectionComments.findIndex(o=>o.id===t.commentId),s>-1&&e.mainSectionComments.splice(s,1))},GET_COMMENTS_SUCCESS(e,t){t.nextPage===1?e.mainSectionComments=t.comments:e.mainSectionComments.push(...t.comments)},NEW_COMMENT(e,t){let s=Number(t.itemId),o;t.item==="comment"?(o=e.mainSectionComments.findIndex(i=>i.id===s),o>-1&&(e.mainSectionComments[o].comments+=1)):t.item!=="comment"&&e.mainSectionComments.unshift(t.comment)},UPDATE_COMMENT(e,t){let s=Number(t.itemId),o;t.item==="comment"||t.item!=="comment"&&(o=e.mainSectionComments.findIndex(i=>i.id===s),o>-1&&e.mainSectionComments.splice(o,1,t.comment))},REMOVE_COMMENT(e,t){Number(t.itemId);let s=Number(t.commentId),o=null;t.item==="comment"?(o=e.mainSectionComments.findIndex(i=>i.id===s),o>-1&&(e.mainSectionComments[o]-=1)):t.item!=="comment"&&(o=e.mainSectionComments.findIndex(i=>i.id===s),o>-1&&e.mainSectionComments.splice(o,1))},SAVE_CREATE_SUCCESS(e,t){},SAVE_DELETE_SUCCESS(e,t){},FLAG_DELETE_SUCCESS(e,t){},FLAG_CREATE_SUCCESS(e,t){},ATTACHMENT_DELETE_SUCCESS(e,t){},ATTACHMENT_CREATE_SUCCESS(e,t){},LIKE_DELETE_SUCCESS(e,t){let s;if(t.item==="comment"){let o=e.mainSectionComments.findIndex(i=>i.id===t.itemId);if(o>-1&&(s=e.mainSectionComments[o].likes.findIndex(i=>i.id===t.likeId),s>-1)){e.mainSectionComments[o].likes.splice(s,1);return}}},LIKE_CREATE_SUCCESS(e,t){let s;if(t.item==="comment"){let o=e.mainSectionComments.findIndex(i=>i.id===t.itemId);if(o>-1){if(s=e.mainSectionComments[o].likes.findIndex(i=>i.id===t.like.id),s>-1)return;e.mainSectionComments[o].likes.push(t.like)}}},NEW_LIKE(e,t){let s=null,o=null,i=Number(t.itemId);t.item==="comment"&&(s=e.mainSectionComments.findIndex(n=>n.id===i),s>-1&&(o=e.mainSectionComments[s].likes.findIndex(n=>n.id===t.like.id),o===-1&&e.mainSectionComments[s].likes.push(t.like)))},REMOVE_LIKE(e,t){let s=null,o=null,i=Number(t.itemId),n=Number(t.likeId);t.item==="comment"&&(s=e.mainSectionComments.findIndex(r=>r.id===i),s>-1&&(o=e.mainSectionComments[s].likes.findIndex(r=>r.id===n),o>-1&&e.mainSectionComments[s].likes.splice(o,1)))},ADD_ACCOUNT_ATTACHMENT(e,t){t.forEach(s=>{e.accountDetails.hasOwnProperty(s.type)&&e.accountDetails[s.type].push(s)})},REMOVE_ACCOUNT_ATTACHMENT(e,t){let s=`${t.item}s`,o;e.accountDetails.hasOwnProperty(s)&&(t.item==="course"||t.item==="grade"||t.item==="subject"||t.item==="program"?o=e.accountDetails[s].findIndex(i=>i.data.id===t.itemId):(t.item==="professioal"||t.item==="parent"||t.item==="learner"||t.item==="facilitator"||t.item==="admin")&&(o=e.accountDetails[s].findIndex(i=>i.accountId===t.itemId))),o>-1&&e.accountDetails[s].splice(o,1)}},Zpe={namespaced:!0,state:{currentAccount:{},accountDetails:{},mainSectionComments:[],users:[],accounts:[],activities:[],admins:[],statusMessage:""},mutations:$pe,actions:Xpe,getters:{getAccountDetails(e){return e.accountDetails},getCurrentAccount(e){return e.currentAccount},getMainSectionComments(e){return e.mainSectionComments},getUsers(e){return e.users},getAccounts(e){return e.accounts},getActivities(e){return e.activities},getAdmins(e){return e.admins},getStatus(e){return e.statusMessage}}},ZA=ZM({modules:{profile:zpe,miscellaneous:Jpe,home:Kpe,dashboard:Zpe},state:Ope,getters:Npe,mutations:Fpe,actions:Lpe}),ege=(e,t,s)=>{let o=!!vi.getUser(),i=e.matched.some(r=>r.meta.requiresLogin),n=e.matched.some(r=>r.meta.doesntRequireLoginNot);return i&&!o?s({name:"login",query:{redirectTo:e.fullPath}}):n&&o?s(t.fullPath):s()},eC=o8({history:EE(),routes:Epe});eC.beforeEach((e,t,s)=>{ege(e,t,s)});function r1(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,o)}return s}function Bt(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(s),!0).forEach(function(o){Yn(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r1(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function tge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sge(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function nge(e,t,s){return t&&sge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yn(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Uv(e,t){return oge(e)||rge(e,t)||tC(e,t)||cge()}function Rd(e){return ige(e)||age(e)||tC(e)||lge()}function ige(e){if(Array.isArray(e))return gg(e)}function oge(e){if(Array.isArray(e))return e}function age(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rge(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var o=[],i=!0,n=!1,r,f;try{for(s=s.call(e);!(i=(r=s.next()).done)&&(o.push(r.value),!(t&&o.length===t));i=!0);}catch(m){n=!0,f=m}finally{try{!i&&s.return!=null&&s.return()}finally{if(n)throw f}}return o}}function tC(e,t){if(e){if(typeof e=="string")return gg(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return gg(e,t)}}function gg(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,o=new Array(t);s<t;s++)o[s]=e[s];return o}function lge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l1=function(){},Bv={},sC={},nC=null,iC={mark:l1,measure:l1};try{typeof window<"u"&&(Bv=window),typeof document<"u"&&(sC=document),typeof MutationObserver<"u"&&(nC=MutationObserver),typeof performance<"u"&&(iC=performance)}catch{}var uge=Bv.navigator||{},c1=uge.userAgent,u1=c1===void 0?"":c1,Tl=Bv,wn=sC,d1=nC,Dh=iC;Tl.document;var zr=!!wn.documentElement&&!!wn.head&&typeof wn.addEventListener=="function"&&typeof wn.createElement=="function",oC=~u1.indexOf("MSIE")||~u1.indexOf("Trident/"),xh,Ph,Mh,Eh,Oh,jr="___FONT_AWESOME___",vg=16,aC="fa",rC="svg-inline--fa",mc="data-fa-i2svg",yg="data-fa-pseudo-element",dge="data-fa-pseudo-element-pending",jv="data-prefix",Vv="data-icon",h1="fontawesome-i2svg",hge="async",fge=["HTML","HEAD","STYLE","SCRIPT"],lC=function(){try{return!0}catch{return!1}}(),yn="classic",Dn="sharp",qv=[yn,Dn];function Nd(e){return new Proxy(e,{get:function(s,o){return o in s?s[o]:s[yn]}})}var ud=Nd((xh={},Yn(xh,yn,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit",fakd:"kit","fa-kit":"kit","fa-kit-duotone":"kit"}),Yn(xh,Dn,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"}),xh)),dd=Nd((Ph={},Yn(Ph,yn,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Yn(Ph,Dn,{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"}),Ph)),hd=Nd((Mh={},Yn(Mh,yn,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Yn(Mh,Dn,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"}),Mh)),mge=Nd((Eh={},Yn(Eh,yn,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Yn(Eh,Dn,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"}),Eh)),pge=/fa(s|r|l|t|d|b|k|ss|sr|sl|st)?[\-\ ]/,cC="fa-layers-text",gge=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,vge=Nd((Oh={},Yn(Oh,yn,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Yn(Oh,Dn,{900:"fass",400:"fasr",300:"fasl",100:"fast"}),Oh)),uC=[1,2,3,4,5,6,7,8,9,10],yge=uC.concat([11,12,13,14,15,16,17,18,19,20]),wge=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],lc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},fd=new Set;Object.keys(dd[yn]).map(fd.add.bind(fd));Object.keys(dd[Dn]).map(fd.add.bind(fd));var _ge=[].concat(qv,Rd(fd),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",lc.GROUP,lc.SWAP_OPACITY,lc.PRIMARY,lc.SECONDARY]).concat(uC.map(function(e){return"".concat(e,"x")})).concat(yge.map(function(e){return"w-".concat(e)})),Zu=Tl.FontAwesomeConfig||{};function bge(e){var t=wn.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function kge(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(wn&&typeof wn.querySelector=="function"){var Age=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Age.forEach(function(e){var t=Uv(e,2),s=t[0],o=t[1],i=kge(bge(s));i!=null&&(Zu[o]=i)})}var dC={styleDefault:"solid",familyDefault:"classic",cssPrefix:aC,replacementClass:rC,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Zu.familyPrefix&&(Zu.cssPrefix=Zu.familyPrefix);var au=Bt(Bt({},dC),Zu);au.autoReplaceSvg||(au.observeMutations=!1);var Xt={};Object.keys(dC).forEach(function(e){Object.defineProperty(Xt,e,{enumerable:!0,set:function(s){au[e]=s,ed.forEach(function(o){return o(Xt)})},get:function(){return au[e]}})});Object.defineProperty(Xt,"familyPrefix",{enumerable:!0,set:function(t){au.cssPrefix=t,ed.forEach(function(s){return s(Xt)})},get:function(){return au.cssPrefix}});Tl.FontAwesomeConfig=Xt;var ed=[];function Cge(e){return ed.push(e),function(){ed.splice(ed.indexOf(e),1)}}var fl=vg,cr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Sge(e){if(!(!e||!zr)){var t=wn.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var s=wn.head.childNodes,o=null,i=s.length-1;i>-1;i--){var n=s[i],r=(n.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(o=n)}return wn.head.insertBefore(t,o),e}}var Ige="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function md(){for(var e=12,t="";e-- >0;)t+=Ige[Math.random()*62|0];return t}function wu(e){for(var t=[],s=(e||[]).length>>>0;s--;)t[s]=e[s];return t}function Hv(e){return e.classList?wu(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function hC(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tge(e){return Object.keys(e||{}).reduce(function(t,s){return t+"".concat(s,'="').concat(hC(e[s]),'" ')},"").trim()}function $f(e){return Object.keys(e||{}).reduce(function(t,s){return t+"".concat(s,": ").concat(e[s].trim(),";")},"")}function Wv(e){return e.size!==cr.size||e.x!==cr.x||e.y!==cr.y||e.rotate!==cr.rotate||e.flipX||e.flipY}function Dge(e){var t=e.transform,s=e.containerWidth,o=e.iconWidth,i={transform:"translate(".concat(s/2," 256)")},n="translate(".concat(t.x*32,", ").concat(t.y*32,") "),r="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),f="rotate(".concat(t.rotate," 0 0)"),m={transform:"".concat(n," ").concat(r," ").concat(f)},v={transform:"translate(".concat(o/2*-1," -256)")};return{outer:i,inner:m,path:v}}function xge(e){var t=e.transform,s=e.width,o=s===void 0?vg:s,i=e.height,n=i===void 0?vg:i,r=e.startCentered,f=r===void 0?!1:r,m="";return f&&oC?m+="translate(".concat(t.x/fl-o/2,"em, ").concat(t.y/fl-n/2,"em) "):f?m+="translate(calc(-50% + ".concat(t.x/fl,"em), calc(-50% + ").concat(t.y/fl,"em)) "):m+="translate(".concat(t.x/fl,"em, ").concat(t.y/fl,"em) "),m+="scale(".concat(t.size/fl*(t.flipX?-1:1),", ").concat(t.size/fl*(t.flipY?-1:1),") "),m+="rotate(".concat(t.rotate,"deg) "),m}var Pge=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, 0));
          transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function fC(){var e=aC,t=rC,s=Xt.cssPrefix,o=Xt.replacementClass,i=Pge;if(s!==e||o!==t){var n=new RegExp("\\.".concat(e,"\\-"),"g"),r=new RegExp("\\--".concat(e,"\\-"),"g"),f=new RegExp("\\.".concat(t),"g");i=i.replace(n,".".concat(s,"-")).replace(r,"--".concat(s,"-")).replace(f,".".concat(o))}return i}var f1=!1;function Np(){Xt.autoAddCss&&!f1&&(Sge(fC()),f1=!0)}var Mge={mixout:function(){return{dom:{css:fC,insertCss:Np}}},hooks:function(){return{beforeDOMElementCreation:function(){Np()},beforeI2svg:function(){Np()}}}},Vr=Tl||{};Vr[jr]||(Vr[jr]={});Vr[jr].styles||(Vr[jr].styles={});Vr[jr].hooks||(Vr[jr].hooks={});Vr[jr].shims||(Vr[jr].shims=[]);var Na=Vr[jr],mC=[],Ege=function e(){wn.removeEventListener("DOMContentLoaded",e),cf=1,mC.map(function(t){return t()})},cf=!1;zr&&(cf=(wn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(wn.readyState),cf||wn.addEventListener("DOMContentLoaded",Ege));function Oge(e){zr&&(cf?setTimeout(e,0):mC.push(e))}function Ld(e){var t=e.tag,s=e.attributes,o=s===void 0?{}:s,i=e.children,n=i===void 0?[]:i;return typeof e=="string"?hC(e):"<".concat(t," ").concat(Tge(o),">").concat(n.map(Ld).join(""),"</").concat(t,">")}function m1(e,t,s){if(e&&e[t]&&e[t][s])return{prefix:t,iconName:s,icon:e[t][s]}}var Lp=function(t,s,o,i){var n=Object.keys(t),r=n.length,f=s,m,v,g;for(o===void 0?(m=1,g=t[n[0]]):(m=0,g=o);m<r;m++)v=n[m],g=f(g,t[v],v,t);return g};function Rge(e){for(var t=[],s=0,o=e.length;s<o;){var i=e.charCodeAt(s++);if(i>=55296&&i<=56319&&s<o){var n=e.charCodeAt(s++);(n&64512)==56320?t.push(((i&1023)<<10)+(n&1023)+65536):(t.push(i),s--)}else t.push(i)}return t}function wg(e){var t=Rge(e);return t.length===1?t[0].toString(16):null}function Nge(e,t){var s=e.length,o=e.charCodeAt(t),i;return o>=55296&&o<=56319&&s>t+1&&(i=e.charCodeAt(t+1),i>=56320&&i<=57343)?(o-55296)*1024+i-56320+65536:o}function p1(e){return Object.keys(e).reduce(function(t,s){var o=e[s],i=!!o.icon;return i?t[o.iconName]=o.icon:t[s]=o,t},{})}function _g(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.skipHooks,i=o===void 0?!1:o,n=p1(t);typeof Na.hooks.addPack=="function"&&!i?Na.hooks.addPack(e,p1(t)):Na.styles[e]=Bt(Bt({},Na.styles[e]||{}),n),e==="fas"&&_g("fa",t)}var Rh,Nh,Lh,Yc=Na.styles,Lge=Na.shims,Fge=(Rh={},Yn(Rh,yn,Object.values(hd[yn])),Yn(Rh,Dn,Object.values(hd[Dn])),Rh),zv=null,pC={},gC={},vC={},yC={},wC={},Uge=(Nh={},Yn(Nh,yn,Object.keys(ud[yn])),Yn(Nh,Dn,Object.keys(ud[Dn])),Nh);function Bge(e){return~_ge.indexOf(e)}function jge(e,t){var s=t.split("-"),o=s[0],i=s.slice(1).join("-");return o===e&&i!==""&&!Bge(i)?i:null}var _C=function(){var t=function(n){return Lp(Yc,function(r,f,m){return r[m]=Lp(f,n,{}),r},{})};pC=t(function(i,n,r){if(n[3]&&(i[n[3]]=r),n[2]){var f=n[2].filter(function(m){return typeof m=="number"});f.forEach(function(m){i[m.toString(16)]=r})}return i}),gC=t(function(i,n,r){if(i[r]=r,n[2]){var f=n[2].filter(function(m){return typeof m=="string"});f.forEach(function(m){i[m]=r})}return i}),wC=t(function(i,n,r){var f=n[2];return i[r]=r,f.forEach(function(m){i[m]=r}),i});var s="far"in Yc||Xt.autoFetchSvg,o=Lp(Lge,function(i,n){var r=n[0],f=n[1],m=n[2];return f==="far"&&!s&&(f="fas"),typeof r=="string"&&(i.names[r]={prefix:f,iconName:m}),typeof r=="number"&&(i.unicodes[r.toString(16)]={prefix:f,iconName:m}),i},{names:{},unicodes:{}});vC=o.names,yC=o.unicodes,zv=Zf(Xt.styleDefault,{family:Xt.familyDefault})};Cge(function(e){zv=Zf(e.styleDefault,{family:Xt.familyDefault})});_C();function Gv(e,t){return(pC[e]||{})[t]}function Vge(e,t){return(gC[e]||{})[t]}function cc(e,t){return(wC[e]||{})[t]}function bC(e){return vC[e]||{prefix:null,iconName:null}}function qge(e){var t=yC[e],s=Gv("fas",e);return t||(s?{prefix:"fas",iconName:s}:null)||{prefix:null,iconName:null}}function Dl(){return zv}var Yv=function(){return{prefix:null,iconName:null,rest:[]}};function Zf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.family,o=s===void 0?yn:s,i=ud[o][e],n=dd[o][e]||dd[o][i],r=e in Na.styles?e:null;return n||r||null}var g1=(Lh={},Yn(Lh,yn,Object.keys(hd[yn])),Yn(Lh,Dn,Object.keys(hd[Dn])),Lh);function em(e){var t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.skipLookups,i=o===void 0?!1:o,n=(t={},Yn(t,yn,"".concat(Xt.cssPrefix,"-").concat(yn)),Yn(t,Dn,"".concat(Xt.cssPrefix,"-").concat(Dn)),t),r=null,f=yn;(e.includes(n[yn])||e.some(function(v){return g1[yn].includes(v)}))&&(f=yn),(e.includes(n[Dn])||e.some(function(v){return g1[Dn].includes(v)}))&&(f=Dn);var m=e.reduce(function(v,g){var A=jge(Xt.cssPrefix,g);if(Yc[g]?(g=Fge[f].includes(g)?mge[f][g]:g,r=g,v.prefix=g):Uge[f].indexOf(g)>-1?(r=g,v.prefix=Zf(g,{family:f})):A?v.iconName=A:g!==Xt.replacementClass&&g!==n[yn]&&g!==n[Dn]&&v.rest.push(g),!i&&v.prefix&&v.iconName){var D=r==="fa"?bC(v.iconName):{},E=cc(v.prefix,v.iconName);D.prefix&&(r=null),v.iconName=D.iconName||E||v.iconName,v.prefix=D.prefix||v.prefix,v.prefix==="far"&&!Yc.far&&Yc.fas&&!Xt.autoFetchSvg&&(v.prefix="fas")}return v},Yv());return(e.includes("fa-brands")||e.includes("fab"))&&(m.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(m.prefix="fad"),!m.prefix&&f===Dn&&(Yc.fass||Xt.autoFetchSvg)&&(m.prefix="fass",m.iconName=cc(m.prefix,m.iconName)||m.iconName),(m.prefix==="fa"||r==="fa")&&(m.prefix=Dl()||"fas"),m}var Hge=function(){function e(){tge(this,e),this.definitions={}}return nge(e,[{key:"add",value:function(){for(var s=this,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];var r=i.reduce(this._pullDefinitions,{});Object.keys(r).forEach(function(f){s.definitions[f]=Bt(Bt({},s.definitions[f]||{}),r[f]),_g(f,r[f]);var m=hd[yn][f];m&&_g(m,r[f]),_C()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(s,o){var i=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(i).map(function(n){var r=i[n],f=r.prefix,m=r.iconName,v=r.icon,g=v[2];s[f]||(s[f]={}),g.length>0&&g.forEach(function(A){typeof A=="string"&&(s[f][A]=v)}),s[f][m]=v}),s}}]),e}(),v1=[],Qc={},$c={},Wge=Object.keys($c);function zge(e,t){var s=t.mixoutsTo;return v1=e,Qc={},Object.keys($c).forEach(function(o){Wge.indexOf(o)===-1&&delete $c[o]}),v1.forEach(function(o){var i=o.mixout?o.mixout():{};if(Object.keys(i).forEach(function(r){typeof i[r]=="function"&&(s[r]=i[r]),lf(i[r])==="object"&&Object.keys(i[r]).forEach(function(f){s[r]||(s[r]={}),s[r][f]=i[r][f]})}),o.hooks){var n=o.hooks();Object.keys(n).forEach(function(r){Qc[r]||(Qc[r]=[]),Qc[r].push(n[r])})}o.provides&&o.provides($c)}),s}function bg(e,t){for(var s=arguments.length,o=new Array(s>2?s-2:0),i=2;i<s;i++)o[i-2]=arguments[i];var n=Qc[e]||[];return n.forEach(function(r){t=r.apply(null,[t].concat(o))}),t}function pc(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),o=1;o<t;o++)s[o-1]=arguments[o];var i=Qc[e]||[];i.forEach(function(n){n.apply(null,s)})}function qr(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return $c[e]?$c[e].apply(null,t):void 0}function kg(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,s=e.prefix||Dl();if(t)return t=cc(s,t)||t,m1(kC.definitions,s,t)||m1(Na.styles,s,t)}var kC=new Hge,Gge=function(){Xt.autoReplaceSvg=!1,Xt.observeMutations=!1,pc("noAuto")},Yge={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return zr?(pc("beforeI2svg",t),qr("pseudoElements2svg",t),qr("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.autoReplaceSvgRoot;Xt.autoReplaceSvg===!1&&(Xt.autoReplaceSvg=!0),Xt.observeMutations=!0,Oge(function(){Kge({autoReplaceSvgRoot:s}),pc("watch",t)})}},Qge={icon:function(t){if(t===null)return null;if(lf(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:cc(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var s=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],o=Zf(t[0]);return{prefix:o,iconName:cc(o,s)||s}}if(typeof t=="string"&&(t.indexOf("".concat(Xt.cssPrefix,"-"))>-1||t.match(pge))){var i=em(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||Dl(),iconName:cc(i.prefix,i.iconName)||i.iconName}}if(typeof t=="string"){var n=Dl();return{prefix:n,iconName:cc(n,t)||t}}}},Bo={noAuto:Gge,config:Xt,dom:Yge,parse:Qge,library:kC,findIconDefinition:kg,toHtml:Ld},Kge=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=t.autoReplaceSvgRoot,o=s===void 0?wn:s;(Object.keys(Na.styles).length>0||Xt.autoFetchSvg)&&zr&&Xt.autoReplaceSvg&&Bo.dom.i2svg({node:o})};function tm(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(o){return Ld(o)})}}),Object.defineProperty(e,"node",{get:function(){if(zr){var o=wn.createElement("div");return o.innerHTML=e.html,o.children}}}),e}function Jge(e){var t=e.children,s=e.main,o=e.mask,i=e.attributes,n=e.styles,r=e.transform;if(Wv(r)&&s.found&&!o.found){var f=s.width,m=s.height,v={x:f/m/2,y:.5};i.style=$f(Bt(Bt({},n),{},{"transform-origin":"".concat(v.x+r.x/16,"em ").concat(v.y+r.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}function Xge(e){var t=e.prefix,s=e.iconName,o=e.children,i=e.attributes,n=e.symbol,r=n===!0?"".concat(t,"-").concat(Xt.cssPrefix,"-").concat(s):n;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Bt(Bt({},i),{},{id:r}),children:o}]}]}function Qv(e){var t=e.icons,s=t.main,o=t.mask,i=e.prefix,n=e.iconName,r=e.transform,f=e.symbol,m=e.title,v=e.maskId,g=e.titleId,A=e.extra,D=e.watchable,E=D===void 0?!1:D,T=o.found?o:s,N=T.width,F=T.height,R=i==="fak",j=[Xt.replacementClass,n?"".concat(Xt.cssPrefix,"-").concat(n):""].filter(function(he){return A.classes.indexOf(he)===-1}).filter(function(he){return he!==""||!!he}).concat(A.classes).join(" "),W={children:[],attributes:Bt(Bt({},A.attributes),{},{"data-prefix":i,"data-icon":n,class:j,role:A.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(N," ").concat(F)})},Q=R&&!~A.classes.indexOf("fa-fw")?{width:"".concat(N/F*16*.0625,"em")}:{};E&&(W.attributes[mc]=""),m&&(W.children.push({tag:"title",attributes:{id:W.attributes["aria-labelledby"]||"title-".concat(g||md())},children:[m]}),delete W.attributes.title);var le=Bt(Bt({},W),{},{prefix:i,iconName:n,main:s,mask:o,maskId:v,transform:r,symbol:f,styles:Bt(Bt({},Q),A.styles)}),me=o.found&&s.found?qr("generateAbstractMask",le)||{children:[],attributes:{}}:qr("generateAbstractIcon",le)||{children:[],attributes:{}},k=me.children,Ce=me.attributes;return le.children=k,le.attributes=Ce,f?Xge(le):Jge(le)}function y1(e){var t=e.content,s=e.width,o=e.height,i=e.transform,n=e.title,r=e.extra,f=e.watchable,m=f===void 0?!1:f,v=Bt(Bt(Bt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")});m&&(v[mc]="");var g=Bt({},r.styles);Wv(i)&&(g.transform=xge({transform:i,startCentered:!0,width:s,height:o}),g["-webkit-transform"]=g.transform);var A=$f(g);A.length>0&&(v.style=A);var D=[];return D.push({tag:"span",attributes:v,children:[t]}),n&&D.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),D}function $ge(e){var t=e.content,s=e.title,o=e.extra,i=Bt(Bt(Bt({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")}),n=$f(o.styles);n.length>0&&(i.style=n);var r=[];return r.push({tag:"span",attributes:i,children:[t]}),s&&r.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),r}var Fp=Na.styles;function Ag(e){var t=e[0],s=e[1],o=e.slice(4),i=Uv(o,1),n=i[0],r=null;return Array.isArray(n)?r={tag:"g",attributes:{class:"".concat(Xt.cssPrefix,"-").concat(lc.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Xt.cssPrefix,"-").concat(lc.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(Xt.cssPrefix,"-").concat(lc.PRIMARY),fill:"currentColor",d:n[1]}}]}:r={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:s,icon:r}}var Zge={found:!1,width:512,height:512};function eve(e,t){!lC&&!Xt.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Cg(e,t){var s=t;return t==="fa"&&Xt.styleDefault!==null&&(t=Dl()),new Promise(function(o,i){if(qr("missingIconAbstract"),s==="fa"){var n=bC(e)||{};e=n.iconName||e,t=n.prefix||t}if(e&&t&&Fp[t]&&Fp[t][e]){var r=Fp[t][e];return o(Ag(r))}eve(e,t),o(Bt(Bt({},Zge),{},{icon:Xt.showMissingIcons&&e?qr("missingIconAbstract")||{}:{}}))})}var w1=function(){},Sg=Xt.measurePerformance&&Dh&&Dh.mark&&Dh.measure?Dh:{mark:w1,measure:w1},Wu='FA "6.5.2"',tve=function(t){return Sg.mark("".concat(Wu," ").concat(t," begins")),function(){return AC(t)}},AC=function(t){Sg.mark("".concat(Wu," ").concat(t," ends")),Sg.measure("".concat(Wu," ").concat(t),"".concat(Wu," ").concat(t," begins"),"".concat(Wu," ").concat(t," ends"))},Kv={begin:tve,end:AC},zh=function(){};function _1(e){var t=e.getAttribute?e.getAttribute(mc):null;return typeof t=="string"}function sve(e){var t=e.getAttribute?e.getAttribute(jv):null,s=e.getAttribute?e.getAttribute(Vv):null;return t&&s}function nve(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Xt.replacementClass)}function ive(){if(Xt.autoReplaceSvg===!0)return Gh.replace;var e=Gh[Xt.autoReplaceSvg];return e||Gh.replace}function ove(e){return wn.createElementNS("http://www.w3.org/2000/svg",e)}function ave(e){return wn.createElement(e)}function CC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=t.ceFn,o=s===void 0?e.tag==="svg"?ove:ave:s;if(typeof e=="string")return wn.createTextNode(e);var i=o(e.tag);Object.keys(e.attributes||[]).forEach(function(r){i.setAttribute(r,e.attributes[r])});var n=e.children||[];return n.forEach(function(r){i.appendChild(CC(r,{ceFn:o}))}),i}function rve(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Gh={replace:function(t){var s=t[0];if(s.parentNode)if(t[1].forEach(function(i){s.parentNode.insertBefore(CC(i),s)}),s.getAttribute(mc)===null&&Xt.keepOriginalSource){var o=wn.createComment(rve(s));s.parentNode.replaceChild(o,s)}else s.remove()},nest:function(t){var s=t[0],o=t[1];if(~Hv(s).indexOf(Xt.replacementClass))return Gh.replace(t);var i=new RegExp("".concat(Xt.cssPrefix,"-.*"));if(delete o[0].attributes.id,o[0].attributes.class){var n=o[0].attributes.class.split(" ").reduce(function(f,m){return m===Xt.replacementClass||m.match(i)?f.toSvg.push(m):f.toNode.push(m),f},{toNode:[],toSvg:[]});o[0].attributes.class=n.toSvg.join(" "),n.toNode.length===0?s.removeAttribute("class"):s.setAttribute("class",n.toNode.join(" "))}var r=o.map(function(f){return Ld(f)}).join(`
`);s.setAttribute(mc,""),s.innerHTML=r}};function b1(e){e()}function SC(e,t){var s=typeof t=="function"?t:zh;if(e.length===0)s();else{var o=b1;Xt.mutateApproach===hge&&(o=Tl.requestAnimationFrame||b1),o(function(){var i=ive(),n=Kv.begin("mutate");e.map(i),n(),s()})}}var Jv=!1;function IC(){Jv=!0}function Ig(){Jv=!1}var uf=null;function k1(e){if(d1&&Xt.observeMutations){var t=e.treeCallback,s=t===void 0?zh:t,o=e.nodeCallback,i=o===void 0?zh:o,n=e.pseudoElementsCallback,r=n===void 0?zh:n,f=e.observeMutationsRoot,m=f===void 0?wn:f;uf=new d1(function(v){if(!Jv){var g=Dl();wu(v).forEach(function(A){if(A.type==="childList"&&A.addedNodes.length>0&&!_1(A.addedNodes[0])&&(Xt.searchPseudoElements&&r(A.target),s(A.target)),A.type==="attributes"&&A.target.parentNode&&Xt.searchPseudoElements&&r(A.target.parentNode),A.type==="attributes"&&_1(A.target)&&~wge.indexOf(A.attributeName))if(A.attributeName==="class"&&sve(A.target)){var D=em(Hv(A.target)),E=D.prefix,T=D.iconName;A.target.setAttribute(jv,E||g),T&&A.target.setAttribute(Vv,T)}else nve(A.target)&&i(A.target)})}}),zr&&uf.observe(m,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function lve(){uf&&uf.disconnect()}function cve(e){var t=e.getAttribute("style"),s=[];return t&&(s=t.split(";").reduce(function(o,i){var n=i.split(":"),r=n[0],f=n.slice(1);return r&&f.length>0&&(o[r]=f.join(":").trim()),o},{})),s}function uve(e){var t=e.getAttribute("data-prefix"),s=e.getAttribute("data-icon"),o=e.innerText!==void 0?e.innerText.trim():"",i=em(Hv(e));return i.prefix||(i.prefix=Dl()),t&&s&&(i.prefix=t,i.iconName=s),i.iconName&&i.prefix||(i.prefix&&o.length>0&&(i.iconName=Vge(i.prefix,e.innerText)||Gv(i.prefix,wg(e.innerText))),!i.iconName&&Xt.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function dve(e){var t=wu(e.attributes).reduce(function(i,n){return i.name!=="class"&&i.name!=="style"&&(i[n.name]=n.value),i},{}),s=e.getAttribute("title"),o=e.getAttribute("data-fa-title-id");return Xt.autoA11y&&(s?t["aria-labelledby"]="".concat(Xt.replacementClass,"-title-").concat(o||md()):(t["aria-hidden"]="true",t.focusable="false")),t}function hve(){return{iconName:null,title:null,titleId:null,prefix:null,transform:cr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function A1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},s=uve(e),o=s.iconName,i=s.prefix,n=s.rest,r=dve(e),f=bg("parseNodeAttributes",{},e),m=t.styleParser?cve(e):[];return Bt({iconName:o,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:cr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:n,styles:m,attributes:r}},f)}var fve=Na.styles;function TC(e){var t=Xt.autoReplaceSvg==="nest"?A1(e,{styleParser:!1}):A1(e);return~t.extra.classes.indexOf(cC)?qr("generateLayersText",e,t):qr("generateSvgReplacementMutation",e,t)}var xl=new Set;qv.map(function(e){xl.add("fa-".concat(e))});Object.keys(ud[yn]).map(xl.add.bind(xl));Object.keys(ud[Dn]).map(xl.add.bind(xl));xl=Rd(xl);function C1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!zr)return Promise.resolve();var s=wn.documentElement.classList,o=function(A){return s.add("".concat(h1,"-").concat(A))},i=function(A){return s.remove("".concat(h1,"-").concat(A))},n=Xt.autoFetchSvg?xl:qv.map(function(g){return"fa-".concat(g)}).concat(Object.keys(fve));n.includes("fa")||n.push("fa");var r=[".".concat(cC,":not([").concat(mc,"])")].concat(n.map(function(g){return".".concat(g,":not([").concat(mc,"])")})).join(", ");if(r.length===0)return Promise.resolve();var f=[];try{f=wu(e.querySelectorAll(r))}catch{}if(f.length>0)o("pending"),i("complete");else return Promise.resolve();var m=Kv.begin("onTree"),v=f.reduce(function(g,A){try{var D=TC(A);D&&g.push(D)}catch(E){lC||E.name==="MissingIcon"&&console.error(E)}return g},[]);return new Promise(function(g,A){Promise.all(v).then(function(D){SC(D,function(){o("active"),o("complete"),i("pending"),typeof t=="function"&&t(),m(),g()})}).catch(function(D){m(),A(D)})})}function mve(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;TC(e).then(function(s){s&&SC([s],t)})}function pve(e){return function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=(t||{}).icon?t:kg(t||{}),i=s.mask;return i&&(i=(i||{}).icon?i:kg(i||{})),e(o,Bt(Bt({},s),{},{mask:i}))}}var gve=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.transform,i=o===void 0?cr:o,n=s.symbol,r=n===void 0?!1:n,f=s.mask,m=f===void 0?null:f,v=s.maskId,g=v===void 0?null:v,A=s.title,D=A===void 0?null:A,E=s.titleId,T=E===void 0?null:E,N=s.classes,F=N===void 0?[]:N,R=s.attributes,j=R===void 0?{}:R,W=s.styles,Q=W===void 0?{}:W;if(t){var le=t.prefix,me=t.iconName,k=t.icon;return tm(Bt({type:"icon"},t),function(){return pc("beforeDOMElementCreation",{iconDefinition:t,params:s}),Xt.autoA11y&&(D?j["aria-labelledby"]="".concat(Xt.replacementClass,"-title-").concat(T||md()):(j["aria-hidden"]="true",j.focusable="false")),Qv({icons:{main:Ag(k),mask:m?Ag(m.icon):{found:!1,width:null,height:null,icon:{}}},prefix:le,iconName:me,transform:Bt(Bt({},cr),i),symbol:r,title:D,maskId:g,titleId:T,extra:{attributes:j,styles:Q,classes:F}})})}},vve={mixout:function(){return{icon:pve(gve)}},hooks:function(){return{mutationObserverCallbacks:function(s){return s.treeCallback=C1,s.nodeCallback=mve,s}}},provides:function(t){t.i2svg=function(s){var o=s.node,i=o===void 0?wn:o,n=s.callback,r=n===void 0?function(){}:n;return C1(i,r)},t.generateSvgReplacementMutation=function(s,o){var i=o.iconName,n=o.title,r=o.titleId,f=o.prefix,m=o.transform,v=o.symbol,g=o.mask,A=o.maskId,D=o.extra;return new Promise(function(E,T){Promise.all([Cg(i,f),g.iconName?Cg(g.iconName,g.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(N){var F=Uv(N,2),R=F[0],j=F[1];E([s,Qv({icons:{main:R,mask:j},prefix:f,iconName:i,transform:m,symbol:v,maskId:A,title:n,titleId:r,extra:D,watchable:!0})])}).catch(T)})},t.generateAbstractIcon=function(s){var o=s.children,i=s.attributes,n=s.main,r=s.transform,f=s.styles,m=$f(f);m.length>0&&(i.style=m);var v;return Wv(r)&&(v=qr("generateAbstractTransformGrouping",{main:n,transform:r,containerWidth:n.width,iconWidth:n.width})),o.push(v||n.icon),{children:o,attributes:i}}}},yve={mixout:function(){return{layer:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.classes,n=i===void 0?[]:i;return tm({type:"layer"},function(){pc("beforeDOMElementCreation",{assembler:s,params:o});var r=[];return s(function(f){Array.isArray(f)?f.map(function(m){r=r.concat(m.abstract)}):r=r.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(Xt.cssPrefix,"-layers")].concat(Rd(n)).join(" ")},children:r}]})}}}},wve={mixout:function(){return{counter:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.title,n=i===void 0?null:i,r=o.classes,f=r===void 0?[]:r,m=o.attributes,v=m===void 0?{}:m,g=o.styles,A=g===void 0?{}:g;return tm({type:"counter",content:s},function(){return pc("beforeDOMElementCreation",{content:s,params:o}),$ge({content:s.toString(),title:n,extra:{attributes:v,styles:A,classes:["".concat(Xt.cssPrefix,"-layers-counter")].concat(Rd(f))}})})}}}},_ve={mixout:function(){return{text:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.transform,n=i===void 0?cr:i,r=o.title,f=r===void 0?null:r,m=o.classes,v=m===void 0?[]:m,g=o.attributes,A=g===void 0?{}:g,D=o.styles,E=D===void 0?{}:D;return tm({type:"text",content:s},function(){return pc("beforeDOMElementCreation",{content:s,params:o}),y1({content:s,transform:Bt(Bt({},cr),n),title:f,extra:{attributes:A,styles:E,classes:["".concat(Xt.cssPrefix,"-layers-text")].concat(Rd(v))}})})}}},provides:function(t){t.generateLayersText=function(s,o){var i=o.title,n=o.transform,r=o.extra,f=null,m=null;if(oC){var v=parseInt(getComputedStyle(s).fontSize,10),g=s.getBoundingClientRect();f=g.width/v,m=g.height/v}return Xt.autoA11y&&!i&&(r.attributes["aria-hidden"]="true"),Promise.resolve([s,y1({content:s.innerHTML,width:f,height:m,transform:n,title:i,extra:r,watchable:!0})])}}},bve=new RegExp('"',"ug"),S1=[1105920,1112319];function kve(e){var t=e.replace(bve,""),s=Nge(t,0),o=s>=S1[0]&&s<=S1[1],i=t.length===2?t[0]===t[1]:!1;return{value:wg(i?t[0]:t),isSecondary:o||i}}function I1(e,t){var s="".concat(dge).concat(t.replace(":","-"));return new Promise(function(o,i){if(e.getAttribute(s)!==null)return o();var n=wu(e.children),r=n.filter(function(k){return k.getAttribute(yg)===t})[0],f=Tl.getComputedStyle(e,t),m=f.getPropertyValue("font-family").match(gge),v=f.getPropertyValue("font-weight"),g=f.getPropertyValue("content");if(r&&!m)return e.removeChild(r),o();if(m&&g!=="none"&&g!==""){var A=f.getPropertyValue("content"),D=~["Sharp"].indexOf(m[2])?Dn:yn,E=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(m[2])?dd[D][m[2].toLowerCase()]:vge[D][v],T=kve(A),N=T.value,F=T.isSecondary,R=m[0].startsWith("FontAwesome"),j=Gv(E,N),W=j;if(R){var Q=qge(N);Q.iconName&&Q.prefix&&(j=Q.iconName,E=Q.prefix)}if(j&&!F&&(!r||r.getAttribute(jv)!==E||r.getAttribute(Vv)!==W)){e.setAttribute(s,W),r&&e.removeChild(r);var le=hve(),me=le.extra;me.attributes[yg]=t,Cg(j,E).then(function(k){var Ce=Qv(Bt(Bt({},le),{},{icons:{main:k,mask:Yv()},prefix:E,iconName:W,extra:me,watchable:!0})),he=wn.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(he,e.firstChild):e.appendChild(he),he.outerHTML=Ce.map(function(Ke){return Ld(Ke)}).join(`
`),e.removeAttribute(s),o()}).catch(i)}else o()}else o()})}function Ave(e){return Promise.all([I1(e,"::before"),I1(e,"::after")])}function Cve(e){return e.parentNode!==document.head&&!~fge.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(yg)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function T1(e){if(zr)return new Promise(function(t,s){var o=wu(e.querySelectorAll("*")).filter(Cve).map(Ave),i=Kv.begin("searchPseudoElements");IC(),Promise.all(o).then(function(){i(),Ig(),t()}).catch(function(){i(),Ig(),s()})})}var Sve={hooks:function(){return{mutationObserverCallbacks:function(s){return s.pseudoElementsCallback=T1,s}}},provides:function(t){t.pseudoElements2svg=function(s){var o=s.node,i=o===void 0?wn:o;Xt.searchPseudoElements&&T1(i)}}},D1=!1,Ive={mixout:function(){return{dom:{unwatch:function(){IC(),D1=!0}}}},hooks:function(){return{bootstrap:function(){k1(bg("mutationObserverCallbacks",{}))},noAuto:function(){lve()},watch:function(s){var o=s.observeMutationsRoot;D1?Ig():k1(bg("mutationObserverCallbacks",{observeMutationsRoot:o}))}}}},x1=function(t){var s={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(o,i){var n=i.toLowerCase().split("-"),r=n[0],f=n.slice(1).join("-");if(r&&f==="h")return o.flipX=!0,o;if(r&&f==="v")return o.flipY=!0,o;if(f=parseFloat(f),isNaN(f))return o;switch(r){case"grow":o.size=o.size+f;break;case"shrink":o.size=o.size-f;break;case"left":o.x=o.x-f;break;case"right":o.x=o.x+f;break;case"up":o.y=o.y-f;break;case"down":o.y=o.y+f;break;case"rotate":o.rotate=o.rotate+f;break}return o},s)},Tve={mixout:function(){return{parse:{transform:function(s){return x1(s)}}}},hooks:function(){return{parseNodeAttributes:function(s,o){var i=o.getAttribute("data-fa-transform");return i&&(s.transform=x1(i)),s}}},provides:function(t){t.generateAbstractTransformGrouping=function(s){var o=s.main,i=s.transform,n=s.containerWidth,r=s.iconWidth,f={transform:"translate(".concat(n/2," 256)")},m="translate(".concat(i.x*32,", ").concat(i.y*32,") "),v="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),g="rotate(".concat(i.rotate," 0 0)"),A={transform:"".concat(m," ").concat(v," ").concat(g)},D={transform:"translate(".concat(r/2*-1," -256)")},E={outer:f,inner:A,path:D};return{tag:"g",attributes:Bt({},E.outer),children:[{tag:"g",attributes:Bt({},E.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:Bt(Bt({},o.icon.attributes),E.path)}]}]}}}},Up={x:0,y:0,width:"100%",height:"100%"};function P1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Dve(e){return e.tag==="g"?e.children:[e]}var xve={hooks:function(){return{parseNodeAttributes:function(s,o){var i=o.getAttribute("data-fa-mask"),n=i?em(i.split(" ").map(function(r){return r.trim()})):Yv();return n.prefix||(n.prefix=Dl()),s.mask=n,s.maskId=o.getAttribute("data-fa-mask-id"),s}}},provides:function(t){t.generateAbstractMask=function(s){var o=s.children,i=s.attributes,n=s.main,r=s.mask,f=s.maskId,m=s.transform,v=n.width,g=n.icon,A=r.width,D=r.icon,E=Dge({transform:m,containerWidth:A,iconWidth:v}),T={tag:"rect",attributes:Bt(Bt({},Up),{},{fill:"white"})},N=g.children?{children:g.children.map(P1)}:{},F={tag:"g",attributes:Bt({},E.inner),children:[P1(Bt({tag:g.tag,attributes:Bt(Bt({},g.attributes),E.path)},N))]},R={tag:"g",attributes:Bt({},E.outer),children:[F]},j="mask-".concat(f||md()),W="clip-".concat(f||md()),Q={tag:"mask",attributes:Bt(Bt({},Up),{},{id:j,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,R]},le={tag:"defs",children:[{tag:"clipPath",attributes:{id:W},children:Dve(D)},Q]};return o.push(le,{tag:"rect",attributes:Bt({fill:"currentColor","clip-path":"url(#".concat(W,")"),mask:"url(#".concat(j,")")},Up)}),{children:o,attributes:i}}}},Pve={provides:function(t){var s=!1;Tl.matchMedia&&(s=Tl.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var o=[],i={fill:"currentColor"},n={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};o.push({tag:"path",attributes:Bt(Bt({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var r=Bt(Bt({},n),{},{attributeName:"opacity"}),f={tag:"circle",attributes:Bt(Bt({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return s||f.children.push({tag:"animate",attributes:Bt(Bt({},n),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Bt(Bt({},r),{},{values:"1;0;1;1;0;1;"})}),o.push(f),o.push({tag:"path",attributes:Bt(Bt({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:s?[]:[{tag:"animate",attributes:Bt(Bt({},r),{},{values:"1;0;0;0;0;1;"})}]}),s||o.push({tag:"path",attributes:Bt(Bt({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Bt(Bt({},r),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:o}}}},Mve={hooks:function(){return{parseNodeAttributes:function(s,o){var i=o.getAttribute("data-fa-symbol"),n=i===null?!1:i===""?!0:i;return s.symbol=n,s}}}},Eve=[Mge,vve,yve,wve,_ve,Sve,Ive,Tve,xve,Pve,Mve];zge(Eve,{mixoutsTo:Bo});Bo.noAuto;Bo.config;var Ove=Bo.library;Bo.dom;var Tg=Bo.parse;Bo.findIconDefinition;Bo.toHtml;var Rve=Bo.icon;Bo.layer;Bo.text;Bo.counter;var Nve={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M64 0C28.7 0 0 28.7 0 64V352c0 35.3 28.7 64 64 64h96v80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416H448c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64H64z"]},Lve=Nve,Fve={prefix:"fas",iconName:"microphone-lines-slash",icon:[640,512,["microphone-alt-slash"],"f539","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L472.1 344.7c15.2-26 23.9-56.3 23.9-88.7V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v24 16c0 21.2-5.1 41.1-14.2 58.7L416 300.8V256H358.9l-34.5-27c2.9-3.1 7-5 11.6-5h80V192H336c-8.8 0-16-7.2-16-16s7.2-16 16-16h80V128H336c-8.8 0-16-7.2-16-16s7.2-16 16-16h80c0-53-43-96-96-96s-96 43-96 96v54.3L38.8 5.1zM358.2 378.2C346.1 382 333.3 384 320 384c-70.7 0-128-57.3-128-128v-8.7L144.7 210c-.5 1.9-.7 3.9-.7 6v40c0 89.1 66.2 162.7 152 174.4V464H248c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H344V430.4c20.4-2.8 39.7-9.1 57.3-18.2l-43.1-33.9z"]},Uve=Fve,Bve={prefix:"fas",iconName:"pencil",icon:[512,512,[9999,61504,"pencil-alt"],"f303","M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"]},jve=Bve,Vve={prefix:"fas",iconName:"toggle-off",icon:[576,512,[],"f204","M384 128c70.7 0 128 57.3 128 128s-57.3 128-128 128H192c-70.7 0-128-57.3-128-128s57.3-128 128-128H384zM576 256c0-106-86-192-192-192H192C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192zM192 352a96 96 0 1 0 0-192 96 96 0 1 0 0 192z"]},qve={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},Hve={prefix:"fas",iconName:"film",icon:[512,512,[127902],"f008","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM48 368v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V368c0-8.8-7.2-16-16-16H416zM48 240v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zm368-16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16H416zM48 112v32c0 8.8 7.2 16 16 16H96c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16zM416 96c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V112c0-8.8-7.2-16-16-16H416zM160 128v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V128c0-17.7-14.3-32-32-32H192c-17.7 0-32 14.3-32 32zm32 160c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V320c0-17.7-14.3-32-32-32H192z"]},Wve={prefix:"fas",iconName:"circle-exclamation",icon:[512,512,["exclamation-circle"],"f06a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},zve=Wve,Gve={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32V64 368 480c0 17.7 14.3 32 32 32s32-14.3 32-32V352l64.3-16.1c41.1-10.3 84.6-5.5 122.5 13.4c44.2 22.1 95.5 24.8 141.7 7.4l34.7-13c12.5-4.7 20.8-16.6 20.8-30V66.1c0-23-24.2-38-44.8-27.7l-9.6 4.8c-46.3 23.2-100.8 23.2-147.1 0c-35.1-17.6-75.4-22-113.5-12.5L64 48V32z"]},Yve={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},Qve=Yve,Kve={prefix:"fas",iconName:"users",icon:[640,512,[],"f0c0","M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"]},Jve={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},Xve={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},$ve={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},Zve={prefix:"fas",iconName:"ban",icon:[512,512,[128683,"cancel"],"f05e","M367.2 412.5L99.5 144.8C77.1 176.1 64 214.5 64 256c0 106 86 192 192 192c41.5 0 79.9-13.1 111.2-35.5zm45.3-45.3C434.9 335.9 448 297.5 448 256c0-106-86-192-192-192c-41.5 0-79.9 13.1-111.2 35.5L412.5 367.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},eye={prefix:"fas",iconName:"right-to-bracket",icon:[512,512,["sign-in-alt"],"f2f6","M217.9 105.9L340.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L217.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1L32 320c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM352 416l64 0c17.7 0 32-14.3 32-32l0-256c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64 0c53 0 96 43 96 96l0 256c0 53-43 96-96 96l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32z"]},tye=eye,sye={prefix:"fas",iconName:"toggle-on",icon:[576,512,[],"f205","M192 64C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192s-86-192-192-192H192zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},nye={prefix:"fas",iconName:"hand-back-fist",icon:[448,512,["hand-rock"],"f255","M144 0C117.5 0 96 21.5 96 48V96v28.5V176c0 8.8-7.2 16-16 16s-16-7.2-16-16V149.3l-9 7.5C40.4 169 32 187 32 206V244c0 38 16.9 74 46.1 98.3L128 384v96c0 17.7 14.3 32 32 32H320c17.7 0 32-14.3 32-32V374.7c46.9-19 80-65 80-118.7V176 160 144c0-26.5-21.5-48-48-48c-12.4 0-23.6 4.7-32.1 12.3C350 83.5 329.3 64 304 64c-12.4 0-23.6 4.7-32.1 12.3C270 51.5 249.3 32 224 32c-12.4 0-23.6 4.7-32.1 12.3C190 19.5 169.3 0 144 0z"]},iye=nye,oye={prefix:"fas",iconName:"image",icon:[512,512,[],"f03e","M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM323.8 202.5c-4.5-6.6-11.9-10.5-19.8-10.5s-15.4 3.9-19.8 10.5l-87 127.6L170.7 297c-4.6-5.7-11.5-9-18.7-9s-14.2 3.3-18.7 9l-64 80c-5.8 7.2-6.9 17.1-2.9 25.4s12.4 13.6 21.6 13.6h96 32H424c8.9 0 17.1-4.9 21.2-12.8s3.6-17.4-1.4-24.7l-120-176zM112 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"]},aye={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 0C139 0 96 43 96 96V256c0 53 43 96 96 96s96-43 96-96V96c0-53-43-96-96-96zM64 216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 89.1 66.2 162.7 152 174.4V464H120c-13.3 0-24 10.7-24 24s10.7 24 24 24h72 72c13.3 0 24-10.7 24-24s-10.7-24-24-24H216V430.4c85.8-11.7 152-85.3 152-174.4V216c0-13.3-10.7-24-24-24s-24 10.7-24 24v40c0 70.7-57.3 128-128 128s-128-57.3-128-128V216z"]},rye={prefix:"fas",iconName:"camera-retro",icon:[512,512,[128247],"f083","M220.6 121.2L271.1 96 448 96v96H333.2c-21.9-15.1-48.5-24-77.2-24s-55.2 8.9-77.2 24H64V128H192c9.9 0 19.7-2.3 28.6-6.8zM0 128V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H271.1c-9.9 0-19.7 2.3-28.6 6.8L192 64H160V48c0-8.8-7.2-16-16-16H80c-8.8 0-16 7.2-16 16l0 16C28.7 64 0 92.7 0 128zM168 304a88 88 0 1 1 176 0 88 88 0 1 1 -176 0z"]},lye={prefix:"fas",iconName:"pause",icon:[320,512,[9208],"f04c","M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"]},cye={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM281 385c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l71-71L136 280c-13.3 0-24-10.7-24-24s10.7-24 24-24l182.1 0-71-71c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0L393 239c9.4 9.4 9.4 24.6 0 33.9L281 385z"]},uye=cye,dye={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},hye={prefix:"fas",iconName:"file-audio",icon:[384,512,[],"f1c7","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zm2 226.3c37.1 22.4 62 63.1 62 109.7s-24.9 87.3-62 109.7c-7.6 4.6-17.4 2.1-22-5.4s-2.1-17.4 5.4-22C269.4 401.5 288 370.9 288 336s-18.6-65.5-46.5-82.3c-7.6-4.6-10-14.4-5.4-22s14.4-10 22-5.4zm-91.9 30.9c6 2.5 9.9 8.3 9.9 14.8V400c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5L113.4 376H80c-8.8 0-16-7.2-16-16V312c0-8.8 7.2-16 16-16h33.4l35.3-35.3c4.6-4.6 11.5-5.9 17.4-3.5zm51 34.9c6.6-5.9 16.7-5.3 22.6 1.3C249.8 304.6 256 319.6 256 336s-6.2 31.4-16.3 42.7c-5.9 6.6-16 7.1-22.6 1.3s-7.1-16-1.3-22.6c5.1-5.7 8.1-13.1 8.1-21.3s-3.1-15.7-8.1-21.3c-5.9-6.6-5.3-16.7 1.3-22.6z"]},fye={prefix:"fas",iconName:"wrench",icon:[512,512,[128295],"f0ad","M352 320c88.4 0 160-71.6 160-160c0-15.3-2.2-30.1-6.2-44.2c-3.1-10.8-16.4-13.2-24.3-5.3l-76.8 76.8c-3 3-7.1 4.7-11.3 4.7H336c-8.8 0-16-7.2-16-16V118.6c0-4.2 1.7-8.3 4.7-11.3l76.8-76.8c7.9-7.9 5.4-21.2-5.3-24.3C382.1 2.2 367.3 0 352 0C263.6 0 192 71.6 192 160c0 19.1 3.4 37.5 9.5 54.5L19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L297.5 310.5c17 6.2 35.4 9.5 54.5 9.5zM80 408a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},mye={prefix:"fas",iconName:"file-image",icon:[384,512,[128443],"f1c5","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 256a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm152 32c5.3 0 10.2 2.6 13.2 6.9l88 128c3.4 4.9 3.7 11.3 1 16.5s-8.2 8.6-14.2 8.6H216 176 128 80c-5.8 0-11.1-3.1-13.9-8.1s-2.8-11.2 .2-16.1l48-80c2.9-4.8 8.1-7.8 13.7-7.8s10.8 2.9 13.7 7.8l12.8 21.4 48.3-70.2c3-4.3 7.9-6.9 13.2-6.9z"]},pye={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},gye=pye,vye={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},yye={prefix:"fas",iconName:"pen",icon:[512,512,[128394],"f304","M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"]},wye={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},_ye={prefix:"fas",iconName:"file-video",icon:[384,512,[],"f1c8","M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM64 288c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V288zM300.9 397.9L256 368V304l44.9-29.9c2-1.3 4.4-2.1 6.8-2.1c6.8 0 12.3 5.5 12.3 12.3V387.7c0 6.8-5.5 12.3-12.3 12.3c-2.4 0-4.8-.7-6.8-2.1z"]},bye={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},kye={prefix:"fas",iconName:"paperclip",icon:[448,512,[128206],"f0c6","M364.2 83.8c-24.4-24.4-64-24.4-88.4 0l-184 184c-42.1 42.1-42.1 110.3 0 152.4s110.3 42.1 152.4 0l152-152c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-152 152c-64 64-167.6 64-231.6 0s-64-167.6 0-231.6l184-184c46.3-46.3 121.3-46.3 167.6 0s46.3 121.3 0 167.6l-176 176c-28.6 28.6-75 28.6-103.6 0s-28.6-75 0-103.6l144-144c10.9-10.9 28.7-10.9 39.6 0s10.9 28.7 0 39.6l-144 144c-6.7 6.7-6.7 17.7 0 24.4s17.7 6.7 24.4 0l176-176c24.4-24.4 24.4-64 0-88.4z"]},Aye={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Cye=Aye,Sye={prefix:"fas",iconName:"camera",icon:[512,512,[62258,"camera-alt"],"f030","M149.1 64.8L138.7 96H64C28.7 96 0 124.7 0 160V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H373.3L362.9 64.8C356.4 45.2 338.1 32 317.4 32H194.6c-20.7 0-39 13.2-45.5 32.8zM256 192a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},Iye={prefix:"fas",iconName:"check-double",icon:[448,512,[],"f560","M342.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 178.7l-57.4-57.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l80 80c12.5 12.5 32.8 12.5 45.3 0l160-160zm96 128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 402.7 54.6 297.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l256-256z"]},Tye={prefix:"fas",iconName:"left-long",icon:[512,512,["long-arrow-alt-left"],"f30a","M177.5 414c-8.8 3.8-19 2-26-4.6l-144-136C2.7 268.9 0 262.6 0 256s2.7-12.9 7.5-17.4l144-136c7-6.6 17.2-8.4 26-4.6s14.5 12.5 14.5 22l0 72 288 0c17.7 0 32 14.3 32 32l0 64c0 17.7-14.3 32-32 32l-288 0 0 72c0 9.6-5.7 18.2-14.5 22z"]},Dye=Tye,xye={prefix:"fas",iconName:"minus",icon:[448,512,[8211,8722,10134,"subtract"],"f068","M432 256c0 17.7-14.3 32-32 32L48 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z"]},Pye={prefix:"fas",iconName:"ellipsis-vertical",icon:[128,512,["ellipsis-v"],"f142","M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"]},Mye=Pye,Eye={prefix:"fas",iconName:"face-grin",icon:[512,512,[128512,"grin"],"f580","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM388.1 312.8c12.3-3.8 24.3 6.9 19.3 18.7C382.4 390.6 324.2 432 256.3 432s-126.2-41.4-151.1-100.5c-5-11.8 7-22.5 19.3-18.7c39.7 12.2 84.5 19 131.8 19s92.1-6.8 131.8-19zM144.4 208a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm192-32a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Oye=Eye,Rye={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]},Nye=Rye,Lye={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3V352c0 17.7-14.3 32-32 32s-32-14.3-32-32V109.3l-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352H192c0 35.3 28.7 64 64 64s64-28.7 64-64H448c35.3 0 64 28.7 64 64v32c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V416c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},Fye={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"]},Uye=Fye,Bye={prefix:"fas",iconName:"bell",icon:[448,512,[128276,61602],"f0f3","M224 0c-17.7 0-32 14.3-32 32V51.2C119 66 64 130.6 64 208v18.8c0 47-17.3 92.4-48.5 127.6l-7.4 8.3c-8.4 9.4-10.4 22.9-5.3 34.4S19.4 416 32 416H416c12.6 0 24-7.4 29.2-18.9s3.1-25-5.3-34.4l-7.4-8.3C401.3 319.2 384 273.9 384 226.8V208c0-77.4-55-142-128-156.8V32c0-17.7-14.3-32-32-32zm45.3 493.3c12-12 18.7-28.3 18.7-45.3H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7z"]},jye={prefix:"fas",iconName:"file",icon:[384,512,[128196,128459,61462],"f15b","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"]},Vye={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},qye=Vye,Hye={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},Wye={prefix:"fas",iconName:"down-long",icon:[320,512,["long-arrow-alt-down"],"f309","M2 334.5c-3.8 8.8-2 19 4.6 26l136 144c4.5 4.8 10.8 7.5 17.4 7.5s12.9-2.7 17.4-7.5l136-144c6.6-7 8.4-17.2 4.6-26s-12.5-14.5-22-14.5l-72 0 0-288c0-17.7-14.3-32-32-32L128 0C110.3 0 96 14.3 96 32l0 288-72 0c-9.6 0-18.2 5.7-22 14.5z"]},zye=Wye,Gye={prefix:"fas",iconName:"circle-user",icon:[512,512,[62142,"user-circle"],"f2bd","M399 384.2C376.9 345.8 335.4 320 288 320H224c-47.4 0-88.9 25.8-111 64.2c35.2 39.2 86.2 63.8 143 63.8s107.8-24.7 143-63.8zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm256 16a72 72 0 1 0 0-144 72 72 0 1 0 0 144z"]},Yye=Gye,Qye={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},Kye={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Jye=Kye,Xye={prefix:"fas",iconName:"trash-arrow-up",icon:[448,512,["trash-restore"],"f829","M163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3C140.6 6.8 151.7 0 163.8 0zM32 128H416L394.8 467c-1.6 25.3-22.6 45-47.9 45H101.1c-25.3 0-46.3-19.7-47.9-45L32 128zm192 64c-6.4 0-12.5 2.5-17 7l-80 80c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V408c0 13.3 10.7 24 24 24s24-10.7 24-24V273.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-4.5-4.5-10.6-7-17-7z"]},$ye=Xye,Zye={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ewe={prefix:"fas",iconName:"music",icon:[512,512,[127925],"f001","M499.1 6.3c8.1 6 12.9 15.6 12.9 25.7v72V368c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V147L192 223.8V432c0 44.2-43 80-96 80s-96-35.8-96-80s43-80 96-80c11.2 0 22 1.6 32 4.6V200 128c0-14.1 9.3-26.6 22.8-30.7l320-96c9.7-2.9 20.2-1.1 28.3 5z"]},twe={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},swe={prefix:"fas",iconName:"paper-plane",icon:[512,512,[61913],"f1d8","M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480V396.4c0-4 1.5-7.8 4.2-10.7L331.8 202.8c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8 17.7 316.6C7.1 311.3 .3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"]},nwe={prefix:"fas",iconName:"thumbs-up",icon:[512,512,[128077,61575],"f164","M313.4 32.9c26 5.2 42.9 30.5 37.7 56.5l-2.3 11.4c-5.3 26.7-15.1 52.1-28.8 75.2H464c26.5 0 48 21.5 48 48c0 18.5-10.5 34.6-25.9 42.6C497 275.4 504 288.9 504 304c0 23.4-16.8 42.9-38.9 47.1c4.4 7.3 6.9 15.8 6.9 24.9c0 21.3-13.9 39.4-33.1 45.6c.7 3.3 1.1 6.8 1.1 10.4c0 26.5-21.5 48-48 48H294.5c-19 0-37.5-5.6-53.3-16.1l-38.5-25.7C176 420.4 160 390.4 160 358.3V320 272 247.1c0-29.2 13.3-56.7 36-75l7.4-5.9c26.5-21.2 44.6-51 51.2-84.2l2.3-11.4c5.2-26 30.5-42.9 56.5-37.7zM32 192H96c17.7 0 32 14.3 32 32V448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V224c0-17.7 14.3-32 32-32z"]},iwe={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"]};function M1(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,o)}return s}function Fr(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(s),!0).forEach(function(o){oo(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):M1(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function owe(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var o=s.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function awe(e){var t=owe(e,"string");return typeof t=="symbol"?t:t+""}function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}function oo(e,t,s){return t=awe(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function rwe(e,t){if(e==null)return{};var s={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;s[o]=e[o]}return s}function lwe(e,t){if(e==null)return{};var s=rwe(e,t),o,i;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}var cwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DC={exports:{}};(function(e){(function(t){var s=function(R,j,W){if(!v(j)||A(j)||D(j)||E(j)||m(j))return j;var Q,le=0,me=0;if(g(j))for(Q=[],me=j.length;le<me;le++)Q.push(s(R,j[le],W));else{Q={};for(var k in j)Object.prototype.hasOwnProperty.call(j,k)&&(Q[R(k,W)]=s(R,j[k],W))}return Q},o=function(R,j){j=j||{};var W=j.separator||"_",Q=j.split||/(?=[A-Z])/;return R.split(Q).join(W)},i=function(R){return T(R)?R:(R=R.replace(/[\-_\s]+(.)?/g,function(j,W){return W?W.toUpperCase():""}),R.substr(0,1).toLowerCase()+R.substr(1))},n=function(R){var j=i(R);return j.substr(0,1).toUpperCase()+j.substr(1)},r=function(R,j){return o(R,j).toLowerCase()},f=Object.prototype.toString,m=function(R){return typeof R=="function"},v=function(R){return R===Object(R)},g=function(R){return f.call(R)=="[object Array]"},A=function(R){return f.call(R)=="[object Date]"},D=function(R){return f.call(R)=="[object RegExp]"},E=function(R){return f.call(R)=="[object Boolean]"},T=function(R){return R=R-0,R===R},N=function(R,j){var W=j&&"process"in j?j.process:j;return typeof W!="function"?R:function(Q,le){return W(Q,R,le)}},F={camelize:i,decamelize:r,pascalize:n,depascalize:r,camelizeKeys:function(R,j){return s(N(i,j),R)},decamelizeKeys:function(R,j){return s(N(r,j),R,j)},pascalizeKeys:function(R,j){return s(N(n,j),R)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=F:t.humps=F})(cwe)})(DC);var uwe=DC.exports,dwe=["class","style"];function hwe(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,s){var o=s.indexOf(":"),i=uwe.camelize(s.slice(0,o)),n=s.slice(o+1).trim();return t[i]=n,t},{})}function fwe(e){return e.split(/\s+/).reduce(function(t,s){return t[s]=!0,t},{})}function xC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var o=(e.children||[]).map(function(m){return xC(m)}),i=Object.keys(e.attributes||{}).reduce(function(m,v){var g=e.attributes[v];switch(v){case"class":m.class=fwe(g);break;case"style":m.style=hwe(g);break;default:m.attrs[v]=g}return m},{attrs:{},class:{},style:{}});s.class;var n=s.style,r=n===void 0?{}:n,f=lwe(s,dwe);return kd(e.tag,Fr(Fr(Fr({},t),{},{class:i.class,style:Fr(Fr({},i.style),r)},i.attrs),f),o)}var PC=!1;try{PC=!0}catch{}function mwe(){if(!PC&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Bp(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?oo({},e,t):{}}function pwe(e){var t,s=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},oo(oo(oo(oo(oo(oo(oo(oo(oo(oo(t,"fa-".concat(e.size),e.size!==null),"fa-rotate-".concat(e.rotation),e.rotation!==null),"fa-pull-".concat(e.pull),e.pull!==null),"fa-swap-opacity",e.swapOpacity),"fa-bounce",e.bounce),"fa-shake",e.shake),"fa-beat",e.beat),"fa-fade",e.fade),"fa-beat-fade",e.beatFade),"fa-flash",e.flash),oo(oo(t,"fa-spin-pulse",e.spinPulse),"fa-spin-reverse",e.spinReverse));return Object.keys(s).map(function(o){return s[o]?o:null}).filter(function(o){return o})}function E1(e){if(e&&df(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Tg.icon)return Tg.icon(e);if(e===null)return null;if(df(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var gwe=_d({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,s){var o=s.attrs,i=Wt(function(){return E1(t.icon)}),n=Wt(function(){return Bp("classes",pwe(t))}),r=Wt(function(){return Bp("transform",typeof t.transform=="string"?Tg.transform(t.transform):t.transform)}),f=Wt(function(){return Bp("mask",E1(t.mask))}),m=Wt(function(){return Rve(i.value,Fr(Fr(Fr(Fr({},n.value),r.value),f.value),{},{symbol:t.symbol,title:t.title,titleId:t.titleId,maskId:t.maskId}))});Us(m,function(g){if(!g)return mwe("Could not find one or more icon(s)",i.value,f.value)},{immediate:!0});var v=Wt(function(){return m.value?xC(m.value.abstract[0],{},o):null});return function(){return v.value}}}),jp=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Zc={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(e){return typeof console<"u"&&console.warn(e)},getWeek:function(e){var t=new Date(e.getTime());t.setHours(0,0,0,0),t.setDate(t.getDate()+3-(t.getDay()+6)%7);var s=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-s.getTime())/864e5-3+(s.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},pd={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(t>3&&t<21)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ro=function(e,t){return t===void 0&&(t=2),("000"+e).slice(t*-1)},ra=function(e){return e===!0?1:0};function O1(e,t){var s;return function(){var o=this,i=arguments;clearTimeout(s),s=setTimeout(function(){return e.apply(o,i)},t)}}var Vp=function(e){return e instanceof Array?e:[e]};function Ui(e,t,s){if(s===!0)return e.classList.add(t);e.classList.remove(t)}function en(e,t,s){var o=window.document.createElement(e);return t=t||"",s=s||"",o.className=t,s!==void 0&&(o.textContent=s),o}function Fh(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function MC(e,t){if(t(e))return e;if(e.parentNode)return MC(e.parentNode,t)}function Uh(e,t){var s=en("div","numInputWrapper"),o=en("input","numInput "+e),i=en("span","arrowUp"),n=en("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?o.type="number":(o.type="text",o.pattern="\\d*"),t!==void 0)for(var r in t)o.setAttribute(r,t[r]);return s.appendChild(o),s.appendChild(i),s.appendChild(n),s}function Oo(e){try{if(typeof e.composedPath=="function"){var t=e.composedPath();return t[0]}return e.target}catch{return e.target}}var qp=function(){},hf=function(e,t,s){return s.months[t?"shorthand":"longhand"][e]},vwe={D:qp,F:function(e,t,s){e.setMonth(s.months.longhand.indexOf(t))},G:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},H:function(e,t){e.setHours(parseFloat(t))},J:function(e,t){e.setDate(parseFloat(t))},K:function(e,t,s){e.setHours(e.getHours()%12+12*ra(new RegExp(s.amPM[1],"i").test(t)))},M:function(e,t,s){e.setMonth(s.months.shorthand.indexOf(t))},S:function(e,t){e.setSeconds(parseFloat(t))},U:function(e,t){return new Date(parseFloat(t)*1e3)},W:function(e,t,s){var o=parseInt(t),i=new Date(e.getFullYear(),0,2+(o-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+s.firstDayOfWeek),i},Y:function(e,t){e.setFullYear(parseFloat(t))},Z:function(e,t){return new Date(t)},d:function(e,t){e.setDate(parseFloat(t))},h:function(e,t){e.setHours((e.getHours()>=12?12:0)+parseFloat(t))},i:function(e,t){e.setMinutes(parseFloat(t))},j:function(e,t){e.setDate(parseFloat(t))},l:qp,m:function(e,t){e.setMonth(parseFloat(t)-1)},n:function(e,t){e.setMonth(parseFloat(t)-1)},s:function(e,t){e.setSeconds(parseFloat(t))},u:function(e,t){return new Date(parseFloat(t))},w:qp,y:function(e,t){e.setFullYear(2e3+parseFloat(t))}},rc={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},td={Z:function(e){return e.toISOString()},D:function(e,t,s){return t.weekdays.shorthand[td.w(e,t,s)]},F:function(e,t,s){return hf(td.n(e,t,s)-1,!1,t)},G:function(e,t,s){return ro(td.h(e,t,s))},H:function(e){return ro(e.getHours())},J:function(e,t){return t.ordinal!==void 0?e.getDate()+t.ordinal(e.getDate()):e.getDate()},K:function(e,t){return t.amPM[ra(e.getHours()>11)]},M:function(e,t){return hf(e.getMonth(),!0,t)},S:function(e){return ro(e.getSeconds())},U:function(e){return e.getTime()/1e3},W:function(e,t,s){return s.getWeek(e)},Y:function(e){return ro(e.getFullYear(),4)},d:function(e){return ro(e.getDate())},h:function(e){return e.getHours()%12?e.getHours()%12:12},i:function(e){return ro(e.getMinutes())},j:function(e){return e.getDate()},l:function(e,t){return t.weekdays.longhand[e.getDay()]},m:function(e){return ro(e.getMonth()+1)},n:function(e){return e.getMonth()+1},s:function(e){return e.getSeconds()},u:function(e){return e.getTime()},w:function(e){return e.getDay()},y:function(e){return String(e.getFullYear()).substring(2)}},EC=function(e){var t=e.config,s=t===void 0?Zc:t,o=e.l10n,i=o===void 0?pd:o,n=e.isMobile,r=n===void 0?!1:n;return function(f,m,v){var g=v||i;return s.formatDate!==void 0&&!r?s.formatDate(f,m,g):m.split("").map(function(A,D,E){return td[A]&&E[D-1]!=="\\"?td[A](f,g,s):A!=="\\"?A:""}).join("")}},Dg=function(e){var t=e.config,s=t===void 0?Zc:t,o=e.l10n,i=o===void 0?pd:o;return function(n,r,f,m){if(!(n!==0&&!n)){var v=m||i,g,A=n;if(n instanceof Date)g=new Date(n.getTime());else if(typeof n!="string"&&n.toFixed!==void 0)g=new Date(n);else if(typeof n=="string"){var D=r||(s||Zc).dateFormat,E=String(n).trim();if(E==="today")g=new Date,f=!0;else if(s&&s.parseDate)g=s.parseDate(n,D);else if(/Z$/.test(E)||/GMT$/.test(E))g=new Date(n);else{for(var T=void 0,N=[],F=0,R=0,j="";F<D.length;F++){var W=D[F],Q=W==="\\",le=D[F-1]==="\\"||Q;if(rc[W]&&!le){j+=rc[W];var me=new RegExp(j).exec(n);me&&(T=!0)&&N[W!=="Y"?"push":"unshift"]({fn:vwe[W],val:me[++R]})}else Q||(j+=".")}g=!s||!s.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),N.forEach(function(k){var Ce=k.fn,he=k.val;return g=Ce(g,he,v)||g}),g=T?g:void 0}}if(!(g instanceof Date&&!isNaN(g.getTime()))){s.errorHandler(new Error("Invalid date provided: "+A));return}return f===!0&&g.setHours(0,0,0,0),g}}};function Ro(e,t,s){return s===void 0&&(s=!0),s!==!1?new Date(e.getTime()).setHours(0,0,0,0)-new Date(t.getTime()).setHours(0,0,0,0):e.getTime()-t.getTime()}var ywe=function(e,t,s){return e>Math.min(t,s)&&e<Math.max(t,s)},Hp=function(e,t,s){return e*3600+t*60+s},wwe=function(e){var t=Math.floor(e/3600),s=(e-t*3600)/60;return[t,s,e-t*3600-s*60]},_we={DAY:864e5};function Wp(e){var t=e.defaultHour,s=e.defaultMinute,o=e.defaultSeconds;if(e.minDate!==void 0){var i=e.minDate.getHours(),n=e.minDate.getMinutes(),r=e.minDate.getSeconds();t<i&&(t=i),t===i&&s<n&&(s=n),t===i&&s===n&&o<r&&(o=e.minDate.getSeconds())}if(e.maxDate!==void 0){var f=e.maxDate.getHours(),m=e.maxDate.getMinutes();t=Math.min(t,f),t===f&&(s=Math.min(m,s)),t===f&&s===m&&(o=e.maxDate.getSeconds())}return{hours:t,minutes:s,seconds:o}}typeof Object.assign!="function"&&(Object.assign=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(!e)throw TypeError("Cannot convert undefined or null to object");for(var o=function(f){f&&Object.keys(f).forEach(function(m){return e[m]=f[m]})},i=0,n=t;i<n.length;i++){var r=n[i];o(r)}return e});var Di=function(){return Di=Object.assign||function(e){for(var t,s=1,o=arguments.length;s<o;s++){t=arguments[s];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Di.apply(this,arguments)},R1=function(){for(var e=0,t=0,s=arguments.length;t<s;t++)e+=arguments[t].length;for(var o=Array(e),i=0,t=0;t<s;t++)for(var n=arguments[t],r=0,f=n.length;r<f;r++,i++)o[i]=n[r];return o},bwe=300;function kwe(e,t){var s={config:Di(Di({},Zc),Bn.defaultConfig),l10n:pd};s.parseDate=Dg({config:s.config,l10n:s.l10n}),s._handlers=[],s.pluginElements=[],s.loadedPlugins=[],s._bind=N,s._setHoursFromDate=D,s._positionCalendar=ht,s.changeMonth=tt,s.changeYear=ce,s.clear=At,s.close=Ct,s.onMouseOver=jt,s._createElement=en,s.createDay=me,s.destroy=ls,s.isEnabled=xe,s.jumpToDate=j,s.updateValue=dn,s.open=re,s.redraw=qe,s.set=Pt,s.setDate=$e,s.toggle=nn;function o(){s.utils={getDaysInMonth:function(J,ee){return J===void 0&&(J=s.currentMonth),ee===void 0&&(ee=s.currentYear),J===1&&(ee%4===0&&ee%100!==0||ee%400===0)?29:s.l10n.daysInMonth[J]}}}function i(){s.element=s.input=e,s.isOpen=!1,Qe(),Ze(),Zs(),bs(),o(),s.isMobile||le(),R(),(s.selectedDates.length||s.config.noCalendar)&&(s.config.enableTime&&D(s.config.noCalendar?s.latestSelectedDateObj:void 0),dn(!1)),f();var J=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!s.isMobile&&J&&ht(),Is("onReady")}function n(){var J;return((J=s.calendarContainer)===null||J===void 0?void 0:J.getRootNode()).activeElement||document.activeElement}function r(J){return J.bind(s)}function f(){var J=s.config;J.weekNumbers===!1&&J.showMonths===1||J.noCalendar!==!0&&window.requestAnimationFrame(function(){if(s.calendarContainer!==void 0&&(s.calendarContainer.style.visibility="hidden",s.calendarContainer.style.display="block"),s.daysContainer!==void 0){var ee=(s.days.offsetWidth+1)*J.showMonths;s.daysContainer.style.width=ee+"px",s.calendarContainer.style.width=ee+(s.weekWrapper!==void 0?s.weekWrapper.offsetWidth:0)+"px",s.calendarContainer.style.removeProperty("visibility"),s.calendarContainer.style.removeProperty("display")}})}function m(J){if(s.selectedDates.length===0){var ee=s.config.minDate===void 0||Ro(new Date,s.config.minDate)>=0?new Date:new Date(s.config.minDate.getTime()),ke=Wp(s.config);ee.setHours(ke.hours,ke.minutes,ke.seconds,ee.getMilliseconds()),s.selectedDates=[ee],s.latestSelectedDateObj=ee}J!==void 0&&J.type!=="blur"&&qo(J);var Ue=s._input.value;A(),dn(),s._input.value!==Ue&&s._debouncedChange()}function v(J,ee){return J%12+12*ra(ee===s.l10n.amPM[1])}function g(J){switch(J%24){case 0:case 12:return 12;default:return J%12}}function A(){if(!(s.hourElement===void 0||s.minuteElement===void 0)){var J=(parseInt(s.hourElement.value.slice(-2),10)||0)%24,ee=(parseInt(s.minuteElement.value,10)||0)%60,ke=s.secondElement!==void 0?(parseInt(s.secondElement.value,10)||0)%60:0;s.amPM!==void 0&&(J=v(J,s.amPM.textContent));var Ue=s.config.minTime!==void 0||s.config.minDate&&s.minDateHasTime&&s.latestSelectedDateObj&&Ro(s.latestSelectedDateObj,s.config.minDate,!0)===0,gt=s.config.maxTime!==void 0||s.config.maxDate&&s.maxDateHasTime&&s.latestSelectedDateObj&&Ro(s.latestSelectedDateObj,s.config.maxDate,!0)===0;if(s.config.maxTime!==void 0&&s.config.minTime!==void 0&&s.config.minTime>s.config.maxTime){var bt=Hp(s.config.minTime.getHours(),s.config.minTime.getMinutes(),s.config.minTime.getSeconds()),cs=Hp(s.config.maxTime.getHours(),s.config.maxTime.getMinutes(),s.config.maxTime.getSeconds()),kt=Hp(J,ee,ke);if(kt>cs&&kt<bt){var is=wwe(bt);J=is[0],ee=is[1],ke=is[2]}}else{if(gt){var St=s.config.maxTime!==void 0?s.config.maxTime:s.config.maxDate;J=Math.min(J,St.getHours()),J===St.getHours()&&(ee=Math.min(ee,St.getMinutes())),ee===St.getMinutes()&&(ke=Math.min(ke,St.getSeconds()))}if(Ue){var Yt=s.config.minTime!==void 0?s.config.minTime:s.config.minDate;J=Math.max(J,Yt.getHours()),J===Yt.getHours()&&ee<Yt.getMinutes()&&(ee=Yt.getMinutes()),ee===Yt.getMinutes()&&(ke=Math.max(ke,Yt.getSeconds()))}}E(J,ee,ke)}}function D(J){var ee=J||s.latestSelectedDateObj;ee&&ee instanceof Date&&E(ee.getHours(),ee.getMinutes(),ee.getSeconds())}function E(J,ee,ke){s.latestSelectedDateObj!==void 0&&s.latestSelectedDateObj.setHours(J%24,ee,ke||0,0),!(!s.hourElement||!s.minuteElement||s.isMobile)&&(s.hourElement.value=ro(s.config.time_24hr?J:(12+J)%12+12*ra(J%12===0)),s.minuteElement.value=ro(ee),s.amPM!==void 0&&(s.amPM.textContent=s.l10n.amPM[ra(J>=12)]),s.secondElement!==void 0&&(s.secondElement.value=ro(ke)))}function T(J){var ee=Oo(J),ke=parseInt(ee.value)+(J.delta||0);(ke/1e3>1||J.key==="Enter"&&!/[^\d]/.test(ke.toString()))&&ce(ke)}function N(J,ee,ke,Ue){if(ee instanceof Array)return ee.forEach(function(gt){return N(J,gt,ke,Ue)});if(J instanceof Array)return J.forEach(function(gt){return N(gt,ee,ke,Ue)});J.addEventListener(ee,ke,Ue),s._handlers.push({remove:function(){return J.removeEventListener(ee,ke,Ue)}})}function F(){Is("onChange")}function R(){if(s.config.wrap&&["open","close","toggle","clear"].forEach(function(ke){Array.prototype.forEach.call(s.element.querySelectorAll("[data-"+ke+"]"),function(Ue){return N(Ue,"click",s[ke])})}),s.isMobile){sn();return}var J=O1(ne,50);if(s._debouncedChange=O1(F,bwe),s.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&N(s.daysContainer,"mouseover",function(ke){s.config.mode==="range"&&jt(Oo(ke))}),N(s._input,"keydown",Gt),s.calendarContainer!==void 0&&N(s.calendarContainer,"keydown",Gt),!s.config.inline&&!s.config.static&&N(window,"resize",J),window.ontouchstart!==void 0?N(window.document,"touchstart",qt):N(window.document,"mousedown",qt),N(window.document,"focus",qt,{capture:!0}),s.config.clickOpens===!0&&(N(s._input,"focus",s.open),N(s._input,"click",s.open)),s.daysContainer!==void 0&&(N(s.monthNav,"click",Sn),N(s.monthNav,["keyup","increment"],T),N(s.daysContainer,"click",Et)),s.timeContainer!==void 0&&s.minuteElement!==void 0&&s.hourElement!==void 0){var ee=function(ke){return Oo(ke).select()};N(s.timeContainer,["increment"],m),N(s.timeContainer,"blur",m,{capture:!0}),N(s.timeContainer,"click",W),N([s.hourElement,s.minuteElement],["focus","click"],ee),s.secondElement!==void 0&&N(s.secondElement,"focus",function(){return s.secondElement&&s.secondElement.select()}),s.amPM!==void 0&&N(s.amPM,"click",function(ke){m(ke)})}s.config.allowInput&&N(s._input,"blur",vt)}function j(J,ee){var ke=J!==void 0?s.parseDate(J):s.latestSelectedDateObj||(s.config.minDate&&s.config.minDate>s.now?s.config.minDate:s.config.maxDate&&s.config.maxDate<s.now?s.config.maxDate:s.now),Ue=s.currentYear,gt=s.currentMonth;try{ke!==void 0&&(s.currentYear=ke.getFullYear(),s.currentMonth=ke.getMonth())}catch(bt){bt.message="Invalid date supplied: "+ke,s.config.errorHandler(bt)}ee&&s.currentYear!==Ue&&(Is("onYearChange"),ut()),ee&&(s.currentYear!==Ue||s.currentMonth!==gt)&&Is("onMonthChange"),s.redraw()}function W(J){var ee=Oo(J);~ee.className.indexOf("arrow")&&Q(J,ee.classList.contains("arrowUp")?1:-1)}function Q(J,ee,ke){var Ue=J&&Oo(J),gt=ke||Ue&&Ue.parentNode&&Ue.parentNode.firstChild,bt=Hs("increment");bt.delta=ee,gt&&gt.dispatchEvent(bt)}function le(){var J=window.document.createDocumentFragment();if(s.calendarContainer=en("div","flatpickr-calendar"),s.calendarContainer.tabIndex=-1,!s.config.noCalendar){if(J.appendChild(Qt()),s.innerContainer=en("div","flatpickr-innerContainer"),s.config.weekNumbers){var ee=Xe(),ke=ee.weekWrapper,Ue=ee.weekNumbers;s.innerContainer.appendChild(ke),s.weekNumbers=Ue,s.weekWrapper=ke}s.rContainer=en("div","flatpickr-rContainer"),s.rContainer.appendChild(wt()),s.daysContainer||(s.daysContainer=en("div","flatpickr-days"),s.daysContainer.tabIndex=-1),Ve(),s.rContainer.appendChild(s.daysContainer),s.innerContainer.appendChild(s.rContainer),J.appendChild(s.innerContainer)}s.config.enableTime&&J.appendChild(Lt()),Ui(s.calendarContainer,"rangeMode",s.config.mode==="range"),Ui(s.calendarContainer,"animate",s.config.animate===!0),Ui(s.calendarContainer,"multiMonth",s.config.showMonths>1),s.calendarContainer.appendChild(J);var gt=s.config.appendTo!==void 0&&s.config.appendTo.nodeType!==void 0;if((s.config.inline||s.config.static)&&(s.calendarContainer.classList.add(s.config.inline?"inline":"static"),s.config.inline&&(!gt&&s.element.parentNode?s.element.parentNode.insertBefore(s.calendarContainer,s._input.nextSibling):s.config.appendTo!==void 0&&s.config.appendTo.appendChild(s.calendarContainer)),s.config.static)){var bt=en("div","flatpickr-wrapper");s.element.parentNode&&s.element.parentNode.insertBefore(bt,s.element),bt.appendChild(s.element),s.altInput&&bt.appendChild(s.altInput),bt.appendChild(s.calendarContainer)}!s.config.static&&!s.config.inline&&(s.config.appendTo!==void 0?s.config.appendTo:window.document.body).appendChild(s.calendarContainer)}function me(J,ee,ke,Ue){var gt=xe(ee,!0),bt=en("span",J,ee.getDate().toString());return bt.dateObj=ee,bt.$i=Ue,bt.setAttribute("aria-label",s.formatDate(ee,s.config.ariaDateFormat)),J.indexOf("hidden")===-1&&Ro(ee,s.now)===0&&(s.todayDateElem=bt,bt.classList.add("today"),bt.setAttribute("aria-current","date")),gt?(bt.tabIndex=-1,Ws(ee)&&(bt.classList.add("selected"),s.selectedDateElem=bt,s.config.mode==="range"&&(Ui(bt,"startRange",s.selectedDates[0]&&Ro(ee,s.selectedDates[0],!0)===0),Ui(bt,"endRange",s.selectedDates[1]&&Ro(ee,s.selectedDates[1],!0)===0),J==="nextMonthDay"&&bt.classList.add("inRange")))):bt.classList.add("flatpickr-disabled"),s.config.mode==="range"&&Qn(ee)&&!Ws(ee)&&bt.classList.add("inRange"),s.weekNumbers&&s.config.showMonths===1&&J!=="prevMonthDay"&&Ue%7===6&&s.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+s.config.getWeek(ee)+"</span>"),Is("onDayCreate",bt),bt}function k(J){J.focus(),s.config.mode==="range"&&jt(J)}function Ce(J){for(var ee=J>0?0:s.config.showMonths-1,ke=J>0?s.config.showMonths:-1,Ue=ee;Ue!=ke;Ue+=J)for(var gt=s.daysContainer.children[Ue],bt=J>0?0:gt.children.length-1,cs=J>0?gt.children.length:-1,kt=bt;kt!=cs;kt+=J){var is=gt.children[kt];if(is.className.indexOf("hidden")===-1&&xe(is.dateObj))return is}}function he(J,ee){for(var ke=J.className.indexOf("Month")===-1?J.dateObj.getMonth():s.currentMonth,Ue=ee>0?s.config.showMonths:-1,gt=ee>0?1:-1,bt=ke-s.currentMonth;bt!=Ue;bt+=gt)for(var cs=s.daysContainer.children[bt],kt=ke-s.currentMonth===bt?J.$i+ee:ee<0?cs.children.length-1:0,is=cs.children.length,St=kt;St>=0&&St<is&&St!=(ee>0?is:-1);St+=gt){var Yt=cs.children[St];if(Yt.className.indexOf("hidden")===-1&&xe(Yt.dateObj)&&Math.abs(J.$i-St)>=Math.abs(ee))return k(Yt)}s.changeMonth(gt),Ke(Ce(gt),0)}function Ke(J,ee){var ke=n(),Ue=it(ke||document.body),gt=J!==void 0?J:Ue?ke:s.selectedDateElem!==void 0&&it(s.selectedDateElem)?s.selectedDateElem:s.todayDateElem!==void 0&&it(s.todayDateElem)?s.todayDateElem:Ce(ee>0?1:-1);gt===void 0?s._input.focus():Ue?he(gt,ee):k(gt)}function Te(J,ee){for(var ke=(new Date(J,ee,1).getDay()-s.l10n.firstDayOfWeek+7)%7,Ue=s.utils.getDaysInMonth((ee-1+12)%12,J),gt=s.utils.getDaysInMonth(ee,J),bt=window.document.createDocumentFragment(),cs=s.config.showMonths>1,kt=cs?"prevMonthDay hidden":"prevMonthDay",is=cs?"nextMonthDay hidden":"nextMonthDay",St=Ue+1-ke,Yt=0;St<=Ue;St++,Yt++)bt.appendChild(me("flatpickr-day "+kt,new Date(J,ee-1,St),St,Yt));for(St=1;St<=gt;St++,Yt++)bt.appendChild(me("flatpickr-day",new Date(J,ee,St),St,Yt));for(var Ms=gt+1;Ms<=42-ke&&(s.config.showMonths===1||Yt%7!==0);Ms++,Yt++)bt.appendChild(me("flatpickr-day "+is,new Date(J,ee+1,Ms%gt),Ms,Yt));var Mn=en("div","dayContainer");return Mn.appendChild(bt),Mn}function Ve(){if(s.daysContainer!==void 0){Fh(s.daysContainer),s.weekNumbers&&Fh(s.weekNumbers);for(var J=document.createDocumentFragment(),ee=0;ee<s.config.showMonths;ee++){var ke=new Date(s.currentYear,s.currentMonth,1);ke.setMonth(s.currentMonth+ee),J.appendChild(Te(ke.getFullYear(),ke.getMonth()))}s.daysContainer.appendChild(J),s.days=s.daysContainer.firstChild,s.config.mode==="range"&&s.selectedDates.length===1&&jt()}}function ut(){if(!(s.config.showMonths>1||s.config.monthSelectorType!=="dropdown")){var J=function(Ue){return s.config.minDate!==void 0&&s.currentYear===s.config.minDate.getFullYear()&&Ue<s.config.minDate.getMonth()?!1:!(s.config.maxDate!==void 0&&s.currentYear===s.config.maxDate.getFullYear()&&Ue>s.config.maxDate.getMonth())};s.monthsDropdownContainer.tabIndex=-1,s.monthsDropdownContainer.innerHTML="";for(var ee=0;ee<12;ee++)if(J(ee)){var ke=en("option","flatpickr-monthDropdown-month");ke.value=new Date(s.currentYear,ee).getMonth().toString(),ke.textContent=hf(ee,s.config.shorthandCurrentMonth,s.l10n),ke.tabIndex=-1,s.currentMonth===ee&&(ke.selected=!0),s.monthsDropdownContainer.appendChild(ke)}}}function de(){var J=en("div","flatpickr-month"),ee=window.document.createDocumentFragment(),ke;s.config.showMonths>1||s.config.monthSelectorType==="static"?ke=en("span","cur-month"):(s.monthsDropdownContainer=en("select","flatpickr-monthDropdown-months"),s.monthsDropdownContainer.setAttribute("aria-label",s.l10n.monthAriaLabel),N(s.monthsDropdownContainer,"change",function(cs){var kt=Oo(cs),is=parseInt(kt.value,10);s.changeMonth(is-s.currentMonth),Is("onMonthChange")}),ut(),ke=s.monthsDropdownContainer);var Ue=Uh("cur-year",{tabindex:"-1"}),gt=Ue.getElementsByTagName("input")[0];gt.setAttribute("aria-label",s.l10n.yearAriaLabel),s.config.minDate&&gt.setAttribute("min",s.config.minDate.getFullYear().toString()),s.config.maxDate&&(gt.setAttribute("max",s.config.maxDate.getFullYear().toString()),gt.disabled=!!s.config.minDate&&s.config.minDate.getFullYear()===s.config.maxDate.getFullYear());var bt=en("div","flatpickr-current-month");return bt.appendChild(ke),bt.appendChild(Ue),ee.appendChild(bt),J.appendChild(ee),{container:J,yearElement:gt,monthElement:ke}}function We(){Fh(s.monthNav),s.monthNav.appendChild(s.prevMonthNav),s.config.showMonths&&(s.yearElements=[],s.monthElements=[]);for(var J=s.config.showMonths;J--;){var ee=de();s.yearElements.push(ee.yearElement),s.monthElements.push(ee.monthElement),s.monthNav.appendChild(ee.container)}s.monthNav.appendChild(s.nextMonthNav)}function Qt(){return s.monthNav=en("div","flatpickr-months"),s.yearElements=[],s.monthElements=[],s.prevMonthNav=en("span","flatpickr-prev-month"),s.prevMonthNav.innerHTML=s.config.prevArrow,s.nextMonthNav=en("span","flatpickr-next-month"),s.nextMonthNav.innerHTML=s.config.nextArrow,We(),Object.defineProperty(s,"_hidePrevMonthArrow",{get:function(){return s.__hidePrevMonthArrow},set:function(J){s.__hidePrevMonthArrow!==J&&(Ui(s.prevMonthNav,"flatpickr-disabled",J),s.__hidePrevMonthArrow=J)}}),Object.defineProperty(s,"_hideNextMonthArrow",{get:function(){return s.__hideNextMonthArrow},set:function(J){s.__hideNextMonthArrow!==J&&(Ui(s.nextMonthNav,"flatpickr-disabled",J),s.__hideNextMonthArrow=J)}}),s.currentYearElement=s.yearElements[0],xn(),s.monthNav}function Lt(){s.calendarContainer.classList.add("hasTime"),s.config.noCalendar&&s.calendarContainer.classList.add("noCalendar");var J=Wp(s.config);s.timeContainer=en("div","flatpickr-time"),s.timeContainer.tabIndex=-1;var ee=en("span","flatpickr-time-separator",":"),ke=Uh("flatpickr-hour",{"aria-label":s.l10n.hourAriaLabel});s.hourElement=ke.getElementsByTagName("input")[0];var Ue=Uh("flatpickr-minute",{"aria-label":s.l10n.minuteAriaLabel});if(s.minuteElement=Ue.getElementsByTagName("input")[0],s.hourElement.tabIndex=s.minuteElement.tabIndex=-1,s.hourElement.value=ro(s.latestSelectedDateObj?s.latestSelectedDateObj.getHours():s.config.time_24hr?J.hours:g(J.hours)),s.minuteElement.value=ro(s.latestSelectedDateObj?s.latestSelectedDateObj.getMinutes():J.minutes),s.hourElement.setAttribute("step",s.config.hourIncrement.toString()),s.minuteElement.setAttribute("step",s.config.minuteIncrement.toString()),s.hourElement.setAttribute("min",s.config.time_24hr?"0":"1"),s.hourElement.setAttribute("max",s.config.time_24hr?"23":"12"),s.hourElement.setAttribute("maxlength","2"),s.minuteElement.setAttribute("min","0"),s.minuteElement.setAttribute("max","59"),s.minuteElement.setAttribute("maxlength","2"),s.timeContainer.appendChild(ke),s.timeContainer.appendChild(ee),s.timeContainer.appendChild(Ue),s.config.time_24hr&&s.timeContainer.classList.add("time24hr"),s.config.enableSeconds){s.timeContainer.classList.add("hasSeconds");var gt=Uh("flatpickr-second");s.secondElement=gt.getElementsByTagName("input")[0],s.secondElement.value=ro(s.latestSelectedDateObj?s.latestSelectedDateObj.getSeconds():J.seconds),s.secondElement.setAttribute("step",s.minuteElement.getAttribute("step")),s.secondElement.setAttribute("min","0"),s.secondElement.setAttribute("max","59"),s.secondElement.setAttribute("maxlength","2"),s.timeContainer.appendChild(en("span","flatpickr-time-separator",":")),s.timeContainer.appendChild(gt)}return s.config.time_24hr||(s.amPM=en("span","flatpickr-am-pm",s.l10n.amPM[ra((s.latestSelectedDateObj?s.hourElement.value:s.config.defaultHour)>11)]),s.amPM.title=s.l10n.toggleTitle,s.amPM.tabIndex=-1,s.timeContainer.appendChild(s.amPM)),s.timeContainer}function wt(){s.weekdayContainer?Fh(s.weekdayContainer):s.weekdayContainer=en("div","flatpickr-weekdays");for(var J=s.config.showMonths;J--;){var ee=en("div","flatpickr-weekdaycontainer");s.weekdayContainer.appendChild(ee)}return Je(),s.weekdayContainer}function Je(){if(s.weekdayContainer){var J=s.l10n.firstDayOfWeek,ee=R1(s.l10n.weekdays.shorthand);J>0&&J<ee.length&&(ee=R1(ee.splice(J,ee.length),ee.splice(0,J)));for(var ke=s.config.showMonths;ke--;)s.weekdayContainer.children[ke].innerHTML=`
      <span class='flatpickr-weekday'>
        `+ee.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Xe(){s.calendarContainer.classList.add("hasWeeks");var J=en("div","flatpickr-weekwrapper");J.appendChild(en("span","flatpickr-weekday",s.l10n.weekAbbreviation));var ee=en("div","flatpickr-weeks");return J.appendChild(ee),{weekWrapper:J,weekNumbers:ee}}function tt(J,ee){ee===void 0&&(ee=!0);var ke=ee?J:J-s.currentMonth;ke<0&&s._hidePrevMonthArrow===!0||ke>0&&s._hideNextMonthArrow===!0||(s.currentMonth+=ke,(s.currentMonth<0||s.currentMonth>11)&&(s.currentYear+=s.currentMonth>11?1:-1,s.currentMonth=(s.currentMonth+12)%12,Is("onYearChange"),ut()),Ve(),Is("onMonthChange"),xn())}function At(J,ee){if(J===void 0&&(J=!0),ee===void 0&&(ee=!0),s.input.value="",s.altInput!==void 0&&(s.altInput.value=""),s.mobileInput!==void 0&&(s.mobileInput.value=""),s.selectedDates=[],s.latestSelectedDateObj=void 0,ee===!0&&(s.currentYear=s._initialDate.getFullYear(),s.currentMonth=s._initialDate.getMonth()),s.config.enableTime===!0){var ke=Wp(s.config),Ue=ke.hours,gt=ke.minutes,bt=ke.seconds;E(Ue,gt,bt)}s.redraw(),J&&Is("onChange")}function Ct(){s.isOpen=!1,s.isMobile||(s.calendarContainer!==void 0&&s.calendarContainer.classList.remove("open"),s._input!==void 0&&s._input.classList.remove("active")),Is("onClose")}function ls(){s.config!==void 0&&Is("onDestroy");for(var J=s._handlers.length;J--;)s._handlers[J].remove();if(s._handlers=[],s.mobileInput)s.mobileInput.parentNode&&s.mobileInput.parentNode.removeChild(s.mobileInput),s.mobileInput=void 0;else if(s.calendarContainer&&s.calendarContainer.parentNode)if(s.config.static&&s.calendarContainer.parentNode){var ee=s.calendarContainer.parentNode;if(ee.lastChild&&ee.removeChild(ee.lastChild),ee.parentNode){for(;ee.firstChild;)ee.parentNode.insertBefore(ee.firstChild,ee);ee.parentNode.removeChild(ee)}}else s.calendarContainer.parentNode.removeChild(s.calendarContainer);s.altInput&&(s.input.type="text",s.altInput.parentNode&&s.altInput.parentNode.removeChild(s.altInput),delete s.altInput),s.input&&(s.input.type=s.input._type,s.input.classList.remove("flatpickr-input"),s.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ke){try{delete s[ke]}catch{}})}function Ut(J){return s.calendarContainer.contains(J)}function qt(J){if(s.isOpen&&!s.config.inline){var ee=Oo(J),ke=Ut(ee),Ue=ee===s.input||ee===s.altInput||s.element.contains(ee)||J.path&&J.path.indexOf&&(~J.path.indexOf(s.input)||~J.path.indexOf(s.altInput)),gt=!Ue&&!ke&&!Ut(J.relatedTarget),bt=!s.config.ignoredFocusElements.some(function(cs){return cs.contains(ee)});gt&&bt&&(s.config.allowInput&&s.setDate(s._input.value,!1,s.config.altInput?s.config.altFormat:s.config.dateFormat),s.timeContainer!==void 0&&s.minuteElement!==void 0&&s.hourElement!==void 0&&s.input.value!==""&&s.input.value!==void 0&&m(),s.close(),s.config&&s.config.mode==="range"&&s.selectedDates.length===1&&s.clear(!1))}}function ce(J){if(!(!J||s.config.minDate&&J<s.config.minDate.getFullYear()||s.config.maxDate&&J>s.config.maxDate.getFullYear())){var ee=J,ke=s.currentYear!==ee;s.currentYear=ee||s.currentYear,s.config.maxDate&&s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth=Math.min(s.config.maxDate.getMonth(),s.currentMonth):s.config.minDate&&s.currentYear===s.config.minDate.getFullYear()&&(s.currentMonth=Math.max(s.config.minDate.getMonth(),s.currentMonth)),ke&&(s.redraw(),Is("onYearChange"),ut())}}function xe(J,ee){var ke;ee===void 0&&(ee=!0);var Ue=s.parseDate(J,void 0,ee);if(s.config.minDate&&Ue&&Ro(Ue,s.config.minDate,ee!==void 0?ee:!s.minDateHasTime)<0||s.config.maxDate&&Ue&&Ro(Ue,s.config.maxDate,ee!==void 0?ee:!s.maxDateHasTime)>0)return!1;if(!s.config.enable&&s.config.disable.length===0)return!0;if(Ue===void 0)return!1;for(var gt=!!s.config.enable,bt=(ke=s.config.enable)!==null&&ke!==void 0?ke:s.config.disable,cs=0,kt=void 0;cs<bt.length;cs++){if(kt=bt[cs],typeof kt=="function"&&kt(Ue))return gt;if(kt instanceof Date&&Ue!==void 0&&kt.getTime()===Ue.getTime())return gt;if(typeof kt=="string"){var is=s.parseDate(kt,void 0,!0);return is&&is.getTime()===Ue.getTime()?gt:!gt}else if(typeof kt=="object"&&Ue!==void 0&&kt.from&&kt.to&&Ue.getTime()>=kt.from.getTime()&&Ue.getTime()<=kt.to.getTime())return gt}return!gt}function it(J){return s.daysContainer!==void 0?J.className.indexOf("hidden")===-1&&J.className.indexOf("flatpickr-disabled")===-1&&s.daysContainer.contains(J):!1}function vt(J){var ee=J.target===s._input,ke=s._input.value.trimEnd()!==Pn();ee&&ke&&!(J.relatedTarget&&Ut(J.relatedTarget))&&s.setDate(s._input.value,!0,J.target===s.altInput?s.config.altFormat:s.config.dateFormat)}function Gt(J){var ee=Oo(J),ke=s.config.wrap?e.contains(ee):ee===s._input,Ue=s.config.allowInput,gt=s.isOpen&&(!Ue||!ke),bt=s.config.inline&&ke&&!Ue;if(J.keyCode===13&&ke){if(Ue)return s.setDate(s._input.value,!0,ee===s.altInput?s.config.altFormat:s.config.dateFormat),s.close(),ee.blur();s.open()}else if(Ut(ee)||gt||bt){var cs=!!s.timeContainer&&s.timeContainer.contains(ee);switch(J.keyCode){case 13:cs?(J.preventDefault(),m(),mt()):Et(J);break;case 27:J.preventDefault(),mt();break;case 8:case 46:ke&&!s.config.allowInput&&(J.preventDefault(),s.clear());break;case 37:case 39:if(!cs&&!ke){J.preventDefault();var kt=n();if(s.daysContainer!==void 0&&(Ue===!1||kt&&it(kt))){var is=J.keyCode===39?1:-1;J.ctrlKey?(J.stopPropagation(),tt(is),Ke(Ce(1),0)):Ke(void 0,is)}}else s.hourElement&&s.hourElement.focus();break;case 38:case 40:J.preventDefault();var St=J.keyCode===40?1:-1;s.daysContainer&&ee.$i!==void 0||ee===s.input||ee===s.altInput?J.ctrlKey?(J.stopPropagation(),ce(s.currentYear-St),Ke(Ce(1),0)):cs||Ke(void 0,St*7):ee===s.currentYearElement?ce(s.currentYear-St):s.config.enableTime&&(!cs&&s.hourElement&&s.hourElement.focus(),m(J),s._debouncedChange());break;case 9:if(cs){var Yt=[s.hourElement,s.minuteElement,s.secondElement,s.amPM].concat(s.pluginElements).filter(function(_n){return _n}),Ms=Yt.indexOf(ee);if(Ms!==-1){var Mn=Yt[Ms+(J.shiftKey?-1:1)];J.preventDefault(),(Mn||s._input).focus()}}else!s.config.noCalendar&&s.daysContainer&&s.daysContainer.contains(ee)&&J.shiftKey&&(J.preventDefault(),s._input.focus());break}}if(s.amPM!==void 0&&ee===s.amPM)switch(J.key){case s.l10n.amPM[0].charAt(0):case s.l10n.amPM[0].charAt(0).toLowerCase():s.amPM.textContent=s.l10n.amPM[0],A(),dn();break;case s.l10n.amPM[1].charAt(0):case s.l10n.amPM[1].charAt(0).toLowerCase():s.amPM.textContent=s.l10n.amPM[1],A(),dn();break}(ke||Ut(ee))&&Is("onKeyDown",J)}function jt(J,ee){if(ee===void 0&&(ee="flatpickr-day"),!(s.selectedDates.length!==1||J&&(!J.classList.contains(ee)||J.classList.contains("flatpickr-disabled")))){for(var ke=J?J.dateObj.getTime():s.days.firstElementChild.dateObj.getTime(),Ue=s.parseDate(s.selectedDates[0],void 0,!0).getTime(),gt=Math.min(ke,s.selectedDates[0].getTime()),bt=Math.max(ke,s.selectedDates[0].getTime()),cs=!1,kt=0,is=0,St=gt;St<bt;St+=_we.DAY)xe(new Date(St),!0)||(cs=cs||St>gt&&St<bt,St<Ue&&(!kt||St>kt)?kt=St:St>Ue&&(!is||St<is)&&(is=St));var Yt=Array.from(s.rContainer.querySelectorAll("*:nth-child(-n+"+s.config.showMonths+") > ."+ee));Yt.forEach(function(Ms){var Mn=Ms.dateObj,_n=Mn.getTime(),ai=kt>0&&_n<kt||is>0&&_n>is;if(ai){Ms.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ri){Ms.classList.remove(ri)});return}else if(cs&&!ai)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ri){Ms.classList.remove(ri)}),J!==void 0&&(J.classList.add(ke<=s.selectedDates[0].getTime()?"startRange":"endRange"),Ue<ke&&_n===Ue?Ms.classList.add("startRange"):Ue>ke&&_n===Ue&&Ms.classList.add("endRange"),_n>=kt&&(is===0||_n<=is)&&ywe(_n,Ue,ke)&&Ms.classList.add("inRange"))})}}function ne(){s.isOpen&&!s.config.static&&!s.config.inline&&ht()}function re(J,ee){if(ee===void 0&&(ee=s._positionElement),s.isMobile===!0){if(J){J.preventDefault();var ke=Oo(J);ke&&ke.blur()}s.mobileInput!==void 0&&(s.mobileInput.focus(),s.mobileInput.click()),Is("onOpen");return}else if(s._input.disabled||s.config.inline)return;var Ue=s.isOpen;s.isOpen=!0,Ue||(s.calendarContainer.classList.add("open"),s._input.classList.add("active"),Is("onOpen"),ht(ee)),s.config.enableTime===!0&&s.config.noCalendar===!0&&s.config.allowInput===!1&&(J===void 0||!s.timeContainer.contains(J.relatedTarget))&&setTimeout(function(){return s.hourElement.select()},50)}function Pe(J){return function(ee){var ke=s.config["_"+J+"Date"]=s.parseDate(ee,s.config.dateFormat),Ue=s.config["_"+(J==="min"?"max":"min")+"Date"];ke!==void 0&&(s[J==="min"?"minDateHasTime":"maxDateHasTime"]=ke.getHours()>0||ke.getMinutes()>0||ke.getSeconds()>0),s.selectedDates&&(s.selectedDates=s.selectedDates.filter(function(gt){return xe(gt)}),!s.selectedDates.length&&J==="min"&&D(ke),dn()),s.daysContainer&&(qe(),ke!==void 0?s.currentYearElement[J]=ke.getFullYear().toString():s.currentYearElement.removeAttribute(J),s.currentYearElement.disabled=!!Ue&&ke!==void 0&&Ue.getFullYear()===ke.getFullYear())}}function Qe(){var J=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],ee=Di(Di({},JSON.parse(JSON.stringify(e.dataset||{}))),t),ke={};s.config.parseDate=ee.parseDate,s.config.formatDate=ee.formatDate,Object.defineProperty(s.config,"enable",{get:function(){return s.config._enable},set:function(Yt){s.config._enable=_t(Yt)}}),Object.defineProperty(s.config,"disable",{get:function(){return s.config._disable},set:function(Yt){s.config._disable=_t(Yt)}});var Ue=ee.mode==="time";if(!ee.dateFormat&&(ee.enableTime||Ue)){var gt=Bn.defaultConfig.dateFormat||Zc.dateFormat;ke.dateFormat=ee.noCalendar||Ue?"H:i"+(ee.enableSeconds?":S":""):gt+" H:i"+(ee.enableSeconds?":S":"")}if(ee.altInput&&(ee.enableTime||Ue)&&!ee.altFormat){var bt=Bn.defaultConfig.altFormat||Zc.altFormat;ke.altFormat=ee.noCalendar||Ue?"h:i"+(ee.enableSeconds?":S K":" K"):bt+(" h:i"+(ee.enableSeconds?":S":"")+" K")}Object.defineProperty(s.config,"minDate",{get:function(){return s.config._minDate},set:Pe("min")}),Object.defineProperty(s.config,"maxDate",{get:function(){return s.config._maxDate},set:Pe("max")});var cs=function(Yt){return function(Ms){s.config[Yt==="min"?"_minTime":"_maxTime"]=s.parseDate(Ms,"H:i:S")}};Object.defineProperty(s.config,"minTime",{get:function(){return s.config._minTime},set:cs("min")}),Object.defineProperty(s.config,"maxTime",{get:function(){return s.config._maxTime},set:cs("max")}),ee.mode==="time"&&(s.config.noCalendar=!0,s.config.enableTime=!0),Object.assign(s.config,ke,ee);for(var kt=0;kt<J.length;kt++)s.config[J[kt]]=s.config[J[kt]]===!0||s.config[J[kt]]==="true";jp.filter(function(Yt){return s.config[Yt]!==void 0}).forEach(function(Yt){s.config[Yt]=Vp(s.config[Yt]||[]).map(r)}),s.isMobile=!s.config.disableMobile&&!s.config.inline&&s.config.mode==="single"&&!s.config.disable.length&&!s.config.enable&&!s.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var kt=0;kt<s.config.plugins.length;kt++){var is=s.config.plugins[kt](s)||{};for(var St in is)jp.indexOf(St)>-1?s.config[St]=Vp(is[St]).map(r).concat(s.config[St]):typeof ee[St]>"u"&&(s.config[St]=is[St])}ee.altInputClass||(s.config.altInputClass=Be().className+" "+s.config.altInputClass),Is("onParseConfig")}function Be(){return s.config.wrap?e.querySelector("[data-input]"):e}function Ze(){typeof s.config.locale!="object"&&typeof Bn.l10ns[s.config.locale]>"u"&&s.config.errorHandler(new Error("flatpickr: invalid locale "+s.config.locale)),s.l10n=Di(Di({},Bn.l10ns.default),typeof s.config.locale=="object"?s.config.locale:s.config.locale!=="default"?Bn.l10ns[s.config.locale]:void 0),rc.D="("+s.l10n.weekdays.shorthand.join("|")+")",rc.l="("+s.l10n.weekdays.longhand.join("|")+")",rc.M="("+s.l10n.months.shorthand.join("|")+")",rc.F="("+s.l10n.months.longhand.join("|")+")",rc.K="("+s.l10n.amPM[0]+"|"+s.l10n.amPM[1]+"|"+s.l10n.amPM[0].toLowerCase()+"|"+s.l10n.amPM[1].toLowerCase()+")";var J=Di(Di({},t),JSON.parse(JSON.stringify(e.dataset||{})));J.time_24hr===void 0&&Bn.defaultConfig.time_24hr===void 0&&(s.config.time_24hr=s.l10n.time_24hr),s.formatDate=EC(s),s.parseDate=Dg({config:s.config,l10n:s.l10n})}function ht(J){if(typeof s.config.position=="function")return void s.config.position(s,J);if(s.calendarContainer!==void 0){Is("onPreCalendarPosition");var ee=J||s._positionElement,ke=Array.prototype.reduce.call(s.calendarContainer.children,function(an,Kn){return an+Kn.offsetHeight},0),Ue=s.calendarContainer.offsetWidth,gt=s.config.position.split(" "),bt=gt[0],cs=gt.length>1?gt[1]:null,kt=ee.getBoundingClientRect(),is=window.innerHeight-kt.bottom,St=bt==="above"||bt!=="below"&&is<ke&&kt.top>ke,Yt=window.pageYOffset+kt.top+(St?-ke-2:ee.offsetHeight+2);if(Ui(s.calendarContainer,"arrowTop",!St),Ui(s.calendarContainer,"arrowBottom",St),!s.config.inline){var Ms=window.pageXOffset+kt.left,Mn=!1,_n=!1;cs==="center"?(Ms-=(Ue-kt.width)/2,Mn=!0):cs==="right"&&(Ms-=Ue-kt.width,_n=!0),Ui(s.calendarContainer,"arrowLeft",!Mn&&!_n),Ui(s.calendarContainer,"arrowCenter",Mn),Ui(s.calendarContainer,"arrowRight",_n);var ai=window.document.body.offsetWidth-(window.pageXOffset+kt.right),ri=Ms+Ue>window.document.body.offsetWidth,wo=ai+Ue>window.document.body.offsetWidth;if(Ui(s.calendarContainer,"rightMost",ri),!s.config.static)if(s.calendarContainer.style.top=Yt+"px",!ri)s.calendarContainer.style.left=Ms+"px",s.calendarContainer.style.right="auto";else if(!wo)s.calendarContainer.style.left="auto",s.calendarContainer.style.right=ai+"px";else{var En=rt();if(En===void 0)return;var dt=window.document.body.offsetWidth,ys=Math.max(0,dt/2-Ue/2),ks=".flatpickr-calendar.centerMost:before",fn=".flatpickr-calendar.centerMost:after",mn=En.cssRules.length,li="{left:"+kt.left+"px;right:auto;}";Ui(s.calendarContainer,"rightMost",!1),Ui(s.calendarContainer,"centerMost",!0),En.insertRule(ks+","+fn+li,mn),s.calendarContainer.style.left=ys+"px",s.calendarContainer.style.right="auto"}}}}function rt(){for(var J=null,ee=0;ee<document.styleSheets.length;ee++){var ke=document.styleSheets[ee];if(ke.cssRules){try{ke.cssRules}catch{continue}J=ke;break}}return J??ot()}function ot(){var J=document.createElement("style");return document.head.appendChild(J),J.sheet}function qe(){s.config.noCalendar||s.isMobile||(ut(),xn(),Ve())}function mt(){s._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(s.close,0):s.close()}function Et(J){J.preventDefault(),J.stopPropagation();var ee=function(Yt){return Yt.classList&&Yt.classList.contains("flatpickr-day")&&!Yt.classList.contains("flatpickr-disabled")&&!Yt.classList.contains("notAllowed")},ke=MC(Oo(J),ee);if(ke!==void 0){var Ue=ke,gt=s.latestSelectedDateObj=new Date(Ue.dateObj.getTime()),bt=(gt.getMonth()<s.currentMonth||gt.getMonth()>s.currentMonth+s.config.showMonths-1)&&s.config.mode!=="range";if(s.selectedDateElem=Ue,s.config.mode==="single")s.selectedDates=[gt];else if(s.config.mode==="multiple"){var cs=Ws(gt);cs?s.selectedDates.splice(parseInt(cs),1):s.selectedDates.push(gt)}else s.config.mode==="range"&&(s.selectedDates.length===2&&s.clear(!1,!1),s.latestSelectedDateObj=gt,s.selectedDates.push(gt),Ro(gt,s.selectedDates[0],!0)!==0&&s.selectedDates.sort(function(Yt,Ms){return Yt.getTime()-Ms.getTime()}));if(A(),bt){var kt=s.currentYear!==gt.getFullYear();s.currentYear=gt.getFullYear(),s.currentMonth=gt.getMonth(),kt&&(Is("onYearChange"),ut()),Is("onMonthChange")}if(xn(),Ve(),dn(),!bt&&s.config.mode!=="range"&&s.config.showMonths===1?k(Ue):s.selectedDateElem!==void 0&&s.hourElement===void 0&&s.selectedDateElem&&s.selectedDateElem.focus(),s.hourElement!==void 0&&s.hourElement!==void 0&&s.hourElement.focus(),s.config.closeOnSelect){var is=s.config.mode==="single"&&!s.config.enableTime,St=s.config.mode==="range"&&s.selectedDates.length===2&&!s.config.enableTime;(is||St)&&mt()}F()}}var Ne={locale:[Ze,Je],showMonths:[We,f,wt],minDate:[j],maxDate:[j],positionElement:[qs],clickOpens:[function(){s.config.clickOpens===!0?(N(s._input,"focus",s.open),N(s._input,"click",s.open)):(s._input.removeEventListener("focus",s.open),s._input.removeEventListener("click",s.open))}]};function Pt(J,ee){if(J!==null&&typeof J=="object"){Object.assign(s.config,J);for(var ke in J)Ne[ke]!==void 0&&Ne[ke].forEach(function(Ue){return Ue()})}else s.config[J]=ee,Ne[J]!==void 0?Ne[J].forEach(function(Ue){return Ue()}):jp.indexOf(J)>-1&&(s.config[J]=Vp(ee));s.redraw(),dn(!0)}function Zt(J,ee){var ke=[];if(J instanceof Array)ke=J.map(function(Ue){return s.parseDate(Ue,ee)});else if(J instanceof Date||typeof J=="number")ke=[s.parseDate(J,ee)];else if(typeof J=="string")switch(s.config.mode){case"single":case"time":ke=[s.parseDate(J,ee)];break;case"multiple":ke=J.split(s.config.conjunction).map(function(Ue){return s.parseDate(Ue,ee)});break;case"range":ke=J.split(s.l10n.rangeSeparator).map(function(Ue){return s.parseDate(Ue,ee)});break}else s.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(J)));s.selectedDates=s.config.allowInvalidPreload?ke:ke.filter(function(Ue){return Ue instanceof Date&&xe(Ue,!1)}),s.config.mode==="range"&&s.selectedDates.sort(function(Ue,gt){return Ue.getTime()-gt.getTime()})}function $e(J,ee,ke){if(ee===void 0&&(ee=!1),ke===void 0&&(ke=s.config.dateFormat),J!==0&&!J||J instanceof Array&&J.length===0)return s.clear(ee);Zt(J,ke),s.latestSelectedDateObj=s.selectedDates[s.selectedDates.length-1],s.redraw(),j(void 0,ee),D(),s.selectedDates.length===0&&s.clear(!1),dn(ee),ee&&Is("onChange")}function _t(J){return J.slice().map(function(ee){return typeof ee=="string"||typeof ee=="number"||ee instanceof Date?s.parseDate(ee,void 0,!0):ee&&typeof ee=="object"&&ee.from&&ee.to?{from:s.parseDate(ee.from,void 0),to:s.parseDate(ee.to,void 0)}:ee}).filter(function(ee){return ee})}function bs(){s.selectedDates=[],s.now=s.parseDate(s.config.now)||new Date;var J=s.config.defaultDate||((s.input.nodeName==="INPUT"||s.input.nodeName==="TEXTAREA")&&s.input.placeholder&&s.input.value===s.input.placeholder?null:s.input.value);J&&Zt(J,s.config.dateFormat),s._initialDate=s.selectedDates.length>0?s.selectedDates[0]:s.config.minDate&&s.config.minDate.getTime()>s.now.getTime()?s.config.minDate:s.config.maxDate&&s.config.maxDate.getTime()<s.now.getTime()?s.config.maxDate:s.now,s.currentYear=s._initialDate.getFullYear(),s.currentMonth=s._initialDate.getMonth(),s.selectedDates.length>0&&(s.latestSelectedDateObj=s.selectedDates[0]),s.config.minTime!==void 0&&(s.config.minTime=s.parseDate(s.config.minTime,"H:i")),s.config.maxTime!==void 0&&(s.config.maxTime=s.parseDate(s.config.maxTime,"H:i")),s.minDateHasTime=!!s.config.minDate&&(s.config.minDate.getHours()>0||s.config.minDate.getMinutes()>0||s.config.minDate.getSeconds()>0),s.maxDateHasTime=!!s.config.maxDate&&(s.config.maxDate.getHours()>0||s.config.maxDate.getMinutes()>0||s.config.maxDate.getSeconds()>0)}function Zs(){if(s.input=Be(),!s.input){s.config.errorHandler(new Error("Invalid input element specified"));return}s.input._type=s.input.type,s.input.type="text",s.input.classList.add("flatpickr-input"),s._input=s.input,s.config.altInput&&(s.altInput=en(s.input.nodeName,s.config.altInputClass),s._input=s.altInput,s.altInput.placeholder=s.input.placeholder,s.altInput.disabled=s.input.disabled,s.altInput.required=s.input.required,s.altInput.tabIndex=s.input.tabIndex,s.altInput.type="text",s.input.setAttribute("type","hidden"),!s.config.static&&s.input.parentNode&&s.input.parentNode.insertBefore(s.altInput,s.input.nextSibling)),s.config.allowInput||s._input.setAttribute("readonly","readonly"),qs()}function qs(){s._positionElement=s.config.positionElement||s._input}function sn(){var J=s.config.enableTime?s.config.noCalendar?"time":"datetime-local":"date";s.mobileInput=en("input",s.input.className+" flatpickr-mobile"),s.mobileInput.tabIndex=1,s.mobileInput.type=J,s.mobileInput.disabled=s.input.disabled,s.mobileInput.required=s.input.required,s.mobileInput.placeholder=s.input.placeholder,s.mobileFormatStr=J==="datetime-local"?"Y-m-d\\TH:i:S":J==="date"?"Y-m-d":"H:i:S",s.selectedDates.length>0&&(s.mobileInput.defaultValue=s.mobileInput.value=s.formatDate(s.selectedDates[0],s.mobileFormatStr)),s.config.minDate&&(s.mobileInput.min=s.formatDate(s.config.minDate,"Y-m-d")),s.config.maxDate&&(s.mobileInput.max=s.formatDate(s.config.maxDate,"Y-m-d")),s.input.getAttribute("step")&&(s.mobileInput.step=String(s.input.getAttribute("step"))),s.input.type="hidden",s.altInput!==void 0&&(s.altInput.type="hidden");try{s.input.parentNode&&s.input.parentNode.insertBefore(s.mobileInput,s.input.nextSibling)}catch{}N(s.mobileInput,"change",function(ee){s.setDate(Oo(ee).value,!1,s.mobileFormatStr),Is("onChange"),Is("onClose")})}function nn(J){if(s.isOpen===!0)return s.close();s.open(J)}function Is(J,ee){if(s.config!==void 0){var ke=s.config[J];if(ke!==void 0&&ke.length>0)for(var Ue=0;ke[Ue]&&Ue<ke.length;Ue++)ke[Ue](s.selectedDates,s.input.value,s,ee);J==="onChange"&&(s.input.dispatchEvent(Hs("change")),s.input.dispatchEvent(Hs("input")))}}function Hs(J){var ee=document.createEvent("Event");return ee.initEvent(J,!0,!0),ee}function Ws(J){for(var ee=0;ee<s.selectedDates.length;ee++){var ke=s.selectedDates[ee];if(ke instanceof Date&&Ro(ke,J)===0)return""+ee}return!1}function Qn(J){return s.config.mode!=="range"||s.selectedDates.length<2?!1:Ro(J,s.selectedDates[0])>=0&&Ro(J,s.selectedDates[1])<=0}function xn(){s.config.noCalendar||s.isMobile||!s.monthNav||(s.yearElements.forEach(function(J,ee){var ke=new Date(s.currentYear,s.currentMonth,1);ke.setMonth(s.currentMonth+ee),s.config.showMonths>1||s.config.monthSelectorType==="static"?s.monthElements[ee].textContent=hf(ke.getMonth(),s.config.shorthandCurrentMonth,s.l10n)+" ":s.monthsDropdownContainer.value=ke.getMonth().toString(),J.value=ke.getFullYear().toString()}),s._hidePrevMonthArrow=s.config.minDate!==void 0&&(s.currentYear===s.config.minDate.getFullYear()?s.currentMonth<=s.config.minDate.getMonth():s.currentYear<s.config.minDate.getFullYear()),s._hideNextMonthArrow=s.config.maxDate!==void 0&&(s.currentYear===s.config.maxDate.getFullYear()?s.currentMonth+1>s.config.maxDate.getMonth():s.currentYear>s.config.maxDate.getFullYear()))}function Pn(J){var ee=J||(s.config.altInput?s.config.altFormat:s.config.dateFormat);return s.selectedDates.map(function(ke){return s.formatDate(ke,ee)}).filter(function(ke,Ue,gt){return s.config.mode!=="range"||s.config.enableTime||gt.indexOf(ke)===Ue}).join(s.config.mode!=="range"?s.config.conjunction:s.l10n.rangeSeparator)}function dn(J){J===void 0&&(J=!0),s.mobileInput!==void 0&&s.mobileFormatStr&&(s.mobileInput.value=s.latestSelectedDateObj!==void 0?s.formatDate(s.latestSelectedDateObj,s.mobileFormatStr):""),s.input.value=Pn(s.config.dateFormat),s.altInput!==void 0&&(s.altInput.value=Pn(s.config.altFormat)),J!==!1&&Is("onValueUpdate")}function Sn(J){var ee=Oo(J),ke=s.prevMonthNav.contains(ee),Ue=s.nextMonthNav.contains(ee);ke||Ue?tt(ke?-1:1):s.yearElements.indexOf(ee)>=0?ee.select():ee.classList.contains("arrowUp")?s.changeYear(s.currentYear+1):ee.classList.contains("arrowDown")&&s.changeYear(s.currentYear-1)}function qo(J){J.preventDefault();var ee=J.type==="keydown",ke=Oo(J),Ue=ke;s.amPM!==void 0&&ke===s.amPM&&(s.amPM.textContent=s.l10n.amPM[ra(s.amPM.textContent===s.l10n.amPM[0])]);var gt=parseFloat(Ue.getAttribute("min")),bt=parseFloat(Ue.getAttribute("max")),cs=parseFloat(Ue.getAttribute("step")),kt=parseInt(Ue.value,10),is=J.delta||(ee?J.which===38?1:-1:0),St=kt+cs*is;if(typeof Ue.value<"u"&&Ue.value.length===2){var Yt=Ue===s.hourElement,Ms=Ue===s.minuteElement;St<gt?(St=bt+St+ra(!Yt)+(ra(Yt)&&ra(!s.amPM)),Ms&&Q(void 0,-1,s.hourElement)):St>bt&&(St=Ue===s.hourElement?St-bt-ra(!s.amPM):gt,Ms&&Q(void 0,1,s.hourElement)),s.amPM&&Yt&&(cs===1?St+kt===23:Math.abs(St-kt)>cs)&&(s.amPM.textContent=s.l10n.amPM[ra(s.amPM.textContent===s.l10n.amPM[0])]),Ue.value=ro(St)}}return i(),s}function eu(e,t){for(var s=Array.prototype.slice.call(e).filter(function(r){return r instanceof HTMLElement}),o=[],i=0;i<s.length;i++){var n=s[i];try{if(n.getAttribute("data-fp-omit")!==null)continue;n._flatpickr!==void 0&&(n._flatpickr.destroy(),n._flatpickr=void 0),n._flatpickr=kwe(n,t||{}),o.push(n._flatpickr)}catch(r){console.error(r)}}return o.length===1?o[0]:o}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(e){return eu(this,e)},HTMLElement.prototype.flatpickr=function(e){return eu([this],e)});var Bn=function(e,t){return typeof e=="string"?eu(window.document.querySelectorAll(e),t):e instanceof Node?eu([e],t):eu(e,t)};Bn.defaultConfig={};Bn.l10ns={en:Di({},pd),default:Di({},pd)};Bn.localize=function(e){Bn.l10ns.default=Di(Di({},Bn.l10ns.default),e)};Bn.setDefaults=function(e){Bn.defaultConfig=Di(Di({},Bn.defaultConfig),e)};Bn.parseDate=Dg({});Bn.formatDate=EC({});Bn.compareDates=Ro;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(e){return eu(this,e)});Date.prototype.fp_incr=function(e){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof e=="string"?parseInt(e,10):e))};typeof window<"u"&&(window.flatpickr=Bn);const OC=["onChange","onClose","onDestroy","onMonthChange","onOpen","onYearChange"],Awe=["onValueUpdate","onDayCreate","onParseConfig","onReady","onPreCalendarPosition","onKeyDown"];function N1(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function L1(e){return e instanceof Array?e:[e]}function zp(e){return e&&e.length?e:null}const F1=[...OC,...Awe],Cwe=["locale","showMonths"],Swe=_d({name:"FlatPickr",compatConfig:{MODE:3},render(){return kd("input",{type:"text","data-input":!0,disabled:this.disabled,onInput:this.onInput})},emits:["blur","update:modelValue",...F1.map(N1)],props:{modelValue:{type:[String,Number,Date,Array,null],required:!0},config:{type:Object,default:()=>({defaultDate:null,wrap:!1})},events:{type:Array,default:()=>OC},disabled:{type:Boolean,default:!1}},data(){return{fp:null}},mounted(){this.fp||(this.fp=Bn(this.getElem(),this.prepareConfig()),this.fpInput().addEventListener("blur",this.onBlur),this.$watch("disabled",this.watchDisabled,{immediate:!0}))},methods:{prepareConfig(){let e=Object.assign({},this.config);this.events.forEach(s=>{let o=Bn.defaultConfig[s]||[],i=(...n)=>{this.$emit(N1(s),...n)};e[s]=L1(e[s]||[]).concat(o,i)});const t=this.onClose.bind(this);return e.onClose=L1(e.onClose||[]).concat(t),e.defaultDate=this.modelValue||e.defaultDate,e},getElem(){return this.config.wrap?this.$el.parentNode:this.$el},onInput(e){const t=e.target;du().then(()=>{this.$emit("update:modelValue",zp(t.value))})},fpInput(){return this.fp.altInput||this.fp.input},onBlur(e){this.$emit("blur",zp(e.target.value))},onClose(e,t){this.$emit("update:modelValue",t)},watchDisabled(e){e?this.fpInput().setAttribute("disabled",""):this.fpInput().removeAttribute("disabled")}},watch:{config:{deep:!0,handler(e){if(!this.fp)return;let t=Object.assign({},e);F1.forEach(s=>{delete t[s]}),this.fp.set(t),Cwe.forEach(s=>{typeof t[s]<"u"&&this.fp.set(s,t[s])})}},modelValue(e){var t;!this.$el||e===zp(this.$el.value)||(t=this.fp)===null||t===void 0||t.setDate(e,!0)}},beforeUnmount(){this.fp&&(this.fpInput().removeEventListener("blur",this.onBlur),this.fp.destroy(),this.fp=null)}});function Iwe(e,t){const s=e.getBoundingClientRect();if(!t)return s.top>=0&&s.bottom<=window.innerHeight;const o=t.getBoundingClientRect();return s.top>=o.top&&s.bottom<=o.bottom}async function Twe(e){return await du(),e.value instanceof HTMLElement?e.value:e.value?document.querySelector(e.value):null}function U1(e){let t=`0px 0px ${e.distance}px 0px`;e.top&&(t=`${e.distance}px 0px 0px 0px`);const s=new IntersectionObserver(o=>{o[0].isIntersecting&&(e.firstload&&e.emit(),e.firstload=!0)},{root:e.parentEl,rootMargin:t});return s.observe(e.infiniteLoading.value),s}const RC=(e,t)=>{const s=e.__vccOpts||e;for(const[o,i]of t)s[o]=i;return s},Dwe={},xwe=e=>(gs("data-v-d3e37633"),e=e(),vs(),e),Pwe={class:"container"},Mwe=xwe(()=>h("div",{class:"spinner"},null,-1)),Ewe=[Mwe];function Owe(e,t){return a(),d("div",Pwe,Ewe)}const Rwe=RC(Dwe,[["render",Owe],["__scopeId","data-v-d3e37633"]]),Nwe={class:"state-error"},Lwe=_d({__name:"InfiniteLoading",props:{top:{type:Boolean,default:!1},target:{},distance:{default:0},identifier:{},firstload:{type:Boolean,default:!0},slots:{}},emits:["infinite"],setup(e,{emit:t}){const s=e;let o=null,i=0;const n=at(null),r=at(""),{top:f,firstload:m,distance:v}=s,{identifier:g,target:A}=Ux(s),D={infiniteLoading:n,top:f,firstload:m,distance:v,parentEl:null,emit(){i=(D.parentEl||document.documentElement).scrollHeight,E.loading(),t("infinite",E)}},E={loading(){r.value="loading"},async loaded(){r.value="loaded";const T=D.parentEl||document.documentElement;await du(),f&&(T.scrollTop=T.scrollHeight-i),Iwe(n.value,D.parentEl)&&D.emit()},complete(){r.value="complete",o==null||o.disconnect()},error(){r.value="error"}};return Us(g,()=>{o==null||o.disconnect(),o=U1(D)}),Ol(async()=>{D.parentEl=await Twe(A),o=U1(D)}),Df(()=>{o==null||o.disconnect()}),(T,N)=>(a(),d("div",{ref_key:"infiniteLoading",ref:n,style:{"min-height":"1px"}},[cn(h("div",null,[Jt(T.$slots,"spinner",{},()=>[b(Rwe)],!0)],512),[[Fa,r.value=="loading"]]),r.value=="complete"?Jt(T.$slots,"complete",{key:0},()=>{var F;return[h("span",null,V(((F=T.slots)==null?void 0:F.complete)||"No more results!"),1)]},!0):c("",!0),r.value=="error"?Jt(T.$slots,"error",{key:1,retry:D.emit},()=>{var F;return[h("span",Nwe,[h("span",null,V(((F=T.slots)==null?void 0:F.error)||"Oops something went wrong!"),1),h("button",{class:"retry",onClick:N[0]||(N[0]=(...R)=>D.emit&&D.emit(...R))},"retry")])]},!0):c("",!0)],512))}}),Fwe=RC(Lwe,[["__scopeId","data-v-a7077831"]]),Uwe={class:"reason"},Bwe={key:1,class:"like"},jwe=["title"],Vwe={class:"others"},qwe=["title"],Hwe={key:2,class:"profiles left-1/2 -ml-1/4 absolute"},Wwe={class:"mx-1"},zwe={key:0,class:"add-comment"},Gwe={__name:"ReactionComponent",props:{item:{type:Object,default(){return null}},flagData:{type:Object,default(){return null}},likeData:{type:Object,default(){return null}},profiles:{type:Array,default(){return[]}},comments:{type:Array,default(){return[]}},full:{type:Boolean,default:!1},showProfiles:{type:Boolean,default:!1},showOnlyProfiles:{type:Boolean,default:!1},classes:{type:String,default:""},showProfilesText:{type:String,default:""},editComment:{type:Boolean,default:!1},showAddComment:{type:Boolean,default:!1},showFlagReason:{type:Boolean,default:!1},isOwner:{type:Boolean,default:!1},schoolAdmin:{type:Object,default(){return null}},editableComment:{type:Object,default(){return null}},commentingAccount:{type:Object,default(){return null}},commentCountData:{type:Object,default(){return null}}},emits:["clickedShowPostComments","clickedShowPostComments","clickedMedia","askLoginRegister","postModalCommentCreated","postAddComplete","hideAddComment","clickedProfile","clickedAddComment","clickedLike","cancelFlagProcess","reasonGiven","continueFlagProcess","clickedFlag","postModalCommentEdited"],setup(e,{emit:t}){const s=_i(),o=t,i=e,n=Wt(()=>{var me;return(me=i.likeData)!=null&&me.likes?i.likeData.likes===1?`${i.likeData.likes} like`:`${this.likeData.likes} likes`:"0 likes"}),r=Wt(()=>s.getters.isAdult);function f(){o("clickedShowPostComments",i.editableComment)}function m(me){o("clickedShowPostComments",me)}function v(me){o("clickedMedia",me)}function g(me){o("askLoginRegister",me)}function A(me){o("postModalCommentCreated",me)}function D(me){o("postAddComplete",me)}function E(me){o("hideAddComment",me)}function T(me){o("clickedProfile",me)}function N(me){o("clickedAddComment",me)}function F(me){o("clickedLike",me)}function R(me){o("cancelFlagProcess",me)}function j(me){o("reasonGiven",me)}function W(me){o("continueFlagProcess",me)}function Q(me){o("clickedFlag",me)}function le(me){o("postModalCommentEdited",me)}return(me,k)=>{const Ce=_("font-awesome-icon"),he=_("comment-single");return a(),d("div",{class:we(["reaction-component w-full z-10",[e.classes]])},[h("div",{class:"reaction",onDblclick:Vt(f,["self"])},[e.showOnlyProfiles?c("",!0):(a(),d(Z,{key:0},[e.isOwner?c("",!0):(a(),S(xs,{key:0,class:we({"z-40":r.value}),titleText:e.flagData.flagTitle,onClick:Q,postButtonClass:e.flagData.flagRed},{icon:z(()=>[b(Ce,{icon:["fa","flag"]})]),_:1},8,["class","titleText","postButtonClass"])),h("div",Uwe,[b(Jf,{show:e.showFlagReason,hasBackground:!0,onContinueFlagProcess:W,onReasonGiven:j,onCancelFlagProcess:R},null,8,["show"])])],64)),e.showOnlyProfiles?c("",!0):(a(),d("div",Bwe,[b(Pv,null,{default:z(()=>[Mt(V(n.value),1)]),_:1}),e.commentCountData?(a(),d("div",{key:0,class:"comment-number",onClick:f,title:e.commentCountData.title},[Mt(V(`${e.commentCountData.count}`)+" ",1),b(Ce,{icon:["fa","comment-alt"]})],8,jwe)):c("",!0),h("div",Vwe,[h("div",{class:we(["like-post",{liked:e.likeData.isLiked}]),onClick:F,title:e.likeData.likeTitle},[b(Ce,{icon:["fa","thumbs-up"]})],10,qwe),e.showAddComment?c("",!0):(a(),d("div",{key:0,class:"comment",title:"add a comment",onClick:N},[b(Ce,{icon:["fa","comment"]})]))])])),e.showProfiles?(a(),d("div",Hwe,[h("span",Wwe,V(e.showProfilesText),1),(a(!0),d(Z,null,pe(e.profiles,(Ke,Te)=>(a(),d("div",{key:Te},[b(oi,{smallType:!0,profile:Ke,navigate:!1,onClickedProfile:T},null,8,["profile"])]))),128))])):c("",!0)],32),e.showOnlyProfiles?c("",!0):(a(),d("div",zwe,[b(Od,{what:e.item,onPostModal:e.full,showAddComment:e.showAddComment,schoolAdmin:e.schoolAdmin,editableData:e.editableComment,account:e.commentingAccount,edit:e.editComment,onHideAddComment:E,onPostAddComplete:D,onPostModalCommentCreated:A,onPostModalCommentEdited:le},null,8,["what","onPostModal","showAddComment","schoolAdmin","editableData","account","edit"])])),e.showOnlyProfiles?c("",!0):(a(),d("div",{key:1,class:"comment-section",onDblclick:Vt(m,["self"])},[!e.full&&e.comments?(a(!0),d(Z,{key:0},pe(e.comments,Ke=>(a(),S(he,{key:Ke.id,comment:Ke,simple:!0,onAskLoginRegister:g,onClickedMedia:v,onClickedShowPostComments:m},null,8,["comment"]))),128)):c("",!0)],32))],2)}}},Ywe=Ae(Gwe,[["__scopeId","data-v-3e84b206"]]),Qwe={props:{data:{type:Object,default(){return{}}},actionButtonText:{type:String,default:""}},components:{ActionButton:mr,ProfilePicture:Ys},data(){return{actionLoading:!1}},computed:{...os(["getUser"]),computedItemType(){return this.data.hasOwnProperty("addedby_type")?"post":this.data.hasOwnProperty("answeredby_type")?"answer":this.data.hasOwnProperty("commentedby_type")?"comment":""},computedAccountType(){return this.data.hasOwnProperty("addedby_type")?ns.getAccount(this.data.addedby_type):this.data.hasOwnProperty("answeredby_type")?ns.getAccount(this.data.answeredby_type):this.data.hasOwnProperty("commentedby_type")?ns.getAccount(this.data.commentedby_type):""}},methods:{shortenText(e){return ns.trim(e,200)},message(e){return e.poem?this.shortenText(e.poem):e.body?this.shortenText(e.body):e.comment?this.shortenText(e.comment):e.content?this.shortenText(e.content):e.answer?this.shortenText(e.answer):""},clickedAction(){this.actionLoading=!0;let e={item:this.computedItemType,itemId:this.data.id};this.data.flags?e.flag=this.data.flags.filter(t=>t.user_id===this.getUser.id)[0]:this.data.saves&&(e.save=this.data.saves.filter(t=>t.user_id===this.getUser.id)[0]),this.$emit("clickedAction",e)}}},Kwe={key:0,class:"item-show-wrapper"},Jwe={class:"top"},Xwe={class:"name"},$we={class:"account-type"},Zwe={class:"lower"},e_e={class:"profile-picture"},t_e={slot:"image"},s_e=["src"],n_e={class:"text"},i_e={key:0,class:"bottom"},o_e={class:"item-type"};function a_e(e,t,s,o,i,n){const r=_("profile-picture"),f=_("action-button");return s.data.name?(a(),d("div",Kwe,[h("div",Jwe,[h("div",Xwe,V(s.data.name),1),h("div",$we,V(n.computedAccountType),1)]),h("div",Zwe,[h("div",e_e,[b(r,null,{default:z(()=>[h("template",t_e,[h("img",{src:s.data.url},null,8,s_e)])]),_:1})]),h("div",n_e,V(n.message(s.data)),1)]),s.actionButtonText.length?(a(),d("div",i_e,[h("div",o_e,V(n.computedItemType),1),b(f,{onClick:n.clickedAction,text:s.actionButtonText,loading:i.actionLoading,background:!0,class:"action-button"},null,8,["onClick","text","loading"])])):c("",!0)])):c("",!0)}const NC=Ae(Qwe,[["render",a_e],["__scopeId","data-v-b1cb93bb"]]),r_e={props:{show:{type:Boolean,default:!1}},components:{SlideRightGroup:Lv,AccountBadge:vu,ItemShow:NC},data(){return{flags:[],flagsNextPage:1,flagsType:"all",addonLoading:!1,flagsLoading:!1,showMore:!1,showNoMore:!1,showNoFlags:!1}},watch:{show:{immediate:!0,handler(e){e&&!this.flags.length&&(this.showNoFlags=!1,this.addonLoading=!0,this.flagsLoading=!0,this.getFlagged())}},flagsType(e){this.flagsNextPage=1,this.addonLoading=!0,this.showMore=!1,this.getFlagged()}},computed:{computedNoflags(){return this.showNoFlags&&!this.flagsLoading&&this.flagsNextPage<2&&!this.flags.length}},methods:{...ss(["getUserFlagged","profile/deleteFlag"]),async clickedUnflag(e){console.log("main :>> ",e),console.log("flags :>> ",this.flags);let t=null,s={flagId:e.flag.id};if(t=await this["profile/deleteFlag"](s),t.status){let o=this.flags.findIndex(i=>{if(e.item==="comment"&&i.hasOwnProperty("commentedby_type"))return i.id===e.itemId;if(e.item==="post"&&i.hasOwnProperty("addedby_type"))return i.id===e.itemId;if(e.item==="answer"&&i.hasOwnProperty("answeredby_type"))return i.id===e.itemId;if(i.hasOwnProperty("account"))return i.accountId===e.itemId&&i.account===e.item});o>-1&&this.flags.splice(o,1)}},getMoreFlagged(){this.showMore&&(this.flagsLoading=!0,this.showMore=!1,this.getFlagged())},async getFlagged(){if(!this.flagsNextPage)return;let e=null,t={nextPage:this.flagsNextPage,type:this.flagsType};e=await this.getUserFlagged(t),console.log(e),e!=="unsuccessful"&&(this.flags=this.flagsNextPage<2?e.data:this.flags.push(...respnse.data),e.next?(this.flagsNextPage+=1,this.showMore=!0):(this.flagsNextPage=null,this.showNoMore=!0)),this.flagsLoading=!1,this.addonLoading=!1,this.showNoFlags=!0},clickedClose(){this.$emit("clickedClose","flags")}}},l_e={slot:"data"},c_e={class:"top-section"},u_e={class:"flags-section"},d_e={key:0,class:"no-flags"},h_e={slot:"transition"},f_e={key:1,class:"loading"},m_e={key:2,class:"show-more"},p_e={key:3,class:"no-more"};function g_e(e,t,s,o,i,n){const r=_("account-badge"),f=_("item-show"),m=_("slide-right-group"),v=_("pulse-loader"),g=_("font-awesome-icon"),A=_("addon-modal");return a(),S(A,{show:s.show,loading:i.addonLoading,onClickedClose:n.clickedClose,title:"Get access to all your flagged accounts, posts, comments and answers. Note: You can unflag them as well"},{default:z(()=>[h("template",l_e,[h("div",c_e,[h("div",{class:we(["top-section-item",{itemActive:i.flagsType==="all"}]),onClick:t[0]||(t[0]=D=>i.flagsType="all")},"all",2),h("div",{class:we(["top-section-item",{itemActive:i.flagsType==="accounts"}]),onClick:t[1]||(t[1]=D=>i.flagsType="accounts")},"accounts",2),h("div",{class:we(["top-section-item",{itemActive:i.flagsType==="posts"}]),onClick:t[2]||(t[2]=D=>i.flagsType="posts")},"posts",2),h("div",{class:we(["top-section-item",{itemActive:i.flagsType==="comments"}]),onClick:t[3]||(t[3]=D=>i.flagsType="comments")},"comments",2),h("div",{class:we(["top-section-item",{itemActive:i.flagsType==="answers"}]),onClick:t[4]||(t[4]=D=>i.flagsType="answers")},"answers",2)]),h("div",u_e,[n.computedNoflags?(a(),d("div",d_e," you have no flags ")):c("",!0),b(m,null,{default:z(()=>[h("template",h_e,[(a(!0),d(Z,null,pe(i.flags,(D,E)=>(a(),d("div",{key:E},[D.hasOwnProperty("account")?(a(),S(r,{key:0,account:D,flag:!0,action:!0,onClickedAction:n.clickedUnflag},null,8,["account","onClickedAction"])):(a(),S(f,{key:1,data:D,actionButtonText:"unflag",onClickedAction:n.clickedUnflag},null,8,["data","onClickedAction"]))]))),128))])]),_:1}),i.flagsLoading?(a(),d("div",f_e,[b(v,{loading:i.flagsLoading,size:"10px"},null,8,["loading"])])):c("",!0),i.showMore&&!i.flagsLoading?(a(),d("div",m_e,[b(g,{icon:["fa","ellipsis-h"]})])):c("",!0),!n.computedNoflags&&i.showNoMore&&!i.flagsLoading?(a(),d("div",p_e," no more flags... ")):c("",!0)])])]),_:1},8,["show","loading","onClickedClose"])}const v_e=Ae(r_e,[["render",g_e],["__scopeId","data-v-9a2c7b70"]]),y_e={props:{account:{type:Object,default(){return{}}},isActive:{type:Boolean,default:!1}},components:{ActionButton:mr,ProfilePicture:Ys},data(){return{activeButtonText:"make actvie",activationLoading:!1}},watch:{isActive:{immediate:!0,handler(e){e?this.activeButtonText="":this.activeButtonText="make active",this.activationLoading=!1}}},methods:{clickedActivate(){this.activationLoading=!0,this.$emit("clickedActivate",this.account)}}},w_e={slot:"image"},__e=["src"],b_e={class:"other-section"},k_e={class:"top"},A_e={class:"name"},C_e={class:"account"},S_e={class:"bottom"},I_e={key:1,class:"active"};function T_e(e,t,s,o,i,n){const r=_("profile-picture"),f=_("action-button");return a(),d("div",{class:we(["user-account-wrapper",{userAccountActive:s.isActive}])},[b(r,{class:"user-account-profile"},{default:z(()=>[h("template",w_e,[h("img",{src:s.account.url,alt:""},null,8,__e)])]),_:1}),h("div",b_e,[h("div",k_e,[h("div",A_e,V(s.account.name),1),h("div",C_e,V(s.account.account),1)]),h("div",S_e,[i.activeButtonText.length?(a(),S(f,{key:0,onClick:n.clickedActivate,text:i.activeButtonText,loading:i.activationLoading,background:!0,class:"action-button"},null,8,["onClick","text","loading"])):(a(),d("div",I_e," active "))])])],2)}const D_e=Ae(y_e,[["render",T_e],["__scopeId","data-v-9bcc9837"]]),x_e={props:{placeholder:{type:String,default:""},value:{type:String,default:""},error:{type:Boolean,default:!1},answer:{type:Boolean,default:!1},possibleAnswer:{type:Boolean,default:!1},blocked:{type:Boolean,default:!1},disabledChat:{type:Boolean,default:!1},bottomBorder:{type:Boolean,default:!1},inputMax:{type:Number,default:100},hasMax:{type:Boolean,default:!1}},components:{CreatePost:mv,MediaCapture:Rl,FilePreview:Lo,FadeUp:bi},data(){return{showAttachments:!1,attachmentText:"",textareaValue:"",fileCaption:"",showEmoji:!1,showSmallModal:!1,showFilePreview:!1,file:null,showMediaCapture:!1,showCreateQuestion:!1,mediaCaptureType:"",typingState:!1}},watch:{value(e,t){if(this.hasMax&&e.length>this.inputMax){this.$emit("input",t),this.textareaValue=t;return}this.textareaValue=e},textareaValue(e){this.typingState=!0,setTimeout(()=>{this.typingState=!1},3e3),this.$emit("input",e)}},computed:{computedSendButton(){return this.blocked?!1:!this.typingState}},methods:{clickedCreate(e){this.textareaValue="",this.$emit("sendQuestion",e)},clickedClearAnswer(){this.$emit("clickedClearAnswer")},clickedCreateQuestion(){this.showCreateQuestion=!0},closeCreateQuestion(){this.showCreateQuestion=!1},focusTextarea(){if(this.disabledChat){this.showSmallModal=!0;return}},receivedMediaCapture(e){e.type.includes("image")?this.file=new File([e],"my_picture.png",{type:"image/png",lastModified:new Date}):e.type.includes("video")?this.file=new File([e],"my_video.webm",{type:"video/webm",lastModified:new Date}):e.type.includes("audio")&&(this.file=new File([e],"my_audio.mp3",{type:"audio/mp3",lastModified:new Date})),this.showFilePreview=!0},closeMediaCapture(){this.showMediaCapture=!1,this.attachmentText=""},clickedClosePreview(){this.showFilePreview=!1,this.file=null,this.fileCaption=""},clickedSendPreview(){this.showFilePreview=!1,this.$emit("fileChange",{file:this.file,caption:this.fileCaption}),this.file=null,this.fileCaption=""},clickedSmallModalOk(){this.showSmallModal=!1},sendMessage(){if(this.disabledChat){this.showSmallModal=!0;return}this.$emit("sendMessage")},clickedAttachments(){if(this.disabledChat){this.showSmallModal=!0;return}this.showAttachments=!0,setTimeout(()=>{this.showAttachments=!1},4e3)},clickedEmoji(){if(this.disabledChat){this.showSmallModal=!0;return}this.showEmoji=!this.showEmoji},selectEmoji(e){this.textareaValue=this.textareaValue+e.data},clickedCloseAttachments(){this.showAttachments=!1,this.showEmoji=!1},clickedAttachment(e){if(this.attachmentText=e,this.showAttachments=!1,this.$emit("clickedAttachment",e),e==="camera"){this.mediaCaptureType="image",this.showMediaCapture=!0;return}else if(e==="microphone"){this.mediaCaptureType="audio",this.showMediaCapture=!0;return}else if(e==="video"){this.mediaCaptureType="video",this.showMediaCapture=!0;return}else e==="file-image"?this.$refs.inputfile.accept="image/apng,image/bmp,image/gif,image/x-icon,image/jpeg,image/png,image/svg+xml,image/webp":e==="file-audio"?this.$refs.inputfile.accept="audio/mpeg,audio/ogg,audio/wav":e==="file-video"&&(this.$refs.inputfile.accept="video/webm,video/mp4,video/ogg");this.$refs.inputfile.click()},fileChange(){this.file=this.$refs.inputfile.files[0],this.$refs.inputfile.value="",this.showFilePreview=!0,this.attachmentText=""}}},P_e={key:0,class:"blocked"},M_e={key:7,class:"main-attachments"},E_e=["placeholder","readonly"],O_e={key:0,class:"file-section"},R_e={class:"buttons"},N_e={slot:"actions"};function L_e(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("v-emoji-picker"),m=_("file-preview"),v=_("addon-modal"),g=_("small-modal"),A=_("fade-up"),D=_("media-capture"),E=_("create-post");return a(),d("div",{class:we(["chat-textarea-wrapper",{error:s.error,bottomborder:s.bottomBorder}])},[s.blocked?(a(),d("div",P_e," sorry...this account blocked you ")):c("",!0),s.blocked?c("",!0):(a(),d("div",{key:1,class:we(["attachments",{attachmentTypingState:i.typingState}])},[!s.possibleAnswer&&!i.typingState?(a(),d("div",{key:0,class:"emoji",onClick:t[0]||(t[0]=(...T)=>n.clickedEmoji&&n.clickedEmoji(...T)),title:"add an emoji to your text"},[b(r,{icon:["fa","grin"]})])):c("",!0),!s.possibleAnswer&&!i.typingState?(a(),d("div",{key:1,class:"attachment",onClick:t[1]||(t[1]=(...T)=>n.clickedAttachments&&n.clickedAttachments(...T)),title:"add a file"},[b(r,{icon:["fa","paperclip"]})])):c("",!0),!s.possibleAnswer&&!i.typingState?(a(),d("div",{key:2,class:"attachment",onClick:t[2]||(t[2]=(...T)=>n.clickedCreateQuestion&&n.clickedCreateQuestion(...T)),title:"ask a question"},[b(r,{icon:["fa","question-circle"]})])):c("",!0),!s.possibleAnswer&&i.typingState?(a(),d("div",{key:3,class:"attachment",onClick:t[3]||(t[3]=T=>i.typingState=!1)},[b(r,{icon:["fa","arrow-circle-right"]})])):c("",!0),s.possibleAnswer?(a(),d("div",{key:4,class:"attachment",onClick:t[4]||(t[4]=(...T)=>n.clickedClearAnswer&&n.clickedClearAnswer(...T))},[b(r,{icon:["fa","ban"]})])):c("",!0),i.showAttachments||i.showEmoji?(a(),d("div",{key:5,class:"main-attachments-wrapper",onClick:t[5]||(t[5]=(...T)=>n.clickedCloseAttachments&&n.clickedCloseAttachments(...T))})):c("",!0),i.showEmoji?(a(),S(f,{key:6,onSelect:n.selectEmoji,showSearch:!1,emojiWithBorder:!1,emojiSize:24,continuousList:!0,class:"picker"},null,8,["onSelect"])):c("",!0),i.showAttachments?(a(),d("div",M_e,[h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="camera"}]),onClick:t[6]||(t[6]=T=>n.clickedAttachment("camera")),title:"take a picture"},[b(r,{icon:["fa","camera"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="video"}]),onClick:t[7]||(t[7]=T=>n.clickedAttachment("video")),title:"record a video"},[b(r,{icon:["fa","video"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="microphone"}]),onClick:t[8]||(t[8]=T=>n.clickedAttachment("microphone")),title:"record an audio"},[b(r,{icon:["fa","microphone"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="file-image"}]),onClick:t[9]||(t[9]=T=>n.clickedAttachment("file-image")),title:"upload an image file"},[b(r,{icon:["fa","file-image"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="file-video"}]),onClick:t[10]||(t[10]=T=>n.clickedAttachment("file-video")),title:"upload a video file"},[b(r,{icon:["fa","file-video"]})],2),h("div",{class:we(["main-attachments-icon",{mainAttachmentActive:i.attachmentText==="file-audio"}]),onClick:t[11]||(t[11]=T=>n.clickedAttachment("file-audio")),title:"upload an audio file"},[b(r,{icon:["fa","file-audio"]})],2)])):c("",!0),h("input",{type:"file",ref:"inputfile",onChange:t[12]||(t[12]=(...T)=>n.fileChange&&n.fileChange(...T)),class:"hidden"},null,544)],2)),s.blocked?c("",!0):cn((a(),d("textarea",{key:2,placeholder:s.placeholder,"onUpdate:modelValue":t[13]||(t[13]=T=>i.textareaValue=T),class:"form-control",onKeyup:t[14]||(t[14]=hu((...T)=>n.sendMessage&&n.sendMessage(...T),["enter"])),rows:"1",onFocus:t[15]||(t[15]=(...T)=>n.focusTextarea&&n.focusTextarea(...T)),readonly:s.possibleAnswer},null,40,E_e)),[[yi,i.textareaValue]]),n.computedSendButton?(a(),d("div",{key:3,class:"send-button",onClick:t[16]||(t[16]=(...T)=>n.sendMessage&&n.sendMessage(...T))},V(s.answer?"answer":"send"),1)):c("",!0),b(v,{show:i.showFilePreview,fullHeight:!0,transparent:!0,hasClose:!1},{default:z(()=>[i.showFilePreview?(a(),d("div",O_e,[b(m,{show:!0,middle:!0,showRemove:!1,file:i.file,class:"file-preview-wrapper"},null,8,["file"]),s.answer?c("",!0):cn((a(),d("input",{key:0,type:"text",class:"form-control caption",placeholder:"add a caption","onUpdate:modelValue":t[17]||(t[17]=T=>i.fileCaption=T)},null,512)),[[yi,i.fileCaption]]),h("div",R_e,[h("div",{class:"send",onClick:t[18]||(t[18]=(...T)=>n.clickedSendPreview&&n.clickedSendPreview(...T))},"send"),h("div",{class:"cancel",onClick:t[19]||(t[19]=(...T)=>n.clickedClosePreview&&n.clickedClosePreview(...T))},"cancel")])])):c("",!0)]),_:1},8,["show"]),b(A,null,{default:z(()=>[i.showSmallModal?(a(),S(g,{key:0,show:i.showSmallModal,title:"Please accept to chat this account before continuing. You are seeing this because you may have blocked or declined to have a conversation",onDisappear:t[21]||(t[21]=T=>i.showSmallModal=!1)},{default:z(()=>[h("template",N_e,[h("div",{class:"ok-button",onClick:t[20]||(t[20]=(...T)=>n.clickedSmallModalOk&&n.clickedSmallModalOk(...T))},"ok")])]),_:1},8,["show"])):c("",!0)]),_:1}),i.showMediaCapture?(a(),S(D,{key:4,show:i.showMediaCapture,type:i.mediaCaptureType,onCloseMediaCapture:n.closeMediaCapture,onSendFile:n.receivedMediaCapture},null,8,["show","type","onCloseMediaCapture","onSendFile"])):c("",!0),b(E,{showForm:i.showCreateQuestion,type:"question",onClickedCreate:n.clickedCreate,chat:!0,onMainModalDisappear:n.closeCreateQuestion},null,8,["showForm","onClickedCreate","onMainModalDisappear"])],2)}const F_e=Ae(x_e,[["render",L_e],["__scopeId","data-v-05eda80b"]]),U_e={components:{OptionalActions:Wr},props:{message:{type:Object,default(){return{}}}},data(){return{showOptionalActions:!1}},computed:{...os(["getUser"]),computedImages(){return this.message.images&&this.message.images.length?this.message.images:null},computedVideos(){return this.message.videos&&this.message.videos.length?this.message.videos:null},computedAudios(){return this.message.audios&&this.message.audios.length?this.message.audios:null},computedFiles(){return this.message.files&&this.message.files.length?this.message.files:null},computedMedia(){return this.computedImages||this.computedVideos||this.computedAudios||this.computedFiles},computedOwner(){return this.message.fromable.userId===this.getUser.id},computedDeletedForMe(){return this.message.userDeletes&&this.message.userDeletes.includes(this.getUser.id)}},methods:{messageCreatedAt(e){return _s.createdAt(e)},clickedMedia(e,t){this.$emit("clickedMedia",{url:e,type:t})},clickedOption(e){this.showOptionalActions=!1,this.$emit("clickedOption",{action:e,type:"message",message:this.message,conversationId:this.message.conversationId})},clickedShowOptions(){this.showOptionalActions=!0,setTimeout(()=>{this.showOptionalActions=!1},4e3)}}},B_e=e=>(gs("data-v-c93d33b2"),e=e(),vs(),e),j_e={key:0,class:"deleted"},V_e={class:"icon"},q_e=B_e(()=>h("div",{class:"text"},"message deleted",-1)),H_e={slot:"extraicon"},W_e={key:2,class:"created-at"},z_e={key:3,class:"message-section"},G_e={key:4,class:"media-section"},Y_e={key:0,class:"images-section"},Q_e=["src","onClick"],K_e={key:1,class:"videos-section"},J_e=["src","onClick"],X_e={key:2,class:"audios-section"},$_e=["src","onClick"],Z_e={key:5,class:"chat-item-state"};function e1e(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("optional-actions");return a(),d("div",{class:we(["message-badge-wrapper",{messageBadgeRight:n.computedOwner}]),onDblclick:t[0]||(t[0]=(...m)=>n.clickedShowOptions&&n.clickedShowOptions(...m))},[n.computedDeletedForMe?(a(),d("div",j_e,[h("div",V_e,[b(r,{icon:["fa","ban"]})]),q_e])):c("",!0),i.showOptionalActions&&!n.computedDeletedForMe?(a(),S(f,{key:1,hasEdit:!1,hasDelete:n.computedOwner,hasExtra:!0,extraText:"delete for me",hasAttachment:!1,hasSave:!1,show:i.showOptionalActions,onClickedOption:n.clickedOption,class:"optional-actions"},{default:z(()=>[h("template",H_e,[b(r,{icon:["fa","trash"]})])]),_:1},8,["hasDelete","show","onClickedOption"])):c("",!0),n.computedDeletedForMe?c("",!0):(a(),d("div",W_e,V(n.messageCreatedAt(s.message.created_at)),1)),s.message.message&&!n.computedDeletedForMe?(a(),d("div",z_e,V(s.message.message),1)):c("",!0),n.computedMedia&&!n.computedDeletedForMe?(a(),d("div",G_e,[n.computedImages?(a(),d("div",Y_e,[(a(!0),d(Z,null,pe(n.computedImages,(m,v)=>(a(),d("img",{src:m.url,key:v,onClick:g=>n.clickedMedia(m.url,"image")},null,8,Q_e))),128))])):c("",!0),n.computedVideos?(a(),d("div",K_e,[(a(!0),d(Z,null,pe(n.computedVideos,(m,v)=>(a(),d("video",{src:m.url,key:v,controls:"",onClick:g=>n.clickedMedia(m.url,"video")},null,8,J_e))),128))])):c("",!0),n.computedAudios?(a(),d("div",X_e,[(a(!0),d(Z,null,pe(n.computedAudios,(m,v)=>(a(),d("audio",{src:m.url,key:v,controls:"",onClick:g=>n.clickedMedia(m.url,"audio")},null,8,$_e))),128))])):c("",!0)])):c("",!0),n.computedOwner&&!n.computedDeletedForMe?(a(),d("div",Z_e,V(s.message.state),1)):c("",!0)],34)}const t1e=Ae(U_e,[["render",e1e],["__scopeId","data-v-c93d33b2"]]),s1e={components:{OptionalActions:Wr,AnswerSingle:Rv},props:{question:{type:Object,default(){return{}}}},data(){return{showOptionalActions:!1}},computed:{...os(["getUser"]),computedImage(){return this.question.images&&this.question.images.length?this.question.images[0]:null},computedVideo(){return this.question.videos&&this.question.videos.length?this.question.videos:null},computedAudio(){return this.question.audios&&this.question.audios.length?this.question.audios:null},computedFile(){return this.question.files&&this.question.files.length?this.question.files:null},computedMedia(){return this.computedImage||this.computedVideo||this.computedAudio||this.computedFile},computedOwner(){return this.question.user_id===this.getUser.id},computedName(){return this.question.name?this.question.name.toLowerCase():""},computedCreatedAt(){return _s.createdAt(this.question.created_at)},computedPossibleAnswers(){return this.question.possibleAnswers},computedDeletedForMe(){return this.getUser.id&&this.question.userDeletes&&this.question.userDeletes.includes(this.getUser.id)}},methods:{messageCreatedAt(e){return _s.createdAt(e)},clickedMedia(e,t){this.$emit("clickedMedia",{url:e,type:t})},clickedPossibleAnswer(e){this.$emit("clickedAnswer",{question:this.question,answer:e})},clickedAnswer(){this.$emit("clickedAnswer",{question:this.question,answer:null})},markChatAnswer(e){this.$emit("markChatAnswer",e)},clickedOption(e){this.showOptionalActions=!1,this.$emit("clickedOption",{action:e,type:"question",question:this.question,conversationId:this.question.questionableId})},clickedAnswerOption(e){this.$emit("clickedOption",e)},clickedShowOptions(){this.showOptionalActions=!0,setTimeout(()=>{this.showOptionalActions=!1},4e3)}}},LC=e=>(gs("data-v-8ff52408"),e=e(),vs(),e),n1e={key:0,class:"deleted"},i1e={class:"icon"},o1e=LC(()=>h("div",{class:"text"},"question deleted",-1)),a1e={slot:"extraicon"},r1e={key:2,class:"top"},l1e={key:0,class:"name"},c1e={class:"updated-at"},u1e={key:3,class:"middle"},d1e={class:"question"},h1e={key:0,class:"media"},f1e=["src"],m1e=["src"],p1e=["src"],g1e={key:1,class:"possible-answers"},v1e=["onClick"],y1e={key:4,class:"bottom"},w1e={class:"answers"},_1e=LC(()=>h("div",{class:"heading"},"answers",-1)),b1e={key:5,class:"chat-item-state"};function k1e(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("optional-actions"),m=_("answer-single");return a(),d("div",{class:"question-badge-wrapper",onDblclick:t[4]||(t[4]=(...v)=>n.clickedShowOptions&&n.clickedShowOptions(...v))},[n.computedDeletedForMe?(a(),d("div",n1e,[h("div",i1e,[b(r,{icon:["fa","ban"]})]),o1e])):c("",!0),i.showOptionalActions&&!n.computedDeletedForMe?(a(),S(f,{key:1,hasEdit:!1,hasDelete:n.computedOwner,hasExtra:!0,extraText:"delete for me",hasAttachment:!1,hasSave:!1,show:i.showOptionalActions,onClickedOption:n.clickedOption},{default:z(()=>[h("template",a1e,[b(r,{icon:["fa","trash"]})])]),_:1},8,["hasDelete","show","onClickedOption"])):c("",!0),n.computedDeletedForMe?c("",!0):(a(),d("div",r1e,[n.computedName.length?(a(),d("div",l1e," asked by "+V(n.computedOwner?"You":n.computedName),1)):c("",!0),h("div",c1e,V(n.computedCreatedAt),1)])),n.computedDeletedForMe?c("",!0):(a(),d("div",u1e,[h("div",d1e,V(s.question.body),1),n.computedMedia?(a(),d("div",h1e,[n.computedImage?(a(),d("img",{key:0,src:n.computedImage.url,onClick:t[0]||(t[0]=v=>n.clickedMedia(n.computedImage.url,"image"))},null,8,f1e)):c("",!0),n.computedVideo?(a(),d("video",{key:1,src:n.computedVideo.url,onClick:t[1]||(t[1]=v=>n.clickedMedia(n.computedVideo.url,"video")),controls:""},null,8,m1e)):c("",!0),n.computedAudio?(a(),d("audio",{key:2,src:n.computedAudio.url,onClick:t[2]||(t[2]=v=>n.clickedMedia(n.computedAudio.url,"audio")),controls:""},null,8,p1e)):c("",!0)])):c("",!0),n.computedPossibleAnswers.length?(a(),d("div",g1e,[(a(!0),d(Z,null,pe(n.computedPossibleAnswers,(v,g)=>(a(),d("div",{class:"possible-answer",key:g,onClick:A=>n.clickedPossibleAnswer(v)},V(v.option),9,v1e))),128))])):(a(),d("div",{key:2,class:"answer-section",onClick:t[3]||(t[3]=(...v)=>n.clickedAnswer&&n.clickedAnswer(...v))}," answer "))])),s.question.answers.length&&!n.computedDeletedForMe?(a(),d("div",y1e,[h("div",w1e,[_1e,(a(!0),d(Z,null,pe(s.question.answers,(v,g)=>(a(),S(m,{key:g,answer:v,chat:!0,conversationId:s.question.questionableId,onMarkChatAnswer:n.markChatAnswer,onClickedOption:n.clickedAnswerOption},null,8,["answer","conversationId","onMarkChatAnswer","onClickedOption"]))),128))])])):c("",!0),n.computedOwner&&!n.computedDeletedForMe?(a(),d("div",b1e,V(s.question.state),1)):c("",!0)],32)}const A1e=Ae(s1e,[["render",k1e],["__scopeId","data-v-8ff52408"]]),C1e={props:{conversation:{type:Object,default(){return{}}},message:{type:Object,default(){return{}}},alert:{type:Number,default:0},action:{type:Boolean,default:!1},typing:{type:Boolean,default:!1}},components:{ProfilePicture:Ys},data(){return{actionLoading:!1,typingClock:null}},watch:{typing:{handler(e,t){e&&this.clearConversationTyping()}}},computed:{...os(["getUser"]),computedOtherAccount(){return this.conversation.conversationAccounts.filter(e=>e.user_id!==this.getUser.id)[0]},computedAccount(){return this.conversation.conversationAccounts.filter(e=>e.user_id===this.getUser.id)[0]},computedMessage(){return this.message.message?this.message.message:this.conversation.message?this.conversation.message.message:null},computedActionText(){return this.actionLoading?"":this.computedAccount.state==="DECLINE"?"accept":"unblock"}},methods:{clickedConversation(){if(this.action){this.clickedAction();return}this.$emit("clickedConversation",{conversation:this.conversation,myAccount:this.computedAccount,otherAccount:this.computedOtherAccount})},clickedAction(){this.actionLoading=!0,this.$emit("clickedAction",this.conversation)},clearConversationTyping(){console.log("setting timeout"),this.typingClock&&clearTimeout(),this.typingClock=setTimeout(()=>{this.$emit("clearConversationTyping",this.conversation.id)},300)}}},S1e={class:"top-section"},I1e={class:"top-left-section"},T1e={slot:"image"},D1e=["src"],x1e={class:"top-right-section"},P1e={class:"top"},M1e={class:"name"},E1e={class:"account"},O1e={class:"bottom"},R1e={key:0,class:"typing"},N1e={key:1,class:"message"},L1e={key:2,class:"alert"},F1e={key:3,class:"action-button"},U1e={class:"bottom-section"},B1e={class:"name"},j1e={class:"account"};function V1e(e,t,s,o,i,n){const r=_("profile-picture"),f=_("pulse-loader");return a(),d("div",{class:"conversation-badge-wrapper",onClick:t[0]||(t[0]=(...m)=>n.clickedConversation&&n.clickedConversation(...m))},[h("div",S1e,[h("div",I1e,[b(r,{class:"profile-picture"},{default:z(()=>[h("template",T1e,[h("img",{src:n.computedOtherAccount.url},null,8,D1e)])]),_:1})]),h("div",x1e,[h("div",P1e,[h("div",M1e,V(n.computedOtherAccount.name),1),h("div",E1e,V(n.computedOtherAccount.account),1)]),h("div",O1e,[s.typing?(a(),d("div",R1e,"typing...")):c("",!0),!s.typing&&!s.action&&n.computedMessage?(a(),d("div",N1e,V(n.computedMessage),1)):c("",!0),!s.typing&&!s.action&&s.alert?(a(),d("div",L1e,V(s.alert),1)):c("",!0),s.action?(a(),d("div",F1e,[Mt(V(n.computedActionText)+" ",1),b(f,{loading:i.actionLoading,size:"8px",color:"#ffffff"},null,8,["loading"])])):c("",!0)])])]),h("div",U1e,[h("div",B1e,V(n.computedAccount.name),1),h("div",j1e,V(`(${n.computedAccount.account})`),1)])])}const q1e=Ae(C1e,[["render",V1e],["__scopeId","data-v-4b7a5aa8"]]),H1e={components:{ProfilePicture:Ys,OtherUserAccount:_v,ConversationBadge:q1e,QuestionBadge:A1e,MessageBadge:t1e,ChatTextarea:F_e,UserAccount:D_e,FadeRight:ma},data(){return{addonLoading:!1,showChatAccounts:!0,showChatConversations:!1,showChatProfile:!1,showAccounts:!1,showMessages:!1,showMenu:!1,menuText:"conversations",accountSectionText:"friends",onlineFollowers:[],onlineFollowings:[],fromToMessages:"",conversationType:"normal",chatMessage:"",chatMessageFileCaption:"",chatMessageFile:null,chatMessagesNextPage:1,chatMessages:[],conversationId:0,conversationsNextPage:1,blockedConversationsNextPage:1,blockedConversations:[],pendingConversationsNextPage:1,pendingConversations:[],conversations:[],chattingAccountTyping:!1,chattingAccount:{},myAccount:{},messageResponseLoading:!1,conversationsLoading:!1,messagesLoading:!1,messageSending:!1,showMessageOptions:!1,showConversationOptions:!1,creatingConversation:!1,chattingAccountsStatus:"all",conversationIcon:"more",typingAccounts:[],newConversationAlert:!1,newPendingConversationsNumber:0,showMediaModal:!1,mediaModalUrl:{},answering:!1,questionObject:null}},watch:{menuText:{immediate:!0,handler(e){e==="accounts"?(this.showChatAccounts=!0,this.showChatConversations=!1,this.showChatProfile=!1,this.showAccounts=!0,this.showMenu=!0,this.accountSectionText="friends"):e==="profile"?(this.showChatProfile=!0,this.showChatAccounts=!1,this.showChatConversations=!1,this.showMenu=!0):e==="conversations"&&(this.showChatConversations=!0,this.showChatAccounts=!1,this.showChatProfile=!1,this.showMenu=!0)}},accountSectionText(e){e==="back"&&(this.showAccounts=!1,this.showMenu=!0,this.menuText="conversations")},conversationId(e,t){e&&e!==t&&(this.chatMessagesNextPage=1)},chatMessage(e){e.length&&this.whisper()},chattingAccountTyping(e){e&&setTimeout(()=>{this.chattingAccountTyping=!1},300)}},mounted(){this.getChatConversations(),this.listen()},computed:{...os(["getUserFollowings","getUserFollowers","getProfiles","getActiveProfile","getUser"]),computedMenu(){return this.showAccounts||this.showMessages?!1:!!this.showMenu},computedChattingAccountOnlineStatus(){let e=-1;if(e=this.onlineFollowers.findIndex(t=>t.account===this.chattingAccount.account&&t.accountId===this.chattingAccount.accountId),e>-1||(e=this.onlineFollowings.findIndex(t=>t.account===this.chattingAccount.account&&t.accountId===this.chattingAccount.accountId),e>-1))return!0},computedMoreMessages(){return!(this.creatingConversation||this.messagesLoading||!this.chatMessagesNextPage||this.chatMessages.length<10)},computedShowRequestResponse(){return this.messagesLoading||this.computedChatStatusRequest||this.computedChatStatus?!1:this.computedChatStatusPending&&!this.chatMessages.length?!0:!!(this.computedChatStatusPending&&this.chatMessages.filter(e=>e.fromable.userId===this.getUser.id).length<1)},computedChatStatus(){return this.chattingAccount.hasOwnProperty("myChatStatus")?!(this.chattingAccount.myChatStatus==="DECLINE"||this.chattingAccount.myChatStatus==="BLOCK"):!(this.myAccount.state==="DECLINE"||this.myAccount.state==="BLOCK")},computedChatStatusPending(){return this.chattingAccount.hasOwnProperty("myChatStatus")?this.chattingAccount.myChatStatus==="PENDING":this.myAccount.state==="PENDING"},computedChatStatusRequest(){return this.chattingAccount.hasOwnProperty("myChatStatus")?this.chattingAccount.myChatStatus==="REQUEST":this.myAccount.state==="REQUEST"},computedOtherChatStatus(){return this.chattingAccount.hasOwnProperty("myChatStatus")?!(this.chattingAccount.otherChatStatus==="DECLINE"||this.chattingAccount.otherChatStatus==="BLOCK"):!(this.chattingAccount.state==="DECLINE"||this.chattingAccount.state==="BLOCK")},computedProfiles(){return this.getProfiles?this.getProfiles:[]},computedActiveProfile(){return this.getActiveProfile?this.getActiveProfile:[]},computedFollowers(){let e=[];if(this.chattingAccountsStatus==="all")e=this.getUserFollowers;else if(this.chattingAccountsStatus==="online")return this.onlineFollowers;return e?this.mapAccounts(e,"follower"):[]},computedFollowings(){let e=[];if(this.chattingAccountsStatus==="all")e=this.getUserFollowings;else if(this.chattingAccountsStatus==="online")return this.onlineFollowings;return e?this.mapAccounts(e,"following"):[]},computedFriends(){return Ft.intersectionWith(this.computedFollowers,this.computedFollowings,(e,t)=>e.accountId===t.accountId&&e.account===t.account&&e.myAccountId===t.myAccountId&&e.myAccount===t.myAccount)},computedOtherAccounts(){if(this.accountSectionText==="friends")return this.computedFriends;if(this.accountSectionText==="followers")return this.computedFollowers;if(this.accountSectionText==="followings")return this.computedFollowings},computedChatMessages(){return this.chatMessages.length?Ft.sortBy(this.chatMessages,function(e){return e.id}):[]},computedConversations(){if(this.conversationType==="blocked")return this.blockedConversations;if(this.conversationType==="pending")return this.pendingConversations;if(this.conversationType==="normal")return this.conversations},computedNoConversations(){if(this.conversationType==="normal")return!this.conversations.length&&this.conversationsNextPage!==1;if(this.conversationType==="blocked")return!this.blockedConversations.length&&this.blockedConversationsNextPage!==1;if(this.conversationType==="pending")return!this.pendingConversations.length&&this.pendingConversationsNextPage!==1},computedChatBlock(){let e=this.chattingAccount.hasOwnProperty("state")?this.chattingAccount.state:this.chattingAccount.otherChatStatus;return e==="BLOCK"||e==="DECLINE"},computedNoMessages(){return this.creatingConversation||this.messagesLoading?!1:!this.chatMessages.length}},methods:{...ss(["profile/setActiveProfile","profile/sendChatMessage","profile/getChatMessages","profile/getChatConversations","profile/createConversation","profile/sendMessageResponse","profile/blockConversation","profile/unblockConversation","profile/getBlockedConversations","profile/getPendingConversations","updateUserFollows","profile/sendChatQuestion","profile/sendChatAnswer","profile/sendChatMark","profile/deleteChatMessage","profile/deleteChatQuestion","profile/deleteChatAnswer","profile/updateChatItemStatus"]),clickedOption(e){e.type==="message"&&e.action.includes("delete")?this.deleteMessage(e):e.type==="question"&&e.action.includes("delete")?this.deleteQuestion(e):e.type==="answer"&&e.action.includes("delete")&&this.deleteAnswer(e)},clickedMedia(e){this.mediaModalUrl=e,this.showMediaModal=!0},clickedAnswer(e){e.answer&&(this.chatMessage=e.answer.option),this.questionObject=e,this.answering=!0},clickedClearAnswer(){this.answering=!1,this.chatMessage="",this.questionObject=null},async deleteMessage(e){let t,s=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;t=await this["profile/deleteChatMessage"]({item:"message",itemId:e.message.id,userId:s,conversationId:e.conversationId,action:e.action==="delete"?e.action:"self"}),t.status?e.action==="delete"?this.removeChatItem("message",e.message.id,e.conversationId):this.replaceChatItem("message",t.chatMessage,e.conversationId):console.log("response :>> ",t)},async deleteQuestion(e){let t,s=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;t=await this["profile/deleteChatQuestion"]({item:"question",itemId:e.question.id,userId:s,conversationId:e.conversationId,action:e.action==="delete"?e.action:"self"}),t.status?e.action==="delete"?this.removeChatItem("question",e.question.id,e.conversationId):this.replaceChatItem("question",t.chatQuestion,e.conversationId):console.log("response :>> ",t)},async deleteAnswer(e){let t,s=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;t=await this["profile/deleteChatAnswer"]({item:"answer",itemId:e.answer.id,userId:s,conversationId:e.conversationId,action:"delete"}),t.status?this.removeChatItem("answer",e.answer.id,e.conversationId):console.log("response :>> ",t)},removeChatItem(e,t,s){if(this.conversationId!=s)return;let o;e==="question"?o=this.chatMessages.findIndex(i=>i.id===t&&i.hasOwnProperty("question")):e==="message"?o=this.chatMessages.findIndex(i=>i.id===t&&i.hasOwnProperty("message")):e==="answer"&&this.chatMessages.forEach(i=>{if(i.hasOwnProperty("question")&&(o=i.answers.findIndex(n=>n.id===t),o>-1)){i.answers.splice(o,1);return}}),o>-1&&this.chatMessages.splice(o,1),this.moveConversationUp(s)},replaceChatItem(e,t,s){if(this.conversationId!=s)return;let o;e==="question"?o=this.chatMessages.findIndex(i=>i.id===t.id&&i.hasOwnProperty("question")):e==="message"&&(o=this.chatMessages.findIndex(i=>i.id===t.id&&i.hasOwnProperty("message"))),o>-1&&this.chatMessages.splice(o,1,t),this.moveConversationUp(s)},async markChatAnswer(e){this.messageSending=!0;let t,s={},o=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;s.account=this.getActiveProfile.account,s.accountId=this.getActiveProfile.accountId,s.chattingUserId=o,s.answerId=e.answerId,s.questionId=e.questionId,s.score=e.score,s.scoreOver=e.scoreOver,s.remark=e.remark,t=await this["profile/sendChatMark"]({conversationId:this.conversationId,data:s}),t.status?(this.moveQuestionDownById(t.chatAnswer),this.moveConversationUp(this.conversationId)):console.log("response :>> ",t),this.messageSending=!1},async sendChatItemStatus(e){let t;t=await this["profile/updateChatItemStatus"](e),t.status?this.replaceChatItem(e.item,t.chatItem,e.conversationId):console.log("response :>> ",t)},moveQuestionDownById(e){let t,s,o;t=this.chatMessages.findIndex(i=>i.id===e.answerable_id&&i.hasOwnProperty("question")),t>-1&&(o=this.chatMessages[t].answers.findIndex(i=>i.id===e.id),o>-1&&this.chatMessages[t].answers.splice(o,1,e),s=this.chatMessages[t],this.chatMessages.splice(t,1),this.chatMessages.push(s))},closeMediaModal(){this.showMediaModal=!1},chatFileChange(e){this.chatMessageFile=e.file,this.chatMessageFileCaption=e.caption,this.sendChatMessage()},setChattingAccountTyping(e){(this.chattingAccount.conversationId===e||this.chattingAccount.conversation_id===e)&&(this.chattingAccountTyping=!0)},setTyping(e){this.setChattingAccountTyping(e,!0),this.typingAccounts.findIndex(s=>s===e)===-1&&this.typingAccounts.push(e)},unsetTyping(e){let t=this.typingAccounts.findIndex(s=>s===e);t===-1&&this.typingAccounts.splice(t,1)},checkTyping(e){return this.typingAccounts.findIndex(s=>s===e)>-1},setConversationTyping(e){return this.checkTyping(e)},clearConversationTyping(e){this.unsetTyping(e)},whisper(){let e=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;Echo.private(`youredu.message.${e}`).whisper("typing",{conversationId:this.conversationId})},clickedMessageOptions(){this.showMessageOptions=!0,setTimeout(()=>{this.showMessageOptions=!1},4e3)},clickedConversationOptions(e){this.newConversationAlert=!1,e==="more"?(this.showConversationOptions=!0,setTimeout(()=>{this.showConversationOptions=!1},4e3)):e==="back"&&(this.conversationIcon="more",this.conversationType="normal")},clickedBlockedConversations(){this.conversationIcon="back",this.conversationType="blocked",this.showConversationOptions=!1,this.blockedConversationsNextPage=1,this.blockedConversations=[],this.getBlockedConversations()},clickedPendingConversations(){this.conversationIcon="back",this.conversationType="pending",this.newPendingConversationsNumber=0,this.showConversationOptions=!1,this.pendingConversationsNextPage=1,this.pendingConversations=[],this.getPendingConversations()},async clickedBlockAccount(){this.showMessageOptions=!1;let e,t={};if(t.account=this.getActiveProfile.account,t.accountId=this.getActiveProfile.accountId,t.chattingAccount=this.chattingAccount.account,t.chattingAccountId=this.chattingAccount.accountId,e=await this["profile/blockConversation"]({conversationId:this.conversationId,data:t}),e.status){let s=e.conversation.conversationAccounts.find(o=>o.user_id===this.getUser.id);this.removeConversation(e.conversation,"normal"),this.menuText="conversations",this.updateChattingAccount(s.conversation_id,"BLOCK"),this.updateOnlineAccounts(s.conversation_id,"BLOCK")}},async clickedUnblockAccount(e){let t,s={};if(s.accountOne=e.conversationAccounts[0].account,s.accountOneId=e.conversationAccounts[0].accountId,s.accountTwo=e.conversationAccounts[1].account,s.accountTwoId=e.conversationAccounts[1].accountId,t=await this["profile/unblockConversation"]({conversationId:e.id,data:s}),t.status){let o=this.blockedConversations.findIndex(i=>i.id===t.conversation.id);o>-1&&this.blockedConversations.splice(o,1),this.conversations.unshift(t.conversation),this.removeConversation(t.conversation,"blocked"),this.updateChattingAccount(t.conversation.id,"ACCEPT"),this.updateOnlineAccounts(t.conversation.id,"ACCEPT")}else console.log(t)},markMessagesQuestionsSeen(e){this.conversationId==e&&this.chatMessages.forEach(t=>{var s,o;(((s=t.fromable)==null?void 0:s.userId)===this.getUser.id||((o=t.addedby)==null?void 0:o.userId)===this.getUser.id)&&(t.state="SEEN")})},listen(){Echo.private(`youredu.message.${this.getUser.id}`).listenForWhisper("typing",e=>{console.log(e),this.setTyping(e.conversationId)}).listen(".newChatMessage",e=>{this.moveConversationUp(e.message.conversationId),e.message.conversationId===this.conversationId?(this.chatMessages.push(e.message),this.scrollDown(),this.sendChatItemStatus({item:"message",itemId:e.message.id,conversationId:e.message.conversationId,state:"SEEN",userId:e.message.fromable.userId})):this.sendChatItemStatus({item:"message",itemId:e.message.id,conversationId:e.message.conversationId,state:"RECEIVED",userId:e.message.fromable.userId})}).listen(".newChatQuestion",e=>{this.moveConversationUp(e.question.questionableId),e.question.questionableId===this.conversationId?(this.chatMessages.push(e.question),this.scrollDown(),this.sendChatItemStatus({item:"question",itemId:e.question.id,conversationId:e.question.questionableId,state:"SEEN",userId:e.question.addedby.userId})):this.sendChatItemStatus({item:"question",itemId:e.question.id,conversationId:e.question.questionableId,state:"RECEIVED",userId:e.question.addedby.userId})}).listen(".newChatAnswer",e=>{this.moveConversationUp(e.question.questionableId),this.moveQuestionDown(e.question)}).listen(".newChatMark",e=>{this.moveConversationUp(e.question.questionableId),this.moveQuestionDown(e.question)}).listen(".newConversation",e=>{this.newConversationAlert=!0,this.newPendingConversationsNumber+=1,this.updateUserFollows({type:"conversation",conversation:e.conversation}),this.updateOnlineAccounts(e.conversation.id,null,"conversation",e.conversation)}).listen(".newConversationResponse",e=>{this.updateUserFollows({type:"response",conversationId:e.conversation.id,response:e.response});let t=e.conversation.conversationAccounts.find(s=>s.id!==this.getUser.id);t&&this.updateConversationAccountState(t),this.updateChattingAccount(e.conversation.id,e.response,!1),this.updateOnlineAccounts(e.conversation.id,e.response,"response",e.conversation,!1)}).listen(".deleteChatItem",e=>{this.removeChatItem(e.item,e.itemId,e.conversationId)}).listen(".updatedChatItemState",e=>{this.replaceChatItem(e.item,e.chatItem,e.conversationId)}).listen(".updatedChatItemsState",e=>{this.markMessagesQuestionsSeen(e.conversationId)}),Echo.join("youredu.chat").here(e=>{console.log(e),this.onlineFollowings=this.mapAccounts(this.getUserFollowings.filter(t=>e.includes(t.followed_user_id)),"following"),this.onlineFollowers=this.mapAccounts(this.getUserFollowers.filter(t=>e.includes(t.user_id)),"follower")}).joining(e=>{console.log(e);let t=[];this.getUserFollowings.forEach(s=>{s.followed_user_id===e&&t.push(s)}),this.onlineFollowings.unshift(...this.mapAccounts(t,"following")),t=[],this.getUserFollowers.forEach(s=>{s.user_id===e&&t.push(s)}),this.onlineFollowers.unshift(...this.mapAccounts(t,"follower"))}).leaving(e=>{console.log(e),this.onlineFollowings=this.onlineFollowings.filter(t=>t.account_user_id!==e),this.onlineFollowers=this.onlineFollowers.filter(t=>t.account_user_id!==e)})},mapAccounts(e,t){return e.map(s=>({id:s.id,name:s.name,url:s.url,otherChatStatus:t==="following"?s.followable_chat_status:s.followedby_chat_status,account:t==="following"?ns.getAccount(s.followable_type):ns.getAccount(s.followedby_type),accountId:t==="following"?s.followable_id:s.followedby_id,myChatStatus:t==="following"?s.followedby_chat_status:s.followable_chat_status,myAccount:t==="following"?ns.getAccount(s.followedby_type):ns.getAccount(s.followable_type),myAccountId:t==="following"?s.followedby_id:s.followable_id,account_user_id:t==="following"?s.followed_user_id:s.user_id,myName:s.my_name,conversationId:s.conversation_id,type:t}))},clickedMoreMessages(){this.getChatMessages()},clickedStatusButton(e){this.chattingAccountsStatus=e},scrollDown(){setTimeout(()=>{this.$refs.messagesection.scrollTo(0,99999999)},100)},clickedClose(){this.$emit("clickedClose","chat")},clickedButton(e){this.menuText=e},clickedAccountSection(e){this.accountSectionText=e},checkOnlineStatus(e){if(this.chattingAccountsStatus==="online")return!0;if(this.chattingAccountsStatus==="all"){let t=-1;if(this.accountSectionText==="followers"&&(t=this.onlineFollowers.findIndex(s=>s.account===e.account&&s.accountId===e.accountId),t>-1)||(t=this.onlineFollowings.findIndex(s=>s.account===e.account&&s.accountId===e.accountId),t>-1))return!0}},makeActiveProfile(e){return e.account===this.computedActiveProfile.account&&e.accountId===this.computedActiveProfile.accountId},clickedActivate(e){this["profile/setActiveProfile"]({account:e.account,accountId:e.accountId})},setActiveProfile(e){this["profile/setActiveProfile"]({account:e.account,accountId:e.accountId})},async clickedMessageResponse(e){this.messageResponseLoading=!0;let t=null,s={};if(s.account=this.getActiveProfile.account,s.accountId=this.getActiveProfile.accountId,s.chattingAccount=this.chattingAccount.account,s.chattingAccountId=this.chattingAccount.accountId,e==="accept"?s.response="ACCEPT":e==="decline"&&(s.response="DECLINE"),t=await this["profile/sendMessageResponse"]({conversationId:this.conversationId,data:s}),t.status){let o=t.conversation.conversationAccounts.find(i=>i.user_id===this.getUser.id);e==="accept"?(this.removeConversation(t.conversation,"blocked"),this.removeConversation(t.conversation,"pending"),this.conversations.unshift(t.conversation)):e==="decline"&&(this.removeConversation(t.conversation,"pending"),this.menuText="conversations"),this.updateChattingAccount(o.conversation_id,o.state),this.updateOnlineAccounts(o.conversation_id,o.state)}this.messageResponseLoading=!1},removeConversation(e,t="normal"){let s;t==="normal"?(s=this.conversations.findIndex(o=>o.id===e.id),s>-1&&this.conversations.splice(s,1)):t==="blocked"?(s=this.blockedConversations.findIndex(o=>o.id===e.id),s>-1&&this.blockedConversations.splice(s,1)):t==="pending"&&(s=this.pendingConversations.findIndex(o=>o.id===e.id),s>-1&&this.pendingConversations.splice(s,1))},updateChattingAccount(e,t,s=!0,o=!1){o&&(this.chattingAccount.conversationId=e),this.chattingAccount.hasOwnProperty("myChatStatus")&&this.chattingAccount.hasOwnProperty("conversationId")&&this.chattingAccount.conversationId===e?s?(this.chattingAccount.myChatStatus=t,o&&(this.chattingAccount.otherChatStatus="PENDING")):this.chattingAccount.otherChatStatus=t:this.chattingAccount.hasOwnProperty("state")&&this.chattingAccount.hasOwnProperty("conversation_id")&&this.chattingAccount.conversation_id===e&&(s?this.myAccount.state=t:this.chattingAccount.state=t)},updateOnlineAccounts(e,t=null,s="response",o=null,i=!0){let n;if(s==="response")n=this.onlineFollowers.findIndex(r=>r.conversationId===e),n>-1&&(i?this.onlineFollowers[n].myChatStatus=t:this.onlineFollowers[n].otherChatStatus=t),n=this.onlineFollowings.findIndex(r=>r.conversationId===e),n>-1&&(i?this.onlineFollowings[n].myChatStatus=t:this.onlineFollowings[n].otherChatStatus=t);else if(s==="conversation"){let r,f;if(n=o.conversationAccounts.findIndex(m=>m.user_id===this.getUser.id),n===-1)return;n===0?(f=o.conversationAccounts[0],r=o.conversationAccounts[1]):n===1&&(f=o.conversationAccounts[1],r=o.conversationAccounts[0]),n=this.onlineFollowers.findIndex(m=>m.account===r.account&&m.accountId===r.accountId&&m.myAccount===f.account&&m.myAccountId===f.accountId),n>-1&&(this.onlineFollowers[n].conversationId=e),n=this.onlineFollowings.findIndex(m=>m.account===r.account&&m.accountId===r.accountId&&m.myAccount===f.account&&m.myAccountId===f.accountId),n>-1&&(this.onlineFollowings[n].conversationId=e)}},updateConversationAccountState(e){let t=this.conversations.findIndex(s=>s.id===e.conversation_id);if(t>-1){let s=this.conversations[t].conversationAccounts.findIndex(o=>o.id===e.id);s>-1&&this.conversations[t].conversationAccounts.splice(s,1,e)}},clickedConversation({conversation:e,myAccount:t,otherAccount:s}){this.fromToMessages="conversations",this.showChatConversations=!1,this.conversationId=e.id,this.conversationMessaging(e.id),this.showMessages=!0,this.chattingAccount=s,this.myAccount=t,this.setActiveProfile(t),this.scrollDown()},clickedOtherUserAccount(e){this.fromToMessages="accounts",this.showAccounts=!1,this.myAccount={},this.chattingAccount=e,this.conversationId=e.conversationId,this.conversationMessaging(e.conversationId),this.showChatAccounts=!1,this.showMessages=!0},conversationMessaging(e){e===null?(this.chatMessages=[],this.createConversation()):(this.chatMessages=[],this.getChatMessages())},clickedMessageBack(){this.showMessages=!1,this.chatMessagesNextPage=1,this.showMenu=!0,this.fromToMessages==="accounts"?(this.showChatAccounts=!0,this.showAccounts=!0):this.fromToMessages==="conversations"&&(this.showChatConversations=!0),this.answering&&this.clickedClearAnswer()},async createConversation(){let e=null,t={};this.creatingConversation=!0,t.account=this.chattingAccount.myAccount,t.accountId=this.chattingAccount.myAccountId,t.userId=this.getUser.id,t.chatAccount=this.chattingAccount.account,t.chatAccountId=this.chattingAccount.accountId,t.otherUserId=this.chattingAccount.account_user_id,e=await this["profile/createConversation"](t),e.status&&(this.updateChattingAccount(e.conversation.id,"REQUEST",!0,!0),this.conversations.unshift(e.conversation),this.conversationId=e.conversation.id,this.updateOnlineAccounts(e.conversation.id,null,"conversation",e.conversation,!0),this.updateUserFollows({type:"conversation",conversation:e.conversation})),this.creatingConversation=!1},moveConversationUp(e){let t,s;t=this.conversations.findIndex(o=>o.id===e),t>-1&&(s=this.conversations[t],this.conversations.splice(t,1),this.conversations.unshift(s))},moveQuestionDown(e){if(this.conversationId!==e.questionableId)return;let t=this.chatMessages.findIndex(s=>s.id===e.id&&s.hasOwnProperty("question"));t>-1&&this.chatMessages.splice(t,1),this.chatMessages.push(e)},async sendChatQuestion(e){this.messageSending=!0;let t=new FormData,s=this.conversationId,o,i=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;t.append("account",this.getActiveProfile.account),t.append("accountId",this.getActiveProfile.accountId),t.append("chattingUserId",i),t.append("body",e.question),t.append("published",new Date().toDateString()),t.append("scoreOver",e.score?e.score:null),e.file&&e.file.length&&t.append("file",e.file[0]),e.possibleAnswers&&t.append("possibleAnswers",JSON.stringify(e.possibleAnswers)),o=await this["profile/sendChatQuestion"]({conversationId:s,formData:t}),o.status?(this.chatMessages.push(o.chatQuestion),this.chatMessage="",this.moveConversationUp(o.chatQuestion.questionableId),this.computedShowRequestResponse&&this.clickedMessageResponse("accept")):console.log("response :>> ",o),this.messageSending=!1,this.scrollDown()},async sendChatMessage(){if((this.chatMessage===null||this.chatMessage==="")&&this.chatMessageFile===null)return;this.messageSending=!0;let e=null,t=new FormData,s={},o=this.chattingAccount.hasOwnProperty("account_user_id")?this.chattingAccount.account_user_id:this.chattingAccount.user_id;t.append("account",this.getActiveProfile.account),t.append("accountId",this.getActiveProfile.accountId),t.append("chattingUserId",o),s.conversationId=this.conversationId,this.answering?(t.append("questionId",this.questionObject.question.id),this.questionObject.answer?(t.append("possible_answer_id",this.questionObject.answer.id),t.append("answer",this.chatMessage)):this.chatMessageFile?(t.append("file",this.chatMessageFile),t.append("answer",this.chatMessageFileCaption)):t.append("answer",this.chatMessage),s.formData=t,e=await this["profile/sendChatAnswer"](s)):(this.chatMessageFile?(t.append("message",this.chatMessageFileCaption),t.append("file",this.chatMessageFile)):t.append("message",this.chatMessage),t.append("chattingAccount",this.chattingAccount.account),t.append("chattingAccountId",this.chattingAccount.accountId),s.formData=t,e=await this["profile/sendChatMessage"](s)),e.status?(this.answering?(this.moveQuestionDown(e.chatQuestion),this.moveConversationUp(e.chatQuestion.questionableId),this.clickedClearAnswer()):(this.chatMessages.push(e.chatMessage),this.moveConversationUp(e.chatMessage.conversationId)),this.chatMessage="",this.computedShowRequestResponse&&this.clickedMessageResponse("accept")):console.log(e),this.messageSending=!1,this.scrollDown()},async getChatMessages(){if(this.chatMessagesNextPage===null)return;this.messagesLoading=!0;let e=null,t={};if(t.nextPage=this.chatMessagesNextPage,t.conversationId=this.conversationId,e=await this["profile/getChatMessages"](t),e.status){let s=Ft.reverse(e.data);this.chatMessagesNextPage===1?(this.chatMessages.push(...s),this.scrollDown()):this.chatMessages.unshift(...s),e.next?this.chatMessagesNextPage+=1:this.chatMessagesNextPage=null}else console.log(e);this.messagesLoading=!1},async getChatConversations(){if(this.conversationsNextPage===null)return;this.conversationsLoading=!0;let e=null,t={};t.nextPage=this.conversationsNextPage,e=await this["profile/getChatConversations"](t),e.status?(this.conversations.push(...e.data),e.next?this.conversationsNextPage+=1:this.conversationsNextPage=null):console.log(e),this.conversationsLoading=!1},async getBlockedConversations(){if(this.blockedConversationsNextPage===null)return;this.conversationsLoading=!0;let e,t={nextPage:this.blockedConversationsNextPage};e=await this["profile/getBlockedConversations"](t),e.status?(this.blockedConversations.push(...e.data),e.next?this.blockedConversationsNextPage+=1:this.blockedConversationsNextPage=null):console.log(e),this.conversationsLoading=!1},async getPendingConversations(){if(this.pendingConversationsNextPage===null)return;this.conversationsLoading=!0;let e,t={nextPage:this.pendingConversationsNextPage};e=await this["profile/getPendingConversations"](t),e.status?(this.pendingConversations.push(...e.data),e.next?this.pendingConversationsNextPage+=1:this.pendingConversationsNextPage=null):console.log(e),this.conversationsLoading=!1},async infiniteHandler(e){if(this.conversationType==="normal"){if(this.conversationsNextPage===1)return;if(this.conversationsNextPage===null){e.complete();return}}else if(this.conversationType==="blocked"){if(this.blockedConversationsNextPage===1)return;if(this.blockedConversationsNextPage===null){e.complete();return}}else if(this.conversationType==="pending"){if(this.pendingConversationsNextPage===1)return;if(this.pendingConversationsNextPage===null){e.complete();return}}let t,s={nextPage:this.conversationType==="normal"?this.conversationsNextPage:this.conversationType==="blocked"?this.blockedConversationsNextPage:this.conversationType==="pending"?this.pendingConversationsNextPage:null};this.conversationType==="normal"?await this["profile/getChatConversations"](s):this.conversationType==="blocked"?await this["profile/getBlockedConversations"](s):this.conversationType==="pending"&&await this["profile/getPendingConversations"](s),t.next,t.status,e.complete()}}},sm=e=>(gs("data-v-4dac66a4"),e=e(),vs(),e),W1e={slot:"data"},z1e={class:"chat-top-section"},G1e={key:5,class:"message-options"},Y1e={key:0},Q1e={key:6,class:"accounts-section"},K1e={key:7,class:"message-account-section"},J1e={slot:"image"},X1e=["src"],$1e={class:"middle"},Z1e={key:0,class:"online-alert"},ebe={class:"name"},tbe={key:1,class:"account"},sbe={key:2,class:"typing"},nbe={key:1,class:"message-options"},ibe={key:0,class:"chat-accounts-section"},obe={class:"status-sections"},abe={key:0,class:"chat-conversations-section","infinite-wrapper":""},rbe={class:"loading"},lbe={key:1,class:"no-conversations"},cbe={key:0,class:"added-message"},ube=sm(()=>h("template",{slot:"noResults"},[Mt(" that's it :) ")],-1)),dbe={key:0,class:"chat-messages-section",ref:"messagesection"},hbe={key:0,class:"conversation-creation"},fbe=sm(()=>h("h5",null,"creating conversation...",-1)),mbe=[fbe],pbe={key:1,class:"loading"},gbe={key:4,class:"message-sending"},vbe={key:5,class:"no-messages"},ybe=sm(()=>h("h4",null,"No Messages",-1)),wbe=sm(()=>h("div",{class:"added-message"}," you can be the first to send a message ",-1)),_be=[ybe,wbe],bbe={key:6,class:"chat-request-response"},kbe={key:2,class:"response-loading"},Abe={key:0,class:"chat-profile-section"},Cbe={class:"chat-bottom-section"};function Sbe(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("profile-picture"),m=_("other-user-account"),v=_("fade-right"),g=_("pulse-loader"),A=_("conversation-badge"),D=_("infinite-loading"),E=_("message-badge"),T=_("question-badge"),N=_("user-account"),F=_("chat-textarea"),R=_("media-modal"),j=_("just-fade"),W=_("addon-modal");return a(),S(W,{show:!0,loading:i.addonLoading,onClickedClose:n.clickedClose,hasClose:!1},{default:z(()=>[h("template",W1e,[h("div",z1e,[n.computedMenu?(a(),d("div",{key:0,onClick:t[0]||(t[0]=Q=>n.clickedButton("accounts")),class:we(["top-section-item",{active:i.menuText==="accounts"}])},"accounts",2)):c("",!0),n.computedMenu?(a(),d("div",{key:1,onClick:t[1]||(t[1]=Q=>n.clickedButton("conversations")),class:we(["top-section-item",{active:i.menuText==="conversations"}])},"conversations",2)):c("",!0),n.computedMenu?(a(),d("div",{key:2,onClick:t[2]||(t[2]=Q=>n.clickedButton("profile")),class:we(["top-section-item",{active:i.menuText==="profile"}])},"profiles",2)):c("",!0),i.menuText==="conversations"&&i.conversationIcon==="more"&&!i.showMessages?(a(),d("div",{key:3,class:we(["icon-ellipsis",{iconEllipsisRed:i.newConversationAlert}]),onClick:t[3]||(t[3]=Q=>n.clickedConversationOptions("more"))},[b(r,{icon:["fa","ellipsis-v"]})],2)):c("",!0),i.menuText==="conversations"&&i.conversationIcon==="back"&&!i.showMessages?(a(),d("div",{key:4,class:"icon-ellipsis",onClick:t[4]||(t[4]=Q=>n.clickedConversationOptions("back"))},[b(r,{icon:["fa","long-arrow-alt-left"]})])):c("",!0),i.showConversationOptions?(a(),d("div",G1e,[i.conversationType!=="pending"?(a(),d("div",{key:0,class:"option",onClick:t[5]||(t[5]=(...Q)=>n.clickedPendingConversations&&n.clickedPendingConversations(...Q)),title:"conversations pending your acceptance"},[Mt("pending "),i.newPendingConversationsNumber?(a(),d("sup",Y1e,V(i.newPendingConversationsNumber),1)):c("",!0)])):c("",!0),i.conversationType!=="blocked"?(a(),d("div",{key:1,class:"option",onClick:t[6]||(t[6]=(...Q)=>n.clickedBlockedConversations&&n.clickedBlockedConversations(...Q)),title:"conversations declined or blocked"},"blocked")):c("",!0)])):c("",!0),i.showAccounts?(a(),d("div",Q1e,[h("div",{class:we(["account-section-item friends",{accountSectionActive:i.accountSectionText==="friends"}]),onClick:t[7]||(t[7]=Q=>n.clickedAccountSection("friends"))},"friends",2),h("div",{class:we(["account-section-item follwers",{accountSectionActive:i.accountSectionText==="followers"}]),onClick:t[8]||(t[8]=Q=>n.clickedAccountSection("followers"))},"followers",2),h("div",{class:we(["account-section-item followings",{accountSectionActive:i.accountSectionText==="followings"}]),onClick:t[9]||(t[9]=Q=>n.clickedAccountSection("followings"))},"followings",2),h("div",{class:we(["account-section-item back",{accountSectionActive:i.accountSectionText==="back"}]),onClick:t[10]||(t[10]=Q=>n.clickedAccountSection("back"))},[b(r,{icon:["fa","long-arrow-alt-left"]})],2)])):c("",!0),i.showMessages?(a(),d("div",K1e,[b(f,{class:"profile-picture"},{default:z(()=>[h("template",J1e,[h("img",{src:i.chattingAccount.url},null,8,X1e)])]),_:1}),h("div",$1e,[n.computedChattingAccountOnlineStatus?(a(),d("div",Z1e)):c("",!0),h("div",ebe,V(i.chattingAccount.name),1),i.chattingAccountTyping?c("",!0):(a(),d("div",tbe,V(i.chattingAccount.account),1)),i.chattingAccountTyping?(a(),d("div",sbe,"typing...")):c("",!0)]),h("div",{class:"icon",onClick:t[11]||(t[11]=(...Q)=>n.clickedMessageBack&&n.clickedMessageBack(...Q))},[b(r,{icon:["fa","long-arrow-alt-left"]})]),n.computedChatStatus&&!n.computedChatBlock?(a(),d("div",{key:0,class:"icon-ellipsis",onClick:t[12]||(t[12]=(...Q)=>n.clickedMessageOptions&&n.clickedMessageOptions(...Q))},[b(r,{icon:["fa","ellipsis-v"]})])):c("",!0),i.showMessageOptions?(a(),d("div",nbe,[h("div",{class:"option",onClick:t[13]||(t[13]=(...Q)=>n.clickedBlockAccount&&n.clickedBlockAccount(...Q)),title:"block this conversation"},"block")])):c("",!0)])):c("",!0)]),h("div",{class:we(["chat-middle-section",{noBorderBottom:!i.showMessages}])},[b(v,null,{default:z(()=>[i.showChatAccounts?(a(),d("div",ibe,[h("div",obe,[h("div",{class:we(["status-button",{statusActive:i.chattingAccountsStatus==="all"}]),onClick:t[14]||(t[14]=Q=>n.clickedStatusButton("all"))},"all",2),h("div",{class:we(["status-button",{statusActive:i.chattingAccountsStatus==="online"}]),onClick:t[15]||(t[15]=Q=>n.clickedStatusButton("online"))},"online",2)]),(a(!0),d(Z,null,pe(n.computedOtherAccounts,(Q,le)=>(a(),S(m,{key:le,class:"other-user",account:Q,online:n.checkOnlineStatus(Q),friend:i.accountSectionText==="friends",onClickedOtherUserAccount:n.clickedOtherUserAccount},null,8,["account","online","friend","onClickedOtherUserAccount"]))),128))])):c("",!0)]),_:1}),b(v,null,{default:z(()=>[i.showChatConversations?(a(),d("div",abe,[h("div",rbe,[b(g,{loading:i.conversationsLoading,size:"10px"},null,8,["loading"])]),n.computedConversations.length?(a(!0),d(Z,{key:0},pe(n.computedConversations,(Q,le)=>(a(),S(A,{class:"conversation-badge",key:le,conversation:Q,typing:n.setConversationTyping(Q.id),onClickedConversation:n.clickedConversation,onClearConversationTyping:n.clearConversationTyping,onClickedAction:n.clickedUnblockAccount,action:i.conversationType==="blocked"},null,8,["conversation","typing","onClickedConversation","onClearConversationTyping","onClickedAction","action"]))),128)):c("",!0),n.computedNoConversations?(a(),d("div",lbe,[h("h4",null,V(i.conversationType==="blocked"?"No Blocked Conversations":"No Conversations"),1),i.conversationType!=="blocked"?(a(),d("div",cbe," you can create one by clicking an account ")):c("",!0)])):c("",!0),n.computedConversations.length?(a(),S(D,{key:2,onInfinite:n.infiniteHandler,"force-use-infinite-wrapper":""},{default:z(()=>[ube]),_:1},8,["onInfinite"])):c("",!0)])):c("",!0)]),_:1}),b(v,null,{default:z(()=>[i.showMessages?(a(),d("div",dbe,[i.creatingConversation?(a(),d("div",hbe,mbe)):c("",!0),!i.creatingConversation&&i.messagesLoading?(a(),d("div",pbe,[b(g,{loading:i.messagesLoading,size:"10px"},null,8,["loading"])])):c("",!0),n.computedMoreMessages?(a(),d("div",{key:2,class:"more-messages",onClick:t[16]||(t[16]=(...Q)=>n.clickedMoreMessages&&n.clickedMoreMessages(...Q))},[b(r,{icon:["fa","ellipsis-h"]})])):c("",!0),!i.creatingConversation&&i.chatMessages.length?(a(!0),d(Z,{key:3},pe(i.chatMessages,(Q,le)=>(a(),d(Z,null,[Q.hasOwnProperty("message")?(a(),S(E,{class:"message-badge",message:Q,key:le+"message",onClickedMedia:n.clickedMedia,onClickedOption:n.clickedOption},null,8,["message","onClickedMedia","onClickedOption"])):(a(),S(T,{class:"question-badge",question:Q,key:le+"question",onClickedMedia:n.clickedMedia,onClickedAnswer:n.clickedAnswer,onMarkChatAnswer:n.markChatAnswer,onClickedOption:n.clickedOption},null,8,["question","onClickedMedia","onClickedAnswer","onMarkChatAnswer","onClickedOption"]))],64))),256)):c("",!0),i.messageSending?(a(),d("div",gbe,[b(g,{loading:i.messageSending,size:"10px"},null,8,["loading"])])):c("",!0),n.computedNoMessages?(a(),d("div",vbe,_be)):c("",!0),n.computedShowRequestResponse?(a(),d("div",bbe,[i.messageResponseLoading?c("",!0):(a(),d("div",{key:0,class:"accept",onClick:t[17]||(t[17]=Q=>n.clickedMessageResponse("accept")),title:"accept to chat this account"},"accept")),!i.messageResponseLoading&&!n.computedChatStatus?(a(),d("div",{key:1,class:"decline",onClick:t[18]||(t[18]=Q=>n.clickedMessageResponse("decline")),title:"decline to chat this account"},"decline")):c("",!0),i.messageResponseLoading?(a(),d("div",kbe,[b(g,{loading:i.messageResponseLoading,size:"10px"},null,8,["loading"])])):c("",!0)])):c("",!0)],512)):c("",!0)]),_:1}),b(v,null,{default:z(()=>[i.showChatProfile?(a(),d("div",Abe,[(a(!0),d(Z,null,pe(n.computedProfiles,(Q,le)=>(a(),S(N,{key:le,account:Q,isActive:n.makeActiveProfile(Q),onClickedActivate:n.clickedActivate,class:"user-account-item"},null,8,["account","isActive","onClickedActivate"]))),128))])):c("",!0)]),_:1})],2),h("div",Cbe,[i.showMessages?(a(),S(F,{key:0,placeholder:"anything to say?",modelValue:i.chatMessage,"onUpdate:modelValue":t[19]||(t[19]=Q=>i.chatMessage=Q),onSendMessage:n.sendChatMessage,onSendQuestion:n.sendChatQuestion,onFileChange:n.chatFileChange,onClickedClearAnswer:n.clickedClearAnswer,disabledChat:!n.computedOtherChatStatus||!n.computedChatStatus,blocked:n.computedChatBlock,answer:i.answering,possibleAnswer:!!(i.questionObject&&i.questionObject.answer)},null,8,["modelValue","onSendMessage","onSendQuestion","onFileChange","onClickedClearAnswer","disabledChat","blocked","answer","possibleAnswer"])):c("",!0)]),b(j,null,{default:z(()=>[i.showMediaModal?(a(),S(R,{key:0,show:i.showMediaModal,justUrl:!0,url:i.mediaModalUrl.url,urlType:i.mediaModalUrl.type,onMainModalDisappear:n.closeMediaModal},null,8,["show","url","urlType","onMainModalDisappear"])):c("",!0)]),_:1})])]),_:1},8,["loading","onClickedClose"])}const Ibe=Ae(H1e,[["render",Sbe],["__scopeId","data-v-4dac66a4"]]),Tbe={props:{show:{type:Boolean,default:!1}},components:{SlideRightGroup:Lv,ItemShow:NC},data(){return{saves:[],savesNextPage:1,savesType:"all",addonLoading:!1,savesLoading:!1,showMore:!1,showNoMore:!1,showNoSaves:!1}},watch:{show:{immediate:!0,handler(e){e&&!this.saves.length&&(this.addonLoading=!0,this.savesLoading=!0,this.showNoSaves=!1,this.getSaved())}},savesType(e){this.savesNextPage=1,this.addonLoading=!0,this.showMore=!1,this.getSaved()}},computed:{computedNoSaves(){return this.showNoSaves&&!this.savesLoading&&this.savesNextPage<2&&!this.saves.length}},methods:{...ss(["getUserSaved","profile/deleteSave"]),async clickedUnsave(e){let t=null,s={saveId:e.save.id};if(t=await this["profile/deleteSave"](s),t.status){let o=this.saves.findIndex(i=>{if(e.item==="comment"&&i.hasOwnProperty("commentedby_type"))return i.id===e.itemId;if(e.item==="post"&&i.hasOwnProperty("addedby_type"))return i.id===e.itemId;if(e.item==="answer"&&i.hasOwnProperty("answeredby_type"))return i.id===e.itemId});o>-1&&this.saves.splice(o,1)}},getMoreSaved(){this.showMore&&(this.showMore=!1,this.savesLoading=!0,this.getSaved())},async getSaved(){if(!this.savesNextPage)return;let e=null,t={nextPage:this.savesNextPage,type:this.savesType};e=await this.getUserSaved(t),console.log(e),e!=="unsuccessful"&&(this.saves=this.savesNextPage<2?e.data:this.saves.push(...respnse.data),e.next?(this.savesNextPage+=1,this.showMore=!0):(this.savesNextPage=null,this.showNoMore=!0)),this.savesLoading=!1,this.addonLoading=!1,this.showNoSaves=!0},clickedClose(){this.$emit("clickedClose","saves")}}},Dbe={slot:"data"},xbe={class:"top-section"},Pbe={class:"saves-section"},Mbe={key:0,class:"no-saves"},Ebe={slot:"transition"},Obe={key:1,class:"loading"},Rbe={key:2,class:"show-more"},Nbe={key:3,class:"no-more"};function Lbe(e,t,s,o,i,n){const r=_("item-show"),f=_("slide-right-group"),m=_("pulse-loader"),v=_("font-awesome-icon"),g=_("addon-modal");return a(),S(g,{show:s.show,loading:i.addonLoading,onClickedClose:n.clickedClose,title:"Get access to all your saved posts, comments and answers. Note: You can unsave them as well"},{default:z(()=>[h("template",Dbe,[h("div",xbe,[h("div",{class:we(["top-section-item",{itemActive:i.savesType==="all"}]),onClick:t[0]||(t[0]=A=>i.savesType="all")},"all",2),h("div",{class:we(["top-section-item",{itemActive:i.savesType==="posts"}]),onClick:t[1]||(t[1]=A=>i.savesType="posts")},"posts",2),h("div",{class:we(["top-section-item",{itemActive:i.savesType==="comments"}]),onClick:t[2]||(t[2]=A=>i.savesType="comments")},"comments",2),h("div",{class:we(["top-section-item",{itemActive:i.savesType==="answers"}]),onClick:t[3]||(t[3]=A=>i.savesType="answers")},"answers",2)]),h("div",Pbe,[n.computedNoSaves?(a(),d("div",Mbe," you have no saves ")):c("",!0),b(f,null,{default:z(()=>[h("template",Ebe,[(a(!0),d(Z,null,pe(i.saves,(A,D)=>(a(),d("div",{key:D},[b(r,{data:A,actionButtonText:"unsave",onClickedAction:n.clickedUnsave},null,8,["data","onClickedAction"])]))),128))])]),_:1}),i.savesLoading?(a(),d("div",Obe,[b(m,{loading:i.savesLoading,size:"10px"},null,8,["loading"])])):c("",!0),i.showMore&&!i.savesLoading?(a(),d("div",Rbe,[b(v,{icon:["fa","ellipsis-h"]})])):c("",!0),!n.computedNoSaves&&i.showNoMore&&!i.savesLoading?(a(),d("div",Nbe," no more saves... ")):c("",!0)])])]),_:1},8,["show","loading","onClickedClose"])}const Fbe=Ae(Tbe,[["render",Lbe],["__scopeId","data-v-0ac3812c"]]),Ube={key:0,class:"main-addons-section"},Bbe={__name:"UserAddons",setup(e){const t=_i(),s=at(!1),o=at(!1),i=at(!1),n=at(!1),r=at(""),f=Wt(()=>!!(t.getters.getUser&&t.getters.getProfiles));Us(()=>r.value,g=>{g==="chat"?(n.value=!0,o.value=!1,i.value=!1):g==="flags"?(n.value=!1,o.value=!0,i.value=!1):g==="saves"&&(n.value=!1,o.value=!1,i.value=!0)});function m(){console.log(s.value,"showing"),s.value=!s.value}function v(g){console.log(),g==="saves"?i.value=!1:g==="flags"?o.value=!1:g==="chat"&&(n.value=!1),r.value=""}return(g,A)=>{const D=_("font-awesome-icon");return f.value?(a(),d("div",{key:0,class:we(["user-addons-wrapper",{userAddonWidth:s.value}])},[h("div",{class:"addon-button",onClick:m},[b(D,{icon:["fa","ellipsis-v"]})]),b(ma,null,Oa({_:2},[s.value?{name:"transition",fn:z(()=>[s.value?(a(),d("div",Ube,[h("div",{class:we(["addon-section-item",{itemActive:r.value==="chat"}]),onClick:A[0]||(A[0]=E=>r.value="chat")},"chat",2),h("div",{class:we(["addon-section-item",{itemActive:r.value==="flags"}]),onClick:A[1]||(A[1]=E=>r.value="flags")},"flags",2),h("div",{class:we(["addon-section-item",{itemActive:r.value==="saves"}]),onClick:A[2]||(A[2]=E=>r.value="saves")},"saves",2)])):c("",!0)]),key:"0"}:void 0]),1024),b(uo,null,Oa({_:2},[s.value&&n.value?{name:"transition",fn:z(()=>[b(Ibe,{onClickedClose:v})]),key:"0"}:void 0]),1024),b(uo,null,Oa({_:2},[s.value&&o.value?{name:"transition",fn:z(()=>[b(v_e,{show:o.value,onClickedClose:v},null,8,["show"])]),key:"0"}:void 0]),1024),b(uo,null,Oa({_:2},[s.value&&i.value?{name:"transition",fn:z(()=>[b(Fbe,{show:i.value,onClickedClose:v},null,8,["show"])]),key:"0"}:void 0]),1024)],2)):c("",!0)}}},jbe=Ae(Bbe,[["__scopeId","data-v-7d9cd51e"]]),Vbe={props:{show:{type:Boolean,default:!1},fullHeight:{type:Boolean,default:!1},transparent:{type:Boolean,default:!1},hasClose:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},title:{type:String,default:""}},components:{JustFade:uo},methods:{clickedClose(){this.$emit("clickedClose")}}},qbe={key:1,class:"title"},Hbe={key:2,class:"loading"};function Wbe(e,t,s,o,i,n){const r=_("font-awesome-icon"),f=_("pulse-loader"),m=_("just-fade");return a(),S(m,null,{default:z(()=>[s.show?(a(),d("div",{key:0,class:"addon-modal-wrapper",onClick:t[1]||(t[1]=Vt((...v)=>n.clickedClose&&n.clickedClose(...v),["self"]))},[h("div",{class:we(["addon-modal-main",{transparent:s.transparent}])},[s.hasClose?(a(),d("div",{key:0,class:"close",onClick:t[0]||(t[0]=(...v)=>n.clickedClose&&n.clickedClose(...v))},[b(r,{icon:["fa","times"]})])):c("",!0),s.title.length?(a(),d("div",qbe,V(s.title),1)):c("",!0),s.loading?(a(),d("div",Hbe,[b(f,{loading:s.loading},null,8,["loading"])])):c("",!0),s.loading?c("",!0):(a(),d("div",{key:3,class:we(["addon-data",{fullHeight:s.fullHeight}])},[Jt(e.$slots,"data",{},void 0,!0)],2))],2)])):c("",!0)]),_:3})}const zbe=Ae(Vbe,[["render",Wbe],["__scopeId","data-v-c007cda9"]]),Gbe={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},Ybe={class:"v-spinner"};function Qbe(e,t,s,o,i,n){return cn((a(),d("div",Ybe,[h("div",{class:"v-pulse v-pulse1",style:Pi([i.spinnerStyle,i.spinnerDelay1])},null,4),h("div",{class:"v-pulse v-pulse2",style:Pi([i.spinnerStyle,i.spinnerDelay2])},null,4),h("div",{class:"v-pulse v-pulse3",style:Pi([i.spinnerStyle,i.spinnerDelay3])},null,4)],512)),[[Fa,s.loading]])}const Kbe=Ae(Gbe,[["render",Qbe]]),Jbe={name:"DotLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"60px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},computed:{spinnerStyle(){return{backgroundColor:this.color,height:parseFloat(this.size)/2+"px",width:parseFloat(this.size)/2+"px",borderRadius:this.radius}},spinnerBasicStyle(){return{height:this.size,width:this.size,position:"relative"}}}},Xbe={class:"v-spinner"};function $be(e,t,s,o,i,n){return cn((a(),d("div",Xbe,[h("div",{class:"v-dot v-dot1",style:Pi(n.spinnerBasicStyle)},[h("div",{class:"v-dot v-dot2",style:Pi(n.spinnerStyle)},null,4),h("div",{class:"v-dot v-dot3",style:Pi(n.spinnerStyle)},null,4)],4)],512)),[[Fa,s.loading]])}const Zbe=Ae(Jbe,[["render",$be]]),eke={name:"SyncLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-syncStretchDelay",animationDuration:"0.6s",animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.07s"},spinnerDelay2:{animationDelay:"0.14s"},spinnerDelay3:{animationDelay:"0.21s"}}}},tke={class:"v-spinner"};function ske(e,t,s,o,i,n){return cn((a(),d("div",tke,[h("div",{class:"v-sync v-sync1",style:Pi([i.spinnerStyle,i.spinnerDelay1])},null,4),h("div",{class:"v-sync v-sync2",style:Pi([i.spinnerStyle,i.spinnerDelay2])},null,4),h("div",{class:"v-sync v-sync3",style:Pi([i.spinnerStyle,i.spinnerDelay3])},null,4)],512)),[[Fa,s.loading]])}const nke=Ae(eke,[["render",ske]]),ike={name:"RotateLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,height:this.size,width:this.size,margin:this.margin,borderRadius:this.radius}}}},oke={class:"v-spinner"};function ake(e,t,s,o,i,n){return cn((a(),d("div",oke,[h("div",{class:"v-rotate v-rotate1",style:Pi(i.spinnerStyle)},[h("div",{class:"v-rotate v-rotate2",style:Pi(i.spinnerStyle)},null,4),h("div",{class:"v-rotate v-rotate3",style:Pi(i.spinnerStyle)},null,4)],4)],512)),[[Fa,s.loading]])}const rke=Ae(ike,[["render",ake]]);function FC(e,t){return function(){return e.apply(t,arguments)}}const{toString:lke}=Object.prototype,{getPrototypeOf:Xv}=Object,nm=(e=>t=>{const s=lke.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ja=e=>(e=e.toLowerCase(),t=>nm(t)===e),im=e=>t=>typeof t===e,{isArray:_u}=Array,gd=im("undefined");function cke(e){return e!==null&&!gd(e)&&e.constructor!==null&&!gd(e.constructor)&&ha(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const UC=ja("ArrayBuffer");function uke(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&UC(e.buffer),t}const dke=im("string"),ha=im("function"),BC=im("number"),om=e=>e!==null&&typeof e=="object",hke=e=>e===!0||e===!1,Yh=e=>{if(nm(e)!=="object")return!1;const t=Xv(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},fke=ja("Date"),mke=ja("File"),pke=ja("Blob"),gke=ja("FileList"),vke=e=>om(e)&&ha(e.pipe),yke=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ha(e.append)&&((t=nm(e))==="formdata"||t==="object"&&ha(e.toString)&&e.toString()==="[object FormData]"))},wke=ja("URLSearchParams"),[_ke,bke,kke,Ake]=["ReadableStream","Request","Response","Headers"].map(ja),Cke=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fd(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let o,i;if(typeof e!="object"&&(e=[e]),_u(e))for(o=0,i=e.length;o<i;o++)t.call(null,e[o],o,e);else{const n=s?Object.getOwnPropertyNames(e):Object.keys(e),r=n.length;let f;for(o=0;o<r;o++)f=n[o],t.call(null,e[f],f,e)}}function jC(e,t){t=t.toLowerCase();const s=Object.keys(e);let o=s.length,i;for(;o-- >0;)if(i=s[o],t===i.toLowerCase())return i;return null}const VC=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qC=e=>!gd(e)&&e!==VC;function xg(){const{caseless:e}=qC(this)&&this||{},t={},s=(o,i)=>{const n=e&&jC(t,i)||i;Yh(t[n])&&Yh(o)?t[n]=xg(t[n],o):Yh(o)?t[n]=xg({},o):_u(o)?t[n]=o.slice():t[n]=o};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&Fd(arguments[o],s);return t}const Ske=(e,t,s,{allOwnKeys:o}={})=>(Fd(t,(i,n)=>{s&&ha(i)?e[n]=FC(i,s):e[n]=i},{allOwnKeys:o}),e),Ike=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Tke=(e,t,s,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Dke=(e,t,s,o)=>{let i,n,r;const f={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),n=i.length;n-- >0;)r=i[n],(!o||o(r,e,t))&&!f[r]&&(t[r]=e[r],f[r]=!0);e=s!==!1&&Xv(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},xke=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const o=e.indexOf(t,s);return o!==-1&&o===s},Pke=e=>{if(!e)return null;if(_u(e))return e;let t=e.length;if(!BC(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Mke=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Xv(Uint8Array)),Eke=(e,t)=>{const o=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=o.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},Oke=(e,t)=>{let s;const o=[];for(;(s=e.exec(t))!==null;)o.push(s);return o},Rke=ja("HTMLFormElement"),Nke=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,i){return o.toUpperCase()+i}),B1=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Lke=ja("RegExp"),HC=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),o={};Fd(s,(i,n)=>{let r;(r=t(i,n,e))!==!1&&(o[n]=r||i)}),Object.defineProperties(e,o)},Fke=e=>{HC(e,(t,s)=>{if(ha(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=e[s];if(ha(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Uke=(e,t)=>{const s={},o=i=>{i.forEach(n=>{s[n]=!0})};return _u(e)?o(e):o(String(e).split(t)),s},Bke=()=>{},jke=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Gp="abcdefghijklmnopqrstuvwxyz",j1="0123456789",WC={DIGIT:j1,ALPHA:Gp,ALPHA_DIGIT:Gp+Gp.toUpperCase()+j1},Vke=(e=16,t=WC.ALPHA_DIGIT)=>{let s="";const{length:o}=t;for(;e--;)s+=t[Math.random()*o|0];return s};function qke(e){return!!(e&&ha(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Hke=e=>{const t=new Array(10),s=(o,i)=>{if(om(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[i]=o;const n=_u(o)?[]:{};return Fd(o,(r,f)=>{const m=s(r,i+1);!gd(m)&&(n[f]=m)}),t[i]=void 0,n}}return o};return s(e,0)},Wke=ja("AsyncFunction"),zke=e=>e&&(om(e)||ha(e))&&ha(e.then)&&ha(e.catch),Ye={isArray:_u,isArrayBuffer:UC,isBuffer:cke,isFormData:yke,isArrayBufferView:uke,isString:dke,isNumber:BC,isBoolean:hke,isObject:om,isPlainObject:Yh,isReadableStream:_ke,isRequest:bke,isResponse:kke,isHeaders:Ake,isUndefined:gd,isDate:fke,isFile:mke,isBlob:pke,isRegExp:Lke,isFunction:ha,isStream:vke,isURLSearchParams:wke,isTypedArray:Mke,isFileList:gke,forEach:Fd,merge:xg,extend:Ske,trim:Cke,stripBOM:Ike,inherits:Tke,toFlatObject:Dke,kindOf:nm,kindOfTest:ja,endsWith:xke,toArray:Pke,forEachEntry:Eke,matchAll:Oke,isHTMLForm:Rke,hasOwnProperty:B1,hasOwnProp:B1,reduceDescriptors:HC,freezeMethods:Fke,toObjectSet:Uke,toCamelCase:Nke,noop:Bke,toFiniteNumber:jke,findKey:jC,global:VC,isContextDefined:qC,ALPHABET:WC,generateString:Vke,isSpecCompliantForm:qke,toJSONObject:Hke,isAsyncFn:Wke,isThenable:zke};function Ps(e,t,s,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),i&&(this.response=i)}Ye.inherits(Ps,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zC=Ps.prototype,GC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GC[e]={value:e}});Object.defineProperties(Ps,GC);Object.defineProperty(zC,"isAxiosError",{value:!0});Ps.from=(e,t,s,o,i,n)=>{const r=Object.create(zC);return Ye.toFlatObject(e,r,function(m){return m!==Error.prototype},f=>f!=="isAxiosError"),Ps.call(r,e.message,t,s,o,i),r.cause=e,r.name=e.name,n&&Object.assign(r,n),r};const Gke=null;function Pg(e){return Ye.isPlainObject(e)||Ye.isArray(e)}function YC(e){return Ye.endsWith(e,"[]")?e.slice(0,-2):e}function V1(e,t,s){return e?e.concat(t).map(function(i,n){return i=YC(i),!s&&n?"["+i+"]":i}).join(s?".":""):t}function Yke(e){return Ye.isArray(e)&&!e.some(Pg)}const Qke=Ye.toFlatObject(Ye,{},null,function(t){return/^is[A-Z]/.test(t)});function am(e,t,s){if(!Ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=Ye.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,F){return!Ye.isUndefined(F[N])});const o=s.metaTokens,i=s.visitor||g,n=s.dots,r=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(t);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function v(T){if(T===null)return"";if(Ye.isDate(T))return T.toISOString();if(!m&&Ye.isBlob(T))throw new Ps("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(T)||Ye.isTypedArray(T)?m&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function g(T,N,F){let R=T;if(T&&!F&&typeof T=="object"){if(Ye.endsWith(N,"{}"))N=o?N:N.slice(0,-2),T=JSON.stringify(T);else if(Ye.isArray(T)&&Yke(T)||(Ye.isFileList(T)||Ye.endsWith(N,"[]"))&&(R=Ye.toArray(T)))return N=YC(N),R.forEach(function(W,Q){!(Ye.isUndefined(W)||W===null)&&t.append(r===!0?V1([N],Q,n):r===null?N:N+"[]",v(W))}),!1}return Pg(T)?!0:(t.append(V1(F,N,n),v(T)),!1)}const A=[],D=Object.assign(Qke,{defaultVisitor:g,convertValue:v,isVisitable:Pg});function E(T,N){if(!Ye.isUndefined(T)){if(A.indexOf(T)!==-1)throw Error("Circular reference detected in "+N.join("."));A.push(T),Ye.forEach(T,function(R,j){(!(Ye.isUndefined(R)||R===null)&&i.call(t,R,Ye.isString(j)?j.trim():j,N,D))===!0&&E(R,N?N.concat(j):[j])}),A.pop()}}if(!Ye.isObject(e))throw new TypeError("data must be an object");return E(e),t}function q1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function $v(e,t){this._pairs=[],e&&am(e,this,t)}const QC=$v.prototype;QC.append=function(t,s){this._pairs.push([t,s])};QC.toString=function(t){const s=t?function(o){return t.call(this,o,q1)}:q1;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Kke(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KC(e,t,s){if(!t)return e;const o=s&&s.encode||Kke,i=s&&s.serialize;let n;if(i?n=i(t,s):n=Ye.isURLSearchParams(t)?t.toString():new $v(t,s).toString(o),n){const r=e.indexOf("#");r!==-1&&(e=e.slice(0,r)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}class H1{constructor(){this.handlers=[]}use(t,s,o){return this.handlers.push({fulfilled:t,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ye.forEach(this.handlers,function(o){o!==null&&t(o)})}}const JC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Jke=typeof URLSearchParams<"u"?URLSearchParams:$v,Xke=typeof FormData<"u"?FormData:null,$ke=typeof Blob<"u"?Blob:null,Zke={isBrowser:!0,classes:{URLSearchParams:Jke,FormData:Xke,Blob:$ke},protocols:["http","https","file","blob","url","data"]},Zv=typeof window<"u"&&typeof document<"u",eAe=(e=>Zv&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),tAe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sAe=Zv&&window.location.href||"http://localhost",nAe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zv,hasStandardBrowserEnv:eAe,hasStandardBrowserWebWorkerEnv:tAe,origin:sAe},Symbol.toStringTag,{value:"Module"})),La={...nAe,...Zke};function iAe(e,t){return am(e,new La.classes.URLSearchParams,Object.assign({visitor:function(s,o,i,n){return La.isNode&&Ye.isBuffer(s)?(this.append(o,s.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}function oAe(e){return Ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function aAe(e){const t={},s=Object.keys(e);let o;const i=s.length;let n;for(o=0;o<i;o++)n=s[o],t[n]=e[n];return t}function XC(e){function t(s,o,i,n){let r=s[n++];if(r==="__proto__")return!0;const f=Number.isFinite(+r),m=n>=s.length;return r=!r&&Ye.isArray(i)?i.length:r,m?(Ye.hasOwnProp(i,r)?i[r]=[i[r],o]:i[r]=o,!f):((!i[r]||!Ye.isObject(i[r]))&&(i[r]=[]),t(s,o,i[r],n)&&Ye.isArray(i[r])&&(i[r]=aAe(i[r])),!f)}if(Ye.isFormData(e)&&Ye.isFunction(e.entries)){const s={};return Ye.forEachEntry(e,(o,i)=>{t(oAe(o),i,s,0)}),s}return null}function rAe(e,t,s){if(Ye.isString(e))try{return(t||JSON.parse)(e),Ye.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(e)}const Ud={transitional:JC,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const o=s.getContentType()||"",i=o.indexOf("application/json")>-1,n=Ye.isObject(t);if(n&&Ye.isHTMLForm(t)&&(t=new FormData(t)),Ye.isFormData(t))return i?JSON.stringify(XC(t)):t;if(Ye.isArrayBuffer(t)||Ye.isBuffer(t)||Ye.isStream(t)||Ye.isFile(t)||Ye.isBlob(t)||Ye.isReadableStream(t))return t;if(Ye.isArrayBufferView(t))return t.buffer;if(Ye.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(n){if(o.indexOf("application/x-www-form-urlencoded")>-1)return iAe(t,this.formSerializer).toString();if((f=Ye.isFileList(t))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return am(f?{"files[]":t}:t,m&&new m,this.formSerializer)}}return n||i?(s.setContentType("application/json",!1),rAe(t)):t}],transformResponse:[function(t){const s=this.transitional||Ud.transitional,o=s&&s.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(t)||Ye.isReadableStream(t))return t;if(t&&Ye.isString(t)&&(o&&!this.responseType||i)){const r=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(f){if(r)throw f.name==="SyntaxError"?Ps.from(f,Ps.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:La.classes.FormData,Blob:La.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],e=>{Ud.headers[e]={}});const lAe=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),cAe=e=>{const t={};let s,o,i;return e&&e.split(`
`).forEach(function(r){i=r.indexOf(":"),s=r.substring(0,i).trim().toLowerCase(),o=r.substring(i+1).trim(),!(!s||t[s]&&lAe[s])&&(s==="set-cookie"?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)}),t},W1=Symbol("internals");function qu(e){return e&&String(e).trim().toLowerCase()}function Qh(e){return e===!1||e==null?e:Ye.isArray(e)?e.map(Qh):String(e)}function uAe(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(e);)t[o[1]]=o[2];return t}const dAe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Yp(e,t,s,o,i){if(Ye.isFunction(o))return o.call(this,t,s);if(i&&(t=s),!!Ye.isString(t)){if(Ye.isString(o))return t.indexOf(o)!==-1;if(Ye.isRegExp(o))return o.test(t)}}function hAe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,o)=>s.toUpperCase()+o)}function fAe(e,t){const s=Ye.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+s,{value:function(i,n,r){return this[o].call(this,t,i,n,r)},configurable:!0})})}class ho{constructor(t){t&&this.set(t)}set(t,s,o){const i=this;function n(f,m,v){const g=qu(m);if(!g)throw new Error("header name must be a non-empty string");const A=Ye.findKey(i,g);(!A||i[A]===void 0||v===!0||v===void 0&&i[A]!==!1)&&(i[A||m]=Qh(f))}const r=(f,m)=>Ye.forEach(f,(v,g)=>n(v,g,m));if(Ye.isPlainObject(t)||t instanceof this.constructor)r(t,s);else if(Ye.isString(t)&&(t=t.trim())&&!dAe(t))r(cAe(t),s);else if(Ye.isHeaders(t))for(const[f,m]of t.entries())n(m,f,o);else t!=null&&n(s,t,o);return this}get(t,s){if(t=qu(t),t){const o=Ye.findKey(this,t);if(o){const i=this[o];if(!s)return i;if(s===!0)return uAe(i);if(Ye.isFunction(s))return s.call(this,i,o);if(Ye.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=qu(t),t){const o=Ye.findKey(this,t);return!!(o&&this[o]!==void 0&&(!s||Yp(this,this[o],o,s)))}return!1}delete(t,s){const o=this;let i=!1;function n(r){if(r=qu(r),r){const f=Ye.findKey(o,r);f&&(!s||Yp(o,o[f],f,s))&&(delete o[f],i=!0)}}return Ye.isArray(t)?t.forEach(n):n(t),i}clear(t){const s=Object.keys(this);let o=s.length,i=!1;for(;o--;){const n=s[o];(!t||Yp(this,this[n],n,t,!0))&&(delete this[n],i=!0)}return i}normalize(t){const s=this,o={};return Ye.forEach(this,(i,n)=>{const r=Ye.findKey(o,n);if(r){s[r]=Qh(i),delete s[n];return}const f=t?hAe(n):String(n).trim();f!==n&&delete s[n],s[f]=Qh(i),o[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return Ye.forEach(this,(o,i)=>{o!=null&&o!==!1&&(s[i]=t&&Ye.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const o=new this(t);return s.forEach(i=>o.set(i)),o}static accessor(t){const o=(this[W1]=this[W1]={accessors:{}}).accessors,i=this.prototype;function n(r){const f=qu(r);o[f]||(fAe(i,r),o[f]=!0)}return Ye.isArray(t)?t.forEach(n):n(t),this}}ho.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(ho.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[s]=o}}});Ye.freezeMethods(ho);function Qp(e,t){const s=this||Ud,o=t||s,i=ho.from(o.headers);let n=o.data;return Ye.forEach(e,function(f){n=f.call(s,n,i.normalize(),t?t.status:void 0)}),i.normalize(),n}function $C(e){return!!(e&&e.__CANCEL__)}function bu(e,t,s){Ps.call(this,e??"canceled",Ps.ERR_CANCELED,t,s),this.name="CanceledError"}Ye.inherits(bu,Ps,{__CANCEL__:!0});function ZC(e,t,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?e(s):t(new Ps("Request failed with status code "+s.status,[Ps.ERR_BAD_REQUEST,Ps.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function mAe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function pAe(e,t){e=e||10;const s=new Array(e),o=new Array(e);let i=0,n=0,r;return t=t!==void 0?t:1e3,function(m){const v=Date.now(),g=o[n];r||(r=v),s[i]=m,o[i]=v;let A=n,D=0;for(;A!==i;)D+=s[A++],A=A%e;if(i=(i+1)%e,i===n&&(n=(n+1)%e),v-r<t)return;const E=g&&v-g;return E?Math.round(D*1e3/E):void 0}}function gAe(e,t){let s=0;const o=1e3/t;let i=null;return function(){const r=this===!0,f=Date.now();if(r||f-s>o)return i&&(clearTimeout(i),i=null),s=f,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,s=Date.now(),e.apply(null,arguments)),o-(f-s)))}}const ff=(e,t,s=3)=>{let o=0;const i=pAe(50,250);return gAe(n=>{const r=n.loaded,f=n.lengthComputable?n.total:void 0,m=r-o,v=i(m),g=r<=f;o=r;const A={loaded:r,total:f,progress:f?r/f:void 0,bytes:m,rate:v||void 0,estimated:v&&f&&g?(f-r)/v:void 0,event:n,lengthComputable:f!=null};A[t?"download":"upload"]=!0,e(A)},s)},vAe=La.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let o;function i(n){let r=n;return t&&(s.setAttribute("href",r),r=s.href),s.setAttribute("href",r),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return o=i(window.location.href),function(r){const f=Ye.isString(r)?i(r):r;return f.protocol===o.protocol&&f.host===o.host}}():function(){return function(){return!0}}(),yAe=La.hasStandardBrowserEnv?{write(e,t,s,o,i,n){const r=[e+"="+encodeURIComponent(t)];Ye.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),Ye.isString(o)&&r.push("path="+o),Ye.isString(i)&&r.push("domain="+i),n===!0&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function wAe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _Ae(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function e0(e,t){return e&&!wAe(t)?_Ae(e,t):t}const z1=e=>e instanceof ho?{...e}:e;function gc(e,t){t=t||{};const s={};function o(v,g,A){return Ye.isPlainObject(v)&&Ye.isPlainObject(g)?Ye.merge.call({caseless:A},v,g):Ye.isPlainObject(g)?Ye.merge({},g):Ye.isArray(g)?g.slice():g}function i(v,g,A){if(Ye.isUndefined(g)){if(!Ye.isUndefined(v))return o(void 0,v,A)}else return o(v,g,A)}function n(v,g){if(!Ye.isUndefined(g))return o(void 0,g)}function r(v,g){if(Ye.isUndefined(g)){if(!Ye.isUndefined(v))return o(void 0,v)}else return o(void 0,g)}function f(v,g,A){if(A in t)return o(v,g);if(A in e)return o(void 0,v)}const m={url:n,method:n,data:n,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:f,headers:(v,g)=>i(z1(v),z1(g),!0)};return Ye.forEach(Object.keys(Object.assign({},e,t)),function(g){const A=m[g]||i,D=A(e[g],t[g],g);Ye.isUndefined(D)&&A!==f||(s[g]=D)}),s}const t0=e=>{const t=gc({},e);let{data:s,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:n,headers:r,auth:f}=t;t.headers=r=ho.from(r),t.url=KC(e0(t.baseURL,t.url),e.params,e.paramsSerializer),f&&r.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let m;if(Ye.isFormData(s)){if(La.hasStandardBrowserEnv||La.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((m=r.getContentType())!==!1){const[v,...g]=m?m.split(";").map(A=>A.trim()).filter(Boolean):[];r.setContentType([v||"multipart/form-data",...g].join("; "))}}if(La.hasStandardBrowserEnv&&(o&&Ye.isFunction(o)&&(o=o(t)),o||o!==!1&&vAe(t.url))){const v=i&&n&&yAe.read(n);v&&r.set(i,v)}return t},bAe=typeof XMLHttpRequest<"u",kAe=bAe&&function(e){return new Promise(function(s,o){const i=t0(e);let n=i.data;const r=ho.from(i.headers).normalize();let{responseType:f}=i,m;function v(){i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let g=new XMLHttpRequest;g.open(i.method.toUpperCase(),i.url,!0),g.timeout=i.timeout;function A(){if(!g)return;const E=ho.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),N={data:!f||f==="text"||f==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:E,config:e,request:g};ZC(function(R){s(R),v()},function(R){o(R),v()},N),g=null}"onloadend"in g?g.onloadend=A:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(A)},g.onabort=function(){g&&(o(new Ps("Request aborted",Ps.ECONNABORTED,i,g)),g=null)},g.onerror=function(){o(new Ps("Network Error",Ps.ERR_NETWORK,i,g)),g=null},g.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const N=i.transitional||JC;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),o(new Ps(T,N.clarifyTimeoutError?Ps.ETIMEDOUT:Ps.ECONNABORTED,i,g)),g=null},n===void 0&&r.setContentType(null),"setRequestHeader"in g&&Ye.forEach(r.toJSON(),function(T,N){g.setRequestHeader(N,T)}),Ye.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),f&&f!=="json"&&(g.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&g.addEventListener("progress",ff(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",ff(i.onUploadProgress)),(i.cancelToken||i.signal)&&(m=E=>{g&&(o(!E||E.type?new bu(null,e,g):E),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const D=mAe(i.url);if(D&&La.protocols.indexOf(D)===-1){o(new Ps("Unsupported protocol "+D+":",Ps.ERR_BAD_REQUEST,e));return}g.send(n||null)})},AAe=(e,t)=>{let s=new AbortController,o;const i=function(m){if(!o){o=!0,r();const v=m instanceof Error?m:this.reason;s.abort(v instanceof Ps?v:new bu(v instanceof Error?v.message:v))}};let n=t&&setTimeout(()=>{i(new Ps(`timeout ${t} of ms exceeded`,Ps.ETIMEDOUT))},t);const r=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(m=>{m&&(m.removeEventListener?m.removeEventListener("abort",i):m.unsubscribe(i))}),e=null)};e.forEach(m=>m&&m.addEventListener&&m.addEventListener("abort",i));const{signal:f}=s;return f.unsubscribe=r,[f,()=>{n&&clearTimeout(n),n=null}]},CAe=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let o=0,i;for(;o<s;)i=o+t,yield e.slice(o,i),o=i},SAe=async function*(e,t,s){for await(const o of e)yield*CAe(ArrayBuffer.isView(o)?o:await s(String(o)),t)},G1=(e,t,s,o,i)=>{const n=SAe(e,t,i);let r=0;return new ReadableStream({type:"bytes",async pull(f){const{done:m,value:v}=await n.next();if(m){f.close(),o();return}let g=v.byteLength;s&&s(r+=g),f.enqueue(new Uint8Array(v))},cancel(f){return o(f),n.return()}},{highWaterMark:2})},Y1=(e,t)=>{const s=e!=null;return o=>setTimeout(()=>t({lengthComputable:s,total:e,loaded:o}))},rm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",s0=rm&&typeof ReadableStream=="function",Mg=rm&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),IAe=s0&&(()=>{let e=!1;const t=new Request(La.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),Q1=64*1024,Eg=s0&&!!(()=>{try{return Ye.isReadableStream(new Response("").body)}catch{}})(),mf={stream:Eg&&(e=>e.body)};rm&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!mf[t]&&(mf[t]=Ye.isFunction(e[t])?s=>s[t]():(s,o)=>{throw new Ps(`Response type '${t}' is not supported`,Ps.ERR_NOT_SUPPORT,o)})})})(new Response);const TAe=async e=>{if(e==null)return 0;if(Ye.isBlob(e))return e.size;if(Ye.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(e))return e.byteLength;if(Ye.isURLSearchParams(e)&&(e=e+""),Ye.isString(e))return(await Mg(e)).byteLength},DAe=async(e,t)=>{const s=Ye.toFiniteNumber(e.getContentLength());return s??TAe(t)},xAe=rm&&(async e=>{let{url:t,method:s,data:o,signal:i,cancelToken:n,timeout:r,onDownloadProgress:f,onUploadProgress:m,responseType:v,headers:g,withCredentials:A="same-origin",fetchOptions:D}=t0(e);v=v?(v+"").toLowerCase():"text";let[E,T]=i||n||r?AAe([i,n],r):[],N,F;const R=()=>{!N&&setTimeout(()=>{E&&E.unsubscribe()}),N=!0};let j;try{if(m&&IAe&&s!=="get"&&s!=="head"&&(j=await DAe(g,o))!==0){let me=new Request(t,{method:"POST",body:o,duplex:"half"}),k;Ye.isFormData(o)&&(k=me.headers.get("content-type"))&&g.setContentType(k),me.body&&(o=G1(me.body,Q1,Y1(j,ff(m)),null,Mg))}Ye.isString(A)||(A=A?"cors":"omit"),F=new Request(t,{...D,signal:E,method:s.toUpperCase(),headers:g.normalize().toJSON(),body:o,duplex:"half",withCredentials:A});let W=await fetch(F);const Q=Eg&&(v==="stream"||v==="response");if(Eg&&(f||Q)){const me={};["status","statusText","headers"].forEach(Ce=>{me[Ce]=W[Ce]});const k=Ye.toFiniteNumber(W.headers.get("content-length"));W=new Response(G1(W.body,Q1,f&&Y1(k,ff(f,!0)),Q&&R,Mg),me)}v=v||"text";let le=await mf[Ye.findKey(mf,v)||"text"](W,e);return!Q&&R(),T&&T(),await new Promise((me,k)=>{ZC(me,k,{data:le,headers:ho.from(W.headers),status:W.status,statusText:W.statusText,config:e,request:F})})}catch(W){throw R(),W&&W.name==="TypeError"&&/fetch/i.test(W.message)?Object.assign(new Ps("Network Error",Ps.ERR_NETWORK,e,F),{cause:W.cause||W}):Ps.from(W,W&&W.code,e,F)}}),Og={http:Gke,xhr:kAe,fetch:xAe};Ye.forEach(Og,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const K1=e=>`- ${e}`,PAe=e=>Ye.isFunction(e)||e===null||e===!1,n0={getAdapter:e=>{e=Ye.isArray(e)?e:[e];const{length:t}=e;let s,o;const i={};for(let n=0;n<t;n++){s=e[n];let r;if(o=s,!PAe(s)&&(o=Og[(r=String(s)).toLowerCase()],o===void 0))throw new Ps(`Unknown adapter '${r}'`);if(o)break;i[r||"#"+n]=o}if(!o){const n=Object.entries(i).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let r=t?n.length>1?`since :
`+n.map(K1).join(`
`):" "+K1(n[0]):"as no adapter specified";throw new Ps("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return o},adapters:Og};function Kp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new bu(null,e)}function J1(e){return Kp(e),e.headers=ho.from(e.headers),e.data=Qp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),n0.getAdapter(e.adapter||Ud.adapter)(e).then(function(o){return Kp(e),o.data=Qp.call(e,e.transformResponse,o),o.headers=ho.from(o.headers),o},function(o){return $C(o)||(Kp(e),o&&o.response&&(o.response.data=Qp.call(e,e.transformResponse,o.response),o.response.headers=ho.from(o.response.headers))),Promise.reject(o)})}const i0="1.7.2",ey={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ey[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const X1={};ey.transitional=function(t,s,o){function i(n,r){return"[Axios v"+i0+"] Transitional option '"+n+"'"+r+(o?". "+o:"")}return(n,r,f)=>{if(t===!1)throw new Ps(i(r," has been removed"+(s?" in "+s:"")),Ps.ERR_DEPRECATED);return s&&!X1[r]&&(X1[r]=!0,console.warn(i(r," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(n,r,f):!0}};function MAe(e,t,s){if(typeof e!="object")throw new Ps("options must be an object",Ps.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let i=o.length;for(;i-- >0;){const n=o[i],r=t[n];if(r){const f=e[n],m=f===void 0||r(f,n,e);if(m!==!0)throw new Ps("option "+n+" must be "+m,Ps.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ps("Unknown option "+n,Ps.ERR_BAD_OPTION)}}const Rg={assertOptions:MAe,validators:ey},ml=Rg.validators;class hc{constructor(t){this.defaults=t,this.interceptors={request:new H1,response:new H1}}async request(t,s){try{return await this._request(t,s)}catch(o){if(o instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const n=i.stack?i.stack.replace(/^.+\n/,""):"";try{o.stack?n&&!String(o.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+n):o.stack=n}catch{}}throw o}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=gc(this.defaults,s);const{transitional:o,paramsSerializer:i,headers:n}=s;o!==void 0&&Rg.assertOptions(o,{silentJSONParsing:ml.transitional(ml.boolean),forcedJSONParsing:ml.transitional(ml.boolean),clarifyTimeoutError:ml.transitional(ml.boolean)},!1),i!=null&&(Ye.isFunction(i)?s.paramsSerializer={serialize:i}:Rg.assertOptions(i,{encode:ml.function,serialize:ml.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let r=n&&Ye.merge(n.common,n[s.method]);n&&Ye.forEach(["delete","get","head","post","put","patch","common"],T=>{delete n[T]}),s.headers=ho.concat(r,n);const f=[];let m=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(s)===!1||(m=m&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const v=[];this.interceptors.response.forEach(function(N){v.push(N.fulfilled,N.rejected)});let g,A=0,D;if(!m){const T=[J1.bind(this),void 0];for(T.unshift.apply(T,f),T.push.apply(T,v),D=T.length,g=Promise.resolve(s);A<D;)g=g.then(T[A++],T[A++]);return g}D=f.length;let E=s;for(A=0;A<D;){const T=f[A++],N=f[A++];try{E=T(E)}catch(F){N.call(this,F);break}}try{g=J1.call(this,E)}catch(T){return Promise.reject(T)}for(A=0,D=v.length;A<D;)g=g.then(v[A++],v[A++]);return g}getUri(t){t=gc(this.defaults,t);const s=e0(t.baseURL,t.url);return KC(s,t.params,t.paramsSerializer)}}Ye.forEach(["delete","get","head","options"],function(t){hc.prototype[t]=function(s,o){return this.request(gc(o||{},{method:t,url:s,data:(o||{}).data}))}});Ye.forEach(["post","put","patch"],function(t){function s(o){return function(n,r,f){return this.request(gc(f||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}hc.prototype[t]=s(),hc.prototype[t+"Form"]=s(!0)});class ty{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(n){s=n});const o=this;this.promise.then(i=>{if(!o._listeners)return;let n=o._listeners.length;for(;n-- >0;)o._listeners[n](i);o._listeners=null}),this.promise.then=i=>{let n;const r=new Promise(f=>{o.subscribe(f),n=f}).then(i);return r.cancel=function(){o.unsubscribe(n)},r},t(function(n,r,f){o.reason||(o.reason=new bu(n,r,f),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}static source(){let t;return{token:new ty(function(i){t=i}),cancel:t}}}function EAe(e){return function(s){return e.apply(null,s)}}function OAe(e){return Ye.isObject(e)&&e.isAxiosError===!0}const Ng={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ng).forEach(([e,t])=>{Ng[t]=e});function o0(e){const t=new hc(e),s=FC(hc.prototype.request,t);return Ye.extend(s,hc.prototype,t,{allOwnKeys:!0}),Ye.extend(s,t,null,{allOwnKeys:!0}),s.create=function(i){return o0(gc(e,i))},s}const zn=o0(Ud);zn.Axios=hc;zn.CanceledError=bu;zn.CancelToken=ty;zn.isCancel=$C;zn.VERSION=i0;zn.toFormData=am;zn.AxiosError=Ps;zn.Cancel=zn.CanceledError;zn.all=function(t){return Promise.all(t)};zn.spread=EAe;zn.isAxiosError=OAe;zn.mergeConfig=gc;zn.AxiosHeaders=ho;zn.formToJSON=e=>XC(Ye.isHTMLForm(e)?new FormData(e):e);zn.getAdapter=n0.getAdapter;zn.HttpStatusCode=Ng;zn.default=zn;var $1={exports:{}},Jp={exports:{}};/*!
 * jQuery JavaScript Library v3.7.1
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-08-28T13:37Z
 */var Z1;function RAe(){return Z1||(Z1=1,function(e){(function(t,s){e.exports=t.document?s(t,!0):function(o){if(!o.document)throw new Error("jQuery requires a window with a document");return s(o)}})(typeof window<"u"?window:ac,function(t,s){var o=[],i=Object.getPrototypeOf,n=o.slice,r=o.flat?function(p){return o.flat.call(p)}:function(p){return o.concat.apply([],p)},f=o.push,m=o.indexOf,v={},g=v.toString,A=v.hasOwnProperty,D=A.toString,E=D.call(Object),T={},N=function(w){return typeof w=="function"&&typeof w.nodeType!="number"&&typeof w.item!="function"},F=function(w){return w!=null&&w===w.window},R=t.document,j={type:!0,src:!0,nonce:!0,noModule:!0};function W(p,w,I){I=I||R;var x,U,B=I.createElement("script");if(B.text=p,w)for(x in j)U=w[x]||w.getAttribute&&w.getAttribute(x),U&&B.setAttribute(x,U);I.head.appendChild(B).parentNode.removeChild(B)}function Q(p){return p==null?p+"":typeof p=="object"||typeof p=="function"?v[g.call(p)]||"object":typeof p}var le="3.7.1",me=/HTML$/i,k=function(p,w){return new k.fn.init(p,w)};k.fn=k.prototype={jquery:le,constructor:k,length:0,toArray:function(){return n.call(this)},get:function(p){return p==null?n.call(this):p<0?this[p+this.length]:this[p]},pushStack:function(p){var w=k.merge(this.constructor(),p);return w.prevObject=this,w},each:function(p){return k.each(this,p)},map:function(p){return this.pushStack(k.map(this,function(w,I){return p.call(w,I,w)}))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(p,w){return(w+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(p,w){return w%2}))},eq:function(p){var w=this.length,I=+p+(p<0?w:0);return this.pushStack(I>=0&&I<w?[this[I]]:[])},end:function(){return this.prevObject||this.constructor()},push:f,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var p,w,I,x,U,B,H=arguments[0]||{},fe=1,ie=arguments.length,Se=!1;for(typeof H=="boolean"&&(Se=H,H=arguments[fe]||{},fe++),typeof H!="object"&&!N(H)&&(H={}),fe===ie&&(H=this,fe--);fe<ie;fe++)if((p=arguments[fe])!=null)for(w in p)x=p[w],!(w==="__proto__"||H===x)&&(Se&&x&&(k.isPlainObject(x)||(U=Array.isArray(x)))?(I=H[w],U&&!Array.isArray(I)?B=[]:!U&&!k.isPlainObject(I)?B={}:B=I,U=!1,H[w]=k.extend(Se,B,x)):x!==void 0&&(H[w]=x));return H},k.extend({expando:"jQuery"+(le+Math.random()).replace(/\D/g,""),isReady:!0,error:function(p){throw new Error(p)},noop:function(){},isPlainObject:function(p){var w,I;return!p||g.call(p)!=="[object Object]"?!1:(w=i(p),w?(I=A.call(w,"constructor")&&w.constructor,typeof I=="function"&&D.call(I)===E):!0)},isEmptyObject:function(p){var w;for(w in p)return!1;return!0},globalEval:function(p,w,I){W(p,{nonce:w&&w.nonce},I)},each:function(p,w){var I,x=0;if(Ce(p))for(I=p.length;x<I&&w.call(p[x],x,p[x])!==!1;x++);else for(x in p)if(w.call(p[x],x,p[x])===!1)break;return p},text:function(p){var w,I="",x=0,U=p.nodeType;if(!U)for(;w=p[x++];)I+=k.text(w);return U===1||U===11?p.textContent:U===9?p.documentElement.textContent:U===3||U===4?p.nodeValue:I},makeArray:function(p,w){var I=w||[];return p!=null&&(Ce(Object(p))?k.merge(I,typeof p=="string"?[p]:p):f.call(I,p)),I},inArray:function(p,w,I){return w==null?-1:m.call(w,p,I)},isXMLDoc:function(p){var w=p&&p.namespaceURI,I=p&&(p.ownerDocument||p).documentElement;return!me.test(w||I&&I.nodeName||"HTML")},merge:function(p,w){for(var I=+w.length,x=0,U=p.length;x<I;x++)p[U++]=w[x];return p.length=U,p},grep:function(p,w,I){for(var x,U=[],B=0,H=p.length,fe=!I;B<H;B++)x=!w(p[B],B),x!==fe&&U.push(p[B]);return U},map:function(p,w,I){var x,U,B=0,H=[];if(Ce(p))for(x=p.length;B<x;B++)U=w(p[B],B,I),U!=null&&H.push(U);else for(B in p)U=w(p[B],B,I),U!=null&&H.push(U);return r(H)},guid:1,support:T}),typeof Symbol=="function"&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(p,w){v["[object "+w+"]"]=w.toLowerCase()});function Ce(p){var w=!!p&&"length"in p&&p.length,I=Q(p);return N(p)||F(p)?!1:I==="array"||w===0||typeof w=="number"&&w>0&&w-1 in p}function he(p,w){return p.nodeName&&p.nodeName.toLowerCase()===w.toLowerCase()}var Ke=o.pop,Te=o.sort,Ve=o.splice,ut="[\\x20\\t\\r\\n\\f]",de=new RegExp("^"+ut+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ut+"+$","g");k.contains=function(p,w){var I=w&&w.parentNode;return p===I||!!(I&&I.nodeType===1&&(p.contains?p.contains(I):p.compareDocumentPosition&&p.compareDocumentPosition(I)&16))};var We=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function Qt(p,w){return w?p==="\0"?"":p.slice(0,-1)+"\\"+p.charCodeAt(p.length-1).toString(16)+" ":"\\"+p}k.escapeSelector=function(p){return(p+"").replace(We,Qt)};var Lt=R,wt=f;(function(){var p,w,I,x,U,B=wt,H,fe,ie,Se,je,He=k.expando,Ee=0,lt=0,It=Ko(),ms=Ko(),Ht=Ko(),pn=Ko(),rn=function(te,ve){return te===ve&&(U=!0),0},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",C="(?:\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+ut+"*("+C+")(?:"+ut+"*([*^$|!~]?=)"+ut+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+C+"))|)"+ut+"*\\]",X=":("+C+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+O+")*)|.*)\\)|)",se=new RegExp(ut+"+","g"),Le=new RegExp("^"+ut+"*,"+ut+"*"),pt=new RegExp("^"+ut+"*([>+~]|"+ut+")"+ut+"*"),Ot=new RegExp(ut+"|>"),$t=new RegExp(X),ws=new RegExp("^"+C+"$"),As={ID:new RegExp("^#("+C+")"),CLASS:new RegExp("^\\.("+C+")"),TAG:new RegExp("^("+C+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+X),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ut+"*(even|odd|(([+-]|)(\\d*)n|)"+ut+"*(?:([+-]|)"+ut+"*(\\d+)|))"+ut+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+ut+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ut+"*((?:-\\d)?\\d*)"+ut+"*\\)|)(?=[^-]|$)","i")},zs=/^(?:input|select|textarea|button)$/i,di=/^h\d$/i,qn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Qo=/[+~]/,Oi=new RegExp("\\\\[\\da-fA-F]{1,6}"+ut+"?|\\\\([^\\r\\n\\f])","g"),ti=function(te,ve){var Oe="0x"+te.slice(1)-65536;return ve||(Oe<0?String.fromCharCode(Oe+65536):String.fromCharCode(Oe>>10|55296,Oe&1023|56320))},gn=function(){Xi()},Za=Aa(function(te){return te.disabled===!0&&he(te,"fieldset")},{dir:"parentNode",next:"legend"});function Ji(){try{return H.activeElement}catch{}}try{B.apply(o=n.call(Lt.childNodes),Lt.childNodes),o[Lt.childNodes.length].nodeType}catch{B={apply:function(ve,Oe){wt.apply(ve,n.call(Oe))},call:function(ve){wt.apply(ve,n.call(arguments,1))}}}function Cs(te,ve,Oe,Fe){var $,_e,ye,Ge,et,Rt,Nt,Dt=ve&&ve.ownerDocument,Ss=ve?ve.nodeType:9;if(Oe=Oe||[],typeof te!="string"||!te||Ss!==1&&Ss!==9&&Ss!==11)return Oe;if(!Fe&&(Xi(ve),ve=ve||H,ie)){if(Ss!==11&&(et=qn.exec(te)))if($=et[1]){if(Ss===9)if(ye=ve.getElementById($)){if(ye.id===$)return B.call(Oe,ye),Oe}else return Oe;else if(Dt&&(ye=Dt.getElementById($))&&Cs.contains(ve,ye)&&ye.id===$)return B.call(Oe,ye),Oe}else{if(et[2])return B.apply(Oe,ve.getElementsByTagName(te)),Oe;if(($=et[3])&&ve.getElementsByClassName)return B.apply(Oe,ve.getElementsByClassName($)),Oe}if(!pn[te+" "]&&(!Se||!Se.test(te))){if(Nt=te,Dt=ve,Ss===1&&(Ot.test(te)||pt.test(te))){for(Dt=Qo.test(te)&&ka(ve.parentNode)||ve,(Dt!=ve||!T.scope)&&((Ge=ve.getAttribute("id"))?Ge=k.escapeSelector(Ge):ve.setAttribute("id",Ge=He)),Rt=hi(te),_e=Rt.length;_e--;)Rt[_e]=(Ge?"#"+Ge:":scope")+" "+fi(Rt[_e]);Nt=Rt.join(",")}try{return B.apply(Oe,Dt.querySelectorAll(Nt)),Oe}catch{pn(te,!0)}finally{Ge===He&&ve.removeAttribute("id")}}}return Tc(te.replace(de,"$1"),ve,Oe,Fe)}function Ko(){var te=[];function ve(Oe,Fe){return te.push(Oe+" ")>w.cacheLength&&delete ve[te.shift()],ve[Oe+" "]=Fe}return ve}function Gn(te){return te[He]=!0,te}function bo(te){var ve=H.createElement("fieldset");try{return!!te(ve)}catch{return!1}finally{ve.parentNode&&ve.parentNode.removeChild(ve),ve=null}}function Cr(te){return function(ve){return he(ve,"input")&&ve.type===te}}function ko(te){return function(ve){return(he(ve,"input")||he(ve,"button"))&&ve.type===te}}function Ao(te){return function(ve){return"form"in ve?ve.parentNode&&ve.disabled===!1?"label"in ve?"label"in ve.parentNode?ve.parentNode.disabled===te:ve.disabled===te:ve.isDisabled===te||ve.isDisabled!==!te&&Za(ve)===te:ve.disabled===te:"label"in ve?ve.disabled===te:!1}}function In(te){return Gn(function(ve){return ve=+ve,Gn(function(Oe,Fe){for(var $,_e=te([],Oe.length,ve),ye=_e.length;ye--;)Oe[$=_e[ye]]&&(Oe[$]=!(Fe[$]=Oe[$]))})})}function ka(te){return te&&typeof te.getElementsByTagName<"u"&&te}function Xi(te){var ve,Oe=te?te.ownerDocument||te:Lt;return Oe==H||Oe.nodeType!==9||!Oe.documentElement||(H=Oe,fe=H.documentElement,ie=!k.isXMLDoc(H),je=fe.matches||fe.webkitMatchesSelector||fe.msMatchesSelector,fe.msMatchesSelector&&Lt!=H&&(ve=H.defaultView)&&ve.top!==ve&&ve.addEventListener("unload",gn),T.getById=bo(function(Fe){return fe.appendChild(Fe).id=k.expando,!H.getElementsByName||!H.getElementsByName(k.expando).length}),T.disconnectedMatch=bo(function(Fe){return je.call(Fe,"*")}),T.scope=bo(function(){return H.querySelectorAll(":scope")}),T.cssHas=bo(function(){try{return H.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(w.filter.ID=function(Fe){var $=Fe.replace(Oi,ti);return function(_e){return _e.getAttribute("id")===$}},w.find.ID=function(Fe,$){if(typeof $.getElementById<"u"&&ie){var _e=$.getElementById(Fe);return _e?[_e]:[]}}):(w.filter.ID=function(Fe){var $=Fe.replace(Oi,ti);return function(_e){var ye=typeof _e.getAttributeNode<"u"&&_e.getAttributeNode("id");return ye&&ye.value===$}},w.find.ID=function(Fe,$){if(typeof $.getElementById<"u"&&ie){var _e,ye,Ge,et=$.getElementById(Fe);if(et){if(_e=et.getAttributeNode("id"),_e&&_e.value===Fe)return[et];for(Ge=$.getElementsByName(Fe),ye=0;et=Ge[ye++];)if(_e=et.getAttributeNode("id"),_e&&_e.value===Fe)return[et]}return[]}}),w.find.TAG=function(Fe,$){return typeof $.getElementsByTagName<"u"?$.getElementsByTagName(Fe):$.querySelectorAll(Fe)},w.find.CLASS=function(Fe,$){if(typeof $.getElementsByClassName<"u"&&ie)return $.getElementsByClassName(Fe)},Se=[],bo(function(Fe){var $;fe.appendChild(Fe).innerHTML="<a id='"+He+"' href='' disabled='disabled'></a><select id='"+He+"-\r\\' disabled='disabled'><option selected=''></option></select>",Fe.querySelectorAll("[selected]").length||Se.push("\\["+ut+"*(?:value|"+L+")"),Fe.querySelectorAll("[id~="+He+"-]").length||Se.push("~="),Fe.querySelectorAll("a#"+He+"+*").length||Se.push(".#.+[+~]"),Fe.querySelectorAll(":checked").length||Se.push(":checked"),$=H.createElement("input"),$.setAttribute("type","hidden"),Fe.appendChild($).setAttribute("name","D"),fe.appendChild(Fe).disabled=!0,Fe.querySelectorAll(":disabled").length!==2&&Se.push(":enabled",":disabled"),$=H.createElement("input"),$.setAttribute("name",""),Fe.appendChild($),Fe.querySelectorAll("[name='']").length||Se.push("\\["+ut+"*name"+ut+"*="+ut+`*(?:''|"")`)}),T.cssHas||Se.push(":has"),Se=Se.length&&new RegExp(Se.join("|")),rn=function(Fe,$){if(Fe===$)return U=!0,0;var _e=!Fe.compareDocumentPosition-!$.compareDocumentPosition;return _e||(_e=(Fe.ownerDocument||Fe)==($.ownerDocument||$)?Fe.compareDocumentPosition($):1,_e&1||!T.sortDetached&&$.compareDocumentPosition(Fe)===_e?Fe===H||Fe.ownerDocument==Lt&&Cs.contains(Lt,Fe)?-1:$===H||$.ownerDocument==Lt&&Cs.contains(Lt,$)?1:x?m.call(x,Fe)-m.call(x,$):0:_e&4?-1:1)}),H}Cs.matches=function(te,ve){return Cs(te,null,null,ve)},Cs.matchesSelector=function(te,ve){if(Xi(te),ie&&!pn[ve+" "]&&(!Se||!Se.test(ve)))try{var Oe=je.call(te,ve);if(Oe||T.disconnectedMatch||te.document&&te.document.nodeType!==11)return Oe}catch{pn(ve,!0)}return Cs(ve,H,null,[te]).length>0},Cs.contains=function(te,ve){return(te.ownerDocument||te)!=H&&Xi(te),k.contains(te,ve)},Cs.attr=function(te,ve){(te.ownerDocument||te)!=H&&Xi(te);var Oe=w.attrHandle[ve.toLowerCase()],Fe=Oe&&A.call(w.attrHandle,ve.toLowerCase())?Oe(te,ve,!ie):void 0;return Fe!==void 0?Fe:te.getAttribute(ve)},Cs.error=function(te){throw new Error("Syntax error, unrecognized expression: "+te)},k.uniqueSort=function(te){var ve,Oe=[],Fe=0,$=0;if(U=!T.sortStable,x=!T.sortStable&&n.call(te,0),Te.call(te,rn),U){for(;ve=te[$++];)ve===te[$]&&(Fe=Oe.push($));for(;Fe--;)Ve.call(te,Oe[Fe],1)}return x=null,te},k.fn.uniqueSort=function(){return this.pushStack(k.uniqueSort(n.apply(this)))},w=k.expr={cacheLength:50,createPseudo:Gn,match:As,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(te){return te[1]=te[1].replace(Oi,ti),te[3]=(te[3]||te[4]||te[5]||"").replace(Oi,ti),te[2]==="~="&&(te[3]=" "+te[3]+" "),te.slice(0,4)},CHILD:function(te){return te[1]=te[1].toLowerCase(),te[1].slice(0,3)==="nth"?(te[3]||Cs.error(te[0]),te[4]=+(te[4]?te[5]+(te[6]||1):2*(te[3]==="even"||te[3]==="odd")),te[5]=+(te[7]+te[8]||te[3]==="odd")):te[3]&&Cs.error(te[0]),te},PSEUDO:function(te){var ve,Oe=!te[6]&&te[2];return As.CHILD.test(te[0])?null:(te[3]?te[2]=te[4]||te[5]||"":Oe&&$t.test(Oe)&&(ve=hi(Oe,!0))&&(ve=Oe.indexOf(")",Oe.length-ve)-Oe.length)&&(te[0]=te[0].slice(0,ve),te[2]=Oe.slice(0,ve)),te.slice(0,3))}},filter:{TAG:function(te){var ve=te.replace(Oi,ti).toLowerCase();return te==="*"?function(){return!0}:function(Oe){return he(Oe,ve)}},CLASS:function(te){var ve=It[te+" "];return ve||(ve=new RegExp("(^|"+ut+")"+te+"("+ut+"|$)"))&&It(te,function(Oe){return ve.test(typeof Oe.className=="string"&&Oe.className||typeof Oe.getAttribute<"u"&&Oe.getAttribute("class")||"")})},ATTR:function(te,ve,Oe){return function(Fe){var $=Cs.attr(Fe,te);return $==null?ve==="!=":ve?($+="",ve==="="?$===Oe:ve==="!="?$!==Oe:ve==="^="?Oe&&$.indexOf(Oe)===0:ve==="*="?Oe&&$.indexOf(Oe)>-1:ve==="$="?Oe&&$.slice(-Oe.length)===Oe:ve==="~="?(" "+$.replace(se," ")+" ").indexOf(Oe)>-1:ve==="|="?$===Oe||$.slice(0,Oe.length+1)===Oe+"-":!1):!0}},CHILD:function(te,ve,Oe,Fe,$){var _e=te.slice(0,3)!=="nth",ye=te.slice(-4)!=="last",Ge=ve==="of-type";return Fe===1&&$===0?function(et){return!!et.parentNode}:function(et,Rt,Nt){var Dt,Ss,zt,Es,bn,An=_e!==ye?"nextSibling":"previousSibling",Nn=et.parentNode,pi=Ge&&et.nodeName.toLowerCase(),Co=!Nt&&!Ge,as=!1;if(Nn){if(_e){for(;An;){for(zt=et;zt=zt[An];)if(Ge?he(zt,pi):zt.nodeType===1)return!1;bn=An=te==="only"&&!bn&&"nextSibling"}return!0}if(bn=[ye?Nn.firstChild:Nn.lastChild],ye&&Co){for(Ss=Nn[He]||(Nn[He]={}),Dt=Ss[te]||[],Es=Dt[0]===Ee&&Dt[1],as=Es&&Dt[2],zt=Es&&Nn.childNodes[Es];zt=++Es&&zt&&zt[An]||(as=Es=0)||bn.pop();)if(zt.nodeType===1&&++as&&zt===et){Ss[te]=[Ee,Es,as];break}}else if(Co&&(Ss=et[He]||(et[He]={}),Dt=Ss[te]||[],Es=Dt[0]===Ee&&Dt[1],as=Es),as===!1)for(;(zt=++Es&&zt&&zt[An]||(as=Es=0)||bn.pop())&&!((Ge?he(zt,pi):zt.nodeType===1)&&++as&&(Co&&(Ss=zt[He]||(zt[He]={}),Ss[te]=[Ee,as]),zt===et)););return as-=$,as===Fe||as%Fe===0&&as/Fe>=0}}},PSEUDO:function(te,ve){var Oe,Fe=w.pseudos[te]||w.setFilters[te.toLowerCase()]||Cs.error("unsupported pseudo: "+te);return Fe[He]?Fe(ve):Fe.length>1?(Oe=[te,te,"",ve],w.setFilters.hasOwnProperty(te.toLowerCase())?Gn(function($,_e){for(var ye,Ge=Fe($,ve),et=Ge.length;et--;)ye=m.call($,Ge[et]),$[ye]=!(_e[ye]=Ge[et])}):function($){return Fe($,0,Oe)}):Fe}},pseudos:{not:Gn(function(te){var ve=[],Oe=[],Fe=$o(te.replace(de,"$1"));return Fe[He]?Gn(function($,_e,ye,Ge){for(var et,Rt=Fe($,null,Ge,[]),Nt=$.length;Nt--;)(et=Rt[Nt])&&($[Nt]=!(_e[Nt]=et))}):function($,_e,ye){return ve[0]=$,Fe(ve,null,ye,Oe),ve[0]=null,!Oe.pop()}}),has:Gn(function(te){return function(ve){return Cs(te,ve).length>0}}),contains:Gn(function(te){return te=te.replace(Oi,ti),function(ve){return(ve.textContent||k.text(ve)).indexOf(te)>-1}}),lang:Gn(function(te){return ws.test(te||"")||Cs.error("unsupported lang: "+te),te=te.replace(Oi,ti).toLowerCase(),function(ve){var Oe;do if(Oe=ie?ve.lang:ve.getAttribute("xml:lang")||ve.getAttribute("lang"))return Oe=Oe.toLowerCase(),Oe===te||Oe.indexOf(te+"-")===0;while((ve=ve.parentNode)&&ve.nodeType===1);return!1}}),target:function(te){var ve=t.location&&t.location.hash;return ve&&ve.slice(1)===te.id},root:function(te){return te===fe},focus:function(te){return te===Ji()&&H.hasFocus()&&!!(te.type||te.href||~te.tabIndex)},enabled:Ao(!1),disabled:Ao(!0),checked:function(te){return he(te,"input")&&!!te.checked||he(te,"option")&&!!te.selected},selected:function(te){return te.parentNode&&te.parentNode.selectedIndex,te.selected===!0},empty:function(te){for(te=te.firstChild;te;te=te.nextSibling)if(te.nodeType<6)return!1;return!0},parent:function(te){return!w.pseudos.empty(te)},header:function(te){return di.test(te.nodeName)},input:function(te){return zs.test(te.nodeName)},button:function(te){return he(te,"input")&&te.type==="button"||he(te,"button")},text:function(te){var ve;return he(te,"input")&&te.type==="text"&&((ve=te.getAttribute("type"))==null||ve.toLowerCase()==="text")},first:In(function(){return[0]}),last:In(function(te,ve){return[ve-1]}),eq:In(function(te,ve,Oe){return[Oe<0?Oe+ve:Oe]}),even:In(function(te,ve){for(var Oe=0;Oe<ve;Oe+=2)te.push(Oe);return te}),odd:In(function(te,ve){for(var Oe=1;Oe<ve;Oe+=2)te.push(Oe);return te}),lt:In(function(te,ve,Oe){var Fe;for(Oe<0?Fe=Oe+ve:Oe>ve?Fe=ve:Fe=Oe;--Fe>=0;)te.push(Fe);return te}),gt:In(function(te,ve,Oe){for(var Fe=Oe<0?Oe+ve:Oe;++Fe<ve;)te.push(Fe);return te})}},w.pseudos.nth=w.pseudos.eq;for(p in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[p]=Cr(p);for(p in{submit:!0,reset:!0})w.pseudos[p]=ko(p);function er(){}er.prototype=w.filters=w.pseudos,w.setFilters=new er;function hi(te,ve){var Oe,Fe,$,_e,ye,Ge,et,Rt=ms[te+" "];if(Rt)return ve?0:Rt.slice(0);for(ye=te,Ge=[],et=w.preFilter;ye;){(!Oe||(Fe=Le.exec(ye)))&&(Fe&&(ye=ye.slice(Fe[0].length)||ye),Ge.push($=[])),Oe=!1,(Fe=pt.exec(ye))&&(Oe=Fe.shift(),$.push({value:Oe,type:Fe[0].replace(de," ")}),ye=ye.slice(Oe.length));for(_e in w.filter)(Fe=As[_e].exec(ye))&&(!et[_e]||(Fe=et[_e](Fe)))&&(Oe=Fe.shift(),$.push({value:Oe,type:_e,matches:Fe}),ye=ye.slice(Oe.length));if(!Oe)break}return ve?ye.length:ye?Cs.error(te):ms(te,Ge).slice(0)}function fi(te){for(var ve=0,Oe=te.length,Fe="";ve<Oe;ve++)Fe+=te[ve].value;return Fe}function Aa(te,ve,Oe){var Fe=ve.dir,$=ve.next,_e=$||Fe,ye=Oe&&_e==="parentNode",Ge=lt++;return ve.first?function(et,Rt,Nt){for(;et=et[Fe];)if(et.nodeType===1||ye)return te(et,Rt,Nt);return!1}:function(et,Rt,Nt){var Dt,Ss,zt=[Ee,Ge];if(Nt){for(;et=et[Fe];)if((et.nodeType===1||ye)&&te(et,Rt,Nt))return!0}else for(;et=et[Fe];)if(et.nodeType===1||ye)if(Ss=et[He]||(et[He]={}),$&&he(et,$))et=et[Fe]||et;else{if((Dt=Ss[_e])&&Dt[0]===Ee&&Dt[1]===Ge)return zt[2]=Dt[2];if(Ss[_e]=zt,zt[2]=te(et,Rt,Nt))return!0}return!1}}function Wl(te){return te.length>1?function(ve,Oe,Fe){for(var $=te.length;$--;)if(!te[$](ve,Oe,Fe))return!1;return!0}:te[0]}function Au(te,ve,Oe){for(var Fe=0,$=ve.length;Fe<$;Fe++)Cs(te,ve[Fe],Oe);return Oe}function Xr(te,ve,Oe,Fe,$){for(var _e,ye=[],Ge=0,et=te.length,Rt=ve!=null;Ge<et;Ge++)(_e=te[Ge])&&(!Oe||Oe(_e,Fe,$))&&(ye.push(_e),Rt&&ve.push(Ge));return ye}function Jo(te,ve,Oe,Fe,$,_e){return Fe&&!Fe[He]&&(Fe=Jo(Fe)),$&&!$[He]&&($=Jo($,_e)),Gn(function(ye,Ge,et,Rt){var Nt,Dt,Ss,zt,Es=[],bn=[],An=Ge.length,Nn=ye||Au(ve||"*",et.nodeType?[et]:et,[]),pi=te&&(ye||!ve)?Xr(Nn,Es,te,et,Rt):Nn;if(Oe?(zt=$||(ye?te:An||Fe)?[]:Ge,Oe(pi,zt,et,Rt)):zt=pi,Fe)for(Nt=Xr(zt,bn),Fe(Nt,[],et,Rt),Dt=Nt.length;Dt--;)(Ss=Nt[Dt])&&(zt[bn[Dt]]=!(pi[bn[Dt]]=Ss));if(ye){if($||te){if($){for(Nt=[],Dt=zt.length;Dt--;)(Ss=zt[Dt])&&Nt.push(pi[Dt]=Ss);$(null,zt=[],Nt,Rt)}for(Dt=zt.length;Dt--;)(Ss=zt[Dt])&&(Nt=$?m.call(ye,Ss):Es[Dt])>-1&&(ye[Nt]=!(Ge[Nt]=Ss))}}else zt=Xr(zt===Ge?zt.splice(An,zt.length):zt),$?$(null,Ge,zt,Rt):B.apply(Ge,zt)})}function mi(te){for(var ve,Oe,Fe,$=te.length,_e=w.relative[te[0].type],ye=_e||w.relative[" "],Ge=_e?1:0,et=Aa(function(Dt){return Dt===ve},ye,!0),Rt=Aa(function(Dt){return m.call(ve,Dt)>-1},ye,!0),Nt=[function(Dt,Ss,zt){var Es=!_e&&(zt||Ss!=I)||((ve=Ss).nodeType?et(Dt,Ss,zt):Rt(Dt,Ss,zt));return ve=null,Es}];Ge<$;Ge++)if(Oe=w.relative[te[Ge].type])Nt=[Aa(Wl(Nt),Oe)];else{if(Oe=w.filter[te[Ge].type].apply(null,te[Ge].matches),Oe[He]){for(Fe=++Ge;Fe<$&&!w.relative[te[Fe].type];Fe++);return Jo(Ge>1&&Wl(Nt),Ge>1&&fi(te.slice(0,Ge-1).concat({value:te[Ge-2].type===" "?"*":""})).replace(de,"$1"),Oe,Ge<Fe&&mi(te.slice(Ge,Fe)),Fe<$&&mi(te=te.slice(Fe)),Fe<$&&fi(te))}Nt.push(Oe)}return Wl(Nt)}function Xo(te,ve){var Oe=ve.length>0,Fe=te.length>0,$=function(_e,ye,Ge,et,Rt){var Nt,Dt,Ss,zt=0,Es="0",bn=_e&&[],An=[],Nn=I,pi=_e||Fe&&w.find.TAG("*",Rt),Co=Ee+=Nn==null?1:Math.random()||.1,as=pi.length;for(Rt&&(I=ye==H||ye||Rt);Es!==as&&(Nt=pi[Es])!=null;Es++){if(Fe&&Nt){for(Dt=0,!ye&&Nt.ownerDocument!=H&&(Xi(Nt),Ge=!ie);Ss=te[Dt++];)if(Ss(Nt,ye||H,Ge)){B.call(et,Nt);break}Rt&&(Ee=Co)}Oe&&((Nt=!Ss&&Nt)&&zt--,_e&&bn.push(Nt))}if(zt+=Es,Oe&&Es!==zt){for(Dt=0;Ss=ve[Dt++];)Ss(bn,An,ye,Ge);if(_e){if(zt>0)for(;Es--;)bn[Es]||An[Es]||(An[Es]=Ke.call(et));An=Xr(An)}B.apply(et,An),Rt&&!_e&&An.length>0&&zt+ve.length>1&&k.uniqueSort(et)}return Rt&&(Ee=Co,I=Nn),bn};return Oe?Gn($):$}function $o(te,ve){var Oe,Fe=[],$=[],_e=Ht[te+" "];if(!_e){for(ve||(ve=hi(te)),Oe=ve.length;Oe--;)_e=mi(ve[Oe]),_e[He]?Fe.push(_e):$.push(_e);_e=Ht(te,Xo($,Fe)),_e.selector=te}return _e}function Tc(te,ve,Oe,Fe){var $,_e,ye,Ge,et,Rt=typeof te=="function"&&te,Nt=!Fe&&hi(te=Rt.selector||te);if(Oe=Oe||[],Nt.length===1){if(_e=Nt[0]=Nt[0].slice(0),_e.length>2&&(ye=_e[0]).type==="ID"&&ve.nodeType===9&&ie&&w.relative[_e[1].type]){if(ve=(w.find.ID(ye.matches[0].replace(Oi,ti),ve)||[])[0],ve)Rt&&(ve=ve.parentNode);else return Oe;te=te.slice(_e.shift().value.length)}for($=As.needsContext.test(te)?0:_e.length;$--&&(ye=_e[$],!w.relative[Ge=ye.type]);)if((et=w.find[Ge])&&(Fe=et(ye.matches[0].replace(Oi,ti),Qo.test(_e[0].type)&&ka(ve.parentNode)||ve))){if(_e.splice($,1),te=Fe.length&&fi(_e),!te)return B.apply(Oe,Fe),Oe;break}}return(Rt||$o(te,Nt))(Fe,ve,!ie,Oe,!ve||Qo.test(te)&&ka(ve.parentNode)||ve),Oe}T.sortStable=He.split("").sort(rn).join("")===He,Xi(),T.sortDetached=bo(function(te){return te.compareDocumentPosition(H.createElement("fieldset"))&1}),k.find=Cs,k.expr[":"]=k.expr.pseudos,k.unique=k.uniqueSort,Cs.compile=$o,Cs.select=Tc,Cs.setDocument=Xi,Cs.tokenize=hi,Cs.escape=k.escapeSelector,Cs.getText=k.text,Cs.isXML=k.isXMLDoc,Cs.selectors=k.expr,Cs.support=k.support,Cs.uniqueSort=k.uniqueSort})();var Je=function(p,w,I){for(var x=[],U=I!==void 0;(p=p[w])&&p.nodeType!==9;)if(p.nodeType===1){if(U&&k(p).is(I))break;x.push(p)}return x},Xe=function(p,w){for(var I=[];p;p=p.nextSibling)p.nodeType===1&&p!==w&&I.push(p);return I},tt=k.expr.match.needsContext,At=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function Ct(p,w,I){return N(w)?k.grep(p,function(x,U){return!!w.call(x,U,x)!==I}):w.nodeType?k.grep(p,function(x){return x===w!==I}):typeof w!="string"?k.grep(p,function(x){return m.call(w,x)>-1!==I}):k.filter(w,p,I)}k.filter=function(p,w,I){var x=w[0];return I&&(p=":not("+p+")"),w.length===1&&x.nodeType===1?k.find.matchesSelector(x,p)?[x]:[]:k.find.matches(p,k.grep(w,function(U){return U.nodeType===1}))},k.fn.extend({find:function(p){var w,I,x=this.length,U=this;if(typeof p!="string")return this.pushStack(k(p).filter(function(){for(w=0;w<x;w++)if(k.contains(U[w],this))return!0}));for(I=this.pushStack([]),w=0;w<x;w++)k.find(p,U[w],I);return x>1?k.uniqueSort(I):I},filter:function(p){return this.pushStack(Ct(this,p||[],!1))},not:function(p){return this.pushStack(Ct(this,p||[],!0))},is:function(p){return!!Ct(this,typeof p=="string"&&tt.test(p)?k(p):p||[],!1).length}});var ls,Ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qt=k.fn.init=function(p,w,I){var x,U;if(!p)return this;if(I=I||ls,typeof p=="string")if(p[0]==="<"&&p[p.length-1]===">"&&p.length>=3?x=[null,p,null]:x=Ut.exec(p),x&&(x[1]||!w))if(x[1]){if(w=w instanceof k?w[0]:w,k.merge(this,k.parseHTML(x[1],w&&w.nodeType?w.ownerDocument||w:R,!0)),At.test(x[1])&&k.isPlainObject(w))for(x in w)N(this[x])?this[x](w[x]):this.attr(x,w[x]);return this}else return U=R.getElementById(x[2]),U&&(this[0]=U,this.length=1),this;else return!w||w.jquery?(w||I).find(p):this.constructor(w).find(p);else{if(p.nodeType)return this[0]=p,this.length=1,this;if(N(p))return I.ready!==void 0?I.ready(p):p(k)}return k.makeArray(p,this)};qt.prototype=k.fn,ls=k(R);var ce=/^(?:parents|prev(?:Until|All))/,xe={children:!0,contents:!0,next:!0,prev:!0};k.fn.extend({has:function(p){var w=k(p,this),I=w.length;return this.filter(function(){for(var x=0;x<I;x++)if(k.contains(this,w[x]))return!0})},closest:function(p,w){var I,x=0,U=this.length,B=[],H=typeof p!="string"&&k(p);if(!tt.test(p)){for(;x<U;x++)for(I=this[x];I&&I!==w;I=I.parentNode)if(I.nodeType<11&&(H?H.index(I)>-1:I.nodeType===1&&k.find.matchesSelector(I,p))){B.push(I);break}}return this.pushStack(B.length>1?k.uniqueSort(B):B)},index:function(p){return p?typeof p=="string"?m.call(k(p),this[0]):m.call(this,p.jquery?p[0]:p):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(p,w){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(p,w))))},addBack:function(p){return this.add(p==null?this.prevObject:this.prevObject.filter(p))}});function it(p,w){for(;(p=p[w])&&p.nodeType!==1;);return p}k.each({parent:function(p){var w=p.parentNode;return w&&w.nodeType!==11?w:null},parents:function(p){return Je(p,"parentNode")},parentsUntil:function(p,w,I){return Je(p,"parentNode",I)},next:function(p){return it(p,"nextSibling")},prev:function(p){return it(p,"previousSibling")},nextAll:function(p){return Je(p,"nextSibling")},prevAll:function(p){return Je(p,"previousSibling")},nextUntil:function(p,w,I){return Je(p,"nextSibling",I)},prevUntil:function(p,w,I){return Je(p,"previousSibling",I)},siblings:function(p){return Xe((p.parentNode||{}).firstChild,p)},children:function(p){return Xe(p.firstChild)},contents:function(p){return p.contentDocument!=null&&i(p.contentDocument)?p.contentDocument:(he(p,"template")&&(p=p.content||p),k.merge([],p.childNodes))}},function(p,w){k.fn[p]=function(I,x){var U=k.map(this,w,I);return p.slice(-5)!=="Until"&&(x=I),x&&typeof x=="string"&&(U=k.filter(x,U)),this.length>1&&(xe[p]||k.uniqueSort(U),ce.test(p)&&U.reverse()),this.pushStack(U)}});var vt=/[^\x20\t\r\n\f]+/g;function Gt(p){var w={};return k.each(p.match(vt)||[],function(I,x){w[x]=!0}),w}k.Callbacks=function(p){p=typeof p=="string"?Gt(p):k.extend({},p);var w,I,x,U,B=[],H=[],fe=-1,ie=function(){for(U=U||p.once,x=w=!0;H.length;fe=-1)for(I=H.shift();++fe<B.length;)B[fe].apply(I[0],I[1])===!1&&p.stopOnFalse&&(fe=B.length,I=!1);p.memory||(I=!1),w=!1,U&&(I?B=[]:B="")},Se={add:function(){return B&&(I&&!w&&(fe=B.length-1,H.push(I)),function je(He){k.each(He,function(Ee,lt){N(lt)?(!p.unique||!Se.has(lt))&&B.push(lt):lt&&lt.length&&Q(lt)!=="string"&&je(lt)})}(arguments),I&&!w&&ie()),this},remove:function(){return k.each(arguments,function(je,He){for(var Ee;(Ee=k.inArray(He,B,Ee))>-1;)B.splice(Ee,1),Ee<=fe&&fe--}),this},has:function(je){return je?k.inArray(je,B)>-1:B.length>0},empty:function(){return B&&(B=[]),this},disable:function(){return U=H=[],B=I="",this},disabled:function(){return!B},lock:function(){return U=H=[],!I&&!w&&(B=I=""),this},locked:function(){return!!U},fireWith:function(je,He){return U||(He=He||[],He=[je,He.slice?He.slice():He],H.push(He),w||ie()),this},fire:function(){return Se.fireWith(this,arguments),this},fired:function(){return!!x}};return Se};function jt(p){return p}function ne(p){throw p}function re(p,w,I,x){var U;try{p&&N(U=p.promise)?U.call(p).done(w).fail(I):p&&N(U=p.then)?U.call(p,w,I):w.apply(void 0,[p].slice(x))}catch(B){I.apply(void 0,[B])}}k.extend({Deferred:function(p){var w=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],I="pending",x={state:function(){return I},always:function(){return U.done(arguments).fail(arguments),this},catch:function(B){return x.then(null,B)},pipe:function(){var B=arguments;return k.Deferred(function(H){k.each(w,function(fe,ie){var Se=N(B[ie[4]])&&B[ie[4]];U[ie[1]](function(){var je=Se&&Se.apply(this,arguments);je&&N(je.promise)?je.promise().progress(H.notify).done(H.resolve).fail(H.reject):H[ie[0]+"With"](this,Se?[je]:arguments)})}),B=null}).promise()},then:function(B,H,fe){var ie=0;function Se(je,He,Ee,lt){return function(){var It=this,ms=arguments,Ht=function(){var rn,L;if(!(je<ie)){if(rn=Ee.apply(It,ms),rn===He.promise())throw new TypeError("Thenable self-resolution");L=rn&&(typeof rn=="object"||typeof rn=="function")&&rn.then,N(L)?lt?L.call(rn,Se(ie,He,jt,lt),Se(ie,He,ne,lt)):(ie++,L.call(rn,Se(ie,He,jt,lt),Se(ie,He,ne,lt),Se(ie,He,jt,He.notifyWith))):(Ee!==jt&&(It=void 0,ms=[rn]),(lt||He.resolveWith)(It,ms))}},pn=lt?Ht:function(){try{Ht()}catch(rn){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(rn,pn.error),je+1>=ie&&(Ee!==ne&&(It=void 0,ms=[rn]),He.rejectWith(It,ms))}};je?pn():(k.Deferred.getErrorHook?pn.error=k.Deferred.getErrorHook():k.Deferred.getStackHook&&(pn.error=k.Deferred.getStackHook()),t.setTimeout(pn))}}return k.Deferred(function(je){w[0][3].add(Se(0,je,N(fe)?fe:jt,je.notifyWith)),w[1][3].add(Se(0,je,N(B)?B:jt)),w[2][3].add(Se(0,je,N(H)?H:ne))}).promise()},promise:function(B){return B!=null?k.extend(B,x):x}},U={};return k.each(w,function(B,H){var fe=H[2],ie=H[5];x[H[1]]=fe.add,ie&&fe.add(function(){I=ie},w[3-B][2].disable,w[3-B][3].disable,w[0][2].lock,w[0][3].lock),fe.add(H[3].fire),U[H[0]]=function(){return U[H[0]+"With"](this===U?void 0:this,arguments),this},U[H[0]+"With"]=fe.fireWith}),x.promise(U),p&&p.call(U,U),U},when:function(p){var w=arguments.length,I=w,x=Array(I),U=n.call(arguments),B=k.Deferred(),H=function(fe){return function(ie){x[fe]=this,U[fe]=arguments.length>1?n.call(arguments):ie,--w||B.resolveWith(x,U)}};if(w<=1&&(re(p,B.done(H(I)).resolve,B.reject,!w),B.state()==="pending"||N(U[I]&&U[I].then)))return B.then();for(;I--;)re(U[I],H(I),B.reject);return B.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(p,w){t.console&&t.console.warn&&p&&Pe.test(p.name)&&t.console.warn("jQuery.Deferred exception: "+p.message,p.stack,w)},k.readyException=function(p){t.setTimeout(function(){throw p})};var Qe=k.Deferred();k.fn.ready=function(p){return Qe.then(p).catch(function(w){k.readyException(w)}),this},k.extend({isReady:!1,readyWait:1,ready:function(p){(p===!0?--k.readyWait:k.isReady)||(k.isReady=!0,!(p!==!0&&--k.readyWait>0)&&Qe.resolveWith(R,[k]))}}),k.ready.then=Qe.then;function Be(){R.removeEventListener("DOMContentLoaded",Be),t.removeEventListener("load",Be),k.ready()}R.readyState==="complete"||R.readyState!=="loading"&&!R.documentElement.doScroll?t.setTimeout(k.ready):(R.addEventListener("DOMContentLoaded",Be),t.addEventListener("load",Be));var Ze=function(p,w,I,x,U,B,H){var fe=0,ie=p.length,Se=I==null;if(Q(I)==="object"){U=!0;for(fe in I)Ze(p,w,fe,I[fe],!0,B,H)}else if(x!==void 0&&(U=!0,N(x)||(H=!0),Se&&(H?(w.call(p,x),w=null):(Se=w,w=function(je,He,Ee){return Se.call(k(je),Ee)})),w))for(;fe<ie;fe++)w(p[fe],I,H?x:x.call(p[fe],fe,w(p[fe],I)));return U?p:Se?w.call(p):ie?w(p[0],I):B},ht=/^-ms-/,rt=/-([a-z])/g;function ot(p,w){return w.toUpperCase()}function qe(p){return p.replace(ht,"ms-").replace(rt,ot)}var mt=function(p){return p.nodeType===1||p.nodeType===9||!+p.nodeType};function Et(){this.expando=k.expando+Et.uid++}Et.uid=1,Et.prototype={cache:function(p){var w=p[this.expando];return w||(w={},mt(p)&&(p.nodeType?p[this.expando]=w:Object.defineProperty(p,this.expando,{value:w,configurable:!0}))),w},set:function(p,w,I){var x,U=this.cache(p);if(typeof w=="string")U[qe(w)]=I;else for(x in w)U[qe(x)]=w[x];return U},get:function(p,w){return w===void 0?this.cache(p):p[this.expando]&&p[this.expando][qe(w)]},access:function(p,w,I){return w===void 0||w&&typeof w=="string"&&I===void 0?this.get(p,w):(this.set(p,w,I),I!==void 0?I:w)},remove:function(p,w){var I,x=p[this.expando];if(x!==void 0){if(w!==void 0)for(Array.isArray(w)?w=w.map(qe):(w=qe(w),w=w in x?[w]:w.match(vt)||[]),I=w.length;I--;)delete x[w[I]];(w===void 0||k.isEmptyObject(x))&&(p.nodeType?p[this.expando]=void 0:delete p[this.expando])}},hasData:function(p){var w=p[this.expando];return w!==void 0&&!k.isEmptyObject(w)}};var Ne=new Et,Pt=new Et,Zt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$e=/[A-Z]/g;function _t(p){return p==="true"?!0:p==="false"?!1:p==="null"?null:p===+p+""?+p:Zt.test(p)?JSON.parse(p):p}function bs(p,w,I){var x;if(I===void 0&&p.nodeType===1)if(x="data-"+w.replace($e,"-$&").toLowerCase(),I=p.getAttribute(x),typeof I=="string"){try{I=_t(I)}catch{}Pt.set(p,w,I)}else I=void 0;return I}k.extend({hasData:function(p){return Pt.hasData(p)||Ne.hasData(p)},data:function(p,w,I){return Pt.access(p,w,I)},removeData:function(p,w){Pt.remove(p,w)},_data:function(p,w,I){return Ne.access(p,w,I)},_removeData:function(p,w){Ne.remove(p,w)}}),k.fn.extend({data:function(p,w){var I,x,U,B=this[0],H=B&&B.attributes;if(p===void 0){if(this.length&&(U=Pt.get(B),B.nodeType===1&&!Ne.get(B,"hasDataAttrs"))){for(I=H.length;I--;)H[I]&&(x=H[I].name,x.indexOf("data-")===0&&(x=qe(x.slice(5)),bs(B,x,U[x])));Ne.set(B,"hasDataAttrs",!0)}return U}return typeof p=="object"?this.each(function(){Pt.set(this,p)}):Ze(this,function(fe){var ie;if(B&&fe===void 0)return ie=Pt.get(B,p),ie!==void 0||(ie=bs(B,p),ie!==void 0)?ie:void 0;this.each(function(){Pt.set(this,p,fe)})},null,w,arguments.length>1,null,!0)},removeData:function(p){return this.each(function(){Pt.remove(this,p)})}}),k.extend({queue:function(p,w,I){var x;if(p)return w=(w||"fx")+"queue",x=Ne.get(p,w),I&&(!x||Array.isArray(I)?x=Ne.access(p,w,k.makeArray(I)):x.push(I)),x||[]},dequeue:function(p,w){w=w||"fx";var I=k.queue(p,w),x=I.length,U=I.shift(),B=k._queueHooks(p,w),H=function(){k.dequeue(p,w)};U==="inprogress"&&(U=I.shift(),x--),U&&(w==="fx"&&I.unshift("inprogress"),delete B.stop,U.call(p,H,B)),!x&&B&&B.empty.fire()},_queueHooks:function(p,w){var I=w+"queueHooks";return Ne.get(p,I)||Ne.access(p,I,{empty:k.Callbacks("once memory").add(function(){Ne.remove(p,[w+"queue",I])})})}}),k.fn.extend({queue:function(p,w){var I=2;return typeof p!="string"&&(w=p,p="fx",I--),arguments.length<I?k.queue(this[0],p):w===void 0?this:this.each(function(){var x=k.queue(this,p,w);k._queueHooks(this,p),p==="fx"&&x[0]!=="inprogress"&&k.dequeue(this,p)})},dequeue:function(p){return this.each(function(){k.dequeue(this,p)})},clearQueue:function(p){return this.queue(p||"fx",[])},promise:function(p,w){var I,x=1,U=k.Deferred(),B=this,H=this.length,fe=function(){--x||U.resolveWith(B,[B])};for(typeof p!="string"&&(w=p,p=void 0),p=p||"fx";H--;)I=Ne.get(B[H],p+"queueHooks"),I&&I.empty&&(x++,I.empty.add(fe));return fe(),U.promise(w)}});var Zs=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,qs=new RegExp("^(?:([+-])=|)("+Zs+")([a-z%]*)$","i"),sn=["Top","Right","Bottom","Left"],nn=R.documentElement,Is=function(p){return k.contains(p.ownerDocument,p)},Hs={composed:!0};nn.getRootNode&&(Is=function(p){return k.contains(p.ownerDocument,p)||p.getRootNode(Hs)===p.ownerDocument});var Ws=function(p,w){return p=w||p,p.style.display==="none"||p.style.display===""&&Is(p)&&k.css(p,"display")==="none"};function Qn(p,w,I,x){var U,B,H=20,fe=x?function(){return x.cur()}:function(){return k.css(p,w,"")},ie=fe(),Se=I&&I[3]||(k.cssNumber[w]?"":"px"),je=p.nodeType&&(k.cssNumber[w]||Se!=="px"&&+ie)&&qs.exec(k.css(p,w));if(je&&je[3]!==Se){for(ie=ie/2,Se=Se||je[3],je=+ie||1;H--;)k.style(p,w,je+Se),(1-B)*(1-(B=fe()/ie||.5))<=0&&(H=0),je=je/B;je=je*2,k.style(p,w,je+Se),I=I||[]}return I&&(je=+je||+ie||0,U=I[1]?je+(I[1]+1)*I[2]:+I[2],x&&(x.unit=Se,x.start=je,x.end=U)),U}var xn={};function Pn(p){var w,I=p.ownerDocument,x=p.nodeName,U=xn[x];return U||(w=I.body.appendChild(I.createElement(x)),U=k.css(w,"display"),w.parentNode.removeChild(w),U==="none"&&(U="block"),xn[x]=U,U)}function dn(p,w){for(var I,x,U=[],B=0,H=p.length;B<H;B++)x=p[B],x.style&&(I=x.style.display,w?(I==="none"&&(U[B]=Ne.get(x,"display")||null,U[B]||(x.style.display="")),x.style.display===""&&Ws(x)&&(U[B]=Pn(x))):I!=="none"&&(U[B]="none",Ne.set(x,"display",I)));for(B=0;B<H;B++)U[B]!=null&&(p[B].style.display=U[B]);return p}k.fn.extend({show:function(){return dn(this,!0)},hide:function(){return dn(this)},toggle:function(p){return typeof p=="boolean"?p?this.show():this.hide():this.each(function(){Ws(this)?k(this).show():k(this).hide()})}});var Sn=/^(?:checkbox|radio)$/i,qo=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,J=/^$|^module$|\/(?:java|ecma)script/i;(function(){var p=R.createDocumentFragment(),w=p.appendChild(R.createElement("div")),I=R.createElement("input");I.setAttribute("type","radio"),I.setAttribute("checked","checked"),I.setAttribute("name","t"),w.appendChild(I),T.checkClone=w.cloneNode(!0).cloneNode(!0).lastChild.checked,w.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!w.cloneNode(!0).lastChild.defaultValue,w.innerHTML="<option></option>",T.option=!!w.lastChild})();var ee={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ee.tbody=ee.tfoot=ee.colgroup=ee.caption=ee.thead,ee.th=ee.td,T.option||(ee.optgroup=ee.option=[1,"<select multiple='multiple'>","</select>"]);function ke(p,w){var I;return typeof p.getElementsByTagName<"u"?I=p.getElementsByTagName(w||"*"):typeof p.querySelectorAll<"u"?I=p.querySelectorAll(w||"*"):I=[],w===void 0||w&&he(p,w)?k.merge([p],I):I}function Ue(p,w){for(var I=0,x=p.length;I<x;I++)Ne.set(p[I],"globalEval",!w||Ne.get(w[I],"globalEval"))}var gt=/<|&#?\w+;/;function bt(p,w,I,x,U){for(var B,H,fe,ie,Se,je,He=w.createDocumentFragment(),Ee=[],lt=0,It=p.length;lt<It;lt++)if(B=p[lt],B||B===0)if(Q(B)==="object")k.merge(Ee,B.nodeType?[B]:B);else if(!gt.test(B))Ee.push(w.createTextNode(B));else{for(H=H||He.appendChild(w.createElement("div")),fe=(qo.exec(B)||["",""])[1].toLowerCase(),ie=ee[fe]||ee._default,H.innerHTML=ie[1]+k.htmlPrefilter(B)+ie[2],je=ie[0];je--;)H=H.lastChild;k.merge(Ee,H.childNodes),H=He.firstChild,H.textContent=""}for(He.textContent="",lt=0;B=Ee[lt++];){if(x&&k.inArray(B,x)>-1){U&&U.push(B);continue}if(Se=Is(B),H=ke(He.appendChild(B),"script"),Se&&Ue(H),I)for(je=0;B=H[je++];)J.test(B.type||"")&&I.push(B)}return He}var cs=/^([^.]*)(?:\.(.+)|)/;function kt(){return!0}function is(){return!1}function St(p,w,I,x,U,B){var H,fe;if(typeof w=="object"){typeof I!="string"&&(x=x||I,I=void 0);for(fe in w)St(p,fe,I,x,w[fe],B);return p}if(x==null&&U==null?(U=I,x=I=void 0):U==null&&(typeof I=="string"?(U=x,x=void 0):(U=x,x=I,I=void 0)),U===!1)U=is;else if(!U)return p;return B===1&&(H=U,U=function(ie){return k().off(ie),H.apply(this,arguments)},U.guid=H.guid||(H.guid=k.guid++)),p.each(function(){k.event.add(this,w,U,x,I)})}k.event={global:{},add:function(p,w,I,x,U){var B,H,fe,ie,Se,je,He,Ee,lt,It,ms,Ht=Ne.get(p);if(mt(p))for(I.handler&&(B=I,I=B.handler,U=B.selector),U&&k.find.matchesSelector(nn,U),I.guid||(I.guid=k.guid++),(ie=Ht.events)||(ie=Ht.events=Object.create(null)),(H=Ht.handle)||(H=Ht.handle=function(pn){return typeof k<"u"&&k.event.triggered!==pn.type?k.event.dispatch.apply(p,arguments):void 0}),w=(w||"").match(vt)||[""],Se=w.length;Se--;)fe=cs.exec(w[Se])||[],lt=ms=fe[1],It=(fe[2]||"").split(".").sort(),lt&&(He=k.event.special[lt]||{},lt=(U?He.delegateType:He.bindType)||lt,He=k.event.special[lt]||{},je=k.extend({type:lt,origType:ms,data:x,handler:I,guid:I.guid,selector:U,needsContext:U&&k.expr.match.needsContext.test(U),namespace:It.join(".")},B),(Ee=ie[lt])||(Ee=ie[lt]=[],Ee.delegateCount=0,(!He.setup||He.setup.call(p,x,It,H)===!1)&&p.addEventListener&&p.addEventListener(lt,H)),He.add&&(He.add.call(p,je),je.handler.guid||(je.handler.guid=I.guid)),U?Ee.splice(Ee.delegateCount++,0,je):Ee.push(je),k.event.global[lt]=!0)},remove:function(p,w,I,x,U){var B,H,fe,ie,Se,je,He,Ee,lt,It,ms,Ht=Ne.hasData(p)&&Ne.get(p);if(!(!Ht||!(ie=Ht.events))){for(w=(w||"").match(vt)||[""],Se=w.length;Se--;){if(fe=cs.exec(w[Se])||[],lt=ms=fe[1],It=(fe[2]||"").split(".").sort(),!lt){for(lt in ie)k.event.remove(p,lt+w[Se],I,x,!0);continue}for(He=k.event.special[lt]||{},lt=(x?He.delegateType:He.bindType)||lt,Ee=ie[lt]||[],fe=fe[2]&&new RegExp("(^|\\.)"+It.join("\\.(?:.*\\.|)")+"(\\.|$)"),H=B=Ee.length;B--;)je=Ee[B],(U||ms===je.origType)&&(!I||I.guid===je.guid)&&(!fe||fe.test(je.namespace))&&(!x||x===je.selector||x==="**"&&je.selector)&&(Ee.splice(B,1),je.selector&&Ee.delegateCount--,He.remove&&He.remove.call(p,je));H&&!Ee.length&&((!He.teardown||He.teardown.call(p,It,Ht.handle)===!1)&&k.removeEvent(p,lt,Ht.handle),delete ie[lt])}k.isEmptyObject(ie)&&Ne.remove(p,"handle events")}},dispatch:function(p){var w,I,x,U,B,H,fe=new Array(arguments.length),ie=k.event.fix(p),Se=(Ne.get(this,"events")||Object.create(null))[ie.type]||[],je=k.event.special[ie.type]||{};for(fe[0]=ie,w=1;w<arguments.length;w++)fe[w]=arguments[w];if(ie.delegateTarget=this,!(je.preDispatch&&je.preDispatch.call(this,ie)===!1)){for(H=k.event.handlers.call(this,ie,Se),w=0;(U=H[w++])&&!ie.isPropagationStopped();)for(ie.currentTarget=U.elem,I=0;(B=U.handlers[I++])&&!ie.isImmediatePropagationStopped();)(!ie.rnamespace||B.namespace===!1||ie.rnamespace.test(B.namespace))&&(ie.handleObj=B,ie.data=B.data,x=((k.event.special[B.origType]||{}).handle||B.handler).apply(U.elem,fe),x!==void 0&&(ie.result=x)===!1&&(ie.preventDefault(),ie.stopPropagation()));return je.postDispatch&&je.postDispatch.call(this,ie),ie.result}},handlers:function(p,w){var I,x,U,B,H,fe=[],ie=w.delegateCount,Se=p.target;if(ie&&Se.nodeType&&!(p.type==="click"&&p.button>=1)){for(;Se!==this;Se=Se.parentNode||this)if(Se.nodeType===1&&!(p.type==="click"&&Se.disabled===!0)){for(B=[],H={},I=0;I<ie;I++)x=w[I],U=x.selector+" ",H[U]===void 0&&(H[U]=x.needsContext?k(U,this).index(Se)>-1:k.find(U,this,null,[Se]).length),H[U]&&B.push(x);B.length&&fe.push({elem:Se,handlers:B})}}return Se=this,ie<w.length&&fe.push({elem:Se,handlers:w.slice(ie)}),fe},addProp:function(p,w){Object.defineProperty(k.Event.prototype,p,{enumerable:!0,configurable:!0,get:N(w)?function(){if(this.originalEvent)return w(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[p]},set:function(I){Object.defineProperty(this,p,{enumerable:!0,configurable:!0,writable:!0,value:I})}})},fix:function(p){return p[k.expando]?p:new k.Event(p)},special:{load:{noBubble:!0},click:{setup:function(p){var w=this||p;return Sn.test(w.type)&&w.click&&he(w,"input")&&Yt(w,"click",!0),!1},trigger:function(p){var w=this||p;return Sn.test(w.type)&&w.click&&he(w,"input")&&Yt(w,"click"),!0},_default:function(p){var w=p.target;return Sn.test(w.type)&&w.click&&he(w,"input")&&Ne.get(w,"click")||he(w,"a")}},beforeunload:{postDispatch:function(p){p.result!==void 0&&p.originalEvent&&(p.originalEvent.returnValue=p.result)}}}};function Yt(p,w,I){if(!I){Ne.get(p,w)===void 0&&k.event.add(p,w,kt);return}Ne.set(p,w,!1),k.event.add(p,w,{namespace:!1,handler:function(x){var U,B=Ne.get(this,w);if(x.isTrigger&1&&this[w]){if(B)(k.event.special[w]||{}).delegateType&&x.stopPropagation();else if(B=n.call(arguments),Ne.set(this,w,B),this[w](),U=Ne.get(this,w),Ne.set(this,w,!1),B!==U)return x.stopImmediatePropagation(),x.preventDefault(),U}else B&&(Ne.set(this,w,k.event.trigger(B[0],B.slice(1),this)),x.stopPropagation(),x.isImmediatePropagationStopped=kt)}})}k.removeEvent=function(p,w,I){p.removeEventListener&&p.removeEventListener(w,I)},k.Event=function(p,w){if(!(this instanceof k.Event))return new k.Event(p,w);p&&p.type?(this.originalEvent=p,this.type=p.type,this.isDefaultPrevented=p.defaultPrevented||p.defaultPrevented===void 0&&p.returnValue===!1?kt:is,this.target=p.target&&p.target.nodeType===3?p.target.parentNode:p.target,this.currentTarget=p.currentTarget,this.relatedTarget=p.relatedTarget):this.type=p,w&&k.extend(this,w),this.timeStamp=p&&p.timeStamp||Date.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:is,isPropagationStopped:is,isImmediatePropagationStopped:is,isSimulated:!1,preventDefault:function(){var p=this.originalEvent;this.isDefaultPrevented=kt,p&&!this.isSimulated&&p.preventDefault()},stopPropagation:function(){var p=this.originalEvent;this.isPropagationStopped=kt,p&&!this.isSimulated&&p.stopPropagation()},stopImmediatePropagation:function(){var p=this.originalEvent;this.isImmediatePropagationStopped=kt,p&&!this.isSimulated&&p.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(p,w){function I(x){if(R.documentMode){var U=Ne.get(this,"handle"),B=k.event.fix(x);B.type=x.type==="focusin"?"focus":"blur",B.isSimulated=!0,U(x),B.target===B.currentTarget&&U(B)}else k.event.simulate(w,x.target,k.event.fix(x))}k.event.special[p]={setup:function(){var x;if(Yt(this,p,!0),R.documentMode)x=Ne.get(this,w),x||this.addEventListener(w,I),Ne.set(this,w,(x||0)+1);else return!1},trigger:function(){return Yt(this,p),!0},teardown:function(){var x;if(R.documentMode)x=Ne.get(this,w)-1,x?Ne.set(this,w,x):(this.removeEventListener(w,I),Ne.remove(this,w));else return!1},_default:function(x){return Ne.get(x.target,p)},delegateType:w},k.event.special[w]={setup:function(){var x=this.ownerDocument||this.document||this,U=R.documentMode?this:x,B=Ne.get(U,w);B||(R.documentMode?this.addEventListener(w,I):x.addEventListener(p,I,!0)),Ne.set(U,w,(B||0)+1)},teardown:function(){var x=this.ownerDocument||this.document||this,U=R.documentMode?this:x,B=Ne.get(U,w)-1;B?Ne.set(U,w,B):(R.documentMode?this.removeEventListener(w,I):x.removeEventListener(p,I,!0),Ne.remove(U,w))}}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(p,w){k.event.special[p]={delegateType:w,bindType:w,handle:function(I){var x,U=this,B=I.relatedTarget,H=I.handleObj;return(!B||B!==U&&!k.contains(U,B))&&(I.type=H.origType,x=H.handler.apply(this,arguments),I.type=w),x}}}),k.fn.extend({on:function(p,w,I,x){return St(this,p,w,I,x)},one:function(p,w,I,x){return St(this,p,w,I,x,1)},off:function(p,w,I){var x,U;if(p&&p.preventDefault&&p.handleObj)return x=p.handleObj,k(p.delegateTarget).off(x.namespace?x.origType+"."+x.namespace:x.origType,x.selector,x.handler),this;if(typeof p=="object"){for(U in p)this.off(U,w,p[U]);return this}return(w===!1||typeof w=="function")&&(I=w,w=void 0),I===!1&&(I=is),this.each(function(){k.event.remove(this,p,I,w)})}});var Ms=/<script|<style|<link/i,Mn=/checked\s*(?:[^=]|=\s*.checked.)/i,_n=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ai(p,w){return he(p,"table")&&he(w.nodeType!==11?w:w.firstChild,"tr")&&k(p).children("tbody")[0]||p}function ri(p){return p.type=(p.getAttribute("type")!==null)+"/"+p.type,p}function wo(p){return(p.type||"").slice(0,5)==="true/"?p.type=p.type.slice(5):p.removeAttribute("type"),p}function En(p,w){var I,x,U,B,H,fe,ie;if(w.nodeType===1){if(Ne.hasData(p)&&(B=Ne.get(p),ie=B.events,ie)){Ne.remove(w,"handle events");for(U in ie)for(I=0,x=ie[U].length;I<x;I++)k.event.add(w,U,ie[U][I])}Pt.hasData(p)&&(H=Pt.access(p),fe=k.extend({},H),Pt.set(w,fe))}}function dt(p,w){var I=w.nodeName.toLowerCase();I==="input"&&Sn.test(p.type)?w.checked=p.checked:(I==="input"||I==="textarea")&&(w.defaultValue=p.defaultValue)}function ys(p,w,I,x){w=r(w);var U,B,H,fe,ie,Se,je=0,He=p.length,Ee=He-1,lt=w[0],It=N(lt);if(It||He>1&&typeof lt=="string"&&!T.checkClone&&Mn.test(lt))return p.each(function(ms){var Ht=p.eq(ms);It&&(w[0]=lt.call(this,ms,Ht.html())),ys(Ht,w,I,x)});if(He&&(U=bt(w,p[0].ownerDocument,!1,p,x),B=U.firstChild,U.childNodes.length===1&&(U=B),B||x)){for(H=k.map(ke(U,"script"),ri),fe=H.length;je<He;je++)ie=U,je!==Ee&&(ie=k.clone(ie,!0,!0),fe&&k.merge(H,ke(ie,"script"))),I.call(p[je],ie,je);if(fe)for(Se=H[H.length-1].ownerDocument,k.map(H,wo),je=0;je<fe;je++)ie=H[je],J.test(ie.type||"")&&!Ne.access(ie,"globalEval")&&k.contains(Se,ie)&&(ie.src&&(ie.type||"").toLowerCase()!=="module"?k._evalUrl&&!ie.noModule&&k._evalUrl(ie.src,{nonce:ie.nonce||ie.getAttribute("nonce")},Se):W(ie.textContent.replace(_n,""),ie,Se))}return p}function ks(p,w,I){for(var x,U=w?k.filter(w,p):p,B=0;(x=U[B])!=null;B++)!I&&x.nodeType===1&&k.cleanData(ke(x)),x.parentNode&&(I&&Is(x)&&Ue(ke(x,"script")),x.parentNode.removeChild(x));return p}k.extend({htmlPrefilter:function(p){return p},clone:function(p,w,I){var x,U,B,H,fe=p.cloneNode(!0),ie=Is(p);if(!T.noCloneChecked&&(p.nodeType===1||p.nodeType===11)&&!k.isXMLDoc(p))for(H=ke(fe),B=ke(p),x=0,U=B.length;x<U;x++)dt(B[x],H[x]);if(w)if(I)for(B=B||ke(p),H=H||ke(fe),x=0,U=B.length;x<U;x++)En(B[x],H[x]);else En(p,fe);return H=ke(fe,"script"),H.length>0&&Ue(H,!ie&&ke(p,"script")),fe},cleanData:function(p){for(var w,I,x,U=k.event.special,B=0;(I=p[B])!==void 0;B++)if(mt(I)){if(w=I[Ne.expando]){if(w.events)for(x in w.events)U[x]?k.event.remove(I,x):k.removeEvent(I,x,w.handle);I[Ne.expando]=void 0}I[Pt.expando]&&(I[Pt.expando]=void 0)}}}),k.fn.extend({detach:function(p){return ks(this,p,!0)},remove:function(p){return ks(this,p)},text:function(p){return Ze(this,function(w){return w===void 0?k.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=w)})},null,p,arguments.length)},append:function(){return ys(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=ai(this,p);w.appendChild(p)}})},prepend:function(){return ys(this,arguments,function(p){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var w=ai(this,p);w.insertBefore(p,w.firstChild)}})},before:function(){return ys(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this)})},after:function(){return ys(this,arguments,function(p){this.parentNode&&this.parentNode.insertBefore(p,this.nextSibling)})},empty:function(){for(var p,w=0;(p=this[w])!=null;w++)p.nodeType===1&&(k.cleanData(ke(p,!1)),p.textContent="");return this},clone:function(p,w){return p=p??!1,w=w??p,this.map(function(){return k.clone(this,p,w)})},html:function(p){return Ze(this,function(w){var I=this[0]||{},x=0,U=this.length;if(w===void 0&&I.nodeType===1)return I.innerHTML;if(typeof w=="string"&&!Ms.test(w)&&!ee[(qo.exec(w)||["",""])[1].toLowerCase()]){w=k.htmlPrefilter(w);try{for(;x<U;x++)I=this[x]||{},I.nodeType===1&&(k.cleanData(ke(I,!1)),I.innerHTML=w);I=0}catch{}}I&&this.empty().append(w)},null,p,arguments.length)},replaceWith:function(){var p=[];return ys(this,arguments,function(w){var I=this.parentNode;k.inArray(this,p)<0&&(k.cleanData(ke(this)),I&&I.replaceChild(w,this))},p)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(p,w){k.fn[p]=function(I){for(var x,U=[],B=k(I),H=B.length-1,fe=0;fe<=H;fe++)x=fe===H?this:this.clone(!0),k(B[fe])[w](x),f.apply(U,x.get());return this.pushStack(U)}});var fn=new RegExp("^("+Zs+")(?!px)[a-z%]+$","i"),mn=/^--/,li=function(p){var w=p.ownerDocument.defaultView;return(!w||!w.opener)&&(w=t),w.getComputedStyle(p)},an=function(p,w,I){var x,U,B={};for(U in w)B[U]=p.style[U],p.style[U]=w[U];x=I.call(p);for(U in w)p.style[U]=B[U];return x},Kn=new RegExp(sn.join("|"),"i");(function(){function p(){if(Se){ie.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Se.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nn.appendChild(ie).appendChild(Se);var je=t.getComputedStyle(Se);I=je.top!=="1%",fe=w(je.marginLeft)===12,Se.style.right="60%",B=w(je.right)===36,x=w(je.width)===36,Se.style.position="absolute",U=w(Se.offsetWidth/3)===12,nn.removeChild(ie),Se=null}}function w(je){return Math.round(parseFloat(je))}var I,x,U,B,H,fe,ie=R.createElement("div"),Se=R.createElement("div");Se.style&&(Se.style.backgroundClip="content-box",Se.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle=Se.style.backgroundClip==="content-box",k.extend(T,{boxSizingReliable:function(){return p(),x},pixelBoxStyles:function(){return p(),B},pixelPosition:function(){return p(),I},reliableMarginLeft:function(){return p(),fe},scrollboxSize:function(){return p(),U},reliableTrDimensions:function(){var je,He,Ee,lt;return H==null&&(je=R.createElement("table"),He=R.createElement("tr"),Ee=R.createElement("div"),je.style.cssText="position:absolute;left:-11111px;border-collapse:separate",He.style.cssText="box-sizing:content-box;border:1px solid",He.style.height="1px",Ee.style.height="9px",Ee.style.display="block",nn.appendChild(je).appendChild(He).appendChild(Ee),lt=t.getComputedStyle(He),H=parseInt(lt.height,10)+parseInt(lt.borderTopWidth,10)+parseInt(lt.borderBottomWidth,10)===He.offsetHeight,nn.removeChild(je)),H}}))})();function ya(p,w,I){var x,U,B,H,fe=mn.test(w),ie=p.style;return I=I||li(p),I&&(H=I.getPropertyValue(w)||I[w],fe&&H&&(H=H.replace(de,"$1")||void 0),H===""&&!Is(p)&&(H=k.style(p,w)),!T.pixelBoxStyles()&&fn.test(H)&&Kn.test(w)&&(x=ie.width,U=ie.minWidth,B=ie.maxWidth,ie.minWidth=ie.maxWidth=ie.width=H,H=I.width,ie.width=x,ie.minWidth=U,ie.maxWidth=B)),H!==void 0?H+"":H}function _o(p,w){return{get:function(){if(p()){delete this.get;return}return(this.get=w).apply(this,arguments)}}}var qi=["Webkit","Moz","ms"],Ho=R.createElement("div").style,wa={};function Va(p){for(var w=p[0].toUpperCase()+p.slice(1),I=qi.length;I--;)if(p=qi[I]+w,p in Ho)return p}function _a(p){var w=k.cssProps[p]||wa[p];return w||(p in Ho?p:wa[p]=Va(p)||p)}var Ci=/^(none|table(?!-c[ea]).+)/,Gr={position:"absolute",visibility:"hidden",display:"block"},Hi={letterSpacing:"0",fontWeight:"400"};function qa(p,w,I){var x=qs.exec(w);return x?Math.max(0,x[2]-(I||0))+(x[3]||"px"):w}function gr(p,w,I,x,U,B){var H=w==="width"?1:0,fe=0,ie=0,Se=0;if(I===(x?"border":"content"))return 0;for(;H<4;H+=2)I==="margin"&&(Se+=k.css(p,I+sn[H],!0,U)),x?(I==="content"&&(ie-=k.css(p,"padding"+sn[H],!0,U)),I!=="margin"&&(ie-=k.css(p,"border"+sn[H]+"Width",!0,U))):(ie+=k.css(p,"padding"+sn[H],!0,U),I!=="padding"?ie+=k.css(p,"border"+sn[H]+"Width",!0,U):fe+=k.css(p,"border"+sn[H]+"Width",!0,U));return!x&&B>=0&&(ie+=Math.max(0,Math.ceil(p["offset"+w[0].toUpperCase()+w.slice(1)]-B-ie-fe-.5))||0),ie+Se}function vr(p,w,I){var x=li(p),U=!T.boxSizingReliable()||I,B=U&&k.css(p,"boxSizing",!1,x)==="border-box",H=B,fe=ya(p,w,x),ie="offset"+w[0].toUpperCase()+w.slice(1);if(fn.test(fe)){if(!I)return fe;fe="auto"}return(!T.boxSizingReliable()&&B||!T.reliableTrDimensions()&&he(p,"tr")||fe==="auto"||!parseFloat(fe)&&k.css(p,"display",!1,x)==="inline")&&p.getClientRects().length&&(B=k.css(p,"boxSizing",!1,x)==="border-box",H=ie in p,H&&(fe=p[ie])),fe=parseFloat(fe)||0,fe+gr(p,w,I||(B?"border":"content"),H,x,fe)+"px"}k.extend({cssHooks:{opacity:{get:function(p,w){if(w){var I=ya(p,"opacity");return I===""?"1":I}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(p,w,I,x){if(!(!p||p.nodeType===3||p.nodeType===8||!p.style)){var U,B,H,fe=qe(w),ie=mn.test(w),Se=p.style;if(ie||(w=_a(fe)),H=k.cssHooks[w]||k.cssHooks[fe],I!==void 0){if(B=typeof I,B==="string"&&(U=qs.exec(I))&&U[1]&&(I=Qn(p,w,U),B="number"),I==null||I!==I)return;B==="number"&&!ie&&(I+=U&&U[3]||(k.cssNumber[fe]?"":"px")),!T.clearCloneStyle&&I===""&&w.indexOf("background")===0&&(Se[w]="inherit"),(!H||!("set"in H)||(I=H.set(p,I,x))!==void 0)&&(ie?Se.setProperty(w,I):Se[w]=I)}else return H&&"get"in H&&(U=H.get(p,!1,x))!==void 0?U:Se[w]}},css:function(p,w,I,x){var U,B,H,fe=qe(w),ie=mn.test(w);return ie||(w=_a(fe)),H=k.cssHooks[w]||k.cssHooks[fe],H&&"get"in H&&(U=H.get(p,!0,I)),U===void 0&&(U=ya(p,w,x)),U==="normal"&&w in Hi&&(U=Hi[w]),I===""||I?(B=parseFloat(U),I===!0||isFinite(B)?B||0:U):U}}),k.each(["height","width"],function(p,w){k.cssHooks[w]={get:function(I,x,U){if(x)return Ci.test(k.css(I,"display"))&&(!I.getClientRects().length||!I.getBoundingClientRect().width)?an(I,Gr,function(){return vr(I,w,U)}):vr(I,w,U)},set:function(I,x,U){var B,H=li(I),fe=!T.scrollboxSize()&&H.position==="absolute",ie=fe||U,Se=ie&&k.css(I,"boxSizing",!1,H)==="border-box",je=U?gr(I,w,U,Se,H):0;return Se&&fe&&(je-=Math.ceil(I["offset"+w[0].toUpperCase()+w.slice(1)]-parseFloat(H[w])-gr(I,w,"border",!1,H)-.5)),je&&(B=qs.exec(x))&&(B[3]||"px")!=="px"&&(I.style[w]=x,x=k.css(I,w)),qa(I,x,je)}}}),k.cssHooks.marginLeft=_o(T.reliableMarginLeft,function(p,w){if(w)return(parseFloat(ya(p,"marginLeft"))||p.getBoundingClientRect().left-an(p,{marginLeft:0},function(){return p.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(p,w){k.cssHooks[p+w]={expand:function(I){for(var x=0,U={},B=typeof I=="string"?I.split(" "):[I];x<4;x++)U[p+sn[x]+w]=B[x]||B[x-2]||B[0];return U}},p!=="margin"&&(k.cssHooks[p+w].set=qa)}),k.fn.extend({css:function(p,w){return Ze(this,function(I,x,U){var B,H,fe={},ie=0;if(Array.isArray(x)){for(B=li(I),H=x.length;ie<H;ie++)fe[x[ie]]=k.css(I,x[ie],!1,B);return fe}return U!==void 0?k.style(I,x,U):k.css(I,x)},p,w,arguments.length>1)}});function On(p,w,I,x,U){return new On.prototype.init(p,w,I,x,U)}k.Tween=On,On.prototype={constructor:On,init:function(p,w,I,x,U,B){this.elem=p,this.prop=I,this.easing=U||k.easing._default,this.options=w,this.start=this.now=this.cur(),this.end=x,this.unit=B||(k.cssNumber[I]?"":"px")},cur:function(){var p=On.propHooks[this.prop];return p&&p.get?p.get(this):On.propHooks._default.get(this)},run:function(p){var w,I=On.propHooks[this.prop];return this.options.duration?this.pos=w=k.easing[this.easing](p,this.options.duration*p,0,1,this.options.duration):this.pos=w=p,this.now=(this.end-this.start)*w+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),I&&I.set?I.set(this):On.propHooks._default.set(this),this}},On.prototype.init.prototype=On.prototype,On.propHooks={_default:{get:function(p){var w;return p.elem.nodeType!==1||p.elem[p.prop]!=null&&p.elem.style[p.prop]==null?p.elem[p.prop]:(w=k.css(p.elem,p.prop,""),!w||w==="auto"?0:w)},set:function(p){k.fx.step[p.prop]?k.fx.step[p.prop](p):p.elem.nodeType===1&&(k.cssHooks[p.prop]||p.elem.style[_a(p.prop)]!=null)?k.style(p.elem,p.prop,p.now+p.unit):p.elem[p.prop]=p.now}}},On.propHooks.scrollTop=On.propHooks.scrollLeft={set:function(p){p.elem.nodeType&&p.elem.parentNode&&(p.elem[p.prop]=p.now)}},k.easing={linear:function(p){return p},swing:function(p){return .5-Math.cos(p*Math.PI)/2},_default:"swing"},k.fx=On.prototype.init,k.fx.step={};var Wi,Si,Fl=/^(?:toggle|show|hide)$/,Wo=/queueHooks$/;function Jn(){Si&&(R.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Jn):t.setTimeout(Jn,k.fx.interval),k.fx.tick())}function zo(){return t.setTimeout(function(){Wi=void 0}),Wi=Date.now()}function Xn(p,w){var I,x=0,U={height:p};for(w=w?1:0;x<4;x+=2-w)I=sn[x],U["margin"+I]=U["padding"+I]=p;return w&&(U.opacity=U.width=p),U}function ci(p,w,I){for(var x,U=(Rn.tweeners[w]||[]).concat(Rn.tweeners["*"]),B=0,H=U.length;B<H;B++)if(x=U[B].call(I,w,p))return x}function zi(p,w,I){var x,U,B,H,fe,ie,Se,je,He="width"in w||"height"in w,Ee=this,lt={},It=p.style,ms=p.nodeType&&Ws(p),Ht=Ne.get(p,"fxshow");I.queue||(H=k._queueHooks(p,"fx"),H.unqueued==null&&(H.unqueued=0,fe=H.empty.fire,H.empty.fire=function(){H.unqueued||fe()}),H.unqueued++,Ee.always(function(){Ee.always(function(){H.unqueued--,k.queue(p,"fx").length||H.empty.fire()})}));for(x in w)if(U=w[x],Fl.test(U)){if(delete w[x],B=B||U==="toggle",U===(ms?"hide":"show"))if(U==="show"&&Ht&&Ht[x]!==void 0)ms=!0;else continue;lt[x]=Ht&&Ht[x]||k.style(p,x)}if(ie=!k.isEmptyObject(w),!(!ie&&k.isEmptyObject(lt))){He&&p.nodeType===1&&(I.overflow=[It.overflow,It.overflowX,It.overflowY],Se=Ht&&Ht.display,Se==null&&(Se=Ne.get(p,"display")),je=k.css(p,"display"),je==="none"&&(Se?je=Se:(dn([p],!0),Se=p.style.display||Se,je=k.css(p,"display"),dn([p]))),(je==="inline"||je==="inline-block"&&Se!=null)&&k.css(p,"float")==="none"&&(ie||(Ee.done(function(){It.display=Se}),Se==null&&(je=It.display,Se=je==="none"?"":je)),It.display="inline-block")),I.overflow&&(It.overflow="hidden",Ee.always(function(){It.overflow=I.overflow[0],It.overflowX=I.overflow[1],It.overflowY=I.overflow[2]})),ie=!1;for(x in lt)ie||(Ht?"hidden"in Ht&&(ms=Ht.hidden):Ht=Ne.access(p,"fxshow",{display:Se}),B&&(Ht.hidden=!ms),ms&&dn([p],!0),Ee.done(function(){ms||dn([p]),Ne.remove(p,"fxshow");for(x in lt)k.style(p,x,lt[x])})),ie=ci(ms?Ht[x]:0,x,Ee),x in Ht||(Ht[x]=ie.start,ms&&(ie.end=ie.start,ie.start=0))}}function yr(p,w){var I,x,U,B,H;for(I in p)if(x=qe(I),U=w[x],B=p[I],Array.isArray(B)&&(U=B[1],B=p[I]=B[0]),I!==x&&(p[x]=B,delete p[I]),H=k.cssHooks[x],H&&"expand"in H){B=H.expand(B),delete p[x];for(I in B)I in p||(p[I]=B[I],w[I]=U)}else w[x]=U}function Rn(p,w,I){var x,U,B=0,H=Rn.prefilters.length,fe=k.Deferred().always(function(){delete ie.elem}),ie=function(){if(U)return!1;for(var He=Wi||zo(),Ee=Math.max(0,Se.startTime+Se.duration-He),lt=Ee/Se.duration||0,It=1-lt,ms=0,Ht=Se.tweens.length;ms<Ht;ms++)Se.tweens[ms].run(It);return fe.notifyWith(p,[Se,It,Ee]),It<1&&Ht?Ee:(Ht||fe.notifyWith(p,[Se,1,0]),fe.resolveWith(p,[Se]),!1)},Se=fe.promise({elem:p,props:k.extend({},w),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},I),originalProperties:w,originalOptions:I,startTime:Wi||zo(),duration:I.duration,tweens:[],createTween:function(He,Ee){var lt=k.Tween(p,Se.opts,He,Ee,Se.opts.specialEasing[He]||Se.opts.easing);return Se.tweens.push(lt),lt},stop:function(He){var Ee=0,lt=He?Se.tweens.length:0;if(U)return this;for(U=!0;Ee<lt;Ee++)Se.tweens[Ee].run(1);return He?(fe.notifyWith(p,[Se,1,0]),fe.resolveWith(p,[Se,He])):fe.rejectWith(p,[Se,He]),this}}),je=Se.props;for(yr(je,Se.opts.specialEasing);B<H;B++)if(x=Rn.prefilters[B].call(Se,p,je,Se.opts),x)return N(x.stop)&&(k._queueHooks(Se.elem,Se.opts.queue).stop=x.stop.bind(x)),x;return k.map(je,ci,Se),N(Se.opts.start)&&Se.opts.start.call(p,Se),Se.progress(Se.opts.progress).done(Se.opts.done,Se.opts.complete).fail(Se.opts.fail).always(Se.opts.always),k.fx.timer(k.extend(ie,{elem:p,anim:Se,queue:Se.opts.queue})),Se}k.Animation=k.extend(Rn,{tweeners:{"*":[function(p,w){var I=this.createTween(p,w);return Qn(I.elem,p,qs.exec(w),I),I}]},tweener:function(p,w){N(p)?(w=p,p=["*"]):p=p.match(vt);for(var I,x=0,U=p.length;x<U;x++)I=p[x],Rn.tweeners[I]=Rn.tweeners[I]||[],Rn.tweeners[I].unshift(w)},prefilters:[zi],prefilter:function(p,w){w?Rn.prefilters.unshift(p):Rn.prefilters.push(p)}}),k.speed=function(p,w,I){var x=p&&typeof p=="object"?k.extend({},p):{complete:I||!I&&w||N(p)&&p,duration:p,easing:I&&w||w&&!N(w)&&w};return k.fx.off?x.duration=0:typeof x.duration!="number"&&(x.duration in k.fx.speeds?x.duration=k.fx.speeds[x.duration]:x.duration=k.fx.speeds._default),(x.queue==null||x.queue===!0)&&(x.queue="fx"),x.old=x.complete,x.complete=function(){N(x.old)&&x.old.call(this),x.queue&&k.dequeue(this,x.queue)},x},k.fn.extend({fadeTo:function(p,w,I,x){return this.filter(Ws).css("opacity",0).show().end().animate({opacity:w},p,I,x)},animate:function(p,w,I,x){var U=k.isEmptyObject(p),B=k.speed(w,I,x),H=function(){var fe=Rn(this,k.extend({},p),B);(U||Ne.get(this,"finish"))&&fe.stop(!0)};return H.finish=H,U||B.queue===!1?this.each(H):this.queue(B.queue,H)},stop:function(p,w,I){var x=function(U){var B=U.stop;delete U.stop,B(I)};return typeof p!="string"&&(I=w,w=p,p=void 0),w&&this.queue(p||"fx",[]),this.each(function(){var U=!0,B=p!=null&&p+"queueHooks",H=k.timers,fe=Ne.get(this);if(B)fe[B]&&fe[B].stop&&x(fe[B]);else for(B in fe)fe[B]&&fe[B].stop&&Wo.test(B)&&x(fe[B]);for(B=H.length;B--;)H[B].elem===this&&(p==null||H[B].queue===p)&&(H[B].anim.stop(I),U=!1,H.splice(B,1));(U||!I)&&k.dequeue(this,p)})},finish:function(p){return p!==!1&&(p=p||"fx"),this.each(function(){var w,I=Ne.get(this),x=I[p+"queue"],U=I[p+"queueHooks"],B=k.timers,H=x?x.length:0;for(I.finish=!0,k.queue(this,p,[]),U&&U.stop&&U.stop.call(this,!0),w=B.length;w--;)B[w].elem===this&&B[w].queue===p&&(B[w].anim.stop(!0),B.splice(w,1));for(w=0;w<H;w++)x[w]&&x[w].finish&&x[w].finish.call(this);delete I.finish})}}),k.each(["toggle","show","hide"],function(p,w){var I=k.fn[w];k.fn[w]=function(x,U,B){return x==null||typeof x=="boolean"?I.apply(this,arguments):this.animate(Xn(w,!0),x,U,B)}}),k.each({slideDown:Xn("show"),slideUp:Xn("hide"),slideToggle:Xn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(p,w){k.fn[p]=function(I,x,U){return this.animate(w,I,x,U)}}),k.timers=[],k.fx.tick=function(){var p,w=0,I=k.timers;for(Wi=Date.now();w<I.length;w++)p=I[w],!p()&&I[w]===p&&I.splice(w--,1);I.length||k.fx.stop(),Wi=void 0},k.fx.timer=function(p){k.timers.push(p),k.fx.start()},k.fx.interval=13,k.fx.start=function(){Si||(Si=!0,Jn())},k.fx.stop=function(){Si=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(p,w){return p=k.fx&&k.fx.speeds[p]||p,w=w||"fx",this.queue(w,function(I,x){var U=t.setTimeout(I,p);x.stop=function(){t.clearTimeout(U)}})},function(){var p=R.createElement("input"),w=R.createElement("select"),I=w.appendChild(R.createElement("option"));p.type="checkbox",T.checkOn=p.value!=="",T.optSelected=I.selected,p=R.createElement("input"),p.value="t",p.type="radio",T.radioValue=p.value==="t"}();var Ha,Gi=k.expr.attrHandle;k.fn.extend({attr:function(p,w){return Ze(this,k.attr,p,w,arguments.length>1)},removeAttr:function(p){return this.each(function(){k.removeAttr(this,p)})}}),k.extend({attr:function(p,w,I){var x,U,B=p.nodeType;if(!(B===3||B===8||B===2)){if(typeof p.getAttribute>"u")return k.prop(p,w,I);if((B!==1||!k.isXMLDoc(p))&&(U=k.attrHooks[w.toLowerCase()]||(k.expr.match.bool.test(w)?Ha:void 0)),I!==void 0){if(I===null){k.removeAttr(p,w);return}return U&&"set"in U&&(x=U.set(p,I,w))!==void 0?x:(p.setAttribute(w,I+""),I)}return U&&"get"in U&&(x=U.get(p,w))!==null?x:(x=k.find.attr(p,w),x??void 0)}},attrHooks:{type:{set:function(p,w){if(!T.radioValue&&w==="radio"&&he(p,"input")){var I=p.value;return p.setAttribute("type",w),I&&(p.value=I),w}}}},removeAttr:function(p,w){var I,x=0,U=w&&w.match(vt);if(U&&p.nodeType===1)for(;I=U[x++];)p.removeAttribute(I)}}),Ha={set:function(p,w,I){return w===!1?k.removeAttr(p,I):p.setAttribute(I,I),I}},k.each(k.expr.match.bool.source.match(/\w+/g),function(p,w){var I=Gi[w]||k.find.attr;Gi[w]=function(x,U,B){var H,fe,ie=U.toLowerCase();return B||(fe=Gi[ie],Gi[ie]=H,H=I(x,U,B)!=null?ie:null,Gi[ie]=fe),H}});var ba=/^(?:input|select|textarea|button)$/i,Yi=/^(?:a|area)$/i;k.fn.extend({prop:function(p,w){return Ze(this,k.prop,p,w,arguments.length>1)},removeProp:function(p){return this.each(function(){delete this[k.propFix[p]||p]})}}),k.extend({prop:function(p,w,I){var x,U,B=p.nodeType;if(!(B===3||B===8||B===2))return(B!==1||!k.isXMLDoc(p))&&(w=k.propFix[w]||w,U=k.propHooks[w]),I!==void 0?U&&"set"in U&&(x=U.set(p,I,w))!==void 0?x:p[w]=I:U&&"get"in U&&(x=U.get(p,w))!==null?x:p[w]},propHooks:{tabIndex:{get:function(p){var w=k.find.attr(p,"tabindex");return w?parseInt(w,10):ba.test(p.nodeName)||Yi.test(p.nodeName)&&p.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(k.propHooks.selected={get:function(p){var w=p.parentNode;return w&&w.parentNode&&w.parentNode.selectedIndex,null},set:function(p){var w=p.parentNode;w&&(w.selectedIndex,w.parentNode&&w.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this});function Qi(p){var w=p.match(vt)||[];return w.join(" ")}function Ii(p){return p.getAttribute&&p.getAttribute("class")||""}function $n(p){return Array.isArray(p)?p:typeof p=="string"?p.match(vt)||[]:[]}k.fn.extend({addClass:function(p){var w,I,x,U,B,H;return N(p)?this.each(function(fe){k(this).addClass(p.call(this,fe,Ii(this)))}):(w=$n(p),w.length?this.each(function(){if(x=Ii(this),I=this.nodeType===1&&" "+Qi(x)+" ",I){for(B=0;B<w.length;B++)U=w[B],I.indexOf(" "+U+" ")<0&&(I+=U+" ");H=Qi(I),x!==H&&this.setAttribute("class",H)}}):this)},removeClass:function(p){var w,I,x,U,B,H;return N(p)?this.each(function(fe){k(this).removeClass(p.call(this,fe,Ii(this)))}):arguments.length?(w=$n(p),w.length?this.each(function(){if(x=Ii(this),I=this.nodeType===1&&" "+Qi(x)+" ",I){for(B=0;B<w.length;B++)for(U=w[B];I.indexOf(" "+U+" ")>-1;)I=I.replace(" "+U+" "," ");H=Qi(I),x!==H&&this.setAttribute("class",H)}}):this):this.attr("class","")},toggleClass:function(p,w){var I,x,U,B,H=typeof p,fe=H==="string"||Array.isArray(p);return N(p)?this.each(function(ie){k(this).toggleClass(p.call(this,ie,Ii(this),w),w)}):typeof w=="boolean"&&fe?w?this.addClass(p):this.removeClass(p):(I=$n(p),this.each(function(){if(fe)for(B=k(this),U=0;U<I.length;U++)x=I[U],B.hasClass(x)?B.removeClass(x):B.addClass(x);else(p===void 0||H==="boolean")&&(x=Ii(this),x&&Ne.set(this,"__className__",x),this.setAttribute&&this.setAttribute("class",x||p===!1?"":Ne.get(this,"__className__")||""))}))},hasClass:function(p){var w,I,x=0;for(w=" "+p+" ";I=this[x++];)if(I.nodeType===1&&(" "+Qi(Ii(I))+" ").indexOf(w)>-1)return!0;return!1}});var Zn=/\r/g;k.fn.extend({val:function(p){var w,I,x,U=this[0];return arguments.length?(x=N(p),this.each(function(B){var H;this.nodeType===1&&(x?H=p.call(this,B,k(this).val()):H=p,H==null?H="":typeof H=="number"?H+="":Array.isArray(H)&&(H=k.map(H,function(fe){return fe==null?"":fe+""})),w=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()],(!w||!("set"in w)||w.set(this,H,"value")===void 0)&&(this.value=H))})):U?(w=k.valHooks[U.type]||k.valHooks[U.nodeName.toLowerCase()],w&&"get"in w&&(I=w.get(U,"value"))!==void 0?I:(I=U.value,typeof I=="string"?I.replace(Zn,""):I??"")):void 0}}),k.extend({valHooks:{option:{get:function(p){var w=k.find.attr(p,"value");return w??Qi(k.text(p))}},select:{get:function(p){var w,I,x,U=p.options,B=p.selectedIndex,H=p.type==="select-one",fe=H?null:[],ie=H?B+1:U.length;for(B<0?x=ie:x=H?B:0;x<ie;x++)if(I=U[x],(I.selected||x===B)&&!I.disabled&&(!I.parentNode.disabled||!he(I.parentNode,"optgroup"))){if(w=k(I).val(),H)return w;fe.push(w)}return fe},set:function(p,w){for(var I,x,U=p.options,B=k.makeArray(w),H=U.length;H--;)x=U[H],(x.selected=k.inArray(k.valHooks.option.get(x),B)>-1)&&(I=!0);return I||(p.selectedIndex=-1),B}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(p,w){if(Array.isArray(w))return p.checked=k.inArray(k(p).val(),w)>-1}},T.checkOn||(k.valHooks[this].get=function(p){return p.getAttribute("value")===null?"on":p.value})});var Go=t.location,wr={guid:Date.now()},Wa=/\?/;k.parseXML=function(p){var w,I;if(!p||typeof p!="string")return null;try{w=new t.DOMParser().parseFromString(p,"text/xml")}catch{}return I=w&&w.getElementsByTagName("parsererror")[0],(!w||I)&&k.error("Invalid XML: "+(I?k.map(I.childNodes,function(x){return x.textContent}).join(`
`):p)),w};var za=/^(?:focusinfocus|focusoutblur)$/,Yr=function(p){p.stopPropagation()};k.extend(k.event,{trigger:function(p,w,I,x){var U,B,H,fe,ie,Se,je,He,Ee=[I||R],lt=A.call(p,"type")?p.type:p,It=A.call(p,"namespace")?p.namespace.split("."):[];if(B=He=H=I=I||R,!(I.nodeType===3||I.nodeType===8)&&!za.test(lt+k.event.triggered)&&(lt.indexOf(".")>-1&&(It=lt.split("."),lt=It.shift(),It.sort()),ie=lt.indexOf(":")<0&&"on"+lt,p=p[k.expando]?p:new k.Event(lt,typeof p=="object"&&p),p.isTrigger=x?2:3,p.namespace=It.join("."),p.rnamespace=p.namespace?new RegExp("(^|\\.)"+It.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,p.result=void 0,p.target||(p.target=I),w=w==null?[p]:k.makeArray(w,[p]),je=k.event.special[lt]||{},!(!x&&je.trigger&&je.trigger.apply(I,w)===!1))){if(!x&&!je.noBubble&&!F(I)){for(fe=je.delegateType||lt,za.test(fe+lt)||(B=B.parentNode);B;B=B.parentNode)Ee.push(B),H=B;H===(I.ownerDocument||R)&&Ee.push(H.defaultView||H.parentWindow||t)}for(U=0;(B=Ee[U++])&&!p.isPropagationStopped();)He=B,p.type=U>1?fe:je.bindType||lt,Se=(Ne.get(B,"events")||Object.create(null))[p.type]&&Ne.get(B,"handle"),Se&&Se.apply(B,w),Se=ie&&B[ie],Se&&Se.apply&&mt(B)&&(p.result=Se.apply(B,w),p.result===!1&&p.preventDefault());return p.type=lt,!x&&!p.isDefaultPrevented()&&(!je._default||je._default.apply(Ee.pop(),w)===!1)&&mt(I)&&ie&&N(I[lt])&&!F(I)&&(H=I[ie],H&&(I[ie]=null),k.event.triggered=lt,p.isPropagationStopped()&&He.addEventListener(lt,Yr),I[lt](),p.isPropagationStopped()&&He.removeEventListener(lt,Yr),k.event.triggered=void 0,H&&(I[ie]=H)),p.result}},simulate:function(p,w,I){var x=k.extend(new k.Event,I,{type:p,isSimulated:!0});k.event.trigger(x,null,w)}}),k.fn.extend({trigger:function(p,w){return this.each(function(){k.event.trigger(p,w,this)})},triggerHandler:function(p,w){var I=this[0];if(I)return k.event.trigger(p,w,I,!0)}});var _r=/\[\]$/,Ga=/\r?\n/g,Ul=/^(?:submit|button|image|reset|file)$/i,Bl=/^(?:input|select|textarea|keygen)/i;function br(p,w,I,x){var U;if(Array.isArray(w))k.each(w,function(B,H){I||_r.test(p)?x(p,H):br(p+"["+(typeof H=="object"&&H!=null?B:"")+"]",H,I,x)});else if(!I&&Q(w)==="object")for(U in w)br(p+"["+U+"]",w[U],I,x);else x(p,w)}k.param=function(p,w){var I,x=[],U=function(B,H){var fe=N(H)?H():H;x[x.length]=encodeURIComponent(B)+"="+encodeURIComponent(fe??"")};if(p==null)return"";if(Array.isArray(p)||p.jquery&&!k.isPlainObject(p))k.each(p,function(){U(this.name,this.value)});else for(I in p)br(I,p[I],w,U);return x.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var p=k.prop(this,"elements");return p?k.makeArray(p):this}).filter(function(){var p=this.type;return this.name&&!k(this).is(":disabled")&&Bl.test(this.nodeName)&&!Ul.test(p)&&(this.checked||!Sn.test(p))}).map(function(p,w){var I=k(this).val();return I==null?null:Array.isArray(I)?k.map(I,function(x){return{name:w.name,value:x.replace(Ga,`\r
`)}}):{name:w.name,value:I.replace(Ga,`\r
`)}}).get()}});var kr=/%20/g,Ya=/#.*$/,jl=/([?&])_=[^&]*/,Qa=/^(.*?):[ \t]*([^\r\n]*)$/mg,Vl=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ka=/^(?:GET|HEAD)$/,ql=/^\/\//,Xs={},Tt={},Ja="*/".concat("*"),Yo=R.createElement("a");Yo.href=Go.href;function Qr(p){return function(w,I){typeof w!="string"&&(I=w,w="*");var x,U=0,B=w.toLowerCase().match(vt)||[];if(N(I))for(;x=B[U++];)x[0]==="+"?(x=x.slice(1)||"*",(p[x]=p[x]||[]).unshift(I)):(p[x]=p[x]||[]).push(I)}}function Kr(p,w,I,x){var U={},B=p===Tt;function H(fe){var ie;return U[fe]=!0,k.each(p[fe]||[],function(Se,je){var He=je(w,I,x);if(typeof He=="string"&&!B&&!U[He])return w.dataTypes.unshift(He),H(He),!1;if(B)return!(ie=He)}),ie}return H(w.dataTypes[0])||!U["*"]&&H("*")}function Xa(p,w){var I,x,U=k.ajaxSettings.flatOptions||{};for(I in w)w[I]!==void 0&&((U[I]?p:x||(x={}))[I]=w[I]);return x&&k.extend(!0,p,x),p}function Hl(p,w,I){for(var x,U,B,H,fe=p.contents,ie=p.dataTypes;ie[0]==="*";)ie.shift(),x===void 0&&(x=p.mimeType||w.getResponseHeader("Content-Type"));if(x){for(U in fe)if(fe[U]&&fe[U].test(x)){ie.unshift(U);break}}if(ie[0]in I)B=ie[0];else{for(U in I){if(!ie[0]||p.converters[U+" "+ie[0]]){B=U;break}H||(H=U)}B=B||H}if(B)return B!==ie[0]&&ie.unshift(B),I[B]}function Jr(p,w,I,x){var U,B,H,fe,ie,Se={},je=p.dataTypes.slice();if(je[1])for(H in p.converters)Se[H.toLowerCase()]=p.converters[H];for(B=je.shift();B;)if(p.responseFields[B]&&(I[p.responseFields[B]]=w),!ie&&x&&p.dataFilter&&(w=p.dataFilter(w,p.dataType)),ie=B,B=je.shift(),B){if(B==="*")B=ie;else if(ie!=="*"&&ie!==B){if(H=Se[ie+" "+B]||Se["* "+B],!H){for(U in Se)if(fe=U.split(" "),fe[1]===B&&(H=Se[ie+" "+fe[0]]||Se["* "+fe[0]],H)){H===!0?H=Se[U]:Se[U]!==!0&&(B=fe[0],je.unshift(fe[1]));break}}if(H!==!0)if(H&&p.throws)w=H(w);else try{w=H(w)}catch(He){return{state:"parsererror",error:H?He:"No conversion from "+ie+" to "+B}}}}return{state:"success",data:w}}k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Go.href,type:"GET",isLocal:Vl.test(Go.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ja,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(p,w){return w?Xa(Xa(p,k.ajaxSettings),w):Xa(k.ajaxSettings,p)},ajaxPrefilter:Qr(Xs),ajaxTransport:Qr(Tt),ajax:function(p,w){typeof p=="object"&&(w=p,p=void 0),w=w||{};var I,x,U,B,H,fe,ie,Se,je,He,Ee=k.ajaxSetup({},w),lt=Ee.context||Ee,It=Ee.context&&(lt.nodeType||lt.jquery)?k(lt):k.event,ms=k.Deferred(),Ht=k.Callbacks("once memory"),pn=Ee.statusCode||{},rn={},L={},C="canceled",O={readyState:0,getResponseHeader:function(se){var Le;if(ie){if(!B)for(B={};Le=Qa.exec(U);)B[Le[1].toLowerCase()+" "]=(B[Le[1].toLowerCase()+" "]||[]).concat(Le[2]);Le=B[se.toLowerCase()+" "]}return Le==null?null:Le.join(", ")},getAllResponseHeaders:function(){return ie?U:null},setRequestHeader:function(se,Le){return ie==null&&(se=L[se.toLowerCase()]=L[se.toLowerCase()]||se,rn[se]=Le),this},overrideMimeType:function(se){return ie==null&&(Ee.mimeType=se),this},statusCode:function(se){var Le;if(se)if(ie)O.always(se[O.status]);else for(Le in se)pn[Le]=[pn[Le],se[Le]];return this},abort:function(se){var Le=se||C;return I&&I.abort(Le),X(0,Le),this}};if(ms.promise(O),Ee.url=((p||Ee.url||Go.href)+"").replace(ql,Go.protocol+"//"),Ee.type=w.method||w.type||Ee.method||Ee.type,Ee.dataTypes=(Ee.dataType||"*").toLowerCase().match(vt)||[""],Ee.crossDomain==null){fe=R.createElement("a");try{fe.href=Ee.url,fe.href=fe.href,Ee.crossDomain=Yo.protocol+"//"+Yo.host!=fe.protocol+"//"+fe.host}catch{Ee.crossDomain=!0}}if(Ee.data&&Ee.processData&&typeof Ee.data!="string"&&(Ee.data=k.param(Ee.data,Ee.traditional)),Kr(Xs,Ee,w,O),ie)return O;Se=k.event&&Ee.global,Se&&k.active++===0&&k.event.trigger("ajaxStart"),Ee.type=Ee.type.toUpperCase(),Ee.hasContent=!Ka.test(Ee.type),x=Ee.url.replace(Ya,""),Ee.hasContent?Ee.data&&Ee.processData&&(Ee.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(Ee.data=Ee.data.replace(kr,"+")):(He=Ee.url.slice(x.length),Ee.data&&(Ee.processData||typeof Ee.data=="string")&&(x+=(Wa.test(x)?"&":"?")+Ee.data,delete Ee.data),Ee.cache===!1&&(x=x.replace(jl,"$1"),He=(Wa.test(x)?"&":"?")+"_="+wr.guid+++He),Ee.url=x+He),Ee.ifModified&&(k.lastModified[x]&&O.setRequestHeader("If-Modified-Since",k.lastModified[x]),k.etag[x]&&O.setRequestHeader("If-None-Match",k.etag[x])),(Ee.data&&Ee.hasContent&&Ee.contentType!==!1||w.contentType)&&O.setRequestHeader("Content-Type",Ee.contentType),O.setRequestHeader("Accept",Ee.dataTypes[0]&&Ee.accepts[Ee.dataTypes[0]]?Ee.accepts[Ee.dataTypes[0]]+(Ee.dataTypes[0]!=="*"?", "+Ja+"; q=0.01":""):Ee.accepts["*"]);for(je in Ee.headers)O.setRequestHeader(je,Ee.headers[je]);if(Ee.beforeSend&&(Ee.beforeSend.call(lt,O,Ee)===!1||ie))return O.abort();if(C="abort",Ht.add(Ee.complete),O.done(Ee.success),O.fail(Ee.error),I=Kr(Tt,Ee,w,O),!I)X(-1,"No Transport");else{if(O.readyState=1,Se&&It.trigger("ajaxSend",[O,Ee]),ie)return O;Ee.async&&Ee.timeout>0&&(H=t.setTimeout(function(){O.abort("timeout")},Ee.timeout));try{ie=!1,I.send(rn,X)}catch(se){if(ie)throw se;X(-1,se)}}function X(se,Le,pt,Ot){var $t,ws,As,zs,di,qn=Le;ie||(ie=!0,H&&t.clearTimeout(H),I=void 0,U=Ot||"",O.readyState=se>0?4:0,$t=se>=200&&se<300||se===304,pt&&(zs=Hl(Ee,O,pt)),!$t&&k.inArray("script",Ee.dataTypes)>-1&&k.inArray("json",Ee.dataTypes)<0&&(Ee.converters["text script"]=function(){}),zs=Jr(Ee,zs,O,$t),$t?(Ee.ifModified&&(di=O.getResponseHeader("Last-Modified"),di&&(k.lastModified[x]=di),di=O.getResponseHeader("etag"),di&&(k.etag[x]=di)),se===204||Ee.type==="HEAD"?qn="nocontent":se===304?qn="notmodified":(qn=zs.state,ws=zs.data,As=zs.error,$t=!As)):(As=qn,(se||!qn)&&(qn="error",se<0&&(se=0))),O.status=se,O.statusText=(Le||qn)+"",$t?ms.resolveWith(lt,[ws,qn,O]):ms.rejectWith(lt,[O,qn,As]),O.statusCode(pn),pn=void 0,Se&&It.trigger($t?"ajaxSuccess":"ajaxError",[O,Ee,$t?ws:As]),Ht.fireWith(lt,[O,qn]),Se&&(It.trigger("ajaxComplete",[O,Ee]),--k.active||k.event.trigger("ajaxStop")))}return O},getJSON:function(p,w,I){return k.get(p,w,I,"json")},getScript:function(p,w){return k.get(p,void 0,w,"script")}}),k.each(["get","post"],function(p,w){k[w]=function(I,x,U,B){return N(x)&&(B=B||U,U=x,x=void 0),k.ajax(k.extend({url:I,type:w,dataType:B,data:x,success:U},k.isPlainObject(I)&&I))}}),k.ajaxPrefilter(function(p){var w;for(w in p.headers)w.toLowerCase()==="content-type"&&(p.contentType=p.headers[w]||"")}),k._evalUrl=function(p,w,I){return k.ajax({url:p,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(x){k.globalEval(x,w,I)}})},k.fn.extend({wrapAll:function(p){var w;return this[0]&&(N(p)&&(p=p.call(this[0])),w=k(p,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&w.insertBefore(this[0]),w.map(function(){for(var I=this;I.firstElementChild;)I=I.firstElementChild;return I}).append(this)),this},wrapInner:function(p){return N(p)?this.each(function(w){k(this).wrapInner(p.call(this,w))}):this.each(function(){var w=k(this),I=w.contents();I.length?I.wrapAll(p):w.append(p)})},wrap:function(p){var w=N(p);return this.each(function(I){k(this).wrapAll(w?p.call(this,I):p)})},unwrap:function(p){return this.parent(p).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(p){return!k.expr.pseudos.visible(p)},k.expr.pseudos.visible=function(p){return!!(p.offsetWidth||p.offsetHeight||p.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Ki={0:200,1223:204},$s=k.ajaxSettings.xhr();T.cors=!!$s&&"withCredentials"in $s,T.ajax=$s=!!$s,k.ajaxTransport(function(p){var w,I;if(T.cors||$s&&!p.crossDomain)return{send:function(x,U){var B,H=p.xhr();if(H.open(p.type,p.url,p.async,p.username,p.password),p.xhrFields)for(B in p.xhrFields)H[B]=p.xhrFields[B];p.mimeType&&H.overrideMimeType&&H.overrideMimeType(p.mimeType),!p.crossDomain&&!x["X-Requested-With"]&&(x["X-Requested-With"]="XMLHttpRequest");for(B in x)H.setRequestHeader(B,x[B]);w=function(fe){return function(){w&&(w=I=H.onload=H.onerror=H.onabort=H.ontimeout=H.onreadystatechange=null,fe==="abort"?H.abort():fe==="error"?typeof H.status!="number"?U(0,"error"):U(H.status,H.statusText):U(Ki[H.status]||H.status,H.statusText,(H.responseType||"text")!=="text"||typeof H.responseText!="string"?{binary:H.response}:{text:H.responseText},H.getAllResponseHeaders()))}},H.onload=w(),I=H.onerror=H.ontimeout=w("error"),H.onabort!==void 0?H.onabort=I:H.onreadystatechange=function(){H.readyState===4&&t.setTimeout(function(){w&&I()})},w=w("abort");try{H.send(p.hasContent&&p.data||null)}catch(fe){if(w)throw fe}},abort:function(){w&&w()}}}),k.ajaxPrefilter(function(p){p.crossDomain&&(p.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(p){return k.globalEval(p),p}}}),k.ajaxPrefilter("script",function(p){p.cache===void 0&&(p.cache=!1),p.crossDomain&&(p.type="GET")}),k.ajaxTransport("script",function(p){if(p.crossDomain||p.scriptAttrs){var w,I;return{send:function(x,U){w=k("<script>").attr(p.scriptAttrs||{}).prop({charset:p.scriptCharset,src:p.url}).on("load error",I=function(B){w.remove(),I=null,B&&U(B.type==="error"?404:200,B.type)}),R.head.appendChild(w[0])},abort:function(){I&&I()}}}});var $a=[],ei=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var p=$a.pop()||k.expando+"_"+wr.guid++;return this[p]=!0,p}}),k.ajaxPrefilter("json jsonp",function(p,w,I){var x,U,B,H=p.jsonp!==!1&&(ei.test(p.url)?"url":typeof p.data=="string"&&(p.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ei.test(p.data)&&"data");if(H||p.dataTypes[0]==="jsonp")return x=p.jsonpCallback=N(p.jsonpCallback)?p.jsonpCallback():p.jsonpCallback,H?p[H]=p[H].replace(ei,"$1"+x):p.jsonp!==!1&&(p.url+=(Wa.test(p.url)?"&":"?")+p.jsonp+"="+x),p.converters["script json"]=function(){return B||k.error(x+" was not called"),B[0]},p.dataTypes[0]="json",U=t[x],t[x]=function(){B=arguments},I.always(function(){U===void 0?k(t).removeProp(x):t[x]=U,p[x]&&(p.jsonpCallback=w.jsonpCallback,$a.push(x)),B&&N(U)&&U(B[0]),B=U=void 0}),"script"}),T.createHTMLDocument=function(){var p=R.implementation.createHTMLDocument("").body;return p.innerHTML="<form></form><form></form>",p.childNodes.length===2}(),k.parseHTML=function(p,w,I){if(typeof p!="string")return[];typeof w=="boolean"&&(I=w,w=!1);var x,U,B;return w||(T.createHTMLDocument?(w=R.implementation.createHTMLDocument(""),x=w.createElement("base"),x.href=R.location.href,w.head.appendChild(x)):w=R),U=At.exec(p),B=!I&&[],U?[w.createElement(U[1])]:(U=bt([p],w,B),B&&B.length&&k(B).remove(),k.merge([],U.childNodes))},k.fn.load=function(p,w,I){var x,U,B,H=this,fe=p.indexOf(" ");return fe>-1&&(x=Qi(p.slice(fe)),p=p.slice(0,fe)),N(w)?(I=w,w=void 0):w&&typeof w=="object"&&(U="POST"),H.length>0&&k.ajax({url:p,type:U||"GET",dataType:"html",data:w}).done(function(ie){B=arguments,H.html(x?k("<div>").append(k.parseHTML(ie)).find(x):ie)}).always(I&&function(ie,Se){H.each(function(){I.apply(this,B||[ie.responseText,Se,ie])})}),this},k.expr.pseudos.animated=function(p){return k.grep(k.timers,function(w){return p===w.elem}).length},k.offset={setOffset:function(p,w,I){var x,U,B,H,fe,ie,Se,je=k.css(p,"position"),He=k(p),Ee={};je==="static"&&(p.style.position="relative"),fe=He.offset(),B=k.css(p,"top"),ie=k.css(p,"left"),Se=(je==="absolute"||je==="fixed")&&(B+ie).indexOf("auto")>-1,Se?(x=He.position(),H=x.top,U=x.left):(H=parseFloat(B)||0,U=parseFloat(ie)||0),N(w)&&(w=w.call(p,I,k.extend({},fe))),w.top!=null&&(Ee.top=w.top-fe.top+H),w.left!=null&&(Ee.left=w.left-fe.left+U),"using"in w?w.using.call(p,Ee):He.css(Ee)}},k.fn.extend({offset:function(p){if(arguments.length)return p===void 0?this:this.each(function(U){k.offset.setOffset(this,p,U)});var w,I,x=this[0];if(x)return x.getClientRects().length?(w=x.getBoundingClientRect(),I=x.ownerDocument.defaultView,{top:w.top+I.pageYOffset,left:w.left+I.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var p,w,I,x=this[0],U={top:0,left:0};if(k.css(x,"position")==="fixed")w=x.getBoundingClientRect();else{for(w=this.offset(),I=x.ownerDocument,p=x.offsetParent||I.documentElement;p&&(p===I.body||p===I.documentElement)&&k.css(p,"position")==="static";)p=p.parentNode;p&&p!==x&&p.nodeType===1&&(U=k(p).offset(),U.top+=k.css(p,"borderTopWidth",!0),U.left+=k.css(p,"borderLeftWidth",!0))}return{top:w.top-U.top-k.css(x,"marginTop",!0),left:w.left-U.left-k.css(x,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var p=this.offsetParent;p&&k.css(p,"position")==="static";)p=p.offsetParent;return p||nn})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(p,w){var I=w==="pageYOffset";k.fn[p]=function(x){return Ze(this,function(U,B,H){var fe;if(F(U)?fe=U:U.nodeType===9&&(fe=U.defaultView),H===void 0)return fe?fe[w]:U[B];fe?fe.scrollTo(I?fe.pageXOffset:H,I?H:fe.pageYOffset):U[B]=H},p,x,arguments.length)}}),k.each(["top","left"],function(p,w){k.cssHooks[w]=_o(T.pixelPosition,function(I,x){if(x)return x=ya(I,w),fn.test(x)?k(I).position()[w]+"px":x})}),k.each({Height:"height",Width:"width"},function(p,w){k.each({padding:"inner"+p,content:w,"":"outer"+p},function(I,x){k.fn[x]=function(U,B){var H=arguments.length&&(I||typeof U!="boolean"),fe=I||(U===!0||B===!0?"margin":"border");return Ze(this,function(ie,Se,je){var He;return F(ie)?x.indexOf("outer")===0?ie["inner"+p]:ie.document.documentElement["client"+p]:ie.nodeType===9?(He=ie.documentElement,Math.max(ie.body["scroll"+p],He["scroll"+p],ie.body["offset"+p],He["offset"+p],He["client"+p])):je===void 0?k.css(ie,Se,fe):k.style(ie,Se,je,fe)},w,H?U:void 0,H)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(p,w){k.fn[w]=function(I){return this.on(w,I)}}),k.fn.extend({bind:function(p,w,I){return this.on(p,null,w,I)},unbind:function(p,w){return this.off(p,null,w)},delegate:function(p,w,I,x){return this.on(w,p,I,x)},undelegate:function(p,w,I){return arguments.length===1?this.off(p,"**"):this.off(w,p||"**",I)},hover:function(p,w){return this.on("mouseenter",p).on("mouseleave",w||p)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(p,w){k.fn[w]=function(I,x){return arguments.length>0?this.on(w,null,I,x):this.trigger(w)}});var Vn=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;k.proxy=function(p,w){var I,x,U;if(typeof w=="string"&&(I=p[w],w=p,p=I),!!N(p))return x=n.call(arguments,2),U=function(){return p.apply(w||this,x.concat(n.call(arguments)))},U.guid=p.guid=p.guid||k.guid++,U},k.holdReady=function(p){p?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=he,k.isFunction=N,k.isWindow=F,k.camelCase=qe,k.type=Q,k.now=Date.now,k.isNumeric=function(p){var w=k.type(p);return(w==="number"||w==="string")&&!isNaN(p-parseFloat(p))},k.trim=function(p){return p==null?"":(p+"").replace(Vn,"$1")};var Ar=t.jQuery,ui=t.$;return k.noConflict=function(p){return t.$===k&&(t.$=ui),p&&t.jQuery===k&&(t.jQuery=Ar),k},typeof s>"u"&&(t.jQuery=t.$=k),k})}(Jp)),Jp.exports}/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.16.1
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var Bd=typeof window<"u"&&typeof document<"u"&&typeof navigator<"u",NAe=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(Bd&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();function LAe(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function FAe(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},NAe))}}var UAe=Bd&&window.Promise,BAe=UAe?LAe:FAe;function a0(e){var t={};return e&&t.toString.call(e)==="[object Function]"}function Ic(e,t){if(e.nodeType!==1)return[];var s=e.ownerDocument.defaultView,o=s.getComputedStyle(e,null);return t?o[t]:o}function sy(e){return e.nodeName==="HTML"?e:e.parentNode||e.host}function jd(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=Ic(e),s=t.overflow,o=t.overflowX,i=t.overflowY;return/(auto|scroll|overlay)/.test(s+i+o)?e:jd(sy(e))}function r0(e){return e&&e.referenceNode?e.referenceNode:e}var eb=Bd&&!!(window.MSInputMethodContext&&document.documentMode),tb=Bd&&/MSIE 10/.test(navigator.userAgent);function ku(e){return e===11?eb:e===10?tb:eb||tb}function ru(e){if(!e)return document.documentElement;for(var t=ku(10)?document.body:null,s=e.offsetParent||null;s===t&&e.nextElementSibling;)s=(e=e.nextElementSibling).offsetParent;var o=s&&s.nodeName;return!o||o==="BODY"||o==="HTML"?e?e.ownerDocument.documentElement:document.documentElement:["TH","TD","TABLE"].indexOf(s.nodeName)!==-1&&Ic(s,"position")==="static"?ru(s):s}function jAe(e){var t=e.nodeName;return t==="BODY"?!1:t==="HTML"||ru(e.firstElementChild)===e}function Lg(e){return e.parentNode!==null?Lg(e.parentNode):e}function pf(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var s=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=s?e:t,i=s?t:e,n=document.createRange();n.setStart(o,0),n.setEnd(i,0);var r=n.commonAncestorContainer;if(e!==r&&t!==r||o.contains(i))return jAe(r)?r:ru(r);var f=Lg(e);return f.host?pf(f.host,t):pf(e,Lg(t).host)}function lu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"top",s=t==="top"?"scrollTop":"scrollLeft",o=e.nodeName;if(o==="BODY"||o==="HTML"){var i=e.ownerDocument.documentElement,n=e.ownerDocument.scrollingElement||i;return n[s]}return e[s]}function VAe(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=lu(t,"top"),i=lu(t,"left"),n=s?-1:1;return e.top+=o*n,e.bottom+=o*n,e.left+=i*n,e.right+=i*n,e}function sb(e,t){var s=t==="x"?"Left":"Top",o=s==="Left"?"Right":"Bottom";return parseFloat(e["border"+s+"Width"])+parseFloat(e["border"+o+"Width"])}function nb(e,t,s,o){return Math.max(t["offset"+e],t["scroll"+e],s["client"+e],s["offset"+e],s["scroll"+e],ku(10)?parseInt(s["offset"+e])+parseInt(o["margin"+(e==="Height"?"Top":"Left")])+parseInt(o["margin"+(e==="Height"?"Bottom":"Right")]):0)}function l0(e){var t=e.body,s=e.documentElement,o=ku(10)&&getComputedStyle(s);return{height:nb("Height",t,s,o),width:nb("Width",t,s,o)}}var qAe=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},HAe=function(){function e(t,s){for(var o=0;o<s.length;o++){var i=s[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,s,o){return s&&e(t.prototype,s),o&&e(t,o),t}}(),cu=function(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e},ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e};function Pl(e){return ca({},e,{right:e.left+e.width,bottom:e.top+e.height})}function Fg(e){var t={};try{if(ku(10)){t=e.getBoundingClientRect();var s=lu(e,"top"),o=lu(e,"left");t.top+=s,t.left+=o,t.bottom+=s,t.right+=o}else t=e.getBoundingClientRect()}catch{}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},n=e.nodeName==="HTML"?l0(e.ownerDocument):{},r=n.width||e.clientWidth||i.width,f=n.height||e.clientHeight||i.height,m=e.offsetWidth-r,v=e.offsetHeight-f;if(m||v){var g=Ic(e);m-=sb(g,"x"),v-=sb(g,"y"),i.width-=m,i.height-=v}return Pl(i)}function ny(e,t){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o=ku(10),i=t.nodeName==="HTML",n=Fg(e),r=Fg(t),f=jd(e),m=Ic(t),v=parseFloat(m.borderTopWidth),g=parseFloat(m.borderLeftWidth);s&&i&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0));var A=Pl({top:n.top-r.top-v,left:n.left-r.left-g,width:n.width,height:n.height});if(A.marginTop=0,A.marginLeft=0,!o&&i){var D=parseFloat(m.marginTop),E=parseFloat(m.marginLeft);A.top-=v-D,A.bottom-=v-D,A.left-=g-E,A.right-=g-E,A.marginTop=D,A.marginLeft=E}return(o&&!s?t.contains(f):t===f&&f.nodeName!=="BODY")&&(A=VAe(A,t)),A}function WAe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=e.ownerDocument.documentElement,o=ny(e,s),i=Math.max(s.clientWidth,window.innerWidth||0),n=Math.max(s.clientHeight,window.innerHeight||0),r=t?0:lu(s),f=t?0:lu(s,"left"),m={top:r-o.top+o.marginTop,left:f-o.left+o.marginLeft,width:i,height:n};return Pl(m)}function c0(e){var t=e.nodeName;if(t==="BODY"||t==="HTML")return!1;if(Ic(e,"position")==="fixed")return!0;var s=sy(e);return s?c0(s):!1}function u0(e){if(!e||!e.parentElement||ku())return document.documentElement;for(var t=e.parentElement;t&&Ic(t,"transform")==="none";)t=t.parentElement;return t||document.documentElement}function iy(e,t,s,o){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,n={top:0,left:0},r=i?u0(e):pf(e,r0(t));if(o==="viewport")n=WAe(r,i);else{var f=void 0;o==="scrollParent"?(f=jd(sy(t)),f.nodeName==="BODY"&&(f=e.ownerDocument.documentElement)):o==="window"?f=e.ownerDocument.documentElement:f=o;var m=ny(f,r,i);if(f.nodeName==="HTML"&&!c0(r)){var v=l0(e.ownerDocument),g=v.height,A=v.width;n.top+=m.top-m.marginTop,n.bottom=g+m.top,n.left+=m.left-m.marginLeft,n.right=A+m.left}else n=m}s=s||0;var D=typeof s=="number";return n.left+=D?s:s.left||0,n.top+=D?s:s.top||0,n.right-=D?s:s.right||0,n.bottom-=D?s:s.bottom||0,n}function zAe(e){var t=e.width,s=e.height;return t*s}function d0(e,t,s,o,i){var n=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var r=iy(s,o,n,i),f={top:{width:r.width,height:t.top-r.top},right:{width:r.right-t.right,height:r.height},bottom:{width:r.width,height:r.bottom-t.bottom},left:{width:t.left-r.left,height:r.height}},m=Object.keys(f).map(function(D){return ca({key:D},f[D],{area:zAe(f[D])})}).sort(function(D,E){return E.area-D.area}),v=m.filter(function(D){var E=D.width,T=D.height;return E>=s.clientWidth&&T>=s.clientHeight}),g=v.length>0?v[0].key:m[0].key,A=e.split("-")[1];return g+(A?"-"+A:"")}function h0(e,t,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=o?u0(t):pf(t,r0(s));return ny(s,i,o)}function f0(e){var t=e.ownerDocument.defaultView,s=t.getComputedStyle(e),o=parseFloat(s.marginTop||0)+parseFloat(s.marginBottom||0),i=parseFloat(s.marginLeft||0)+parseFloat(s.marginRight||0),n={width:e.offsetWidth+i,height:e.offsetHeight+o};return n}function gf(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(s){return t[s]})}function m0(e,t,s){s=s.split("-")[0];var o=f0(e),i={width:o.width,height:o.height},n=["right","left"].indexOf(s)!==-1,r=n?"top":"left",f=n?"left":"top",m=n?"height":"width",v=n?"width":"height";return i[r]=t[r]+t[m]/2-o[m]/2,s===f?i[f]=t[f]-o[v]:i[f]=t[gf(f)],i}function Vd(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function GAe(e,t,s){if(Array.prototype.findIndex)return e.findIndex(function(i){return i[t]===s});var o=Vd(e,function(i){return i[t]===s});return e.indexOf(o)}function p0(e,t,s){var o=s===void 0?e:e.slice(0,GAe(e,"name",s));return o.forEach(function(i){i.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=i.function||i.fn;i.enabled&&a0(n)&&(t.offsets.popper=Pl(t.offsets.popper),t.offsets.reference=Pl(t.offsets.reference),t=n(t,i))}),t}function YAe(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=h0(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=d0(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=m0(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=p0(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function g0(e,t){return e.some(function(s){var o=s.name,i=s.enabled;return i&&o===t})}function oy(e){for(var t=[!1,"ms","Webkit","Moz","O"],s=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var i=t[o],n=i?""+i+s:e;if(typeof document.body.style[n]<"u")return n}return null}function QAe(){return this.state.isDestroyed=!0,g0(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[oy("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function v0(e){var t=e.ownerDocument;return t?t.defaultView:window}function y0(e,t,s,o){var i=e.nodeName==="BODY",n=i?e.ownerDocument.defaultView:e;n.addEventListener(t,s,{passive:!0}),i||y0(jd(n.parentNode),t,s,o),o.push(n)}function KAe(e,t,s,o){s.updateBound=o,v0(e).addEventListener("resize",s.updateBound,{passive:!0});var i=jd(e);return y0(i,"scroll",s.updateBound,s.scrollParents),s.scrollElement=i,s.eventsEnabled=!0,s}function JAe(){this.state.eventsEnabled||(this.state=KAe(this.reference,this.options,this.state,this.scheduleUpdate))}function XAe(e,t){return v0(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(s){s.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function $Ae(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=XAe(this.reference,this.state))}function ay(e){return e!==""&&!isNaN(parseFloat(e))&&isFinite(e)}function Ug(e,t){Object.keys(t).forEach(function(s){var o="";["width","height","top","right","bottom","left"].indexOf(s)!==-1&&ay(t[s])&&(o="px"),e.style[s]=t[s]+o})}function ZAe(e,t){Object.keys(t).forEach(function(s){var o=t[s];o!==!1?e.setAttribute(s,t[s]):e.removeAttribute(s)})}function eCe(e){return Ug(e.instance.popper,e.styles),ZAe(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ug(e.arrowElement,e.arrowStyles),e}function tCe(e,t,s,o,i){var n=h0(i,t,e,s.positionFixed),r=d0(s.placement,n,t,e,s.modifiers.flip.boundariesElement,s.modifiers.flip.padding);return t.setAttribute("x-placement",r),Ug(t,{position:s.positionFixed?"fixed":"absolute"}),s}function sCe(e,t){var s=e.offsets,o=s.popper,i=s.reference,n=Math.round,r=Math.floor,f=function(R){return R},m=n(i.width),v=n(o.width),g=["left","right"].indexOf(e.placement)!==-1,A=e.placement.indexOf("-")!==-1,D=m%2===v%2,E=m%2===1&&v%2===1,T=t?g||A||D?n:r:f,N=t?n:f;return{left:T(E&&!A&&t?o.left-1:o.left),top:N(o.top),bottom:N(o.bottom),right:T(o.right)}}var nCe=Bd&&/Firefox/i.test(navigator.userAgent);function iCe(e,t){var s=t.x,o=t.y,i=e.offsets.popper,n=Vd(e.instance.modifiers,function(W){return W.name==="applyStyle"}).gpuAcceleration;n!==void 0&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var r=n!==void 0?n:t.gpuAcceleration,f=ru(e.instance.popper),m=Fg(f),v={position:i.position},g=sCe(e,window.devicePixelRatio<2||!nCe),A=s==="bottom"?"top":"bottom",D=o==="right"?"left":"right",E=oy("transform"),T=void 0,N=void 0;if(A==="bottom"?f.nodeName==="HTML"?N=-f.clientHeight+g.bottom:N=-m.height+g.bottom:N=g.top,D==="right"?f.nodeName==="HTML"?T=-f.clientWidth+g.right:T=-m.width+g.right:T=g.left,r&&E)v[E]="translate3d("+T+"px, "+N+"px, 0)",v[A]=0,v[D]=0,v.willChange="transform";else{var F=A==="bottom"?-1:1,R=D==="right"?-1:1;v[A]=N*F,v[D]=T*R,v.willChange=A+", "+D}var j={"x-placement":e.placement};return e.attributes=ca({},j,e.attributes),e.styles=ca({},v,e.styles),e.arrowStyles=ca({},e.offsets.arrow,e.arrowStyles),e}function w0(e,t,s){var o=Vd(e,function(f){var m=f.name;return m===t}),i=!!o&&e.some(function(f){return f.name===s&&f.enabled&&f.order<o.order});if(!i){var n="`"+t+"`",r="`"+s+"`";console.warn(r+" modifier is required by "+n+" modifier in order to work, be sure to include it before "+n+"!")}return i}function oCe(e,t){var s;if(!w0(e.instance.modifiers,"arrow","keepTogether"))return e;var o=t.element;if(typeof o=="string"){if(o=e.instance.popper.querySelector(o),!o)return e}else if(!e.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],n=e.offsets,r=n.popper,f=n.reference,m=["left","right"].indexOf(i)!==-1,v=m?"height":"width",g=m?"Top":"Left",A=g.toLowerCase(),D=m?"left":"top",E=m?"bottom":"right",T=f0(o)[v];f[E]-T<r[A]&&(e.offsets.popper[A]-=r[A]-(f[E]-T)),f[A]+T>r[E]&&(e.offsets.popper[A]+=f[A]+T-r[E]),e.offsets.popper=Pl(e.offsets.popper);var N=f[A]+f[v]/2-T/2,F=Ic(e.instance.popper),R=parseFloat(F["margin"+g]),j=parseFloat(F["border"+g+"Width"]),W=N-e.offsets.popper[A]-R-j;return W=Math.max(Math.min(r[v]-T,W),0),e.arrowElement=o,e.offsets.arrow=(s={},cu(s,A,Math.round(W)),cu(s,D,""),s),e}function aCe(e){return e==="end"?"start":e==="start"?"end":e}var _0=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Xp=_0.slice(3);function ib(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=Xp.indexOf(e),o=Xp.slice(s+1).concat(Xp.slice(0,s));return t?o.reverse():o}var $p={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function rCe(e,t){if(g0(e.instance.modifiers,"inner")||e.flipped&&e.placement===e.originalPlacement)return e;var s=iy(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],i=gf(o),n=e.placement.split("-")[1]||"",r=[];switch(t.behavior){case $p.FLIP:r=[o,i];break;case $p.CLOCKWISE:r=ib(o);break;case $p.COUNTERCLOCKWISE:r=ib(o,!0);break;default:r=t.behavior}return r.forEach(function(f,m){if(o!==f||r.length===m+1)return e;o=e.placement.split("-")[0],i=gf(o);var v=e.offsets.popper,g=e.offsets.reference,A=Math.floor,D=o==="left"&&A(v.right)>A(g.left)||o==="right"&&A(v.left)<A(g.right)||o==="top"&&A(v.bottom)>A(g.top)||o==="bottom"&&A(v.top)<A(g.bottom),E=A(v.left)<A(s.left),T=A(v.right)>A(s.right),N=A(v.top)<A(s.top),F=A(v.bottom)>A(s.bottom),R=o==="left"&&E||o==="right"&&T||o==="top"&&N||o==="bottom"&&F,j=["top","bottom"].indexOf(o)!==-1,W=!!t.flipVariations&&(j&&n==="start"&&E||j&&n==="end"&&T||!j&&n==="start"&&N||!j&&n==="end"&&F),Q=!!t.flipVariationsByContent&&(j&&n==="start"&&T||j&&n==="end"&&E||!j&&n==="start"&&F||!j&&n==="end"&&N),le=W||Q;(D||R||le)&&(e.flipped=!0,(D||R)&&(o=r[m+1]),le&&(n=aCe(n)),e.placement=o+(n?"-"+n:""),e.offsets.popper=ca({},e.offsets.popper,m0(e.instance.popper,e.offsets.reference,e.placement)),e=p0(e.instance.modifiers,e,"flip"))}),e}function lCe(e){var t=e.offsets,s=t.popper,o=t.reference,i=e.placement.split("-")[0],n=Math.floor,r=["top","bottom"].indexOf(i)!==-1,f=r?"right":"bottom",m=r?"left":"top",v=r?"width":"height";return s[f]<n(o[m])&&(e.offsets.popper[m]=n(o[m])-s[v]),s[m]>n(o[f])&&(e.offsets.popper[m]=n(o[f])),e}function cCe(e,t,s,o){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),n=+i[1],r=i[2];if(!n)return e;if(r.indexOf("%")===0){var f=void 0;switch(r){case"%p":f=s;break;case"%":case"%r":default:f=o}var m=Pl(f);return m[t]/100*n}else if(r==="vh"||r==="vw"){var v=void 0;return r==="vh"?v=Math.max(document.documentElement.clientHeight,window.innerHeight||0):v=Math.max(document.documentElement.clientWidth,window.innerWidth||0),v/100*n}else return n}function uCe(e,t,s,o){var i=[0,0],n=["right","left"].indexOf(o)!==-1,r=e.split(/(\+|\-)/).map(function(g){return g.trim()}),f=r.indexOf(Vd(r,function(g){return g.search(/,|\s/)!==-1}));r[f]&&r[f].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var m=/\s*,\s*|\s+/,v=f!==-1?[r.slice(0,f).concat([r[f].split(m)[0]]),[r[f].split(m)[1]].concat(r.slice(f+1))]:[r];return v=v.map(function(g,A){var D=(A===1?!n:n)?"height":"width",E=!1;return g.reduce(function(T,N){return T[T.length-1]===""&&["+","-"].indexOf(N)!==-1?(T[T.length-1]=N,E=!0,T):E?(T[T.length-1]+=N,E=!1,T):T.concat(N)},[]).map(function(T){return cCe(T,D,t,s)})}),v.forEach(function(g,A){g.forEach(function(D,E){ay(D)&&(i[A]+=D*(g[E-1]==="-"?-1:1))})}),i}function dCe(e,t){var s=t.offset,o=e.placement,i=e.offsets,n=i.popper,r=i.reference,f=o.split("-")[0],m=void 0;return ay(+s)?m=[+s,0]:m=uCe(s,n,r,f),f==="left"?(n.top+=m[0],n.left-=m[1]):f==="right"?(n.top+=m[0],n.left+=m[1]):f==="top"?(n.left+=m[0],n.top-=m[1]):f==="bottom"&&(n.left+=m[0],n.top+=m[1]),e.popper=n,e}function hCe(e,t){var s=t.boundariesElement||ru(e.instance.popper);e.instance.reference===s&&(s=ru(s));var o=oy("transform"),i=e.instance.popper.style,n=i.top,r=i.left,f=i[o];i.top="",i.left="",i[o]="";var m=iy(e.instance.popper,e.instance.reference,t.padding,s,e.positionFixed);i.top=n,i.left=r,i[o]=f,t.boundaries=m;var v=t.priority,g=e.offsets.popper,A={primary:function(E){var T=g[E];return g[E]<m[E]&&!t.escapeWithReference&&(T=Math.max(g[E],m[E])),cu({},E,T)},secondary:function(E){var T=E==="right"?"left":"top",N=g[T];return g[E]>m[E]&&!t.escapeWithReference&&(N=Math.min(g[T],m[E]-(E==="right"?g.width:g.height))),cu({},T,N)}};return v.forEach(function(D){var E=["left","top"].indexOf(D)!==-1?"primary":"secondary";g=ca({},g,A[E](D))}),e.offsets.popper=g,e}function fCe(e){var t=e.placement,s=t.split("-")[0],o=t.split("-")[1];if(o){var i=e.offsets,n=i.reference,r=i.popper,f=["bottom","top"].indexOf(s)!==-1,m=f?"left":"top",v=f?"width":"height",g={start:cu({},m,n[m]),end:cu({},m,n[m]+n[v]-r[v])};e.offsets.popper=ca({},r,g[o])}return e}function mCe(e){if(!w0(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,s=Vd(e.instance.modifiers,function(o){return o.name==="preventOverflow"}).boundaries;if(t.bottom<s.top||t.left>s.right||t.top>s.bottom||t.right<s.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function pCe(e){var t=e.placement,s=t.split("-")[0],o=e.offsets,i=o.popper,n=o.reference,r=["left","right"].indexOf(s)!==-1,f=["top","left"].indexOf(s)===-1;return i[r?"left":"top"]=n[s]-(f?i[r?"width":"height"]:0),e.placement=gf(t),e.offsets.popper=Pl(i),e}var gCe={shift:{order:100,enabled:!0,fn:fCe},offset:{order:200,enabled:!0,fn:dCe,offset:0},preventOverflow:{order:300,enabled:!0,fn:hCe,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:lCe},arrow:{order:500,enabled:!0,fn:oCe,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:rCe,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:pCe},hide:{order:800,enabled:!0,fn:mCe},computeStyle:{order:850,enabled:!0,fn:iCe,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:eCe,onLoad:tCe,gpuAcceleration:void 0}},vCe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:gCe},lm=function(){function e(t,s){var o=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};qAe(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=BAe(this.update.bind(this)),this.options=ca({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=s&&s.jquery?s[0]:s,this.options.modifiers={},Object.keys(ca({},e.Defaults.modifiers,i.modifiers)).forEach(function(r){o.options.modifiers[r]=ca({},e.Defaults.modifiers[r]||{},i.modifiers?i.modifiers[r]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(r){return ca({name:r},o.options.modifiers[r])}).sort(function(r,f){return r.order-f.order}),this.modifiers.forEach(function(r){r.enabled&&a0(r.onLoad)&&r.onLoad(o.reference,o.popper,o.options,r,o.state)}),this.update();var n=this.options.eventsEnabled;n&&this.enableEventListeners(),this.state.eventsEnabled=n}return HAe(e,[{key:"update",value:function(){return YAe.call(this)}},{key:"destroy",value:function(){return QAe.call(this)}},{key:"enableEventListeners",value:function(){return JAe.call(this)}},{key:"disableEventListeners",value:function(){return $Ae.call(this)}}]),e}();lm.Utils=(typeof window<"u"?window:global).PopperUtils;lm.placements=_0;lm.Defaults=vCe;const yCe=Object.freeze(Object.defineProperty({__proto__:null,default:lm},Symbol.toStringTag,{value:"Module"})),wCe=JO(yCe);/*!
  * Bootstrap v4.6.2 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(e,t){(function(s,o){o(t,RAe(),wCe)})(ac,function(s,o,i){function n(Me){return Me&&typeof Me=="object"&&"default"in Me?Me:{default:Me}}var r=n(o),f=n(i);function m(Me,ge){for(var ae=0;ae<ge.length;ae++){var M=ge[ae];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(Me,M.key,M)}}function v(Me,ge,ae){return ae&&m(Me,ae),Object.defineProperty(Me,"prototype",{writable:!1}),Me}function g(){return g=Object.assign?Object.assign.bind():function(Me){for(var ge=1;ge<arguments.length;ge++){var ae=arguments[ge];for(var M in ae)Object.prototype.hasOwnProperty.call(ae,M)&&(Me[M]=ae[M])}return Me},g.apply(this,arguments)}function A(Me,ge){Me.prototype=Object.create(ge.prototype),Me.prototype.constructor=Me,D(Me,ge)}function D(Me,ge){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,G){return M.__proto__=G,M},D(Me,ge)}var E="transitionend",T=1e6,N=1e3;function F(Me){return Me===null||typeof Me>"u"?""+Me:{}.toString.call(Me).match(/\s([a-z]+)/i)[1].toLowerCase()}function R(){return{bindType:E,delegateType:E,handle:function(ge){if(r.default(ge.target).is(this))return ge.handleObj.handler.apply(this,arguments)}}}function j(Me){var ge=this,ae=!1;return r.default(this).one(Q.TRANSITION_END,function(){ae=!0}),setTimeout(function(){ae||Q.triggerTransitionEnd(ge)},Me),this}function W(){r.default.fn.emulateTransitionEnd=j,r.default.event.special[Q.TRANSITION_END]=R()}var Q={TRANSITION_END:"bsTransitionEnd",getUID:function(ge){do ge+=~~(Math.random()*T);while(document.getElementById(ge));return ge},getSelectorFromElement:function(ge){var ae=ge.getAttribute("data-target");if(!ae||ae==="#"){var M=ge.getAttribute("href");ae=M&&M!=="#"?M.trim():""}try{return document.querySelector(ae)?ae:null}catch{return null}},getTransitionDurationFromElement:function(ge){if(!ge)return 0;var ae=r.default(ge).css("transition-duration"),M=r.default(ge).css("transition-delay"),G=parseFloat(ae),oe=parseFloat(M);return!G&&!oe?0:(ae=ae.split(",")[0],M=M.split(",")[0],(parseFloat(ae)+parseFloat(M))*N)},reflow:function(ge){return ge.offsetHeight},triggerTransitionEnd:function(ge){r.default(ge).trigger(E)},supportsTransitionEnd:function(){return!!E},isElement:function(ge){return(ge[0]||ge).nodeType},typeCheckConfig:function(ge,ae,M){for(var G in M)if(Object.prototype.hasOwnProperty.call(M,G)){var oe=M[G],Re=ae[G],ze=Re&&Q.isElement(Re)?"element":F(Re);if(!new RegExp(oe).test(ze))throw new Error(ge.toUpperCase()+": "+('Option "'+G+'" provided type "'+ze+'" ')+('but expected type "'+oe+'".'))}},findShadowRoot:function(ge){if(!document.documentElement.attachShadow)return null;if(typeof ge.getRootNode=="function"){var ae=ge.getRootNode();return ae instanceof ShadowRoot?ae:null}return ge instanceof ShadowRoot?ge:ge.parentNode?Q.findShadowRoot(ge.parentNode):null},jQueryDetection:function(){if(typeof r.default>"u")throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var ge=r.default.fn.jquery.split(" ")[0].split("."),ae=1,M=2,G=9,oe=1,Re=4;if(ge[0]<M&&ge[1]<G||ge[0]===ae&&ge[1]===G&&ge[2]<oe||ge[0]>=Re)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}};Q.jQueryDetection(),W();var le="alert",me="4.6.2",k="bs.alert",Ce="."+k,he=".data-api",Ke=r.default.fn[le],Te="alert",Ve="fade",ut="show",de="close"+Ce,We="closed"+Ce,Qt="click"+Ce+he,Lt='[data-dismiss="alert"]',wt=function(){function Me(ae){this._element=ae}var ge=Me.prototype;return ge.close=function(M){var G=this._element;M&&(G=this._getRootElement(M));var oe=this._triggerCloseEvent(G);oe.isDefaultPrevented()||this._removeElement(G)},ge.dispose=function(){r.default.removeData(this._element,k),this._element=null},ge._getRootElement=function(M){var G=Q.getSelectorFromElement(M),oe=!1;return G&&(oe=document.querySelector(G)),oe||(oe=r.default(M).closest("."+Te)[0]),oe},ge._triggerCloseEvent=function(M){var G=r.default.Event(de);return r.default(M).trigger(G),G},ge._removeElement=function(M){var G=this;if(r.default(M).removeClass(ut),!r.default(M).hasClass(Ve)){this._destroyElement(M);return}var oe=Q.getTransitionDurationFromElement(M);r.default(M).one(Q.TRANSITION_END,function(Re){return G._destroyElement(M,Re)}).emulateTransitionEnd(oe)},ge._destroyElement=function(M){r.default(M).detach().trigger(We).remove()},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this),oe=G.data(k);oe||(oe=new Me(this),G.data(k,oe)),M==="close"&&oe[M](this)})},Me._handleDismiss=function(M){return function(G){G&&G.preventDefault(),M.close(this)}},v(Me,null,[{key:"VERSION",get:function(){return me}}]),Me}();r.default(document).on(Qt,Lt,wt._handleDismiss(new wt)),r.default.fn[le]=wt._jQueryInterface,r.default.fn[le].Constructor=wt,r.default.fn[le].noConflict=function(){return r.default.fn[le]=Ke,wt._jQueryInterface};var Je="button",Xe="4.6.2",tt="bs.button",At="."+tt,Ct=".data-api",ls=r.default.fn[Je],Ut="active",qt="btn",ce="focus",xe="click"+At+Ct,it="focus"+At+Ct+" "+("blur"+At+Ct),vt="load"+At+Ct,Gt='[data-toggle^="button"]',jt='[data-toggle="buttons"]',ne='[data-toggle="button"]',re='[data-toggle="buttons"] .btn',Pe='input:not([type="hidden"])',Qe=".active",Be=".btn",Ze=function(){function Me(ae){this._element=ae,this.shouldAvoidTriggerChange=!1}var ge=Me.prototype;return ge.toggle=function(){var M=!0,G=!0,oe=r.default(this._element).closest(jt)[0];if(oe){var Re=this._element.querySelector(Pe);if(Re){if(Re.type==="radio")if(Re.checked&&this._element.classList.contains(Ut))M=!1;else{var ze=oe.querySelector(Qe);ze&&r.default(ze).removeClass(Ut)}M&&((Re.type==="checkbox"||Re.type==="radio")&&(Re.checked=!this._element.classList.contains(Ut)),this.shouldAvoidTriggerChange||r.default(Re).trigger("change")),Re.focus(),G=!1}}this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(G&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(Ut)),M&&r.default(this._element).toggleClass(Ut))},ge.dispose=function(){r.default.removeData(this._element,tt),this._element=null},Me._jQueryInterface=function(M,G){return this.each(function(){var oe=r.default(this),Re=oe.data(tt);Re||(Re=new Me(this),oe.data(tt,Re)),Re.shouldAvoidTriggerChange=G,M==="toggle"&&Re[M]()})},v(Me,null,[{key:"VERSION",get:function(){return Xe}}]),Me}();r.default(document).on(xe,Gt,function(Me){var ge=Me.target,ae=ge;if(r.default(ge).hasClass(qt)||(ge=r.default(ge).closest(Be)[0]),!ge||ge.hasAttribute("disabled")||ge.classList.contains("disabled"))Me.preventDefault();else{var M=ge.querySelector(Pe);if(M&&(M.hasAttribute("disabled")||M.classList.contains("disabled"))){Me.preventDefault();return}(ae.tagName==="INPUT"||ge.tagName!=="LABEL")&&Ze._jQueryInterface.call(r.default(ge),"toggle",ae.tagName==="INPUT")}}).on(it,Gt,function(Me){var ge=r.default(Me.target).closest(Be)[0];r.default(ge).toggleClass(ce,/^focus(in)?$/.test(Me.type))}),r.default(window).on(vt,function(){for(var Me=[].slice.call(document.querySelectorAll(re)),ge=0,ae=Me.length;ge<ae;ge++){var M=Me[ge],G=M.querySelector(Pe);G.checked||G.hasAttribute("checked")?M.classList.add(Ut):M.classList.remove(Ut)}Me=[].slice.call(document.querySelectorAll(ne));for(var oe=0,Re=Me.length;oe<Re;oe++){var ze=Me[oe];ze.getAttribute("aria-pressed")==="true"?ze.classList.add(Ut):ze.classList.remove(Ut)}}),r.default.fn[Je]=Ze._jQueryInterface,r.default.fn[Je].Constructor=Ze,r.default.fn[Je].noConflict=function(){return r.default.fn[Je]=ls,Ze._jQueryInterface};var ht="carousel",rt="4.6.2",ot="bs.carousel",qe="."+ot,mt=".data-api",Et=r.default.fn[ht],Ne=37,Pt=39,Zt=500,$e=40,_t="carousel",bs="active",Zs="slide",qs="carousel-item-right",sn="carousel-item-left",nn="carousel-item-next",Is="carousel-item-prev",Hs="pointer-event",Ws="next",Qn="prev",xn="left",Pn="right",dn="slide"+qe,Sn="slid"+qe,qo="keydown"+qe,J="mouseenter"+qe,ee="mouseleave"+qe,ke="touchstart"+qe,Ue="touchmove"+qe,gt="touchend"+qe,bt="pointerdown"+qe,cs="pointerup"+qe,kt="dragstart"+qe,is="load"+qe+mt,St="click"+qe+mt,Yt=".active",Ms=".active.carousel-item",Mn=".carousel-item",_n=".carousel-item img",ai=".carousel-item-next, .carousel-item-prev",ri=".carousel-indicators",wo="[data-slide], [data-slide-to]",En='[data-ride="carousel"]',dt={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},ys={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},ks={TOUCH:"touch",PEN:"pen"},fn=function(){function Me(ae,M){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(M),this._element=ae,this._indicatorsElement=this._element.querySelector(ri),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=!!(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var ge=Me.prototype;return ge.next=function(){this._isSliding||this._slide(Ws)},ge.nextWhenVisible=function(){var M=r.default(this._element);!document.hidden&&M.is(":visible")&&M.css("visibility")!=="hidden"&&this.next()},ge.prev=function(){this._isSliding||this._slide(Qn)},ge.pause=function(M){M||(this._isPaused=!0),this._element.querySelector(ai)&&(Q.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},ge.cycle=function(M){M||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},ge.to=function(M){var G=this;this._activeElement=this._element.querySelector(Ms);var oe=this._getItemIndex(this._activeElement);if(!(M>this._items.length-1||M<0)){if(this._isSliding){r.default(this._element).one(Sn,function(){return G.to(M)});return}if(oe===M){this.pause(),this.cycle();return}var Re=M>oe?Ws:Qn;this._slide(Re,this._items[M])}},ge.dispose=function(){r.default(this._element).off(qe),r.default.removeData(this._element,ot),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},ge._getConfig=function(M){return M=g({},dt,M),Q.typeCheckConfig(ht,M,ys),M},ge._handleSwipe=function(){var M=Math.abs(this.touchDeltaX);if(!(M<=$e)){var G=M/this.touchDeltaX;this.touchDeltaX=0,G>0&&this.prev(),G<0&&this.next()}},ge._addEventListeners=function(){var M=this;this._config.keyboard&&r.default(this._element).on(qo,function(G){return M._keydown(G)}),this._config.pause==="hover"&&r.default(this._element).on(J,function(G){return M.pause(G)}).on(ee,function(G){return M.cycle(G)}),this._config.touch&&this._addTouchEventListeners()},ge._addTouchEventListeners=function(){var M=this;if(this._touchSupported){var G=function(ft){M._pointerEvent&&ks[ft.originalEvent.pointerType.toUpperCase()]?M.touchStartX=ft.originalEvent.clientX:M._pointerEvent||(M.touchStartX=ft.originalEvent.touches[0].clientX)},oe=function(ft){M.touchDeltaX=ft.originalEvent.touches&&ft.originalEvent.touches.length>1?0:ft.originalEvent.touches[0].clientX-M.touchStartX},Re=function(ft){M._pointerEvent&&ks[ft.originalEvent.pointerType.toUpperCase()]&&(M.touchDeltaX=ft.originalEvent.clientX-M.touchStartX),M._handleSwipe(),M._config.pause==="hover"&&(M.pause(),M.touchTimeout&&clearTimeout(M.touchTimeout),M.touchTimeout=setTimeout(function(us){return M.cycle(us)},Zt+M._config.interval))};r.default(this._element.querySelectorAll(_n)).on(kt,function(ze){return ze.preventDefault()}),this._pointerEvent?(r.default(this._element).on(bt,function(ze){return G(ze)}),r.default(this._element).on(cs,function(ze){return Re(ze)}),this._element.classList.add(Hs)):(r.default(this._element).on(ke,function(ze){return G(ze)}),r.default(this._element).on(Ue,function(ze){return oe(ze)}),r.default(this._element).on(gt,function(ze){return Re(ze)}))}},ge._keydown=function(M){if(!/input|textarea/i.test(M.target.tagName))switch(M.which){case Ne:M.preventDefault(),this.prev();break;case Pt:M.preventDefault(),this.next();break}},ge._getItemIndex=function(M){return this._items=M&&M.parentNode?[].slice.call(M.parentNode.querySelectorAll(Mn)):[],this._items.indexOf(M)},ge._getItemByDirection=function(M,G){var oe=M===Ws,Re=M===Qn,ze=this._getItemIndex(G),ft=this._items.length-1,us=Re&&ze===0||oe&&ze===ft;if(us&&!this._config.wrap)return G;var Gs=M===Qn?-1:1,Qs=(ze+Gs)%this._items.length;return Qs===-1?this._items[this._items.length-1]:this._items[Qs]},ge._triggerSlideEvent=function(M,G){var oe=this._getItemIndex(M),Re=this._getItemIndex(this._element.querySelector(Ms)),ze=r.default.Event(dn,{relatedTarget:M,direction:G,from:Re,to:oe});return r.default(this._element).trigger(ze),ze},ge._setActiveIndicatorElement=function(M){if(this._indicatorsElement){var G=[].slice.call(this._indicatorsElement.querySelectorAll(Yt));r.default(G).removeClass(bs);var oe=this._indicatorsElement.children[this._getItemIndex(M)];oe&&r.default(oe).addClass(bs)}},ge._updateInterval=function(){var M=this._activeElement||this._element.querySelector(Ms);if(M){var G=parseInt(M.getAttribute("data-interval"),10);G?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=G):this._config.interval=this._config.defaultInterval||this._config.interval}},ge._slide=function(M,G){var oe=this,Re=this._element.querySelector(Ms),ze=this._getItemIndex(Re),ft=G||Re&&this._getItemByDirection(M,Re),us=this._getItemIndex(ft),Gs=!!this._interval,Qs,ln,ea;if(M===Ws?(Qs=sn,ln=nn,ea=xn):(Qs=qs,ln=Is,ea=Pn),ft&&r.default(ft).hasClass(bs)){this._isSliding=!1;return}var Io=this._triggerSlideEvent(ft,ea);if(!Io.isDefaultPrevented()&&!(!Re||!ft)){this._isSliding=!0,Gs&&this.pause(),this._setActiveIndicatorElement(ft),this._activeElement=ft;var nl=r.default.Event(Sn,{relatedTarget:ft,direction:ea,from:ze,to:us});if(r.default(this._element).hasClass(Zs)){r.default(ft).addClass(ln),Q.reflow(ft),r.default(Re).addClass(Qs),r.default(ft).addClass(Qs);var Du=Q.getTransitionDurationFromElement(Re);r.default(Re).one(Q.TRANSITION_END,function(){r.default(ft).removeClass(Qs+" "+ln).addClass(bs),r.default(Re).removeClass(bs+" "+ln+" "+Qs),oe._isSliding=!1,setTimeout(function(){return r.default(oe._element).trigger(nl)},0)}).emulateTransitionEnd(Du)}else r.default(Re).removeClass(bs),r.default(ft).addClass(bs),this._isSliding=!1,r.default(this._element).trigger(nl);Gs&&this.cycle()}},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this).data(ot),oe=g({},dt,r.default(this).data());typeof M=="object"&&(oe=g({},oe,M));var Re=typeof M=="string"?M:oe.slide;if(G||(G=new Me(this,oe),r.default(this).data(ot,G)),typeof M=="number")G.to(M);else if(typeof Re=="string"){if(typeof G[Re]>"u")throw new TypeError('No method named "'+Re+'"');G[Re]()}else oe.interval&&oe.ride&&(G.pause(),G.cycle())})},Me._dataApiClickHandler=function(M){var G=Q.getSelectorFromElement(this);if(G){var oe=r.default(G)[0];if(!(!oe||!r.default(oe).hasClass(_t))){var Re=g({},r.default(oe).data(),r.default(this).data()),ze=this.getAttribute("data-slide-to");ze&&(Re.interval=!1),Me._jQueryInterface.call(r.default(oe),Re),ze&&r.default(oe).data(ot).to(ze),M.preventDefault()}}},v(Me,null,[{key:"VERSION",get:function(){return rt}},{key:"Default",get:function(){return dt}}]),Me}();r.default(document).on(St,wo,fn._dataApiClickHandler),r.default(window).on(is,function(){for(var Me=[].slice.call(document.querySelectorAll(En)),ge=0,ae=Me.length;ge<ae;ge++){var M=r.default(Me[ge]);fn._jQueryInterface.call(M,M.data())}}),r.default.fn[ht]=fn._jQueryInterface,r.default.fn[ht].Constructor=fn,r.default.fn[ht].noConflict=function(){return r.default.fn[ht]=Et,fn._jQueryInterface};var mn="collapse",li="4.6.2",an="bs.collapse",Kn="."+an,ya=".data-api",_o=r.default.fn[mn],qi="show",Ho="collapse",wa="collapsing",Va="collapsed",_a="width",Ci="height",Gr="show"+Kn,Hi="shown"+Kn,qa="hide"+Kn,gr="hidden"+Kn,vr="click"+Kn+ya,On=".show, .collapsing",Wi='[data-toggle="collapse"]',Si={toggle:!0,parent:""},Fl={toggle:"boolean",parent:"(string|element)"},Wo=function(){function Me(ae,M){this._isTransitioning=!1,this._element=ae,this._config=this._getConfig(M),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+ae.id+'"],'+('[data-toggle="collapse"][data-target="#'+ae.id+'"]')));for(var G=[].slice.call(document.querySelectorAll(Wi)),oe=0,Re=G.length;oe<Re;oe++){var ze=G[oe],ft=Q.getSelectorFromElement(ze),us=[].slice.call(document.querySelectorAll(ft)).filter(function(Gs){return Gs===ae});ft!==null&&us.length>0&&(this._selector=ft,this._triggerArray.push(ze))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var ge=Me.prototype;return ge.toggle=function(){r.default(this._element).hasClass(qi)?this.hide():this.show()},ge.show=function(){var M=this;if(!(this._isTransitioning||r.default(this._element).hasClass(qi))){var G,oe;if(this._parent&&(G=[].slice.call(this._parent.querySelectorAll(On)).filter(function(ln){return typeof M._config.parent=="string"?ln.getAttribute("data-parent")===M._config.parent:ln.classList.contains(Ho)}),G.length===0&&(G=null)),!(G&&(oe=r.default(G).not(this._selector).data(an),oe&&oe._isTransitioning))){var Re=r.default.Event(Gr);if(r.default(this._element).trigger(Re),!Re.isDefaultPrevented()){G&&(Me._jQueryInterface.call(r.default(G).not(this._selector),"hide"),oe||r.default(G).data(an,null));var ze=this._getDimension();r.default(this._element).removeClass(Ho).addClass(wa),this._element.style[ze]=0,this._triggerArray.length&&r.default(this._triggerArray).removeClass(Va).attr("aria-expanded",!0),this.setTransitioning(!0);var ft=function(){r.default(M._element).removeClass(wa).addClass(Ho+" "+qi),M._element.style[ze]="",M.setTransitioning(!1),r.default(M._element).trigger(Hi)},us=ze[0].toUpperCase()+ze.slice(1),Gs="scroll"+us,Qs=Q.getTransitionDurationFromElement(this._element);r.default(this._element).one(Q.TRANSITION_END,ft).emulateTransitionEnd(Qs),this._element.style[ze]=this._element[Gs]+"px"}}}},ge.hide=function(){var M=this;if(!(this._isTransitioning||!r.default(this._element).hasClass(qi))){var G=r.default.Event(qa);if(r.default(this._element).trigger(G),!G.isDefaultPrevented()){var oe=this._getDimension();this._element.style[oe]=this._element.getBoundingClientRect()[oe]+"px",Q.reflow(this._element),r.default(this._element).addClass(wa).removeClass(Ho+" "+qi);var Re=this._triggerArray.length;if(Re>0)for(var ze=0;ze<Re;ze++){var ft=this._triggerArray[ze],us=Q.getSelectorFromElement(ft);if(us!==null){var Gs=r.default([].slice.call(document.querySelectorAll(us)));Gs.hasClass(qi)||r.default(ft).addClass(Va).attr("aria-expanded",!1)}}this.setTransitioning(!0);var Qs=function(){M.setTransitioning(!1),r.default(M._element).removeClass(wa).addClass(Ho).trigger(gr)};this._element.style[oe]="";var ln=Q.getTransitionDurationFromElement(this._element);r.default(this._element).one(Q.TRANSITION_END,Qs).emulateTransitionEnd(ln)}}},ge.setTransitioning=function(M){this._isTransitioning=M},ge.dispose=function(){r.default.removeData(this._element,an),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},ge._getConfig=function(M){return M=g({},Si,M),M.toggle=!!M.toggle,Q.typeCheckConfig(mn,M,Fl),M},ge._getDimension=function(){var M=r.default(this._element).hasClass(_a);return M?_a:Ci},ge._getParent=function(){var M=this,G;Q.isElement(this._config.parent)?(G=this._config.parent,typeof this._config.parent.jquery<"u"&&(G=this._config.parent[0])):G=document.querySelector(this._config.parent);var oe='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',Re=[].slice.call(G.querySelectorAll(oe));return r.default(Re).each(function(ze,ft){M._addAriaAndCollapsedClass(Me._getTargetFromElement(ft),[ft])}),G},ge._addAriaAndCollapsedClass=function(M,G){var oe=r.default(M).hasClass(qi);G.length&&r.default(G).toggleClass(Va,!oe).attr("aria-expanded",oe)},Me._getTargetFromElement=function(M){var G=Q.getSelectorFromElement(M);return G?document.querySelector(G):null},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this),oe=G.data(an),Re=g({},Si,G.data(),typeof M=="object"&&M?M:{});if(!oe&&Re.toggle&&typeof M=="string"&&/show|hide/.test(M)&&(Re.toggle=!1),oe||(oe=new Me(this,Re),G.data(an,oe)),typeof M=="string"){if(typeof oe[M]>"u")throw new TypeError('No method named "'+M+'"');oe[M]()}})},v(Me,null,[{key:"VERSION",get:function(){return li}},{key:"Default",get:function(){return Si}}]),Me}();r.default(document).on(vr,Wi,function(Me){Me.currentTarget.tagName==="A"&&Me.preventDefault();var ge=r.default(this),ae=Q.getSelectorFromElement(this),M=[].slice.call(document.querySelectorAll(ae));r.default(M).each(function(){var G=r.default(this),oe=G.data(an),Re=oe?"toggle":ge.data();Wo._jQueryInterface.call(G,Re)})}),r.default.fn[mn]=Wo._jQueryInterface,r.default.fn[mn].Constructor=Wo,r.default.fn[mn].noConflict=function(){return r.default.fn[mn]=_o,Wo._jQueryInterface};var Jn="dropdown",zo="4.6.2",Xn="bs.dropdown",ci="."+Xn,zi=".data-api",yr=r.default.fn[Jn],Rn=27,Ha=32,Gi=9,ba=38,Yi=40,Qi=3,Ii=new RegExp(ba+"|"+Yi+"|"+Rn),$n="disabled",Zn="show",Go="dropup",wr="dropright",Wa="dropleft",za="dropdown-menu-right",Yr="position-static",_r="hide"+ci,Ga="hidden"+ci,Ul="show"+ci,Bl="shown"+ci,br="click"+ci,kr="click"+ci+zi,Ya="keydown"+ci+zi,jl="keyup"+ci+zi,Qa='[data-toggle="dropdown"]',Vl=".dropdown form",Ka=".dropdown-menu",ql=".navbar-nav",Xs=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Tt="top-start",Ja="top-end",Yo="bottom-start",Qr="bottom-end",Kr="right-start",Xa="left-start",Hl={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},Jr={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Ki=function(){function Me(ae,M){this._element=ae,this._popper=null,this._config=this._getConfig(M),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var ge=Me.prototype;return ge.toggle=function(){if(!(this._element.disabled||r.default(this._element).hasClass($n))){var M=r.default(this._menu).hasClass(Zn);Me._clearMenus(),!M&&this.show(!0)}},ge.show=function(M){if(M===void 0&&(M=!1),!(this._element.disabled||r.default(this._element).hasClass($n)||r.default(this._menu).hasClass(Zn))){var G={relatedTarget:this._element},oe=r.default.Event(Ul,G),Re=Me._getParentFromElement(this._element);if(r.default(Re).trigger(oe),!oe.isDefaultPrevented()){if(!this._inNavbar&&M){if(typeof f.default>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");var ze=this._element;this._config.reference==="parent"?ze=Re:Q.isElement(this._config.reference)&&(ze=this._config.reference,typeof this._config.reference.jquery<"u"&&(ze=this._config.reference[0])),this._config.boundary!=="scrollParent"&&r.default(Re).addClass(Yr),this._popper=new f.default(ze,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&r.default(Re).closest(ql).length===0&&r.default(document.body).children().on("mouseover",null,r.default.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),r.default(this._menu).toggleClass(Zn),r.default(Re).toggleClass(Zn).trigger(r.default.Event(Bl,G))}}},ge.hide=function(){if(!(this._element.disabled||r.default(this._element).hasClass($n)||!r.default(this._menu).hasClass(Zn))){var M={relatedTarget:this._element},G=r.default.Event(_r,M),oe=Me._getParentFromElement(this._element);r.default(oe).trigger(G),!G.isDefaultPrevented()&&(this._popper&&this._popper.destroy(),r.default(this._menu).toggleClass(Zn),r.default(oe).toggleClass(Zn).trigger(r.default.Event(Ga,M)))}},ge.dispose=function(){r.default.removeData(this._element,Xn),r.default(this._element).off(ci),this._element=null,this._menu=null,this._popper!==null&&(this._popper.destroy(),this._popper=null)},ge.update=function(){this._inNavbar=this._detectNavbar(),this._popper!==null&&this._popper.scheduleUpdate()},ge._addEventListeners=function(){var M=this;r.default(this._element).on(br,function(G){G.preventDefault(),G.stopPropagation(),M.toggle()})},ge._getConfig=function(M){return M=g({},this.constructor.Default,r.default(this._element).data(),M),Q.typeCheckConfig(Jn,M,this.constructor.DefaultType),M},ge._getMenuElement=function(){if(!this._menu){var M=Me._getParentFromElement(this._element);M&&(this._menu=M.querySelector(Ka))}return this._menu},ge._getPlacement=function(){var M=r.default(this._element.parentNode),G=Yo;return M.hasClass(Go)?G=r.default(this._menu).hasClass(za)?Ja:Tt:M.hasClass(wr)?G=Kr:M.hasClass(Wa)?G=Xa:r.default(this._menu).hasClass(za)&&(G=Qr),G},ge._detectNavbar=function(){return r.default(this._element).closest(".navbar").length>0},ge._getOffset=function(){var M=this,G={};return typeof this._config.offset=="function"?G.fn=function(oe){return oe.offsets=g({},oe.offsets,M._config.offset(oe.offsets,M._element)),oe}:G.offset=this._config.offset,G},ge._getPopperConfig=function(){var M={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return this._config.display==="static"&&(M.modifiers.applyStyle={enabled:!1}),g({},M,this._config.popperConfig)},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this).data(Xn),oe=typeof M=="object"?M:null;if(G||(G=new Me(this,oe),r.default(this).data(Xn,G)),typeof M=="string"){if(typeof G[M]>"u")throw new TypeError('No method named "'+M+'"');G[M]()}})},Me._clearMenus=function(M){if(!(M&&(M.which===Qi||M.type==="keyup"&&M.which!==Gi)))for(var G=[].slice.call(document.querySelectorAll(Qa)),oe=0,Re=G.length;oe<Re;oe++){var ze=Me._getParentFromElement(G[oe]),ft=r.default(G[oe]).data(Xn),us={relatedTarget:G[oe]};if(M&&M.type==="click"&&(us.clickEvent=M),!!ft){var Gs=ft._menu;if(r.default(ze).hasClass(Zn)&&!(M&&(M.type==="click"&&/input|textarea/i.test(M.target.tagName)||M.type==="keyup"&&M.which===Gi)&&r.default.contains(ze,M.target))){var Qs=r.default.Event(_r,us);r.default(ze).trigger(Qs),!Qs.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),G[oe].setAttribute("aria-expanded","false"),ft._popper&&ft._popper.destroy(),r.default(Gs).removeClass(Zn),r.default(ze).removeClass(Zn).trigger(r.default.Event(Ga,us)))}}}},Me._getParentFromElement=function(M){var G,oe=Q.getSelectorFromElement(M);return oe&&(G=document.querySelector(oe)),G||M.parentNode},Me._dataApiKeydownHandler=function(M){if(!(/input|textarea/i.test(M.target.tagName)?M.which===Ha||M.which!==Rn&&(M.which!==Yi&&M.which!==ba||r.default(M.target).closest(Ka).length):!Ii.test(M.which))&&!(this.disabled||r.default(this).hasClass($n))){var G=Me._getParentFromElement(this),oe=r.default(G).hasClass(Zn);if(!(!oe&&M.which===Rn)){if(M.preventDefault(),M.stopPropagation(),!oe||M.which===Rn||M.which===Ha){M.which===Rn&&r.default(G.querySelector(Qa)).trigger("focus"),r.default(this).trigger("click");return}var Re=[].slice.call(G.querySelectorAll(Xs)).filter(function(ft){return r.default(ft).is(":visible")});if(Re.length!==0){var ze=Re.indexOf(M.target);M.which===ba&&ze>0&&ze--,M.which===Yi&&ze<Re.length-1&&ze++,ze<0&&(ze=0),Re[ze].focus()}}}},v(Me,null,[{key:"VERSION",get:function(){return zo}},{key:"Default",get:function(){return Hl}},{key:"DefaultType",get:function(){return Jr}}]),Me}();r.default(document).on(Ya,Qa,Ki._dataApiKeydownHandler).on(Ya,Ka,Ki._dataApiKeydownHandler).on(kr+" "+jl,Ki._clearMenus).on(kr,Qa,function(Me){Me.preventDefault(),Me.stopPropagation(),Ki._jQueryInterface.call(r.default(this),"toggle")}).on(kr,Vl,function(Me){Me.stopPropagation()}),r.default.fn[Jn]=Ki._jQueryInterface,r.default.fn[Jn].Constructor=Ki,r.default.fn[Jn].noConflict=function(){return r.default.fn[Jn]=yr,Ki._jQueryInterface};var $s="modal",$a="4.6.2",ei="bs.modal",Vn="."+ei,Ar=".data-api",ui=r.default.fn[$s],p=27,w="modal-dialog-scrollable",I="modal-scrollbar-measure",x="modal-backdrop",U="modal-open",B="fade",H="show",fe="modal-static",ie="hide"+Vn,Se="hidePrevented"+Vn,je="hidden"+Vn,He="show"+Vn,Ee="shown"+Vn,lt="focusin"+Vn,It="resize"+Vn,ms="click.dismiss"+Vn,Ht="keydown.dismiss"+Vn,pn="mouseup.dismiss"+Vn,rn="mousedown.dismiss"+Vn,L="click"+Vn+Ar,C=".modal-dialog",O=".modal-body",X='[data-toggle="modal"]',se='[data-dismiss="modal"]',Le=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",pt=".sticky-top",Ot={backdrop:!0,keyboard:!0,focus:!0,show:!0},$t={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},ws=function(){function Me(ae,M){this._config=this._getConfig(M),this._element=ae,this._dialog=ae.querySelector(C),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var ge=Me.prototype;return ge.toggle=function(M){return this._isShown?this.hide():this.show(M)},ge.show=function(M){var G=this;if(!(this._isShown||this._isTransitioning)){var oe=r.default.Event(He,{relatedTarget:M});r.default(this._element).trigger(oe),!oe.isDefaultPrevented()&&(this._isShown=!0,r.default(this._element).hasClass(B)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),r.default(this._element).on(ms,se,function(Re){return G.hide(Re)}),r.default(this._dialog).on(rn,function(){r.default(G._element).one(pn,function(Re){r.default(Re.target).is(G._element)&&(G._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return G._showElement(M)}))}},ge.hide=function(M){var G=this;if(M&&M.preventDefault(),!(!this._isShown||this._isTransitioning)){var oe=r.default.Event(ie);if(r.default(this._element).trigger(oe),!(!this._isShown||oe.isDefaultPrevented())){this._isShown=!1;var Re=r.default(this._element).hasClass(B);if(Re&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),r.default(document).off(lt),r.default(this._element).removeClass(H),r.default(this._element).off(ms),r.default(this._dialog).off(rn),Re){var ze=Q.getTransitionDurationFromElement(this._element);r.default(this._element).one(Q.TRANSITION_END,function(ft){return G._hideModal(ft)}).emulateTransitionEnd(ze)}else this._hideModal()}}},ge.dispose=function(){[window,this._element,this._dialog].forEach(function(M){return r.default(M).off(Vn)}),r.default(document).off(lt),r.default.removeData(this._element,ei),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},ge.handleUpdate=function(){this._adjustDialog()},ge._getConfig=function(M){return M=g({},Ot,M),Q.typeCheckConfig($s,M,$t),M},ge._triggerBackdropTransition=function(){var M=this,G=r.default.Event(Se);if(r.default(this._element).trigger(G),!G.isDefaultPrevented()){var oe=this._element.scrollHeight>document.documentElement.clientHeight;oe||(this._element.style.overflowY="hidden"),this._element.classList.add(fe);var Re=Q.getTransitionDurationFromElement(this._dialog);r.default(this._element).off(Q.TRANSITION_END),r.default(this._element).one(Q.TRANSITION_END,function(){M._element.classList.remove(fe),oe||r.default(M._element).one(Q.TRANSITION_END,function(){M._element.style.overflowY=""}).emulateTransitionEnd(M._element,Re)}).emulateTransitionEnd(Re),this._element.focus()}},ge._showElement=function(M){var G=this,oe=r.default(this._element).hasClass(B),Re=this._dialog?this._dialog.querySelector(O):null;(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE)&&document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),r.default(this._dialog).hasClass(w)&&Re?Re.scrollTop=0:this._element.scrollTop=0,oe&&Q.reflow(this._element),r.default(this._element).addClass(H),this._config.focus&&this._enforceFocus();var ze=r.default.Event(Ee,{relatedTarget:M}),ft=function(){G._config.focus&&G._element.focus(),G._isTransitioning=!1,r.default(G._element).trigger(ze)};if(oe){var us=Q.getTransitionDurationFromElement(this._dialog);r.default(this._dialog).one(Q.TRANSITION_END,ft).emulateTransitionEnd(us)}else ft()},ge._enforceFocus=function(){var M=this;r.default(document).off(lt).on(lt,function(G){document!==G.target&&M._element!==G.target&&r.default(M._element).has(G.target).length===0&&M._element.focus()})},ge._setEscapeEvent=function(){var M=this;this._isShown?r.default(this._element).on(Ht,function(G){M._config.keyboard&&G.which===p?(G.preventDefault(),M.hide()):!M._config.keyboard&&G.which===p&&M._triggerBackdropTransition()}):this._isShown||r.default(this._element).off(Ht)},ge._setResizeEvent=function(){var M=this;this._isShown?r.default(window).on(It,function(G){return M.handleUpdate(G)}):r.default(window).off(It)},ge._hideModal=function(){var M=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._showBackdrop(function(){r.default(document.body).removeClass(U),M._resetAdjustments(),M._resetScrollbar(),r.default(M._element).trigger(je)})},ge._removeBackdrop=function(){this._backdrop&&(r.default(this._backdrop).remove(),this._backdrop=null)},ge._showBackdrop=function(M){var G=this,oe=r.default(this._element).hasClass(B)?B:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=x,oe&&this._backdrop.classList.add(oe),r.default(this._backdrop).appendTo(document.body),r.default(this._element).on(ms,function(us){if(G._ignoreBackdropClick){G._ignoreBackdropClick=!1;return}us.target===us.currentTarget&&(G._config.backdrop==="static"?G._triggerBackdropTransition():G.hide())}),oe&&Q.reflow(this._backdrop),r.default(this._backdrop).addClass(H),!M)return;if(!oe){M();return}var Re=Q.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(Q.TRANSITION_END,M).emulateTransitionEnd(Re)}else if(!this._isShown&&this._backdrop){r.default(this._backdrop).removeClass(H);var ze=function(){G._removeBackdrop(),M&&M()};if(r.default(this._element).hasClass(B)){var ft=Q.getTransitionDurationFromElement(this._backdrop);r.default(this._backdrop).one(Q.TRANSITION_END,ze).emulateTransitionEnd(ft)}else ze()}else M&&M()},ge._adjustDialog=function(){var M=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&M&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!M&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},ge._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},ge._checkScrollbar=function(){var M=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(M.left+M.right)<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},ge._setScrollbar=function(){var M=this;if(this._isBodyOverflowing){var G=[].slice.call(document.querySelectorAll(Le)),oe=[].slice.call(document.querySelectorAll(pt));r.default(G).each(function(ft,us){var Gs=us.style.paddingRight,Qs=r.default(us).css("padding-right");r.default(us).data("padding-right",Gs).css("padding-right",parseFloat(Qs)+M._scrollbarWidth+"px")}),r.default(oe).each(function(ft,us){var Gs=us.style.marginRight,Qs=r.default(us).css("margin-right");r.default(us).data("margin-right",Gs).css("margin-right",parseFloat(Qs)-M._scrollbarWidth+"px")});var Re=document.body.style.paddingRight,ze=r.default(document.body).css("padding-right");r.default(document.body).data("padding-right",Re).css("padding-right",parseFloat(ze)+this._scrollbarWidth+"px")}r.default(document.body).addClass(U)},ge._resetScrollbar=function(){var M=[].slice.call(document.querySelectorAll(Le));r.default(M).each(function(Re,ze){var ft=r.default(ze).data("padding-right");r.default(ze).removeData("padding-right"),ze.style.paddingRight=ft||""});var G=[].slice.call(document.querySelectorAll(""+pt));r.default(G).each(function(Re,ze){var ft=r.default(ze).data("margin-right");typeof ft<"u"&&r.default(ze).css("margin-right",ft).removeData("margin-right")});var oe=r.default(document.body).data("padding-right");r.default(document.body).removeData("padding-right"),document.body.style.paddingRight=oe||""},ge._getScrollbarWidth=function(){var M=document.createElement("div");M.className=I,document.body.appendChild(M);var G=M.getBoundingClientRect().width-M.clientWidth;return document.body.removeChild(M),G},Me._jQueryInterface=function(M,G){return this.each(function(){var oe=r.default(this).data(ei),Re=g({},Ot,r.default(this).data(),typeof M=="object"&&M?M:{});if(oe||(oe=new Me(this,Re),r.default(this).data(ei,oe)),typeof M=="string"){if(typeof oe[M]>"u")throw new TypeError('No method named "'+M+'"');oe[M](G)}else Re.show&&oe.show(G)})},v(Me,null,[{key:"VERSION",get:function(){return $a}},{key:"Default",get:function(){return Ot}}]),Me}();r.default(document).on(L,X,function(Me){var ge=this,ae,M=Q.getSelectorFromElement(this);M&&(ae=document.querySelector(M));var G=r.default(ae).data(ei)?"toggle":g({},r.default(ae).data(),r.default(this).data());(this.tagName==="A"||this.tagName==="AREA")&&Me.preventDefault();var oe=r.default(ae).one(He,function(Re){Re.isDefaultPrevented()||oe.one(je,function(){r.default(ge).is(":visible")&&ge.focus()})});ws._jQueryInterface.call(r.default(ae),G,this)}),r.default.fn[$s]=ws._jQueryInterface,r.default.fn[$s].Constructor=ws,r.default.fn[$s].noConflict=function(){return r.default.fn[$s]=ui,ws._jQueryInterface};var As=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],zs=/^aria-[\w-]*$/i,di={"*":["class","dir","id","lang","role",zs],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Qo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;function Oi(Me,ge){var ae=Me.nodeName.toLowerCase();if(ge.indexOf(ae)!==-1)return As.indexOf(ae)!==-1?!!(qn.test(Me.nodeValue)||Qo.test(Me.nodeValue)):!0;for(var M=ge.filter(function(Re){return Re instanceof RegExp}),G=0,oe=M.length;G<oe;G++)if(M[G].test(ae))return!0;return!1}function ti(Me,ge,ae){if(Me.length===0)return Me;if(ae&&typeof ae=="function")return ae(Me);for(var M=new window.DOMParser,G=M.parseFromString(Me,"text/html"),oe=Object.keys(ge),Re=[].slice.call(G.body.querySelectorAll("*")),ze=function(ln,ea){var Io=Re[ln],nl=Io.nodeName.toLowerCase();if(oe.indexOf(Io.nodeName.toLowerCase())===-1)return Io.parentNode.removeChild(Io),"continue";var Du=[].slice.call(Io.attributes),km=[].concat(ge["*"]||[],ge[nl]||[]);Du.forEach(function(sr){Oi(sr,km)||Io.removeAttribute(sr.nodeName)})},ft=0,us=Re.length;ft<us;ft++)var Gs=ze(ft);return G.body.innerHTML}var gn="tooltip",Za="4.6.2",Ji="bs.tooltip",Cs="."+Ji,Ko=r.default.fn[gn],Gn="bs-tooltip",bo=new RegExp("(^|\\s)"+Gn+"\\S+","g"),Cr=["sanitize","whiteList","sanitizeFn"],ko="fade",Ao="show",In="show",ka="out",Xi=".tooltip-inner",er=".arrow",hi="hover",fi="focus",Aa="click",Wl="manual",Au={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Xr={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:di,popperConfig:null},Jo={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},mi={HIDE:"hide"+Cs,HIDDEN:"hidden"+Cs,SHOW:"show"+Cs,SHOWN:"shown"+Cs,INSERTED:"inserted"+Cs,CLICK:"click"+Cs,FOCUSIN:"focusin"+Cs,FOCUSOUT:"focusout"+Cs,MOUSEENTER:"mouseenter"+Cs,MOUSELEAVE:"mouseleave"+Cs},Xo=function(){function Me(ae,M){if(typeof f.default>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=ae,this.config=this._getConfig(M),this.tip=null,this._setListeners()}var ge=Me.prototype;return ge.enable=function(){this._isEnabled=!0},ge.disable=function(){this._isEnabled=!1},ge.toggleEnabled=function(){this._isEnabled=!this._isEnabled},ge.toggle=function(M){if(this._isEnabled)if(M){var G=this.constructor.DATA_KEY,oe=r.default(M.currentTarget).data(G);oe||(oe=new this.constructor(M.currentTarget,this._getDelegateConfig()),r.default(M.currentTarget).data(G,oe)),oe._activeTrigger.click=!oe._activeTrigger.click,oe._isWithActiveTrigger()?oe._enter(null,oe):oe._leave(null,oe)}else{if(r.default(this.getTipElement()).hasClass(Ao)){this._leave(null,this);return}this._enter(null,this)}},ge.dispose=function(){clearTimeout(this._timeout),r.default.removeData(this.element,this.constructor.DATA_KEY),r.default(this.element).off(this.constructor.EVENT_KEY),r.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler),this.tip&&r.default(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},ge.show=function(){var M=this;if(r.default(this.element).css("display")==="none")throw new Error("Please use show on visible elements");var G=r.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){r.default(this.element).trigger(G);var oe=Q.findShadowRoot(this.element),Re=r.default.contains(oe!==null?oe:this.element.ownerDocument.documentElement,this.element);if(G.isDefaultPrevented()||!Re)return;var ze=this.getTipElement(),ft=Q.getUID(this.constructor.NAME);ze.setAttribute("id",ft),this.element.setAttribute("aria-describedby",ft),this.setContent(),this.config.animation&&r.default(ze).addClass(ko);var us=typeof this.config.placement=="function"?this.config.placement.call(this,ze,this.element):this.config.placement,Gs=this._getAttachment(us);this.addAttachmentClass(Gs);var Qs=this._getContainer();r.default(ze).data(this.constructor.DATA_KEY,this),r.default.contains(this.element.ownerDocument.documentElement,this.tip)||r.default(ze).appendTo(Qs),r.default(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new f.default(this.element,ze,this._getPopperConfig(Gs)),r.default(ze).addClass(Ao),r.default(ze).addClass(this.config.customClass),"ontouchstart"in document.documentElement&&r.default(document.body).children().on("mouseover",null,r.default.noop);var ln=function(){M.config.animation&&M._fixTransition();var nl=M._hoverState;M._hoverState=null,r.default(M.element).trigger(M.constructor.Event.SHOWN),nl===ka&&M._leave(null,M)};if(r.default(this.tip).hasClass(ko)){var ea=Q.getTransitionDurationFromElement(this.tip);r.default(this.tip).one(Q.TRANSITION_END,ln).emulateTransitionEnd(ea)}else ln()}},ge.hide=function(M){var G=this,oe=this.getTipElement(),Re=r.default.Event(this.constructor.Event.HIDE),ze=function(){G._hoverState!==In&&oe.parentNode&&oe.parentNode.removeChild(oe),G._cleanTipClass(),G.element.removeAttribute("aria-describedby"),r.default(G.element).trigger(G.constructor.Event.HIDDEN),G._popper!==null&&G._popper.destroy(),M&&M()};if(r.default(this.element).trigger(Re),!Re.isDefaultPrevented()){if(r.default(oe).removeClass(Ao),"ontouchstart"in document.documentElement&&r.default(document.body).children().off("mouseover",null,r.default.noop),this._activeTrigger[Aa]=!1,this._activeTrigger[fi]=!1,this._activeTrigger[hi]=!1,r.default(this.tip).hasClass(ko)){var ft=Q.getTransitionDurationFromElement(oe);r.default(oe).one(Q.TRANSITION_END,ze).emulateTransitionEnd(ft)}else ze();this._hoverState=""}},ge.update=function(){this._popper!==null&&this._popper.scheduleUpdate()},ge.isWithContent=function(){return!!this.getTitle()},ge.addAttachmentClass=function(M){r.default(this.getTipElement()).addClass(Gn+"-"+M)},ge.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},ge.setContent=function(){var M=this.getTipElement();this.setElementContent(r.default(M.querySelectorAll(Xi)),this.getTitle()),r.default(M).removeClass(ko+" "+Ao)},ge.setElementContent=function(M,G){if(typeof G=="object"&&(G.nodeType||G.jquery)){this.config.html?r.default(G).parent().is(M)||M.empty().append(G):M.text(r.default(G).text());return}this.config.html?(this.config.sanitize&&(G=ti(G,this.config.whiteList,this.config.sanitizeFn)),M.html(G)):M.text(G)},ge.getTitle=function(){var M=this.element.getAttribute("data-original-title");return M||(M=typeof this.config.title=="function"?this.config.title.call(this.element):this.config.title),M},ge._getPopperConfig=function(M){var G=this,oe={placement:M,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:er},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(ze){ze.originalPlacement!==ze.placement&&G._handlePopperPlacementChange(ze)},onUpdate:function(ze){return G._handlePopperPlacementChange(ze)}};return g({},oe,this.config.popperConfig)},ge._getOffset=function(){var M=this,G={};return typeof this.config.offset=="function"?G.fn=function(oe){return oe.offsets=g({},oe.offsets,M.config.offset(oe.offsets,M.element)),oe}:G.offset=this.config.offset,G},ge._getContainer=function(){return this.config.container===!1?document.body:Q.isElement(this.config.container)?r.default(this.config.container):r.default(document).find(this.config.container)},ge._getAttachment=function(M){return Au[M.toUpperCase()]},ge._setListeners=function(){var M=this,G=this.config.trigger.split(" ");G.forEach(function(oe){if(oe==="click")r.default(M.element).on(M.constructor.Event.CLICK,M.config.selector,function(ft){return M.toggle(ft)});else if(oe!==Wl){var Re=oe===hi?M.constructor.Event.MOUSEENTER:M.constructor.Event.FOCUSIN,ze=oe===hi?M.constructor.Event.MOUSELEAVE:M.constructor.Event.FOCUSOUT;r.default(M.element).on(Re,M.config.selector,function(ft){return M._enter(ft)}).on(ze,M.config.selector,function(ft){return M._leave(ft)})}}),this._hideModalHandler=function(){M.element&&M.hide()},r.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler),this.config.selector?this.config=g({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},ge._fixTitle=function(){var M=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||M!=="string")&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},ge._enter=function(M,G){var oe=this.constructor.DATA_KEY;if(G=G||r.default(M.currentTarget).data(oe),G||(G=new this.constructor(M.currentTarget,this._getDelegateConfig()),r.default(M.currentTarget).data(oe,G)),M&&(G._activeTrigger[M.type==="focusin"?fi:hi]=!0),r.default(G.getTipElement()).hasClass(Ao)||G._hoverState===In){G._hoverState=In;return}if(clearTimeout(G._timeout),G._hoverState=In,!G.config.delay||!G.config.delay.show){G.show();return}G._timeout=setTimeout(function(){G._hoverState===In&&G.show()},G.config.delay.show)},ge._leave=function(M,G){var oe=this.constructor.DATA_KEY;if(G=G||r.default(M.currentTarget).data(oe),G||(G=new this.constructor(M.currentTarget,this._getDelegateConfig()),r.default(M.currentTarget).data(oe,G)),M&&(G._activeTrigger[M.type==="focusout"?fi:hi]=!1),!G._isWithActiveTrigger()){if(clearTimeout(G._timeout),G._hoverState=ka,!G.config.delay||!G.config.delay.hide){G.hide();return}G._timeout=setTimeout(function(){G._hoverState===ka&&G.hide()},G.config.delay.hide)}},ge._isWithActiveTrigger=function(){for(var M in this._activeTrigger)if(this._activeTrigger[M])return!0;return!1},ge._getConfig=function(M){var G=r.default(this.element).data();return Object.keys(G).forEach(function(oe){Cr.indexOf(oe)!==-1&&delete G[oe]}),M=g({},this.constructor.Default,G,typeof M=="object"&&M?M:{}),typeof M.delay=="number"&&(M.delay={show:M.delay,hide:M.delay}),typeof M.title=="number"&&(M.title=M.title.toString()),typeof M.content=="number"&&(M.content=M.content.toString()),Q.typeCheckConfig(gn,M,this.constructor.DefaultType),M.sanitize&&(M.template=ti(M.template,M.whiteList,M.sanitizeFn)),M},ge._getDelegateConfig=function(){var M={};if(this.config)for(var G in this.config)this.constructor.Default[G]!==this.config[G]&&(M[G]=this.config[G]);return M},ge._cleanTipClass=function(){var M=r.default(this.getTipElement()),G=M.attr("class").match(bo);G!==null&&G.length&&M.removeClass(G.join(""))},ge._handlePopperPlacementChange=function(M){this.tip=M.instance.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(M.placement))},ge._fixTransition=function(){var M=this.getTipElement(),G=this.config.animation;M.getAttribute("x-placement")===null&&(r.default(M).removeClass(ko),this.config.animation=!1,this.hide(),this.show(),this.config.animation=G)},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this),oe=G.data(Ji),Re=typeof M=="object"&&M;if(!(!oe&&/dispose|hide/.test(M))&&(oe||(oe=new Me(this,Re),G.data(Ji,oe)),typeof M=="string")){if(typeof oe[M]>"u")throw new TypeError('No method named "'+M+'"');oe[M]()}})},v(Me,null,[{key:"VERSION",get:function(){return Za}},{key:"Default",get:function(){return Xr}},{key:"NAME",get:function(){return gn}},{key:"DATA_KEY",get:function(){return Ji}},{key:"Event",get:function(){return mi}},{key:"EVENT_KEY",get:function(){return Cs}},{key:"DefaultType",get:function(){return Jo}}]),Me}();r.default.fn[gn]=Xo._jQueryInterface,r.default.fn[gn].Constructor=Xo,r.default.fn[gn].noConflict=function(){return r.default.fn[gn]=Ko,Xo._jQueryInterface};var $o="popover",Tc="4.6.2",te="bs.popover",ve="."+te,Oe=r.default.fn[$o],Fe="bs-popover",$=new RegExp("(^|\\s)"+Fe+"\\S+","g"),_e="fade",ye="show",Ge=".popover-header",et=".popover-body",Rt=g({},Xo.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Nt=g({},Xo.DefaultType,{content:"(string|element|function)"}),Dt={HIDE:"hide"+ve,HIDDEN:"hidden"+ve,SHOW:"show"+ve,SHOWN:"shown"+ve,INSERTED:"inserted"+ve,CLICK:"click"+ve,FOCUSIN:"focusin"+ve,FOCUSOUT:"focusout"+ve,MOUSEENTER:"mouseenter"+ve,MOUSELEAVE:"mouseleave"+ve},Ss=function(Me){A(ge,Me);function ge(){return Me.apply(this,arguments)||this}var ae=ge.prototype;return ae.isWithContent=function(){return this.getTitle()||this._getContent()},ae.addAttachmentClass=function(G){r.default(this.getTipElement()).addClass(Fe+"-"+G)},ae.getTipElement=function(){return this.tip=this.tip||r.default(this.config.template)[0],this.tip},ae.setContent=function(){var G=r.default(this.getTipElement());this.setElementContent(G.find(Ge),this.getTitle());var oe=this._getContent();typeof oe=="function"&&(oe=oe.call(this.element)),this.setElementContent(G.find(et),oe),G.removeClass(_e+" "+ye)},ae._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},ae._cleanTipClass=function(){var G=r.default(this.getTipElement()),oe=G.attr("class").match($);oe!==null&&oe.length>0&&G.removeClass(oe.join(""))},ge._jQueryInterface=function(G){return this.each(function(){var oe=r.default(this).data(te),Re=typeof G=="object"?G:null;if(!(!oe&&/dispose|hide/.test(G))&&(oe||(oe=new ge(this,Re),r.default(this).data(te,oe)),typeof G=="string")){if(typeof oe[G]>"u")throw new TypeError('No method named "'+G+'"');oe[G]()}})},v(ge,null,[{key:"VERSION",get:function(){return Tc}},{key:"Default",get:function(){return Rt}},{key:"NAME",get:function(){return $o}},{key:"DATA_KEY",get:function(){return te}},{key:"Event",get:function(){return Dt}},{key:"EVENT_KEY",get:function(){return ve}},{key:"DefaultType",get:function(){return Nt}}]),ge}(Xo);r.default.fn[$o]=Ss._jQueryInterface,r.default.fn[$o].Constructor=Ss,r.default.fn[$o].noConflict=function(){return r.default.fn[$o]=Oe,Ss._jQueryInterface};var zt="scrollspy",Es="4.6.2",bn="bs.scrollspy",An="."+bn,Nn=".data-api",pi=r.default.fn[zt],Co="dropdown-item",as="active",um="activate"+An,qd="scroll"+An,Dc="load"+An+Nn,dm="offset",Hd="position",hm='[data-spy="scroll"]',zl=".nav, .list-group",Zo=".nav-link",xc=".nav-item",Cu=".list-group-item",Pc=".dropdown",Wd=".dropdown-item",zd=".dropdown-toggle",Gl={offset:10,method:"auto",target:""},Gd={offset:"number",method:"string",target:"(string|element)"},Ca=function(){function Me(ae,M){var G=this;this._element=ae,this._scrollElement=ae.tagName==="BODY"?window:ae,this._config=this._getConfig(M),this._selector=this._config.target+" "+Zo+","+(this._config.target+" "+Cu+",")+(this._config.target+" "+Wd),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,r.default(this._scrollElement).on(qd,function(oe){return G._process(oe)}),this.refresh(),this._process()}var ge=Me.prototype;return ge.refresh=function(){var M=this,G=this._scrollElement===this._scrollElement.window?dm:Hd,oe=this._config.method==="auto"?G:this._config.method,Re=oe===Hd?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var ze=[].slice.call(document.querySelectorAll(this._selector));ze.map(function(ft){var us,Gs=Q.getSelectorFromElement(ft);if(Gs&&(us=document.querySelector(Gs)),us){var Qs=us.getBoundingClientRect();if(Qs.width||Qs.height)return[r.default(us)[oe]().top+Re,Gs]}return null}).filter(Boolean).sort(function(ft,us){return ft[0]-us[0]}).forEach(function(ft){M._offsets.push(ft[0]),M._targets.push(ft[1])})},ge.dispose=function(){r.default.removeData(this._element,bn),r.default(this._scrollElement).off(An),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},ge._getConfig=function(M){if(M=g({},Gl,typeof M=="object"&&M?M:{}),typeof M.target!="string"&&Q.isElement(M.target)){var G=r.default(M.target).attr("id");G||(G=Q.getUID(zt),r.default(M.target).attr("id",G)),M.target="#"+G}return Q.typeCheckConfig(zt,M,Gd),M},ge._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},ge._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},ge._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},ge._process=function(){var M=this._getScrollTop()+this._config.offset,G=this._getScrollHeight(),oe=this._config.offset+G-this._getOffsetHeight();if(this._scrollHeight!==G&&this.refresh(),M>=oe){var Re=this._targets[this._targets.length-1];this._activeTarget!==Re&&this._activate(Re);return}if(this._activeTarget&&M<this._offsets[0]&&this._offsets[0]>0){this._activeTarget=null,this._clear();return}for(var ze=this._offsets.length;ze--;){var ft=this._activeTarget!==this._targets[ze]&&M>=this._offsets[ze]&&(typeof this._offsets[ze+1]>"u"||M<this._offsets[ze+1]);ft&&this._activate(this._targets[ze])}},ge._activate=function(M){this._activeTarget=M,this._clear();var G=this._selector.split(",").map(function(Re){return Re+'[data-target="'+M+'"],'+Re+'[href="'+M+'"]'}),oe=r.default([].slice.call(document.querySelectorAll(G.join(","))));oe.hasClass(Co)?(oe.closest(Pc).find(zd).addClass(as),oe.addClass(as)):(oe.addClass(as),oe.parents(zl).prev(Zo+", "+Cu).addClass(as),oe.parents(zl).prev(xc).children(Zo).addClass(as)),r.default(this._scrollElement).trigger(um,{relatedTarget:M})},ge._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(M){return M.classList.contains(as)}).forEach(function(M){return M.classList.remove(as)})},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this).data(bn),oe=typeof M=="object"&&M;if(G||(G=new Me(this,oe),r.default(this).data(bn,G)),typeof M=="string"){if(typeof G[M]>"u")throw new TypeError('No method named "'+M+'"');G[M]()}})},v(Me,null,[{key:"VERSION",get:function(){return Es}},{key:"Default",get:function(){return Gl}}]),Me}();r.default(window).on(Dc,function(){for(var Me=[].slice.call(document.querySelectorAll(hm)),ge=Me.length,ae=ge;ae--;){var M=r.default(Me[ae]);Ca._jQueryInterface.call(M,M.data())}}),r.default.fn[zt]=Ca._jQueryInterface,r.default.fn[zt].Constructor=Ca,r.default.fn[zt].noConflict=function(){return r.default.fn[zt]=pi,Ca._jQueryInterface};var So="tab",Mc="4.6.2",Ec="bs.tab",Yl="."+Ec,fm=".data-api",Oc=r.default.fn[So],Rc="dropdown-menu",Sr="active",mm="disabled",Su="fade",Yd="show",pm="hide"+Yl,Ln="hidden"+Yl,si="show"+Yl,gm="shown"+Yl,vm="click"+Yl+fm,Qd=".dropdown",ym=".nav, .list-group",Nc=".active",$r="> li > .active",Iu='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Zr=".dropdown-toggle",Ql="> .dropdown-menu .active",Sa=function(){function Me(ae){this._element=ae}var ge=Me.prototype;return ge.show=function(){var M=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&r.default(this._element).hasClass(Sr)||r.default(this._element).hasClass(mm)||this._element.hasAttribute("disabled"))){var G,oe,Re=r.default(this._element).closest(ym)[0],ze=Q.getSelectorFromElement(this._element);if(Re){var ft=Re.nodeName==="UL"||Re.nodeName==="OL"?$r:Nc;oe=r.default.makeArray(r.default(Re).find(ft)),oe=oe[oe.length-1]}var us=r.default.Event(pm,{relatedTarget:this._element}),Gs=r.default.Event(si,{relatedTarget:oe});if(oe&&r.default(oe).trigger(us),r.default(this._element).trigger(Gs),!(Gs.isDefaultPrevented()||us.isDefaultPrevented())){ze&&(G=document.querySelector(ze)),this._activate(this._element,Re);var Qs=function(){var ea=r.default.Event(Ln,{relatedTarget:M._element}),Io=r.default.Event(gm,{relatedTarget:oe});r.default(oe).trigger(ea),r.default(M._element).trigger(Io)};G?this._activate(G,G.parentNode,Qs):Qs()}}},ge.dispose=function(){r.default.removeData(this._element,Ec),this._element=null},ge._activate=function(M,G,oe){var Re=this,ze=G&&(G.nodeName==="UL"||G.nodeName==="OL")?r.default(G).find($r):r.default(G).children(Nc),ft=ze[0],us=oe&&ft&&r.default(ft).hasClass(Su),Gs=function(){return Re._transitionComplete(M,ft,oe)};if(ft&&us){var Qs=Q.getTransitionDurationFromElement(ft);r.default(ft).removeClass(Yd).one(Q.TRANSITION_END,Gs).emulateTransitionEnd(Qs)}else Gs()},ge._transitionComplete=function(M,G,oe){if(G){r.default(G).removeClass(Sr);var Re=r.default(G.parentNode).find(Ql)[0];Re&&r.default(Re).removeClass(Sr),G.getAttribute("role")==="tab"&&G.setAttribute("aria-selected",!1)}r.default(M).addClass(Sr),M.getAttribute("role")==="tab"&&M.setAttribute("aria-selected",!0),Q.reflow(M),M.classList.contains(Su)&&M.classList.add(Yd);var ze=M.parentNode;if(ze&&ze.nodeName==="LI"&&(ze=ze.parentNode),ze&&r.default(ze).hasClass(Rc)){var ft=r.default(M).closest(Qd)[0];if(ft){var us=[].slice.call(ft.querySelectorAll(Zr));r.default(us).addClass(Sr)}M.setAttribute("aria-expanded",!0)}oe&&oe()},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this),oe=G.data(Ec);if(oe||(oe=new Me(this),G.data(Ec,oe)),typeof M=="string"){if(typeof oe[M]>"u")throw new TypeError('No method named "'+M+'"');oe[M]()}})},v(Me,null,[{key:"VERSION",get:function(){return Mc}}]),Me}();r.default(document).on(vm,Iu,function(Me){Me.preventDefault(),Sa._jQueryInterface.call(r.default(this),"show")}),r.default.fn[So]=Sa._jQueryInterface,r.default.fn[So].Constructor=Sa,r.default.fn[So].noConflict=function(){return r.default.fn[So]=Oc,Sa._jQueryInterface};var Ia="toast",el="4.6.2",Lc="bs.toast",Kl="."+Lc,wm=r.default.fn[Ia],_m="fade",Kd="hide",tr="show",tl="showing",Tu="click.dismiss"+Kl,Y="hide"+Kl,sl="hidden"+Kl,Fc="show"+Kl,$i="shown"+Kl,Fs='[data-dismiss="toast"]',Jd={animation:!0,autohide:!0,delay:500},bm={animation:"boolean",autohide:"boolean",delay:"number"},Uc=function(){function Me(ae,M){this._element=ae,this._config=this._getConfig(M),this._timeout=null,this._setListeners()}var ge=Me.prototype;return ge.show=function(){var M=this,G=r.default.Event(Fc);if(r.default(this._element).trigger(G),!G.isDefaultPrevented()){this._clearTimeout(),this._config.animation&&this._element.classList.add(_m);var oe=function(){M._element.classList.remove(tl),M._element.classList.add(tr),r.default(M._element).trigger($i),M._config.autohide&&(M._timeout=setTimeout(function(){M.hide()},M._config.delay))};if(this._element.classList.remove(Kd),Q.reflow(this._element),this._element.classList.add(tl),this._config.animation){var Re=Q.getTransitionDurationFromElement(this._element);r.default(this._element).one(Q.TRANSITION_END,oe).emulateTransitionEnd(Re)}else oe()}},ge.hide=function(){if(this._element.classList.contains(tr)){var M=r.default.Event(Y);r.default(this._element).trigger(M),!M.isDefaultPrevented()&&this._close()}},ge.dispose=function(){this._clearTimeout(),this._element.classList.contains(tr)&&this._element.classList.remove(tr),r.default(this._element).off(Tu),r.default.removeData(this._element,Lc),this._element=null,this._config=null},ge._getConfig=function(M){return M=g({},Jd,r.default(this._element).data(),typeof M=="object"&&M?M:{}),Q.typeCheckConfig(Ia,M,this.constructor.DefaultType),M},ge._setListeners=function(){var M=this;r.default(this._element).on(Tu,Fs,function(){return M.hide()})},ge._close=function(){var M=this,G=function(){M._element.classList.add(Kd),r.default(M._element).trigger(sl)};if(this._element.classList.remove(tr),this._config.animation){var oe=Q.getTransitionDurationFromElement(this._element);r.default(this._element).one(Q.TRANSITION_END,G).emulateTransitionEnd(oe)}else G()},ge._clearTimeout=function(){clearTimeout(this._timeout),this._timeout=null},Me._jQueryInterface=function(M){return this.each(function(){var G=r.default(this),oe=G.data(Lc),Re=typeof M=="object"&&M;if(oe||(oe=new Me(this,Re),G.data(Lc,oe)),typeof M=="string"){if(typeof oe[M]>"u")throw new TypeError('No method named "'+M+'"');oe[M](this)}})},v(Me,null,[{key:"VERSION",get:function(){return el}},{key:"DefaultType",get:function(){return bm}},{key:"Default",get:function(){return Jd}}]),Me}();r.default.fn[Ia]=Uc._jQueryInterface,r.default.fn[Ia].Constructor=Uc,r.default.fn[Ia].noConflict=function(){return r.default.fn[Ia]=wm,Uc._jQueryInterface},s.Alert=wt,s.Button=Ze,s.Carousel=fn,s.Collapse=Wo,s.Dropdown=Ki,s.Modal=ws,s.Popover=Ss,s.Scrollspy=Ca,s.Tab=Sa,s.Toast=Uc,s.Tooltip=Xo,s.Util=Q,Object.defineProperty(s,"__esModule",{value:!0})})})($1,$1.exports);window._=Ft;window.axios=zn;window.axios.defaults.baseURL="https://bobdev.tech";window.axios.defaults.withCredentials=!0;window.axios.defaults.withXSRFToken=!0;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";try{window.Popper=require("popper.js").default,window.$=window.jQuery=require("jquery")}catch{}window.YoureduStorage=new zA("localStorage");function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ce(e,t){for(var s=0;s<t.length;s++){var o=t[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ai(e,t,s){return t&&_Ce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vd(){return vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},vd.apply(this,arguments)}function jo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bg(e,t)}function yf(e){return yf=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},yf(e)}function Bg(e,t){return Bg=Object.setPrototypeOf||function(o,i){return o.__proto__=i,o},Bg(e,t)}function bCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function kCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ACe(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kCe(e)}function Vo(e){var t=bCe();return function(){var o=yf(e),i;if(t){var n=yf(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return ACe(this,i)}}var ry=function(){function e(){ki(this,e)}return Ai(e,[{key:"listenForWhisper",value:function(s,o){return this.listen(".client-"+s,o)}},{key:"notification",value:function(s){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",s)}},{key:"stopListeningForWhisper",value:function(s,o){return this.stopListening(".client-"+s,o)}}]),e}(),b0=function(){function e(t){ki(this,e),this.namespace=t}return Ai(e,[{key:"format",value:function(s){return[".","\\"].includes(s.charAt(0))?s.substring(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(s){this.namespace=s}}]),e}(),cm=function(e){jo(s,e);var t=Vo(s);function s(o,i,n){var r;return ki(this,s),r=t.call(this),r.name=i,r.pusher=o,r.options=n,r.eventFormatter=new b0(r.options.namespace),r.subscribe(),r}return Ai(s,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(i,n){return this.on(this.eventFormatter.format(i),n),this}},{key:"listenToAll",value:function(i){var n=this;return this.subscription.bind_global(function(r,f){if(!r.startsWith("pusher:")){var m=n.options.namespace.replace(/\./g,"\\"),v=r.startsWith(m)?r.substring(m.length+1):"."+r;i(v,f)}}),this}},{key:"stopListening",value:function(i,n){return n?this.subscription.unbind(this.eventFormatter.format(i),n):this.subscription.unbind(this.eventFormatter.format(i)),this}},{key:"stopListeningToAll",value:function(i){return i?this.subscription.unbind_global(i):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(i){return this.on("pusher:subscription_succeeded",function(){i()}),this}},{key:"error",value:function(i){return this.on("pusher:subscription_error",function(n){i(n)}),this}},{key:"on",value:function(i,n){return this.subscription.bind(i,n),this}}]),s}(ry),CCe=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"whisper",value:function(i,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),n),this}}]),s}(cm),SCe=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"whisper",value:function(i,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),n),this}}]),s}(cm),ICe=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"here",value:function(i){return this.on("pusher:subscription_succeeded",function(n){i(Object.keys(n.members).map(function(r){return n.members[r]}))}),this}},{key:"joining",value:function(i){return this.on("pusher:member_added",function(n){i(n.info)}),this}},{key:"whisper",value:function(i,n){return this.pusher.channels.channels[this.name].trigger("client-".concat(i),n),this}},{key:"leaving",value:function(i){return this.on("pusher:member_removed",function(n){i(n.info)}),this}}]),s}(cm),k0=function(e){jo(s,e);var t=Vo(s);function s(o,i,n){var r;return ki(this,s),r=t.call(this),r.events={},r.listeners={},r.name=i,r.socket=o,r.options=n,r.eventFormatter=new b0(r.options.namespace),r.subscribe(),r}return Ai(s,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(i,n){return this.on(this.eventFormatter.format(i),n),this}},{key:"stopListening",value:function(i,n){return this.unbindEvent(this.eventFormatter.format(i),n),this}},{key:"subscribed",value:function(i){return this.on("connect",function(n){i(n)}),this}},{key:"error",value:function(i){return this}},{key:"on",value:function(i,n){var r=this;return this.listeners[i]=this.listeners[i]||[],this.events[i]||(this.events[i]=function(f,m){r.name===f&&r.listeners[i]&&r.listeners[i].forEach(function(v){return v(m)})},this.socket.on(i,this.events[i])),this.listeners[i].push(n),this}},{key:"unbind",value:function(){var i=this;Object.keys(this.events).forEach(function(n){i.unbindEvent(n)})}},{key:"unbindEvent",value:function(i,n){this.listeners[i]=this.listeners[i]||[],n&&(this.listeners[i]=this.listeners[i].filter(function(r){return r!==n})),(!n||this.listeners[i].length===0)&&(this.events[i]&&(this.socket.removeListener(i,this.events[i]),delete this.events[i]),delete this.listeners[i])}}]),s}(ry),A0=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"whisper",value:function(i,n){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(i),data:n}),this}}]),s}(k0),TCe=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"here",value:function(i){return this.on("presence:subscribed",function(n){i(n.map(function(r){return r.user_info}))}),this}},{key:"joining",value:function(i){return this.on("presence:joining",function(n){return i(n.user_info)}),this}},{key:"whisper",value:function(i,n){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(i),data:n}),this}},{key:"leaving",value:function(i){return this.on("presence:leaving",function(n){return i(n.user_info)}),this}}]),s}(A0),wf=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(i,n){return this}},{key:"listenToAll",value:function(i){return this}},{key:"stopListening",value:function(i,n){return this}},{key:"subscribed",value:function(i){return this}},{key:"error",value:function(i){return this}},{key:"on",value:function(i,n){return this}}]),s}(ry),ob=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"whisper",value:function(i,n){return this}}]),s}(wf),DCe=function(e){jo(s,e);var t=Vo(s);function s(){return ki(this,s),t.apply(this,arguments)}return Ai(s,[{key:"here",value:function(i){return this}},{key:"joining",value:function(i){return this}},{key:"whisper",value:function(i,n){return this}},{key:"leaving",value:function(i){return this}}]),s}(wf),ly=function(){function e(t){ki(this,e),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return Ai(e,[{key:"setOptions",value:function(s){this.options=vd(this._defaultOptions,s);var o=this.csrfToken();return o&&(this.options.auth.headers["X-CSRF-TOKEN"]=o,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=o),o=this.options.bearerToken,o&&(this.options.auth.headers.Authorization="Bearer "+o,this.options.userAuthentication.headers.Authorization="Bearer "+o),s}},{key:"csrfToken",value:function(){var s;return typeof window<"u"&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"&&(s=document.querySelector('meta[name="csrf-token"]'))?s.getAttribute("content"):null}}]),e}(),ab=function(e){jo(s,e);var t=Vo(s);function s(){var o;return ki(this,s),o=t.apply(this,arguments),o.channels={},o}return Ai(s,[{key:"connect",value:function(){typeof this.options.client<"u"?this.pusher=this.options.client:this.options.Pusher?this.pusher=new this.options.Pusher(this.options.key,this.options):this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(i,n,r){return this.channel(i).listen(n,r)}},{key:"channel",value:function(i){return this.channels[i]||(this.channels[i]=new cm(this.pusher,i,this.options)),this.channels[i]}},{key:"privateChannel",value:function(i){return this.channels["private-"+i]||(this.channels["private-"+i]=new CCe(this.pusher,"private-"+i,this.options)),this.channels["private-"+i]}},{key:"encryptedPrivateChannel",value:function(i){return this.channels["private-encrypted-"+i]||(this.channels["private-encrypted-"+i]=new SCe(this.pusher,"private-encrypted-"+i,this.options)),this.channels["private-encrypted-"+i]}},{key:"presenceChannel",value:function(i){return this.channels["presence-"+i]||(this.channels["presence-"+i]=new ICe(this.pusher,"presence-"+i,this.options)),this.channels["presence-"+i]}},{key:"leave",value:function(i){var n=this,r=[i,"private-"+i,"private-encrypted-"+i,"presence-"+i];r.forEach(function(f,m){n.leaveChannel(f)})}},{key:"leaveChannel",value:function(i){this.channels[i]&&(this.channels[i].unsubscribe(),delete this.channels[i])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),s}(ly),xCe=function(e){jo(s,e);var t=Vo(s);function s(){var o;return ki(this,s),o=t.apply(this,arguments),o.channels={},o}return Ai(s,[{key:"connect",value:function(){var i=this,n=this.getSocketIO();return this.socket=n(this.options.host,this.options),this.socket.on("reconnect",function(){Object.values(i.channels).forEach(function(r){r.subscribe()})}),this.socket}},{key:"getSocketIO",value:function(){if(typeof this.options.client<"u")return this.options.client;if(typeof io<"u")return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(i,n,r){return this.channel(i).listen(n,r)}},{key:"channel",value:function(i){return this.channels[i]||(this.channels[i]=new k0(this.socket,i,this.options)),this.channels[i]}},{key:"privateChannel",value:function(i){return this.channels["private-"+i]||(this.channels["private-"+i]=new A0(this.socket,"private-"+i,this.options)),this.channels["private-"+i]}},{key:"presenceChannel",value:function(i){return this.channels["presence-"+i]||(this.channels["presence-"+i]=new TCe(this.socket,"presence-"+i,this.options)),this.channels["presence-"+i]}},{key:"leave",value:function(i){var n=this,r=[i,"private-"+i,"presence-"+i];r.forEach(function(f){n.leaveChannel(f)})}},{key:"leaveChannel",value:function(i){this.channels[i]&&(this.channels[i].unsubscribe(),delete this.channels[i])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),s}(ly),PCe=function(e){jo(s,e);var t=Vo(s);function s(){var o;return ki(this,s),o=t.apply(this,arguments),o.channels={},o}return Ai(s,[{key:"connect",value:function(){}},{key:"listen",value:function(i,n,r){return new wf}},{key:"channel",value:function(i){return new wf}},{key:"privateChannel",value:function(i){return new ob}},{key:"encryptedPrivateChannel",value:function(i){return new ob}},{key:"presenceChannel",value:function(i){return new DCe}},{key:"leave",value:function(i){}},{key:"leaveChannel",value:function(i){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),s}(ly),MCe=function(){function e(t){ki(this,e),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return Ai(e,[{key:"channel",value:function(s){return this.connector.channel(s)}},{key:"connect",value:function(){if(this.options.broadcaster=="reverb")this.connector=new ab(vd(vd({},this.options),{cluster:""}));else if(this.options.broadcaster=="pusher")this.connector=new ab(this.options);else if(this.options.broadcaster=="socket.io")this.connector=new xCe(this.options);else if(this.options.broadcaster=="null")this.connector=new PCe(this.options);else if(typeof this.options.broadcaster=="function")this.connector=new this.options.broadcaster(this.options);else throw new Error("Broadcaster ".concat(vf(this.options.broadcaster)," ").concat(this.options.broadcaster," is not supported."))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(s){return this.connector.presenceChannel(s)}},{key:"leave",value:function(s){this.connector.leave(s)}},{key:"leaveChannel",value:function(s){this.connector.leaveChannel(s)}},{key:"leaveAllChannels",value:function(){for(var s in this.connector.channels)this.leaveChannel(s)}},{key:"listen",value:function(s,o,i){return this.connector.listen(s,o,i)}},{key:"private",value:function(s){return this.connector.privateChannel(s)}},{key:"encryptedPrivate",value:function(s){return this.connector.encryptedPrivateChannel(s)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){typeof Vue=="function"&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),(typeof Turbo>"u"?"undefined":vf(Turbo))==="object"&&this.registerTurboRequestInterceptor()}},{key:"registerVueRequestInterceptor",value:function(){var s=this;Vue.http.interceptors.push(function(o,i){s.socketId()&&o.headers.set("X-Socket-ID",s.socketId()),i()})}},{key:"registerAxiosRequestInterceptor",value:function(){var s=this;axios.interceptors.request.use(function(o){return s.socketId()&&(o.headers["X-Socket-Id"]=s.socketId()),o})}},{key:"registerjQueryAjaxSetup",value:function(){var s=this;typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter(function(o,i,n){s.socketId()&&n.setRequestHeader("X-Socket-Id",s.socketId())})}},{key:"registerTurboRequestInterceptor",value:function(){var s=this;document.addEventListener("turbo:before-fetch-request",function(o){o.detail.fetchOptions.headers["X-Socket-Id"]=s.socketId()})}}]),e}(),C0={exports:{}};/*!
 * Pusher JavaScript Library v8.4.0-rc2
 * https://pusher.com/
 *
 * Copyright 2020, Pusher
 * Released under the MIT licence.
 */(function(e,t){(function(o,i){e.exports=i()})(window,function(){return function(s){var o={};function i(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return s[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=s,i.c=o,i.d=function(n,r,f){i.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:f})},i.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},i.t=function(n,r){if(r&1&&(n=i(n)),r&8||r&4&&typeof n=="object"&&n&&n.__esModule)return n;var f=Object.create(null);if(i.r(f),Object.defineProperty(f,"default",{enumerable:!0,value:n}),r&2&&typeof n!="string")for(var m in n)i.d(f,m,(function(v){return n[v]}).bind(null,m));return f},i.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(r,"a",r),r},i.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},i.p="",i(i.s=2)}([function(s,o,i){var n=this&&this.__extends||function(){var N=function(F,R){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,W){j.__proto__=W}||function(j,W){for(var Q in W)W.hasOwnProperty(Q)&&(j[Q]=W[Q])},N(F,R)};return function(F,R){N(F,R);function j(){this.constructor=F}F.prototype=R===null?Object.create(R):(j.prototype=R.prototype,new j)}}();Object.defineProperty(o,"__esModule",{value:!0});var r=256,f=function(){function N(F){F===void 0&&(F="="),this._paddingCharacter=F}return N.prototype.encodedLength=function(F){return this._paddingCharacter?(F+2)/3*4|0:(F*8+5)/6|0},N.prototype.encode=function(F){for(var R="",j=0;j<F.length-2;j+=3){var W=F[j]<<16|F[j+1]<<8|F[j+2];R+=this._encodeByte(W>>>3*6&63),R+=this._encodeByte(W>>>2*6&63),R+=this._encodeByte(W>>>1*6&63),R+=this._encodeByte(W>>>0*6&63)}var Q=F.length-j;if(Q>0){var W=F[j]<<16|(Q===2?F[j+1]<<8:0);R+=this._encodeByte(W>>>3*6&63),R+=this._encodeByte(W>>>2*6&63),Q===2?R+=this._encodeByte(W>>>1*6&63):R+=this._paddingCharacter||"",R+=this._paddingCharacter||""}return R},N.prototype.maxDecodedLength=function(F){return this._paddingCharacter?F/4*3|0:(F*6+7)/8|0},N.prototype.decodedLength=function(F){return this.maxDecodedLength(F.length-this._getPaddingLength(F))},N.prototype.decode=function(F){if(F.length===0)return new Uint8Array(0);for(var R=this._getPaddingLength(F),j=F.length-R,W=new Uint8Array(this.maxDecodedLength(j)),Q=0,le=0,me=0,k=0,Ce=0,he=0,Ke=0;le<j-4;le+=4)k=this._decodeChar(F.charCodeAt(le+0)),Ce=this._decodeChar(F.charCodeAt(le+1)),he=this._decodeChar(F.charCodeAt(le+2)),Ke=this._decodeChar(F.charCodeAt(le+3)),W[Q++]=k<<2|Ce>>>4,W[Q++]=Ce<<4|he>>>2,W[Q++]=he<<6|Ke,me|=k&r,me|=Ce&r,me|=he&r,me|=Ke&r;if(le<j-1&&(k=this._decodeChar(F.charCodeAt(le)),Ce=this._decodeChar(F.charCodeAt(le+1)),W[Q++]=k<<2|Ce>>>4,me|=k&r,me|=Ce&r),le<j-2&&(he=this._decodeChar(F.charCodeAt(le+2)),W[Q++]=Ce<<4|he>>>2,me|=he&r),le<j-3&&(Ke=this._decodeChar(F.charCodeAt(le+3)),W[Q++]=he<<6|Ke,me|=Ke&r),me!==0)throw new Error("Base64Coder: incorrect characters for decoding");return W},N.prototype._encodeByte=function(F){var R=F;return R+=65,R+=25-F>>>8&6,R+=51-F>>>8&-75,R+=61-F>>>8&-15,R+=62-F>>>8&3,String.fromCharCode(R)},N.prototype._decodeChar=function(F){var R=r;return R+=(42-F&F-44)>>>8&-r+F-43+62,R+=(46-F&F-48)>>>8&-r+F-47+63,R+=(47-F&F-58)>>>8&-r+F-48+52,R+=(64-F&F-91)>>>8&-r+F-65+0,R+=(96-F&F-123)>>>8&-r+F-97+26,R},N.prototype._getPaddingLength=function(F){var R=0;if(this._paddingCharacter){for(var j=F.length-1;j>=0&&F[j]===this._paddingCharacter;j--)R++;if(F.length<4||R>2)throw new Error("Base64Coder: incorrect padding")}return R},N}();o.Coder=f;var m=new f;function v(N){return m.encode(N)}o.encode=v;function g(N){return m.decode(N)}o.decode=g;var A=function(N){n(F,N);function F(){return N!==null&&N.apply(this,arguments)||this}return F.prototype._encodeByte=function(R){var j=R;return j+=65,j+=25-R>>>8&6,j+=51-R>>>8&-75,j+=61-R>>>8&-13,j+=62-R>>>8&49,String.fromCharCode(j)},F.prototype._decodeChar=function(R){var j=r;return j+=(44-R&R-46)>>>8&-r+R-45+62,j+=(94-R&R-96)>>>8&-r+R-95+63,j+=(47-R&R-58)>>>8&-r+R-48+52,j+=(64-R&R-91)>>>8&-r+R-65+0,j+=(96-R&R-123)>>>8&-r+R-97+26,j},F}(f);o.URLSafeCoder=A;var D=new A;function E(N){return D.encode(N)}o.encodeURLSafe=E;function T(N){return D.decode(N)}o.decodeURLSafe=T,o.encodedLength=function(N){return m.encodedLength(N)},o.maxDecodedLength=function(N){return m.maxDecodedLength(N)},o.decodedLength=function(N){return m.decodedLength(N)}},function(s,o,i){Object.defineProperty(o,"__esModule",{value:!0});var n="utf8: invalid string",r="utf8: invalid source encoding";function f(g){for(var A=new Uint8Array(m(g)),D=0,E=0;E<g.length;E++){var T=g.charCodeAt(E);T<128?A[D++]=T:T<2048?(A[D++]=192|T>>6,A[D++]=128|T&63):T<55296?(A[D++]=224|T>>12,A[D++]=128|T>>6&63,A[D++]=128|T&63):(E++,T=(T&1023)<<10,T|=g.charCodeAt(E)&1023,T+=65536,A[D++]=240|T>>18,A[D++]=128|T>>12&63,A[D++]=128|T>>6&63,A[D++]=128|T&63)}return A}o.encode=f;function m(g){for(var A=0,D=0;D<g.length;D++){var E=g.charCodeAt(D);if(E<128)A+=1;else if(E<2048)A+=2;else if(E<55296)A+=3;else if(E<=57343){if(D>=g.length-1)throw new Error(n);D++,A+=4}else throw new Error(n)}return A}o.encodedLength=m;function v(g){for(var A=[],D=0;D<g.length;D++){var E=g[D];if(E&128){var T=void 0;if(E<224){if(D>=g.length)throw new Error(r);var N=g[++D];if((N&192)!==128)throw new Error(r);E=(E&31)<<6|N&63,T=128}else if(E<240){if(D>=g.length-1)throw new Error(r);var N=g[++D],F=g[++D];if((N&192)!==128||(F&192)!==128)throw new Error(r);E=(E&15)<<12|(N&63)<<6|F&63,T=2048}else if(E<248){if(D>=g.length-2)throw new Error(r);var N=g[++D],F=g[++D],R=g[++D];if((N&192)!==128||(F&192)!==128||(R&192)!==128)throw new Error(r);E=(E&15)<<18|(N&63)<<12|(F&63)<<6|R&63,T=65536}else throw new Error(r);if(E<T||E>=55296&&E<=57343)throw new Error(r);if(E>=65536){if(E>1114111)throw new Error(r);E-=65536,A.push(String.fromCharCode(55296|E>>10)),E=56320|E&1023}}A.push(String.fromCharCode(E))}return A.join("")}o.decode=v},function(s,o,i){s.exports=i(3).default},function(s,o,i){i.r(o);class n{constructor(C,O){this.lastId=0,this.prefix=C,this.name=O}create(C){this.lastId++;var O=this.lastId,X=this.prefix+O,se=this.name+"["+O+"]",Le=!1,pt=function(){Le||(C.apply(null,arguments),Le=!0)};return this[O]=pt,{number:O,id:X,name:se,callback:pt}}remove(C){delete this[C.number]}}var r=new n("_pusher_script_","Pusher.ScriptReceivers"),f={VERSION:"8.4.0-rc2",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},m=f;class v{constructor(C){this.options=C,this.receivers=C.receivers||r,this.loading={}}load(C,O,X){var se=this;if(se.loading[C]&&se.loading[C].length>0)se.loading[C].push(X);else{se.loading[C]=[X];var Le=Tt.createScriptRequest(se.getPath(C,O)),pt=se.receivers.create(function(Ot){if(se.receivers.remove(pt),se.loading[C]){var $t=se.loading[C];delete se.loading[C];for(var ws=function(zs){zs||Le.cleanup()},As=0;As<$t.length;As++)$t[As](Ot,ws)}});Le.send(pt)}}getRoot(C){var O,X=Tt.getDocument().location.protocol;return C&&C.useTLS||X==="https:"?O=this.options.cdn_https:O=this.options.cdn_http,O.replace(/\/*$/,"")+"/"+this.options.version}getPath(C,O){return this.getRoot(O)+"/"+C+this.options.suffix+".js"}}var g=new n("_pusher_dependencies","Pusher.DependenciesReceivers"),A=new v({cdn_http:m.cdn_http,cdn_https:m.cdn_https,version:m.VERSION,suffix:m.dependency_suffix,receivers:g});const D={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var T={buildLogSuffix:function(L){const C="See:",O=D.urls[L];if(!O)return"";let X;return O.fullUrl?X=O.fullUrl:O.path&&(X=D.baseUrl+O.path),X?`${C} ${X}`:""}},N;(function(L){L.UserAuthentication="user-authentication",L.ChannelAuthorization="channel-authorization"})(N||(N={}));class F extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class j extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class W extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class Q extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class le extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class me extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(C){super(C),Object.setPrototypeOf(this,new.target.prototype)}}class Ce extends Error{constructor(C,O){super(O),this.status=C,Object.setPrototypeOf(this,new.target.prototype)}}var Ke=function(L,C,O,X,se){const Le=Tt.createXHR();Le.open("POST",O.endpoint,!0),Le.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var pt in O.headers)Le.setRequestHeader(pt,O.headers[pt]);if(O.headersProvider!=null){let Ot=O.headersProvider();for(var pt in Ot)Le.setRequestHeader(pt,Ot[pt])}return Le.onreadystatechange=function(){if(Le.readyState===4)if(Le.status===200){let Ot,$t=!1;try{Ot=JSON.parse(Le.responseText),$t=!0}catch{se(new Ce(200,`JSON returned from ${X.toString()} endpoint was invalid, yet status code was 200. Data was: ${Le.responseText}`),null)}$t&&se(null,Ot)}else{let Ot="";switch(X){case N.UserAuthentication:Ot=T.buildLogSuffix("authenticationEndpoint");break;case N.ChannelAuthorization:Ot=`Clients must be authorized to join private or presence channels. ${T.buildLogSuffix("authorizationEndpoint")}`;break}se(new Ce(Le.status,`Unable to retrieve auth string from ${X.toString()} endpoint - received status: ${Le.status} from ${O.endpoint}. ${Ot}`),null)}},Le.send(C),Le};function Te(L){return Lt(We(L))}var Ve=String.fromCharCode,ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de=function(L){var C=L.charCodeAt(0);return C<128?L:C<2048?Ve(192|C>>>6)+Ve(128|C&63):Ve(224|C>>>12&15)+Ve(128|C>>>6&63)+Ve(128|C&63)},We=function(L){return L.replace(/[^\x00-\x7F]/g,de)},Qt=function(L){var C=[0,2,1][L.length%3],O=L.charCodeAt(0)<<16|(L.length>1?L.charCodeAt(1):0)<<8|(L.length>2?L.charCodeAt(2):0),X=[ut.charAt(O>>>18),ut.charAt(O>>>12&63),C>=2?"=":ut.charAt(O>>>6&63),C>=1?"=":ut.charAt(O&63)];return X.join("")},Lt=window.btoa||function(L){return L.replace(/[\s\S]{1,3}/g,Qt)};class wt{constructor(C,O,X,se){this.clear=O,this.timer=C(()=>{this.timer&&(this.timer=se(this.timer))},X)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var Je=wt;function Xe(L){window.clearTimeout(L)}function tt(L){window.clearInterval(L)}class At extends Je{constructor(C,O){super(setTimeout,Xe,C,function(X){return O(),null})}}class Ct extends Je{constructor(C,O){super(setInterval,tt,C,function(X){return O(),X})}}var ls={now(){return Date.now?Date.now():new Date().valueOf()},defer(L){return new At(0,L)},method(L,...C){var O=Array.prototype.slice.call(arguments,1);return function(X){return X[L].apply(X,O.concat(arguments))}}},Ut=ls;function qt(L,...C){for(var O=0;O<C.length;O++){var X=C[O];for(var se in X)X[se]&&X[se].constructor&&X[se].constructor===Object?L[se]=qt(L[se]||{},X[se]):L[se]=X[se]}return L}function ce(){for(var L=["Pusher"],C=0;C<arguments.length;C++)typeof arguments[C]=="string"?L.push(arguments[C]):L.push(mt(arguments[C]));return L.join(" : ")}function xe(L,C){var O=Array.prototype.indexOf;if(L===null)return-1;if(O&&L.indexOf===O)return L.indexOf(C);for(var X=0,se=L.length;X<se;X++)if(L[X]===C)return X;return-1}function it(L,C){for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&C(L[O],O,L)}function vt(L){var C=[];return it(L,function(O,X){C.push(X)}),C}function Gt(L){var C=[];return it(L,function(O){C.push(O)}),C}function jt(L,C,O){for(var X=0;X<L.length;X++)C.call(O||window,L[X],X,L)}function ne(L,C){for(var O=[],X=0;X<L.length;X++)O.push(C(L[X],X,L,O));return O}function re(L,C){var O={};return it(L,function(X,se){O[se]=C(X)}),O}function Pe(L,C){C=C||function(se){return!!se};for(var O=[],X=0;X<L.length;X++)C(L[X],X,L,O)&&O.push(L[X]);return O}function Qe(L,C){var O={};return it(L,function(X,se){(C&&C(X,se,L,O)||X)&&(O[se]=X)}),O}function Be(L){var C=[];return it(L,function(O,X){C.push([X,O])}),C}function Ze(L,C){for(var O=0;O<L.length;O++)if(C(L[O],O,L))return!0;return!1}function ht(L,C){for(var O=0;O<L.length;O++)if(!C(L[O],O,L))return!1;return!0}function rt(L){return re(L,function(C){return typeof C=="object"&&(C=mt(C)),encodeURIComponent(Te(C.toString()))})}function ot(L){var C=Qe(L,function(X){return X!==void 0}),O=ne(Be(rt(C)),Ut.method("join","=")).join("&");return O}function qe(L){var C=[],O=[];return function X(se,Le){var pt,Ot,$t;switch(typeof se){case"object":if(!se)return null;for(pt=0;pt<C.length;pt+=1)if(C[pt]===se)return{$ref:O[pt]};if(C.push(se),O.push(Le),Object.prototype.toString.apply(se)==="[object Array]")for($t=[],pt=0;pt<se.length;pt+=1)$t[pt]=X(se[pt],Le+"["+pt+"]");else{$t={};for(Ot in se)Object.prototype.hasOwnProperty.call(se,Ot)&&($t[Ot]=X(se[Ot],Le+"["+JSON.stringify(Ot)+"]"))}return $t;case"number":case"string":case"boolean":return se}}(L,"$")}function mt(L){try{return JSON.stringify(L)}catch{return JSON.stringify(qe(L))}}class Et{constructor(){this.globalLog=C=>{window.console&&window.console.log&&window.console.log(C)}}debug(...C){this.log(this.globalLog,C)}warn(...C){this.log(this.globalLogWarn,C)}error(...C){this.log(this.globalLogError,C)}globalLogWarn(C){window.console&&window.console.warn?window.console.warn(C):this.globalLog(C)}globalLogError(C){window.console&&window.console.error?window.console.error(C):this.globalLogWarn(C)}log(C,...O){var X=ce.apply(this,arguments);pn.log?pn.log(X):pn.logToConsole&&C.bind(this)(X)}}var Ne=new Et,Pt=function(L,C,O,X,se){(O.headers!==void 0||O.headersProvider!=null)&&Ne.warn(`To send headers with the ${X.toString()} request, you must use AJAX, rather than JSONP.`);var Le=L.nextAuthCallbackID.toString();L.nextAuthCallbackID++;var pt=L.getDocument(),Ot=pt.createElement("script");L.auth_callbacks[Le]=function(As){se(null,As)};var $t="Pusher.auth_callbacks['"+Le+"']";Ot.src=O.endpoint+"?callback="+encodeURIComponent($t)+"&"+C;var ws=pt.getElementsByTagName("head")[0]||pt.documentElement;ws.insertBefore(Ot,ws.firstChild)},Zt=Pt;class $e{constructor(C){this.src=C}send(C){var O=this,X="Error loading "+O.src;O.script=document.createElement("script"),O.script.id=C.id,O.script.src=O.src,O.script.type="text/javascript",O.script.charset="UTF-8",O.script.addEventListener?(O.script.onerror=function(){C.callback(X)},O.script.onload=function(){C.callback(null)}):O.script.onreadystatechange=function(){(O.script.readyState==="loaded"||O.script.readyState==="complete")&&C.callback(null)},O.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(O.errorScript=document.createElement("script"),O.errorScript.id=C.id+"_error",O.errorScript.text=C.name+"('"+X+"');",O.script.async=O.errorScript.async=!1):O.script.async=!0;var se=document.getElementsByTagName("head")[0];se.insertBefore(O.script,se.firstChild),O.errorScript&&se.insertBefore(O.errorScript,O.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class _t{constructor(C,O){this.url=C,this.data=O}send(C){if(!this.request){var O=ot(this.data),X=this.url+"/"+C.number+"?"+O;this.request=Tt.createScriptRequest(X),this.request.send(C)}}cleanup(){this.request&&this.request.cleanup()}}var bs=function(L,C){return function(O,X){var se="http"+(C?"s":"")+"://",Le=se+(L.host||L.options.host)+L.options.path,pt=Tt.createJSONPRequest(Le,O),Ot=Tt.ScriptReceivers.create(function($t,ws){r.remove(Ot),pt.cleanup(),ws&&ws.host&&(L.host=ws.host),X&&X($t,ws)});pt.send(Ot)}},Zs={name:"jsonp",getAgent:bs},qs=Zs;function sn(L,C,O){var X=L+(C.useTLS?"s":""),se=C.useTLS?C.hostTLS:C.hostNonTLS;return X+"://"+se+O}function nn(L,C){var O="/app/"+L,X="?protocol="+m.PROTOCOL+"&client=js&version="+m.VERSION+(C?"&"+C:"");return O+X}var Is={getInitial:function(L,C){var O=(C.httpPath||"")+nn(L,"flash=false");return sn("ws",C,O)}},Hs={getInitial:function(L,C){var O=(C.httpPath||"/pusher")+nn(L);return sn("http",C,O)}},Ws={getInitial:function(L,C){return sn("http",C,C.httpPath||"/pusher")},getPath:function(L,C){return nn(L)}};class Qn{constructor(){this._callbacks={}}get(C){return this._callbacks[xn(C)]}add(C,O,X){var se=xn(C);this._callbacks[se]=this._callbacks[se]||[],this._callbacks[se].push({fn:O,context:X})}remove(C,O,X){if(!C&&!O&&!X){this._callbacks={};return}var se=C?[xn(C)]:vt(this._callbacks);O||X?this.removeCallback(se,O,X):this.removeAllCallbacks(se)}removeCallback(C,O,X){jt(C,function(se){this._callbacks[se]=Pe(this._callbacks[se]||[],function(Le){return O&&O!==Le.fn||X&&X!==Le.context}),this._callbacks[se].length===0&&delete this._callbacks[se]},this)}removeAllCallbacks(C){jt(C,function(O){delete this._callbacks[O]},this)}}function xn(L){return"_"+L}class Pn{constructor(C){this.callbacks=new Qn,this.global_callbacks=[],this.failThrough=C}bind(C,O,X){return this.callbacks.add(C,O,X),this}bind_global(C){return this.global_callbacks.push(C),this}unbind(C,O,X){return this.callbacks.remove(C,O,X),this}unbind_global(C){return C?(this.global_callbacks=Pe(this.global_callbacks||[],O=>O!==C),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(C,O,X){for(var se=0;se<this.global_callbacks.length;se++)this.global_callbacks[se](C,O);var Le=this.callbacks.get(C),pt=[];if(X?pt.push(O,X):O&&pt.push(O),Le&&Le.length>0)for(var se=0;se<Le.length;se++)Le[se].fn.apply(Le[se].context||window,pt);else this.failThrough&&this.failThrough(C,O);return this}}class dn extends Pn{constructor(C,O,X,se,Le){super(),this.initialize=Tt.transportConnectionInitializer,this.hooks=C,this.name=O,this.priority=X,this.key=se,this.options=Le,this.state="new",this.timeline=Le.timeline,this.activityTimeout=Le.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var C=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(C,this.options)}catch(O){return Ut.defer(()=>{this.onError(O),this.changeState("closed")}),!1}return this.bindListeners(),Ne.debug("Connecting",{transport:this.name,url:C}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(C){return this.state==="open"?(Ut.defer(()=>{this.socket&&this.socket.send(C)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(C){this.emit("error",{type:"WebSocketError",error:C}),this.timeline.error(this.buildTimelineMessage({error:C.toString()}))}onClose(C){C?this.changeState("closed",{code:C.code,reason:C.reason,wasClean:C.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(C){this.emit("message",C)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=C=>{this.onError(C)},this.socket.onclose=C=>{this.onClose(C)},this.socket.onmessage=C=>{this.onMessage(C)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(C,O){this.state=C,this.timeline.info(this.buildTimelineMessage({state:C,params:O})),this.emit(C,O)}buildTimelineMessage(C){return qt({cid:this.id},C)}}class Sn{constructor(C){this.hooks=C}isSupported(C){return this.hooks.isSupported(C)}createConnection(C,O,X,se){return new dn(this.hooks,C,O,X,se)}}var qo=new Sn({urls:Is,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Tt.getWebSocketAPI()},isSupported:function(){return!!Tt.getWebSocketAPI()},getSocket:function(L){return Tt.createWebSocket(L)}}),J={urls:Hs,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ee=qt({getSocket:function(L){return Tt.HTTPFactory.createStreamingSocket(L)}},J),ke=qt({getSocket:function(L){return Tt.HTTPFactory.createPollingSocket(L)}},J),Ue={isSupported:function(){return Tt.isXHRSupported()}},gt=new Sn(qt({},ee,Ue)),bt=new Sn(qt({},ke,Ue)),cs={ws:qo,xhr_streaming:gt,xhr_polling:bt},kt=cs,is=new Sn({file:"sockjs",urls:Ws,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(L,C){return new window.SockJS(L,null,{js_path:A.getPath("sockjs",{useTLS:C.useTLS}),ignore_null_origin:C.ignoreNullOrigin})},beforeOpen:function(L,C){L.send(JSON.stringify({path:C}))}}),St={isSupported:function(L){var C=Tt.isXDRSupported(L.useTLS);return C}},Yt=new Sn(qt({},ee,St)),Ms=new Sn(qt({},ke,St));kt.xdr_streaming=Yt,kt.xdr_polling=Ms,kt.sockjs=is;var Mn=kt;class _n extends Pn{constructor(){super();var C=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){C.emit("online")},!1),window.addEventListener("offline",function(){C.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var ai=new _n;class ri{constructor(C,O,X){this.manager=C,this.transport=O,this.minPingDelay=X.minPingDelay,this.maxPingDelay=X.maxPingDelay,this.pingDelay=void 0}createConnection(C,O,X,se){se=qt({},se,{activityTimeout:this.pingDelay});var Le=this.transport.createConnection(C,O,X,se),pt=null,Ot=function(){Le.unbind("open",Ot),Le.bind("closed",$t),pt=Ut.now()},$t=ws=>{if(Le.unbind("closed",$t),ws.code===1002||ws.code===1003)this.manager.reportDeath();else if(!ws.wasClean&&pt){var As=Ut.now()-pt;As<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(As/2,this.minPingDelay))}};return Le.bind("open",Ot),Le}isSupported(C){return this.manager.isAlive()&&this.transport.isSupported(C)}}const wo={decodeMessage:function(L){try{var C=JSON.parse(L.data),O=C.data;if(typeof O=="string")try{O=JSON.parse(C.data)}catch{}var X={event:C.event,channel:C.channel,data:O};return C.user_id&&(X.user_id=C.user_id),X}catch(se){throw{type:"MessageParseError",error:se,data:L.data}}},encodeMessage:function(L){return JSON.stringify(L)},processHandshake:function(L){var C=wo.decodeMessage(L);if(C.event==="pusher:connection_established"){if(!C.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:C.data.socket_id,activityTimeout:C.data.activity_timeout*1e3}}else{if(C.event==="pusher:error")return{action:this.getCloseAction(C.data),error:this.getCloseError(C.data)};throw"Invalid handshake"}},getCloseAction:function(L){return L.code<4e3?L.code>=1002&&L.code<=1004?"backoff":null:L.code===4e3?"tls_only":L.code<4100?"refused":L.code<4200?"backoff":L.code<4300?"retry":"refused"},getCloseError:function(L){return L.code!==1e3&&L.code!==1001?{type:"PusherError",data:{code:L.code,message:L.reason||L.message}}:null}};var En=wo;class dt extends Pn{constructor(C,O){super(),this.id=C,this.transport=O,this.activityTimeout=O.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(C){return this.transport.send(C)}send_event(C,O,X){var se={event:C,data:O};return X&&(se.channel=X),Ne.debug("Event sent",se),this.send(En.encodeMessage(se))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var C={message:X=>{var se;try{se=En.decodeMessage(X)}catch(Le){this.emit("error",{type:"MessageParseError",error:Le,data:X.data})}if(se!==void 0){switch(Ne.debug("Event recd",se),se.event){case"pusher:error":this.emit("error",{type:"PusherError",data:se.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",se)}},activity:()=>{this.emit("activity")},error:X=>{this.emit("error",X)},closed:X=>{O(),X&&X.code&&this.handleCloseEvent(X),this.transport=null,this.emit("closed")}},O=()=>{it(C,(X,se)=>{this.transport.unbind(se,X)})};it(C,(X,se)=>{this.transport.bind(se,X)})}handleCloseEvent(C){var O=En.getCloseAction(C),X=En.getCloseError(C);X&&this.emit("error",X),O&&this.emit(O,{action:O,error:X})}}class ys{constructor(C,O){this.transport=C,this.callback=O,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=C=>{this.unbindListeners();var O;try{O=En.processHandshake(C)}catch(X){this.finish("error",{error:X}),this.transport.close();return}O.action==="connected"?this.finish("connected",{connection:new dt(O.id,this.transport),activityTimeout:O.activityTimeout}):(this.finish(O.action,{error:O.error}),this.transport.close())},this.onClosed=C=>{this.unbindListeners();var O=En.getCloseAction(C)||"backoff",X=En.getCloseError(C);this.finish(O,{error:X})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(C,O){this.callback(qt({transport:this.transport,action:C},O))}}class ks{constructor(C,O){this.timeline=C,this.options=O||{}}send(C,O){this.timeline.isEmpty()||this.timeline.send(Tt.TimelineTransport.getAgent(this,C),O)}}class fn extends Pn{constructor(C,O){super(function(X,se){Ne.debug("No callbacks on "+C+" for "+X)}),this.name=C,this.pusher=O,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(C,O){return O(null,{auth:""})}trigger(C,O){if(C.indexOf("client-")!==0)throw new F("Event '"+C+"' does not start with 'client-'");if(!this.subscribed){var X=T.buildLogSuffix("triggeringClientEvents");Ne.warn(`Client event triggered before channel 'subscription_succeeded' event . ${X}`)}return this.pusher.send_event(C,O,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(C){var O=C.event,X=C.data;if(O==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(C);else if(O==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(C);else if(O.indexOf("pusher_internal:")!==0){var se={};this.emit(O,X,se)}}handleSubscriptionSucceededEvent(C){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",C.data)}handleSubscriptionCountEvent(C){C.data.subscription_count&&(this.subscriptionCount=C.data.subscription_count),this.emit("pusher:subscription_count",C.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(C,O)=>{C?(this.subscriptionPending=!1,Ne.error(C.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:C.message},C instanceof Ce?{status:C.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:O.auth,channel_data:O.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class mn extends fn{authorize(C,O){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:C},O)}}class li{constructor(){this.reset()}get(C){return Object.prototype.hasOwnProperty.call(this.members,C)?{id:C,info:this.members[C]}:null}each(C){it(this.members,(O,X)=>{C(this.get(X))})}setMyID(C){this.myID=C}onSubscription(C){this.members=C.presence.hash,this.count=C.presence.count,this.me=this.get(this.myID)}addMember(C){return this.get(C.user_id)===null&&this.count++,this.members[C.user_id]=C.user_info,this.get(C.user_id)}removeMember(C){var O=this.get(C.user_id);return O&&(delete this.members[C.user_id],this.count--),O}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var an=function(L,C,O,X){function se(Le){return Le instanceof O?Le:new O(function(pt){pt(Le)})}return new(O||(O=Promise))(function(Le,pt){function Ot(As){try{ws(X.next(As))}catch(zs){pt(zs)}}function $t(As){try{ws(X.throw(As))}catch(zs){pt(zs)}}function ws(As){As.done?Le(As.value):se(As.value).then(Ot,$t)}ws((X=X.apply(L,C||[])).next())})};class Kn extends mn{constructor(C,O){super(C,O),this.members=new li}authorize(C,O){super.authorize(C,(X,se)=>an(this,void 0,void 0,function*(){if(!X)if(se=se,se.channel_data!=null){var Le=JSON.parse(se.channel_data);this.members.setMyID(Le.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let pt=T.buildLogSuffix("authorizationEndpoint");Ne.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${pt}, or the user should be signed in.`),O("Invalid auth response");return}O(X,se)}))}handleEvent(C){var O=C.event;if(O.indexOf("pusher_internal:")===0)this.handleInternalEvent(C);else{var X=C.data,se={};C.user_id&&(se.user_id=C.user_id),this.emit(O,X,se)}}handleInternalEvent(C){var O=C.event,X=C.data;switch(O){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(C);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(C);break;case"pusher_internal:member_added":var se=this.members.addMember(X);this.emit("pusher:member_added",se);break;case"pusher_internal:member_removed":var Le=this.members.removeMember(X);Le&&this.emit("pusher:member_removed",Le);break}}handleSubscriptionSucceededEvent(C){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(C.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ya=i(1),_o=i(0);class qi extends mn{constructor(C,O,X){super(C,O),this.key=null,this.nacl=X}authorize(C,O){super.authorize(C,(X,se)=>{if(X){O(X,se);return}let Le=se.shared_secret;if(!Le){O(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(_o.decode)(Le),delete se.shared_secret,O(null,se)})}trigger(C,O){throw new le("Client events are not currently supported for encrypted channels")}handleEvent(C){var O=C.event,X=C.data;if(O.indexOf("pusher_internal:")===0||O.indexOf("pusher:")===0){super.handleEvent(C);return}this.handleEncryptedEvent(O,X)}handleEncryptedEvent(C,O){if(!this.key){Ne.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!O.ciphertext||!O.nonce){Ne.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+O);return}let X=Object(_o.decode)(O.ciphertext);if(X.length<this.nacl.secretbox.overheadLength){Ne.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${X.length}`);return}let se=Object(_o.decode)(O.nonce);if(se.length<this.nacl.secretbox.nonceLength){Ne.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${se.length}`);return}let Le=this.nacl.secretbox.open(X,se,this.key);if(Le===null){Ne.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(pt,Ot)=>{if(pt){Ne.error(`Failed to make a request to the authEndpoint: ${Ot}. Unable to fetch new key, so dropping encrypted event`);return}if(Le=this.nacl.secretbox.open(X,se,this.key),Le===null){Ne.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(C,this.getDataToEmit(Le))});return}this.emit(C,this.getDataToEmit(Le))}getDataToEmit(C){let O=Object(ya.decode)(C);try{return JSON.parse(O)}catch{return O}}}class Ho extends Pn{constructor(C,O){super(),this.state="initialized",this.connection=null,this.key=C,this.options=O,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var X=Tt.getNetwork();X.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),X.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}switchCluster(C){this.key=C,this.updateStrategy(),this.retryIn(0)}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(C){return this.connection?this.connection.send(C):!1}send_event(C,O,X){return this.connection?this.connection.send_event(C,O,X):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var C=(O,X)=>{O?this.runner=this.strategy.connect(0,C):X.action==="error"?(this.emit("error",{type:"HandshakeError",error:X.error}),this.timeline.error({handshakeError:X.error})):(this.abortConnecting(),this.handshakeCallbacks[X.action](X))};this.runner=this.strategy.connect(0,C)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var C=this.abandonConnection();C.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(C){this.timeline.info({action:"retry",delay:C}),C>0&&this.emit("connecting_in",Math.round(C/1e3)),this.retryTimer=new At(C||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new At(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new At(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new At(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(C){return qt({},C,{message:O=>{this.resetActivityCheck(),this.emit("message",O)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:O=>{this.emit("error",O)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(C){return qt({},C,{connected:O=>{this.activityTimeout=Math.min(this.options.activityTimeout,O.activityTimeout,O.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(O.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let C=O=>X=>{X.error&&this.emit("error",{type:"WebSocketError",error:X.error}),O(X)};return{tls_only:C(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:C(()=>{this.disconnect()}),backoff:C(()=>{this.retryIn(1e3)}),retry:C(()=>{this.retryIn(0)})}}setConnection(C){this.connection=C;for(var O in this.connectionCallbacks)this.connection.bind(O,this.connectionCallbacks[O]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var C in this.connectionCallbacks)this.connection.unbind(C,this.connectionCallbacks[C]);var O=this.connection;return this.connection=null,O}}updateState(C,O){var X=this.state;if(this.state=C,X!==C){var se=C;se==="connected"&&(se+=" with new socket ID "+O.socket_id),Ne.debug("State changed",X+" -> "+se),this.timeline.info({state:C,params:O}),this.emit("state_change",{previous:X,current:C}),this.emit(C,O)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class wa{constructor(){this.channels={}}add(C,O){return this.channels[C]||(this.channels[C]=Va(C,O)),this.channels[C]}all(){return Gt(this.channels)}find(C){return this.channels[C]}remove(C){var O=this.channels[C];return delete this.channels[C],O}disconnect(){it(this.channels,function(C){C.disconnect()})}}function Va(L,C){if(L.indexOf("private-encrypted-")===0){if(C.config.nacl)return Ci.createEncryptedChannel(L,C,C.config.nacl);let O="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",X=T.buildLogSuffix("encryptedChannelSupport");throw new le(`${O}. ${X}`)}else{if(L.indexOf("private-")===0)return Ci.createPrivateChannel(L,C);if(L.indexOf("presence-")===0)return Ci.createPresenceChannel(L,C);if(L.indexOf("#")===0)throw new R('Cannot create a channel with name "'+L+'".');return Ci.createChannel(L,C)}}var _a={createChannels(){return new wa},createConnectionManager(L,C){return new Ho(L,C)},createChannel(L,C){return new fn(L,C)},createPrivateChannel(L,C){return new mn(L,C)},createPresenceChannel(L,C){return new Kn(L,C)},createEncryptedChannel(L,C,O){return new qi(L,C,O)},createTimelineSender(L,C){return new ks(L,C)},createHandshake(L,C){return new ys(L,C)},createAssistantToTheTransportManager(L,C,O){return new ri(L,C,O)}},Ci=_a;class Gr{constructor(C){this.options=C||{},this.livesLeft=this.options.lives||1/0}getAssistant(C){return Ci.createAssistantToTheTransportManager(this,C,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class Hi{constructor(C,O){this.strategies=C,this.loop=!!O.loop,this.failFast=!!O.failFast,this.timeout=O.timeout,this.timeoutLimit=O.timeoutLimit}isSupported(){return Ze(this.strategies,Ut.method("isSupported"))}connect(C,O){var X=this.strategies,se=0,Le=this.timeout,pt=null,Ot=($t,ws)=>{ws?O(null,ws):(se=se+1,this.loop&&(se=se%X.length),se<X.length?(Le&&(Le=Le*2,this.timeoutLimit&&(Le=Math.min(Le,this.timeoutLimit))),pt=this.tryStrategy(X[se],C,{timeout:Le,failFast:this.failFast},Ot)):O(!0))};return pt=this.tryStrategy(X[se],C,{timeout:Le,failFast:this.failFast},Ot),{abort:function(){pt.abort()},forceMinPriority:function($t){C=$t,pt&&pt.forceMinPriority($t)}}}tryStrategy(C,O,X,se){var Le=null,pt=null;return X.timeout>0&&(Le=new At(X.timeout,function(){pt.abort(),se(!0)})),pt=C.connect(O,function(Ot,$t){Ot&&Le&&Le.isRunning()&&!X.failFast||(Le&&Le.ensureAborted(),se(Ot,$t))}),{abort:function(){Le&&Le.ensureAborted(),pt.abort()},forceMinPriority:function(Ot){pt.forceMinPriority(Ot)}}}}class qa{constructor(C){this.strategies=C}isSupported(){return Ze(this.strategies,Ut.method("isSupported"))}connect(C,O){return gr(this.strategies,C,function(X,se){return function(Le,pt){if(se[X].error=Le,Le){vr(se)&&O(!0);return}jt(se,function(Ot){Ot.forceMinPriority(pt.transport.priority)}),O(null,pt)}})}}function gr(L,C,O){var X=ne(L,function(se,Le,pt,Ot){return se.connect(C,O(Le,Ot))});return{abort:function(){jt(X,On)},forceMinPriority:function(se){jt(X,function(Le){Le.forceMinPriority(se)})}}}function vr(L){return ht(L,function(C){return!!C.error})}function On(L){!L.error&&!L.aborted&&(L.abort(),L.aborted=!0)}class Wi{constructor(C,O,X){this.strategy=C,this.transports=O,this.ttl=X.ttl||1800*1e3,this.usingTLS=X.useTLS,this.timeline=X.timeline}isSupported(){return this.strategy.isSupported()}connect(C,O){var X=this.usingTLS,se=Fl(X),Le=se&&se.cacheSkipCount?se.cacheSkipCount:0,pt=[this.strategy];if(se&&se.timestamp+this.ttl>=Ut.now()){var Ot=this.transports[se.transport];Ot&&(["ws","wss"].includes(se.transport)||Le>3?(this.timeline.info({cached:!0,transport:se.transport,latency:se.latency}),pt.push(new Hi([Ot],{timeout:se.latency*2+1e3,failFast:!0}))):Le++)}var $t=Ut.now(),ws=pt.pop().connect(C,function As(zs,di){zs?(Jn(X),pt.length>0?($t=Ut.now(),ws=pt.pop().connect(C,As)):O(zs)):(Wo(X,di.transport.name,Ut.now()-$t,Le),O(null,di))});return{abort:function(){ws.abort()},forceMinPriority:function(As){C=As,ws&&ws.forceMinPriority(As)}}}}function Si(L){return"pusherTransport"+(L?"TLS":"NonTLS")}function Fl(L){var C=Tt.getLocalStorage();if(C)try{var O=C[Si(L)];if(O)return JSON.parse(O)}catch{Jn(L)}return null}function Wo(L,C,O,X){var se=Tt.getLocalStorage();if(se)try{se[Si(L)]=mt({timestamp:Ut.now(),transport:C,latency:O,cacheSkipCount:X})}catch{}}function Jn(L){var C=Tt.getLocalStorage();if(C)try{delete C[Si(L)]}catch{}}class zo{constructor(C,{delay:O}){this.strategy=C,this.options={delay:O}}isSupported(){return this.strategy.isSupported()}connect(C,O){var X=this.strategy,se,Le=new At(this.options.delay,function(){se=X.connect(C,O)});return{abort:function(){Le.ensureAborted(),se&&se.abort()},forceMinPriority:function(pt){C=pt,se&&se.forceMinPriority(pt)}}}}class Xn{constructor(C,O,X){this.test=C,this.trueBranch=O,this.falseBranch=X}isSupported(){var C=this.test()?this.trueBranch:this.falseBranch;return C.isSupported()}connect(C,O){var X=this.test()?this.trueBranch:this.falseBranch;return X.connect(C,O)}}class ci{constructor(C){this.strategy=C}isSupported(){return this.strategy.isSupported()}connect(C,O){var X=this.strategy.connect(C,function(se,Le){Le&&X.abort(),O(se,Le)});return X}}function zi(L){return function(){return L.isSupported()}}var yr=function(L,C,O){var X={};function se(Ao,In,ka,Xi,er){var hi=O(L,Ao,In,ka,Xi,er);return X[Ao]=hi,hi}var Le=Object.assign({},C,{hostNonTLS:L.wsHost+":"+L.wsPort,hostTLS:L.wsHost+":"+L.wssPort,httpPath:L.wsPath}),pt=Object.assign({},Le,{useTLS:!0}),Ot=Object.assign({},C,{hostNonTLS:L.httpHost+":"+L.httpPort,hostTLS:L.httpHost+":"+L.httpsPort,httpPath:L.httpPath}),$t={loop:!0,timeout:15e3,timeoutLimit:6e4},ws=new Gr({minPingDelay:1e4,maxPingDelay:L.activityTimeout}),As=new Gr({lives:2,minPingDelay:1e4,maxPingDelay:L.activityTimeout}),zs=se("ws","ws",3,Le,ws),di=se("wss","ws",3,pt,ws),qn=se("sockjs","sockjs",1,Ot),Qo=se("xhr_streaming","xhr_streaming",1,Ot,As),Oi=se("xdr_streaming","xdr_streaming",1,Ot,As),ti=se("xhr_polling","xhr_polling",1,Ot),gn=se("xdr_polling","xdr_polling",1,Ot),Za=new Hi([zs],$t),Ji=new Hi([di],$t),Cs=new Hi([qn],$t),Ko=new Hi([new Xn(zi(Qo),Qo,Oi)],$t),Gn=new Hi([new Xn(zi(ti),ti,gn)],$t),bo=new Hi([new Xn(zi(Ko),new qa([Ko,new zo(Gn,{delay:4e3})]),Gn)],$t),Cr=new Xn(zi(bo),bo,Cs),ko;return C.useTLS?ko=new qa([Za,new zo(Cr,{delay:2e3})]):ko=new qa([Za,new zo(Ji,{delay:2e3}),new zo(Cr,{delay:5e3})]),new Wi(new ci(new Xn(zi(zs),ko,Cr)),X,{ttl:18e5,timeline:C.timeline,useTLS:C.useTLS})},Rn=yr,Ha=function(){var L=this;L.timeline.info(L.buildTimelineMessage({transport:L.name+(L.options.useTLS?"s":"")})),L.hooks.isInitialized()?L.changeState("initialized"):L.hooks.file?(L.changeState("initializing"),A.load(L.hooks.file,{useTLS:L.options.useTLS},function(C,O){L.hooks.isInitialized()?(L.changeState("initialized"),O(!0)):(C&&L.onError(C),L.onClose(),O(!1))})):L.onClose()},Gi={getRequest:function(L){var C=new window.XDomainRequest;return C.ontimeout=function(){L.emit("error",new j),L.close()},C.onerror=function(O){L.emit("error",O),L.close()},C.onprogress=function(){C.responseText&&C.responseText.length>0&&L.onChunk(200,C.responseText)},C.onload=function(){C.responseText&&C.responseText.length>0&&L.onChunk(200,C.responseText),L.emit("finished",200),L.close()},C},abortRequest:function(L){L.ontimeout=L.onerror=L.onprogress=L.onload=null,L.abort()}},ba=Gi;const Yi=256*1024;class Qi extends Pn{constructor(C,O,X){super(),this.hooks=C,this.method=O,this.url=X}start(C){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Tt.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(C)}close(){this.unloader&&(Tt.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(C,O){for(;;){var X=this.advanceBuffer(O);if(X)this.emit("chunk",{status:C,data:X});else break}this.isBufferTooLong(O)&&this.emit("buffer_too_long")}advanceBuffer(C){var O=C.slice(this.position),X=O.indexOf(`
`);return X!==-1?(this.position+=X+1,O.slice(0,X)):null}isBufferTooLong(C){return this.position===C.length&&C.length>Yi}}var Ii;(function(L){L[L.CONNECTING=0]="CONNECTING",L[L.OPEN=1]="OPEN",L[L.CLOSED=3]="CLOSED"})(Ii||(Ii={}));var $n=Ii,Zn=1;class Go{constructor(C,O){this.hooks=C,this.session=_r(1e3)+"/"+Ga(8),this.location=wr(O),this.readyState=$n.CONNECTING,this.openStream()}send(C){return this.sendRaw(JSON.stringify([C]))}ping(){this.hooks.sendHeartbeat(this)}close(C,O){this.onClose(C,O,!0)}sendRaw(C){if(this.readyState===$n.OPEN)try{return Tt.createSocketRequest("POST",za(Wa(this.location,this.session))).start(C),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(C,O,X){this.closeStream(),this.readyState=$n.CLOSED,this.onclose&&this.onclose({code:C,reason:O,wasClean:X})}onChunk(C){if(C.status===200){this.readyState===$n.OPEN&&this.onActivity();var O,X=C.data.slice(0,1);switch(X){case"o":O=JSON.parse(C.data.slice(1)||"{}"),this.onOpen(O);break;case"a":O=JSON.parse(C.data.slice(1)||"[]");for(var se=0;se<O.length;se++)this.onEvent(O[se]);break;case"m":O=JSON.parse(C.data.slice(1)||"null"),this.onEvent(O);break;case"h":this.hooks.onHeartbeat(this);break;case"c":O=JSON.parse(C.data.slice(1)||"[]"),this.onClose(O[0],O[1],!0);break}}}onOpen(C){this.readyState===$n.CONNECTING?(C&&C.hostname&&(this.location.base=Yr(this.location.base,C.hostname)),this.readyState=$n.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(C){this.readyState===$n.OPEN&&this.onmessage&&this.onmessage({data:C})}onActivity(){this.onactivity&&this.onactivity()}onError(C){this.onerror&&this.onerror(C)}openStream(){this.stream=Tt.createSocketRequest("POST",za(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",C=>{this.onChunk(C)}),this.stream.bind("finished",C=>{this.hooks.onFinished(this,C)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(C){Ut.defer(()=>{this.onError(C),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function wr(L){var C=/([^\?]*)\/*(\??.*)/.exec(L);return{base:C[1],queryString:C[2]}}function Wa(L,C){return L.base+"/"+C+"/xhr_send"}function za(L){var C=L.indexOf("?")===-1?"?":"&";return L+C+"t="+ +new Date+"&n="+Zn++}function Yr(L,C){var O=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(L);return O[1]+C+O[3]}function _r(L){return Tt.randomInt(L)}function Ga(L){for(var C=[],O=0;O<L;O++)C.push(_r(32).toString(32));return C.join("")}var Ul=Go,Bl={getReceiveURL:function(L,C){return L.base+"/"+C+"/xhr_streaming"+L.queryString},onHeartbeat:function(L){L.sendRaw("[]")},sendHeartbeat:function(L){L.sendRaw("[]")},onFinished:function(L,C){L.onClose(1006,"Connection interrupted ("+C+")",!1)}},br=Bl,kr={getReceiveURL:function(L,C){return L.base+"/"+C+"/xhr"+L.queryString},onHeartbeat:function(){},sendHeartbeat:function(L){L.sendRaw("[]")},onFinished:function(L,C){C===200?L.reconnect():L.onClose(1006,"Connection interrupted ("+C+")",!1)}},Ya=kr,jl={getRequest:function(L){var C=Tt.getXHRAPI(),O=new C;return O.onreadystatechange=O.onprogress=function(){switch(O.readyState){case 3:O.responseText&&O.responseText.length>0&&L.onChunk(O.status,O.responseText);break;case 4:O.responseText&&O.responseText.length>0&&L.onChunk(O.status,O.responseText),L.emit("finished",O.status),L.close();break}},O},abortRequest:function(L){L.onreadystatechange=null,L.abort()}},Qa=jl,Vl={createStreamingSocket(L){return this.createSocket(br,L)},createPollingSocket(L){return this.createSocket(Ya,L)},createSocket(L,C){return new Ul(L,C)},createXHR(L,C){return this.createRequest(Qa,L,C)},createRequest(L,C,O){return new Qi(L,C,O)}},Ka=Vl;Ka.createXDR=function(L,C){return this.createRequest(ba,L,C)};var ql=Ka,Xs={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:g,getDefaultStrategy:Rn,Transports:Mn,transportConnectionInitializer:Ha,HTTPFactory:ql,TimelineTransport:qs,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(L){window.Pusher=L;var C=()=>{this.onDocumentBody(L.ready)};window.JSON?C():A.load("json2",{},C)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:Ke,jsonp:Zt}},onDocumentBody(L){document.body?L():setTimeout(()=>{this.onDocumentBody(L)},0)},createJSONPRequest(L,C){return new _t(L,C)},createScriptRequest(L){return new $e(L)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var L=this.getXHRAPI();return new L},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return ai},createWebSocket(L){var C=this.getWebSocketAPI();return new C(L)},createSocketRequest(L,C){if(this.isXHRSupported())return this.HTTPFactory.createXHR(L,C);if(this.isXDRSupported(C.indexOf("https:")===0))return this.HTTPFactory.createXDR(L,C);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var L=this.getXHRAPI();return!!L&&new L().withCredentials!==void 0},isXDRSupported(L){var C=L?"https:":"http:",O=this.getProtocol();return!!window.XDomainRequest&&O===C},addUnloadListener(L){window.addEventListener!==void 0?window.addEventListener("unload",L,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",L)},removeUnloadListener(L){window.addEventListener!==void 0?window.removeEventListener("unload",L,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",L)},randomInt(L){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*L)}},Tt=Xs,Ja;(function(L){L[L.ERROR=3]="ERROR",L[L.INFO=6]="INFO",L[L.DEBUG=7]="DEBUG"})(Ja||(Ja={}));var Yo=Ja;class Qr{constructor(C,O,X){this.key=C,this.session=O,this.events=[],this.options=X||{},this.sent=0,this.uniqueID=0}log(C,O){C<=this.options.level&&(this.events.push(qt({},O,{timestamp:Ut.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(C){this.log(Yo.ERROR,C)}info(C){this.log(Yo.INFO,C)}debug(C){this.log(Yo.DEBUG,C)}isEmpty(){return this.events.length===0}send(C,O){var X=qt({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],C(X,(se,Le)=>{se||this.sent++,O&&O(se,Le)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Kr{constructor(C,O,X,se){this.name=C,this.priority=O,this.transport=X,this.options=se||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(C,O){if(this.isSupported()){if(this.priority<C)return Xa(new W,O)}else return Xa(new k,O);var X=!1,se=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Le=null,pt=function(){se.unbind("initialized",pt),se.connect()},Ot=function(){Le=Ci.createHandshake(se,function(zs){X=!0,As(),O(null,zs)})},$t=function(zs){As(),O(zs)},ws=function(){As();var zs;zs=mt(se),O(new Q(zs))},As=function(){se.unbind("initialized",pt),se.unbind("open",Ot),se.unbind("error",$t),se.unbind("closed",ws)};return se.bind("initialized",pt),se.bind("open",Ot),se.bind("error",$t),se.bind("closed",ws),se.initialize(),{abort:()=>{X||(As(),Le?Le.close():se.close())},forceMinPriority:zs=>{X||this.priority<zs&&(Le?Le.close():se.close())}}}}function Xa(L,C){return Ut.defer(function(){C(L)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:Hl}=Tt;var Jr=function(L,C,O,X,se,Le){var pt=Hl[O];if(!pt)throw new me(O);var Ot=(!L.enabledTransports||xe(L.enabledTransports,C)!==-1)&&(!L.disabledTransports||xe(L.disabledTransports,C)===-1),$t;return Ot?(se=Object.assign({ignoreNullOrigin:L.ignoreNullOrigin},se),$t=new Kr(C,X,Le?Le.getAssistant(pt):pt,se)):$t=Ki,$t},Ki={isSupported:function(){return!1},connect:function(L,C){var O=Ut.defer(function(){C(new k)});return{abort:function(){O.ensureAborted()},forceMinPriority:function(){}}}};function $s(L){if(L==null)throw"You must pass an options object";if(L.cluster==null)throw"Options object must provide a cluster";"disableStats"in L&&Ne.warn("The disableStats option is deprecated in favor of enableStats")}const $a=(L,C)=>{var O="socket_id="+encodeURIComponent(L.socketId);for(var X in C.params)O+="&"+encodeURIComponent(X)+"="+encodeURIComponent(C.params[X]);if(C.paramsProvider!=null){let se=C.paramsProvider();for(var X in se)O+="&"+encodeURIComponent(X)+"="+encodeURIComponent(se[X])}return O};var Vn=L=>{if(typeof Tt.getAuthorizers()[L.transport]>"u")throw`'${L.transport}' is not a recognized auth transport`;return(C,O)=>{const X=$a(C,L);Tt.getAuthorizers()[L.transport](Tt,X,L,N.UserAuthentication,O)}};const Ar=(L,C)=>{var O="socket_id="+encodeURIComponent(L.socketId);O+="&channel_name="+encodeURIComponent(L.channelName);for(var X in C.params)O+="&"+encodeURIComponent(X)+"="+encodeURIComponent(C.params[X]);if(C.paramsProvider!=null){let se=C.paramsProvider();for(var X in se)O+="&"+encodeURIComponent(X)+"="+encodeURIComponent(se[X])}return O};var p=L=>{if(typeof Tt.getAuthorizers()[L.transport]>"u")throw`'${L.transport}' is not a recognized auth transport`;return(C,O)=>{const X=Ar(C,L);Tt.getAuthorizers()[L.transport](Tt,X,L,N.ChannelAuthorization,O)}};const w=(L,C,O)=>{const X={authTransport:C.transport,authEndpoint:C.endpoint,auth:{params:C.params,headers:C.headers}};return(se,Le)=>{const pt=L.channel(se.channelName);O(pt,X).authorize(se.socketId,Le)}};function I(L,C){let O={activityTimeout:L.activityTimeout||m.activityTimeout,cluster:L.cluster,httpPath:L.httpPath||m.httpPath,httpPort:L.httpPort||m.httpPort,httpsPort:L.httpsPort||m.httpsPort,pongTimeout:L.pongTimeout||m.pongTimeout,statsHost:L.statsHost||m.stats_host,unavailableTimeout:L.unavailableTimeout||m.unavailableTimeout,wsPath:L.wsPath||m.wsPath,wsPort:L.wsPort||m.wsPort,wssPort:L.wssPort||m.wssPort,enableStats:fe(L),httpHost:x(L),useTLS:H(L),wsHost:U(L),userAuthenticator:Se(L),channelAuthorizer:He(L,C)};return"disabledTransports"in L&&(O.disabledTransports=L.disabledTransports),"enabledTransports"in L&&(O.enabledTransports=L.enabledTransports),"ignoreNullOrigin"in L&&(O.ignoreNullOrigin=L.ignoreNullOrigin),"timelineParams"in L&&(O.timelineParams=L.timelineParams),"nacl"in L&&(O.nacl=L.nacl),O}function x(L){return L.httpHost?L.httpHost:L.cluster?`sockjs-${L.cluster}.pusher.com`:m.httpHost}function U(L){return L.wsHost?L.wsHost:B(L.cluster)}function B(L){return`ws-${L}.pusher.com`}function H(L){return Tt.getProtocol()==="https:"?!0:L.forceTLS!==!1}function fe(L){return"enableStats"in L?L.enableStats:"disableStats"in L?!L.disableStats:!1}const ie=L=>"customHandler"in L&&L.customHandler!=null;function Se(L){const C=Object.assign(Object.assign({},m.userAuthentication),L.userAuthentication);return ie(C)?C.customHandler:Vn(C)}function je(L,C){let O;if("channelAuthorization"in L)O=Object.assign(Object.assign({},m.channelAuthorization),L.channelAuthorization);else if(O={transport:L.authTransport||m.authTransport,endpoint:L.authEndpoint||m.authEndpoint},"auth"in L&&("params"in L.auth&&(O.params=L.auth.params),"headers"in L.auth&&(O.headers=L.auth.headers)),"authorizer"in L)return{customHandler:w(C,O,L.authorizer)};return O}function He(L,C){const O=je(L,C);return ie(O)?O.customHandler:p(O)}class Ee extends Pn{constructor(C){super(function(O,X){Ne.debug(`No callbacks on watchlist events for ${O}`)}),this.pusher=C,this.bindWatchlistInternalEvent()}handleEvent(C){C.data.events.forEach(O=>{this.emit(O.name,O)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",C=>{var O=C.event;O==="pusher_internal:watchlist_events"&&this.handleEvent(C)})}}function lt(){let L,C;return{promise:new Promise((X,se)=>{L=X,C=se}),resolve:L,reject:C}}var It=lt;class ms extends Pn{constructor(C){super(function(O,X){Ne.debug("No callbacks on user for "+O)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(O,X)=>{if(O){Ne.warn(`Error during signin: ${O}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:X.auth,user_data:X.user_data})},this.pusher=C,this.pusher.connection.bind("state_change",({previous:O,current:X})=>{O!=="connected"&&X==="connected"&&this._signin(),O==="connected"&&X!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new Ee(C),this.pusher.connection.bind("message",O=>{var X=O.event;X==="pusher:signin_success"&&this._onSigninSuccess(O.data),this.serverToUserChannel&&this.serverToUserChannel.name===O.channel&&this.serverToUserChannel.handleEvent(O)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(C){try{this.user_data=JSON.parse(C.user_data)}catch{Ne.error(`Failed parsing user data after signin: ${C.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ne.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const C=O=>{O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.pusher.connection.state==="connected"&&O.subscribe()};this.serverToUserChannel=new fn(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((O,X)=>{O.indexOf("pusher_internal:")===0||O.indexOf("pusher:")===0||this.emit(O,X)}),C(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:C,resolve:O,reject:X}=It();C.done=!1;const se=()=>{C.done=!0};C.then(se).catch(se),this.signinDonePromise=C,this._signinDoneResolve=O}}class Ht{static ready(){Ht.isReady=!0;for(var C=0,O=Ht.instances.length;C<O;C++)Ht.instances[C].connect()}static getClientFeatures(){return vt(Qe({ws:Tt.Transports.ws},function(C){return C.isSupported({})}))}constructor(C,O){rn(C),$s(O),this.key=C,this.options=O,this.config=I(this.options,this),this.channels=Ci.createChannels(),this.global_emitter=new Pn,this.sessionID=Tt.randomInt(1e9),this.timeline=new Qr(this.key,this.sessionID,{cluster:this.config.cluster,features:Ht.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Yo.INFO,version:m.VERSION}),this.config.enableStats&&(this.timelineSender=Ci.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Tt.TimelineTransport.name}));var X=se=>Tt.getDefaultStrategy(this.config,se,Jr);this.connection=Ci.createConnectionManager(this.key,{getStrategy:X,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",se=>{var Le=se.event,pt=Le.indexOf("pusher_internal:")===0;if(se.channel){var Ot=this.channel(se.channel);Ot&&Ot.handleEvent(se)}pt||this.global_emitter.emit(se.event,se.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",se=>{Ne.warn(se)}),Ht.instances.push(this),this.timeline.info({instances:Ht.instances.length}),this.user=new ms(this),Ht.isReady&&this.connect()}switchCluster(C){const{appKey:O,cluster:X}=C;this.key=O,this.options=Object.assign(Object.assign({},this.options),{cluster:X}),this.config=I(this.options,this),this.connection.switchCluster(this.key)}channel(C){return this.channels.find(C)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var C=this.connection.isUsingTLS(),O=this.timelineSender;this.timelineSenderTimer=new Ct(6e4,function(){O.send(C)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(C,O,X){return this.global_emitter.bind(C,O,X),this}unbind(C,O,X){return this.global_emitter.unbind(C,O,X),this}bind_global(C){return this.global_emitter.bind_global(C),this}unbind_global(C){return this.global_emitter.unbind_global(C),this}unbind_all(C){return this.global_emitter.unbind_all(),this}subscribeAll(){var C;for(C in this.channels.channels)this.channels.channels.hasOwnProperty(C)&&this.subscribe(C)}subscribe(C){var O=this.channels.add(C,this);return O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.connection.state==="connected"&&O.subscribe(),O}unsubscribe(C){var O=this.channels.find(C);O&&O.subscriptionPending?O.cancelSubscription():(O=this.channels.remove(C),O&&O.subscribed&&O.unsubscribe())}send_event(C,O,X){return this.connection.send_event(C,O,X)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Ht.instances=[],Ht.isReady=!1,Ht.logToConsole=!1,Ht.Runtime=Tt,Ht.ScriptReceivers=Tt.ScriptReceivers,Ht.DependenciesReceivers=Tt.DependenciesReceivers,Ht.auth_callbacks=Tt.auth_callbacks;var pn=o.default=Ht;function rn(L){if(L==null)throw"You must pass your app key when you instantiate Pusher."}Tt.setup(Ht)}])})})(C0);var ECe=C0.exports;const OCe=fv(ECe);window.Pusher=OCe;window.Echo=new MCe({broadcaster:"reverb",key:"",wsHost:"",wsPort:"",wssPort:"",forceTLS:!1,enabledTransports:["ws","wss"]});function RCe(e){return{all:e=e||new Map,on:function(t,s){var o=e.get(t);o?o.push(s):e.set(t,[s])},off:function(t,s){var o=e.get(t);o&&(s?o.splice(o.indexOf(s)>>>0,1):e.set(t,[]))},emit:function(t,s){var o=e.get(t);o&&o.slice().map(function(i){i(s)}),(o=e.get("*"))&&o.slice().map(function(i){i(t,s)})}}}Ove.add(Yye,tye,qve,Jye,vye,Jve,Lye,wye,Zve,qye,zve,Qve,hye,aye,iwe,mye,_ye,Qye,xye,nwe,Gve,Hye,Sye,bye,Zye,twe,Lve,Iye,yye,$ve,kye,Nye,Uye,Mye,Dye,Oye,swe,oye,ewe,Hve,uye,gye,rye,Cye,jve,Bye,Kve,Xve,dye,Uve,lye,$ye,zye,jye,iye,Vve,sye,fye);const NCe=RCe(),S0=TM(tE).component("reaction-component",Ywe).component("comment-single",Mv).component("view-comments",rf).component("small-modal",IA).component("main-modal",Sd).component("media-modal",hA).component("post-modal",Nv).component("welcome-form",_c).component("just-fade",uo).component("user-addons",jbe).component("addon-modal",zbe).component("file-preview",Lo).component("post-attachment",go).component("PulseLoader",Kbe).component("DotLoader",Zbe).component("SyncLoader",nke).component("RotateLoader",rke).component("infinite-loading",Fwe).component("flat-pickr",Swe).component("font-awesome-icon",gwe).component("app-nav",GA).use(eC).use(ZA);S0.config.globalProperties.emitter=NCe;S0.mount("#app");
